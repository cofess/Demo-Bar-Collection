(function(a, b) {
    function c(a) {
        var b = a.length,
        f = n.type(a);
        return n.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === f || "function" !== f && (0 === b || "number" === typeof b && 0 < b && b - 1 in a)
    }
    function g(a, f, c, g) {
        if (n.acceptData(a)) {
            var h = n.expando,
            j = a.nodeType,
            k = j ? n.cache: a,
            l = j ? a[h] : a[h] && h;
            if (l && k[l] && (g || k[l].data) || !(c === b && "string" === typeof f)) {
                l || (l = j ? a[h] = La.pop() || n.guid++:h);
                k[l] || (k[l] = j ? {}: {
                    toJSON: n.noop
                });
                if ("object" === typeof f || "function" === typeof f) g ? k[l] = n.extend(k[l], f) : k[l].data = n.extend(k[l].data, f);
                a = k[l];
                g || (a.data || (a.data = {}), a = a.data);
                c !== b && (a[n.camelCase(f)] = c);
                "string" === typeof f ? (c = a[f], null == c && (c = a[n.camelCase(f)])) : c = a;
                return c
            }
        }
    }
    function f(a, b, f) {
        if (n.acceptData(a)) {
            var c, g, h = a.nodeType,
            k = h ? n.cache: a,
            l = h ? a[n.expando] : n.expando;
            if (k[l]) {
                if (b && (c = f ? k[l] : k[l].data)) {
                    n.isArray(b) ? b = b.concat(n.map(b, n.camelCase)) : b in c ? b = [b] : (b = n.camelCase(b), b = b in c ? [b] : b.split(" "));
                    for (g = b.length; g--;) delete c[b[g]];
                    if (f ? !j(c) : !n.isEmptyObject(c)) return
                }
                if (!f && (delete k[l].data, !j(k[l]))) return;
                h ? n.cleanData([a], !0) : n.support.deleteExpando || k != k.window ? delete k[l] : k[l] = null
            }
        }
    }
    function h(a, f, c) {
        if (c === b && 1 === a.nodeType) if (c = "data-" + f.replace(mc, "-$1").toLowerCase(), c = a.getAttribute(c), "string" === typeof c) {
            try {
                c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null: +c + "" === c ? +c: fc.test(c) ? n.parseJSON(c) : c
            } catch(g) {}
            n.data(a, f, c)
        } else c = b;
        return c
    }
    function j(a) {
        for (var b in a) if (! ("data" === b && n.isEmptyObject(a[b])) && "toJSON" !== b) return ! 1;
        return ! 0
    }
    function k() {
        return ! 0
    }
    function m() {
        return ! 1
    }
    function q() {
        try {
            return V.activeElement
        } catch(a) {}
    }
    function r(a, b) {
        do a = a[b];
        while (a && 1 !== a.nodeType);
        return a
    }
    function p(a, b, f) {
        if (n.isFunction(b)) return n.grep(a,
        function(a, c) {
            return !! b.call(a, c, a) !== f
        });
        if (b.nodeType) return n.grep(a,
        function(a) {
            return a === b !== f
        });
        if ("string" === typeof b) {
            if (ld.test(b)) return n.filter(b, a, f);
            b = n.filter(b, a)
        }
        return n.grep(a,
        function(a) {
            return 0 <= n.inArray(a, b) !== f
        })
    }
    function l(a) {
        var b = Qc.split("|"),
        a = a.createDocumentFragment();
        if (a.createElement) for (; b.length;) a.createElement(b.pop());
        return a
    }
    function z(a, b) {
        return n.nodeName(a, "table") && n.nodeName(1 === b.nodeType ? b: b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }
    function F(a) {
        a.type = (null !== n.find.attr(a, "type")) + "/" + a.type;
        return a
    }
    function w(a) {
        var b = md.exec(a.type);
        b ? a.type = b[1] : a.removeAttribute("type");
        return a
    }
    function J(a, b) {
        for (var f, c = 0; null != (f = a[c]); c++) n._data(f, "globalEval", !b || n._data(b[c], "globalEval"))
    }
    function u(a, b) {
        if (1 === b.nodeType && n.hasData(a)) {
            var f, c, g;
            c = n._data(a);
            var h = n._data(b, c),
            j = c.events;
            if (j) for (f in delete h.handle, h.events = {},
            j) {
                c = 0;
                for (g = j[f].length; c < g; c++) n.event.add(b, f, j[f][c])
            }
            h.data && (h.data = n.extend({},
            h.data))
        }
    }
    function C(a, f) {
        var c, g, h = 0,
        j = typeof a.getElementsByTagName !== Ga ? a.getElementsByTagName(f || "*") : typeof a.querySelectorAll !== Ga ? a.querySelectorAll(f || "*") : b;
        if (!j) {
            j = [];
            for (c = a.childNodes || a; null != (g = c[h]); h++) ! f || n.nodeName(g, f) ? j.push(g) : n.merge(j, C(g, f))
        }
        return f === b || f && n.nodeName(a, f) ? n.merge([a], j) : j
    }
    function D(a) {
        Gc.test(a.type) && (a.defaultChecked = a.checked)
    }
    function E(a, b) {
        if (b in a) return b;
        for (var f = b.charAt(0).toUpperCase() + b.slice(1), c = b, g = Rc.length; g--;) if (b = Rc[g] + f, b in a) return b;
        return c
    }
    function y(a, b) {
        a = b || a;
        return "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a)
    }
    function I(a, b) {
        for (var f, c, g, h = [], j = 0, k = a.length; j < k; j++) if (c = a[j], c.style) if (h[j] = n._data(c, "olddisplay"), f = c.style.display, b) ! h[j] && "none" === f && (c.style.display = ""),
        "" === c.style.display && y(c) && (h[j] = n._data(c, "olddisplay", H(c.nodeName)));
        else if (!h[j] && (g = y(c), f && "none" !== f || !g)) n._data(c, "olddisplay", g ? f: n.css(c, "display"));
        for (j = 0; j < k; j++) if (c = a[j], c.style && (!b || "none" === c.style.display || "" === c.style.display)) c.style.display = b ? h[j] || "": "none";
        return a
    }
    function K(a, b, f) {
        return (a = nd.exec(b)) ? Math.max(0, a[1] - (f || 0)) + (a[2] || "px") : b
    }
    function x(a, b, f, c, g) {
        for (var b = f === (c ? "border": "content") ? 4 : "width" === b ? 1 : 0, h = 0; 4 > b; b += 2)"margin" === f && (h += n.css(a, f + Wb[b], !0, g)),
        c ? ("content" === f && (h -= n.css(a, "padding" + Wb[b], !0, g)), "margin" !== f && (h -= n.css(a, "border" + Wb[b] + "Width", !0, g))) : (h += n.css(a, "padding" + Wb[b], !0, g), "padding" !== f && (h += n.css(a, "border" + Wb[b] + "Width", !0, g)));
        return h
    }
    function N(a, b, f) {
        var c = !0,
        g = "width" === b ? a.offsetWidth: a.offsetHeight,
        h = Xb(a),
        j = n.support.boxSizing && "border-box" === n.css(a, "boxSizing", !1, h);
        if (0 >= g || null == g) {
            g = Yb(a, b, h);
            if (0 > g || null == g) g = a.style[b];
            if (wc.test(g)) return g;
            c = j && (n.support.boxSizingReliable || g === a.style[b]);
            g = parseFloat(g) || 0
        }
        return g + x(a, b, f || (j ? "border": "content"), c, h) + "px"
    }
    function H(a) {
        var b = V,
        f = Sc[a];
        if (!f) {
            f = A(a, b);
            if ("none" === f || !f) nc = (nc || n("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(b.documentElement),
            b = (nc[0].contentWindow || nc[0].contentDocument).document,
            b.write("<!doctype html><html><body>"),
            b.close(),
            f = A(a, b),
            nc.detach();
            Sc[a] = f
        }
        return f
    }
    function A(a, b) {
        var f = n(b.createElement(a)).appendTo(b.body),
        c = n.css(f[0], "display");
        f.remove();
        return c
    }
    function B(a, b, f, c) {
        var g;
        if (n.isArray(b)) n.each(b,
        function(b, g) {
            f || od.test(a) ? c(a, g) : B(a + "[" + ("object" === typeof g ? b: "") + "]", g, f, c)
        });
        else if (!f && "object" === n.type(b)) for (g in b) B(a + "[" + g + "]", b[g], f, c);
        else c(a, b)
    }
    function v(a) {
        return function(b, f) {
            "string" !== typeof b && (f = b, b = "*");
            var c, g = 0,
            h = b.toLowerCase().match(ea) || [];
            if (n.isFunction(f)) for (; c = h[g++];)"+" === c[0] ? (c = c.slice(1) || "*", (a[c] = a[c] || []).unshift(f)) : (a[c] = a[c] || []).push(f)
        }
    }
    function L(a, b, f, c) {
        function g(k) {
            var l;
            h[k] = !0;
            n.each(a[k] || [],
            function(a, ec) {
                var k = ec(b, f, c);
                if ("string" === typeof k && !j && !h[k]) return b.dataTypes.unshift(k),
                g(k),
                !1;
                if (j) return ! (l = k)
            });
            return l
        }
        var h = {},
        j = a === Hc;
        return g(b.dataTypes[0]) || !h["*"] && g("*")
    }
    function G(a, f) {
        var c, g, h = n.ajaxSettings.flatOptions || {};
        for (g in f) f[g] !== b && ((h[g] ? a: c || (c = {}))[g] = f[g]);
        c && n.extend(!0, a, c);
        return a
    }
    function S() {
        try {
            return new a.XMLHttpRequest
        } catch(b) {}
    }
    function Q() {
        setTimeout(function() {
            gc = b
        });
        return gc = n.now()
    }
    function O(a, b, f) {
        for (var c, g = (oc[b] || []).concat(oc["*"]), h = 0, j = g.length; h < j; h++) if (c = g[h].call(f, b, a)) return c
    }
    function M(a, b, f) {
        var c, g, h = 0,
        j = xc.length,
        k = n.Deferred().always(function() {
            delete l.elem
        }),
        l = function() {
            if (g) return ! 1;
            for (var b = gc || Q(), b = Math.max(0, v.startTime + v.duration - b), f = 1 - (b / v.duration || 0), c = 0, h = v.tweens.length; c < h; c++) v.tweens[c].run(f);
            k.notifyWith(a, [v, f, b]);
            if (1 > f && h) return b;
            k.resolveWith(a, [v]);
            return ! 1
        },
        v = k.promise({
            elem: a,
            props: n.extend({},
            b),
            opts: n.extend(!0, {
                specialEasing: {}
            },
            f),
            originalProperties: b,
            originalOptions: f,
            startTime: gc || Q(),
            duration: f.duration,
            tweens: [],
            createTween: function(b, f) {
                var c = n.Tween(a, v.opts, b, f, v.opts.specialEasing[b] || v.opts.easing);
                v.tweens.push(c);
                return c
            },
            stop: function(b) {
                var f = 0,
                c = b ? v.tweens.length: 0;
                if (g) return this;
                for (g = !0; f < c; f++) v.tweens[f].run(1);
                b ? k.resolveWith(a, [v, b]) : k.rejectWith(a, [v, b]);
                return this
            }
        }),
        b = v.props,
        f = v.opts.specialEasing,
        p,
        B,
        G,
        m;
        for (c in b) if (p = n.camelCase(c), B = f[p], G = b[c], n.isArray(G) && (B = G[1], G = b[c] = G[0]), c !== p && (b[p] = G, delete b[c]), (m = n.cssHooks[p]) && "expand" in m) for (c in G = m.expand(G), delete b[p], G) c in b || (b[c] = G[c], f[c] = B);
        else f[p] = B;
        for (; h < j; h++) if (c = xc[h].call(v, a, b, v.opts)) return c;
        n.map(b, O, v);
        n.isFunction(v.opts.start) && v.opts.start.call(a, v);
        n.fx.timer(n.extend(l, {
            elem: a,
            anim: v,
            queue: v.opts.queue
        }));
        return v.progress(v.opts.progress).done(v.opts.done, v.opts.complete).fail(v.opts.fail).always(v.opts.always)
    }
    function W(a, b, f, c, g) {
        return new W.prototype.init(a, b, f, c, g)
    }
    function la(a, b) {
        for (var f, c = {
            height: a
        },
        g = 0, b = b ? 1 : 0; 4 > g; g += 2 - b) f = Wb[g],
        c["margin" + f] = c["padding" + f] = a;
        b && (c.opacity = c.width = a);
        return c
    }
    function ia(a) {
        return n.isWindow(a) ? a: 9 === a.nodeType ? a.defaultView || a.parentWindow: !1
    }
    var Sa, hb, Ga = typeof b,
    Lb = a.location,
    V = a.document,
    Db = V.documentElement,
    rb = a.jQuery,
    Eb = a.$,
    jb = {},
    La = [],
    sb = La.concat,
    Ma = La.push,
    Ha = La.slice,
    Xa = La.indexOf,
    Ya = jb.toString,
    Ca = jb.hasOwnProperty,
    Da = "1.10.2".trim,
    n = function(a, b) {
        return new n.fn.init(a, b, hb)
    },
    ha = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
    ea = /\S+/g,
    aa = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
    Ia = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
    pa = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
    ya = /^[\],:{}\s]*$/,
    ua = /(?:^|:|,)(?:\s*\[)+/g,
    za = /\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
    Za = /"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,
    T = /^-ms-/,
    ca = /-([\da-z])/gi,
    da = function(a, b) {
        return b.toUpperCase()
    },
    fa = function(a) {
        if (V.addEventListener || "load" === a.type || "complete" === V.readyState) Na(),
        n.ready()
    },
    Na = function() {
        V.addEventListener ? (V.removeEventListener("DOMContentLoaded", fa, !1), a.removeEventListener("load", fa, !1)) : (V.detachEvent("onreadystatechange", fa), a.detachEvent("onload", fa))
    };
    n.fn = n.prototype = {
        jquery: "1.10.2",
        constructor: n,
        init: function(a, f, c) {
            var g;
            if (!a) return this;
            if ("string" === typeof a) {
                if ((g = "<" === a.charAt(0) && ">" === a.charAt(a.length - 1) && 3 <= a.length ? [null, a, null] : Ia.exec(a)) && (g[1] || !f)) {
                    if (g[1]) {
                        if (f = f instanceof n ? f[0] : f, n.merge(this, n.parseHTML(g[1], f && f.nodeType ? f.ownerDocument || f: V, !0)), pa.test(g[1]) && n.isPlainObject(f)) for (g in f) if (n.isFunction(this[g])) this[g](f[g]);
                        else this.attr(g, f[g])
                    } else {
                        if ((f = V.getElementById(g[2])) && f.parentNode) {
                            if (f.id !== g[2]) return c.find(a);
                            this.length = 1;
                            this[0] = f
                        }
                        this.context = V;
                        this.selector = a
                    }
                    return this
                }
                return ! f || f.jquery ? (f || c).find(a) : this.constructor(f).find(a)
            }
            if (a.nodeType) return this.context = this[0] = a,
            this.length = 1,
            this;
            if (n.isFunction(a)) return c.ready(a);
            a.selector !== b && (this.selector = a.selector, this.context = a.context);
            return n.makeArray(a, this)
        },
        selector: "",
        length: 0,
        toArray: function() {
            return Ha.call(this)
        },
        get: function(a) {
            return null == a ? this.toArray() : 0 > a ? this[this.length + a] : this[a]
        },
        pushStack: function(a) {
            a = n.merge(this.constructor(), a);
            a.prevObject = this;
            a.context = this.context;
            return a
        },
        each: function(a, b) {
            return n.each(this, a, b)
        },
        ready: function(a) {
            n.ready.promise().done(a);
            return this
        },
        slice: function() {
            return this.pushStack(Ha.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq( - 1)
        },
        eq: function(a) {
            var b = this.length,
            a = +a + (0 > a ? b: 0);
            return this.pushStack(0 <= a && a < b ? [this[a]] : [])
        },
        map: function(a) {
            return this.pushStack(n.map(this,
            function(b, f) {
                return a.call(b, f, b)
            }))
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: Ma,
        sort: [].sort,
        splice: [].splice
    };
    n.fn.init.prototype = n.fn;
    n.extend = n.fn.extend = function() {
        var a, f, c, g, h, j = arguments[0] || {},
        k = 1,
        l = arguments.length,
        v = !1;
        "boolean" === typeof j && (v = j, j = arguments[1] || {},
        k = 2);
        "object" !== typeof j && !n.isFunction(j) && (j = {});
        l === k && (j = this, --k);
        for (; k < l; k++) if (null != (h = arguments[k])) for (g in h) a = j[g],
        c = h[g],
        j !== c && (v && c && (n.isPlainObject(c) || (f = n.isArray(c))) ? (f ? (f = !1, a = a && n.isArray(a) ? a: []) : a = a && n.isPlainObject(a) ? a: {},
        j[g] = n.extend(v, a, c)) : c !== b && (j[g] = c));
        return j
    };
    n.extend({
        expando: "jQuery" + ("1.10.2" + Math.random()).replace(/\D/g, ""),
        noConflict: function(b) {
            a.$ === n && (a.$ = Eb);
            b && a.jQuery === n && (a.jQuery = rb);
            return n
        },
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? n.readyWait++:n.ready(!0)
        },
        ready: function(a) {
            if (! (!0 === a ? --n.readyWait: n.isReady)) {
                if (!V.body) return setTimeout(n.ready);
                n.isReady = !0; ! 0 !== a && 0 < --n.readyWait || (Sa.resolveWith(V, [n]), n.fn.trigger && n(V).trigger("ready").off("ready"))
            }
        },
        isFunction: function(a) {
            return "function" === n.type(a)
        },
        isArray: Array.isArray ||
        function(a) {
            return "array" === n.type(a)
        },
        isWindow: function(a) {
            return null != a && a == a.window
        },
        isNumeric: function(a) {
            return ! isNaN(parseFloat(a)) && isFinite(a)
        },
        type: function(a) {
            return null == a ? String(a) : "object" === typeof a || "function" === typeof a ? jb[Ya.call(a)] || "object": typeof a
        },
        isPlainObject: function(a) {
            var f;
            if (!a || "object" !== n.type(a) || a.nodeType || n.isWindow(a)) return ! 1;
            try {
                if (a.constructor && !Ca.call(a, "constructor") && !Ca.call(a.constructor.prototype, "isPrototypeOf")) return ! 1
            } catch(c) {
                return ! 1
            }
            if (n.support.ownLast) for (f in a) return Ca.call(a, f);
            for (f in a);
            return f === b || Ca.call(a, f)
        },
        isEmptyObject: function(a) {
            for (var b in a) return ! 1;
            return ! 0
        },
        error: function(a) {
            throw Error(a);
        },
        parseHTML: function(a, b, f) {
            if (!a || "string" !== typeof a) return null;
            "boolean" === typeof b && (f = b, b = !1);
            var b = b || V,
            c = pa.exec(a),
            f = !f && [];
            if (c) return [b.createElement(c[1])];
            c = n.buildFragment([a], b, f);
            f && n(f).remove();
            return n.merge([], c.childNodes)
        },
        parseJSON: function(b) {
            if (a.JSON && a.JSON.parse) return a.JSON.parse(b);
            if (null === b) return b;
            if ("string" === typeof b && (b = n.trim(b)) && ya.test(b.replace(za, "@").replace(Za, "]").replace(ua, ""))) return (new Function("return " + b))();
            n.error("Invalid JSON: " + b)
        },
        parseXML: function(f) {
            var c, g;
            if (!f || "string" !== typeof f) return null;
            try {
                a.DOMParser ? (g = new DOMParser, c = g.parseFromString(f, "text/xml")) : (c = new ActiveXObject("Microsoft.XMLDOM"), c.async = "false", c.loadXML(f))
            } catch(h) {
                c = b
            } (!c || !c.documentElement || c.getElementsByTagName("parsererror").length) && n.error("Invalid XML: " + f);
            return c
        },
        noop: function() {},
        globalEval: function(b) {
            b && n.trim(b) && (a.execScript ||
            function(b) {
                a.eval.call(a, b)
            })(b)
        },
        camelCase: function(a) {
            return a.replace(T, "ms-").replace(ca, da)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b, f) {
            var g, h = 0,
            j = a.length;
            g = c(a);
            if (f) if (g) for (; h < j && !(g = b.apply(a[h], f), !1 === g); h++);
            else for (h in a) {
                if (g = b.apply(a[h], f), !1 === g) break
            } else if (g) for (; h < j && !(g = b.call(a[h], h, a[h]), !1 === g); h++);
            else for (h in a) if (g = b.call(a[h], h, a[h]), !1 === g) break;
            return a
        },
        trim: Da && !Da.call("\ufeff\u00a0") ?
        function(a) {
            return null == a ? "": Da.call(a)
        }: function(a) {
            return null == a ? "": (a + "").replace(aa, "")
        },
        makeArray: function(a, b) {
            var f = b || [];
            null != a && (c(Object(a)) ? n.merge(f, "string" === typeof a ? [a] : a) : Ma.call(f, a));
            return f
        },
        inArray: function(a, b, f) {
            var c;
            if (b) {
                if (Xa) return Xa.call(b, a, f);
                c = b.length;
                for (f = f ? 0 > f ? Math.max(0, c + f) : f: 0; f < c; f++) if (f in b && b[f] === a) return f
            }
            return - 1
        },
        merge: function(a, f) {
            var c = f.length,
            g = a.length,
            h = 0;
            if ("number" === typeof c) for (; h < c; h++) a[g++] = f[h];
            else for (; f[h] !== b;) a[g++] = f[h++];
            a.length = g;
            return a
        },
        grep: function(a, b, f) {
            for (var c, g = [], h = 0, j = a.length, f = !!f; h < j; h++) c = !!b(a[h], h),
            f !== c && g.push(a[h]);
            return g
        },
        map: function(a, b, f) {
            var g, h = 0,
            j = a.length,
            k = [];
            if (c(a)) for (; h < j; h++) g = b(a[h], h, f),
            null != g && (k[k.length] = g);
            else for (h in a) g = b(a[h], h, f),
            null != g && (k[k.length] = g);
            return sb.apply([], k)
        },
        guid: 1,
        proxy: function(a, f) {
            var c, g;
            "string" === typeof f && (g = a[f], f = a, a = g);
            if (!n.isFunction(a)) return b;
            c = Ha.call(arguments, 2);
            g = function() {
                return a.apply(f || this, c.concat(Ha.call(arguments)))
            };
            g.guid = a.guid = a.guid || n.guid++;
            return g
        },
        access: function(a, f, c, g, h, j, k) {
            var l = 0,
            v = a.length,
            p = null == c;
            if ("object" === n.type(c)) for (l in h = !0, c) n.access(a, f, l, c[l], !0, j, k);
            else if (g !== b && (h = !0, n.isFunction(g) || (k = !0), p && (k ? (f.call(a, g), f = null) : (p = f, f = function(a, b, f) {
                return p.call(n(a), f)
            })), f)) for (; l < v; l++) f(a[l], c, k ? g: g.call(a[l], l, f(a[l], c)));
            return h ? a: p ? f.call(a) : v ? f(a[0], c) : j
        },
        now: function() {
            return (new Date).getTime()
        },
        swap: function(a, b, f, c) {
            var g, h = {};
            for (g in b) h[g] = a.style[g],
            a.style[g] = b[g];
            f = f.apply(a, c || []);
            for (g in b) a.style[g] = h[g];
            return f
        }
    });
    n.ready.promise = function(b) {
        if (!Sa) if (Sa = n.Deferred(), "complete" === V.readyState) setTimeout(n.ready);
        else if (V.addEventListener) V.addEventListener("DOMContentLoaded", fa, !1),
        a.addEventListener("load", fa, !1);
        else {
            V.attachEvent("onreadystatechange", fa);
            a.attachEvent("onload", fa);
            var f = !1;
            try {
                f = null == a.frameElement && V.documentElement
            } catch(c) {}
            f && f.doScroll &&
            function kd() {
                if (!n.isReady) {
                    try {
                        f.doScroll("left")
                    } catch(a) {
                        return setTimeout(kd, 50)
                    }
                    Na();
                    n.ready()
                }
            } ()
        }
        return Sa.promise(b)
    };
    n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
    function(a, b) {
        jb["[object " + b + "]"] = b.toLowerCase()
    });
    hb = n(V);
    var wa = a,
    Y = function(a, b, f, c) {
        var g, h, j, k, l; (b ? b.ownerDocument || b: Ta) !== qa && Ja(b);
        b = b || qa;
        f = f || [];
        if (!a || "string" !== typeof a) return f;
        if (1 !== (k = b.nodeType) && 9 !== k) return [];
        if (R && !c) {
            if (g = pc.exec(a)) if (j = g[1]) if (9 === k) if ((h = b.getElementById(j)) && h.parentNode) {
                if (h.id === j) return f.push(h),
                f
            } else return f;
            else {
                if (b.ownerDocument && (h = b.ownerDocument.getElementById(j)) && kb(b, h) && h.id === j) return f.push(h),
                f
            } else {
                if (g[2]) return ib.apply(f, b.getElementsByTagName(a)),
                f;
                if ((j = g[3]) && ja.getElementsByClassName && b.getElementsByClassName) return ib.apply(f, b.getElementsByClassName(j)),
                f
            }
            if (ja.qsa && (!P || !P.test(a))) {
                h = g = ma;
                j = b;
                l = 9 === k && a;
                if (1 === k && "object" !== b.nodeName.toLowerCase()) {
                    k = $a(a); (g = b.getAttribute("id")) ? h = g.replace(qc, "\\$&") : b.setAttribute("id", h);
                    h = "[id='" + h + "'] ";
                    for (j = k.length; j--;) k[j] = h + ab(k[j]);
                    j = Fb.test(a) && b.parentNode || b;
                    l = k.join(",")
                }
                if (l) try {
                    return ib.apply(f, j.querySelectorAll(l)),
                    f
                } catch(v) {} finally {
                    g || b.removeAttribute("id")
                }
            }
        }
        var p;
        a: {
            a = a.replace(Mb, "$1");
            h = $a(a);
            if (!c && 1 === h.length) {
                g = h[0] = h[0].slice(0);
                if (2 < g.length && "ID" === (p = g[0]).type && ja.getById && 9 === b.nodeType && R && X.relative[g[1].type]) {
                    b = (X.find.ID(p.matches[0].replace(Gb, lb), b) || [])[0];
                    if (!b) {
                        p = f;
                        break a
                    }
                    a = a.slice(g.shift().value.length)
                }
                for (k = Hb.needsContext.test(a) ? 0 : g.length; k--;) {
                    p = g[k];
                    if (X.relative[j = p.type]) break;
                    if (j = X.find[j]) if (c = j(p.matches[0].replace(Gb, lb), Fb.test(g[0].type) && b.parentNode || b)) {
                        g.splice(k, 1);
                        a = c.length && ab(g);
                        if (!a) {
                            ib.apply(f, c);
                            p = f;
                            break a
                        }
                        break
                    }
                }
            }
            Ea(a, h)(c, b, !R, f, Fb.test(a));
            p = f
        }
        return p
    },
    Oa = function() {
        function a(f, c) {
            b.push(f += " ") > X.cacheLength && delete a[b.shift()];
            return a[f] = c
        }
        var b = [];
        return a
    },
    oa = function(a) {
        a[ma] = !0;
        return a
    },
    na = function(a) {
        var b = qa.createElement("div");
        try {
            return !! a(b)
        } catch(f) {
            return ! 1
        } finally {
            b.parentNode && b.parentNode.removeChild(b)
        }
    },
    Ka = function(a, b) {
        for (var f = a.split("|"), c = a.length; c--;) X.attrHandle[f[c]] = b
    },
    xa = function(a, b) {
        var f = b && a,
        c = f && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || Ua) - (~a.sourceIndex || Ua);
        if (c) return c;
        if (f) for (; f = f.nextSibling;) if (f === b) return - 1;
        return a ? 1 : -1
    },
    Ib = function(a) {
        return function(b) {
            return "input" === b.nodeName.toLowerCase() && b.type === a
        }
    },
    Nb = function(a) {
        return function(b) {
            var f = b.nodeName.toLowerCase();
            return ("input" === f || "button" === f) && b.type === a
        }
    },
    Pa = function(a) {
        return oa(function(b) {
            b = +b;
            return oa(function(f, c) {
                for (var g, h = a([], f.length, b), j = h.length; j--;) if (f[g = h[j]]) f[g] = !(c[g] = f[g])
            })
        })
    },
    va = function() {},
    $a = function(a, b) {
        var f, c, g, h, j, k, l;
        if (j = Va[a + " "]) return b ? 0 : j.slice(0);
        j = a;
        k = [];
        for (l = X.preFilter; j;) {
            if (!f || (c = Zb.exec(j))) c && (j = j.slice(c[0].length) || j),
            k.push(g = []);
            f = !1;
            if (c = hc.exec(j)) f = c.shift(),
            g.push({
                value: f,
                type: c[0].replace(Mb, " ")
            }),
            j = j.slice(f.length);
            for (h in X.filter) if ((c = Hb[h].exec(j)) && (!l[h] || (c = l[h](c)))) f = c.shift(),
            g.push({
                value: f,
                type: h,
                matches: c
            }),
            j = j.slice(f.length);
            if (!f) break
        }
        return b ? j.length: j ? Y.error(a) : Va(a, k).slice(0)
    },
    ab = function(a) {
        for (var b = 0,
        f = a.length,
        c = ""; b < f; b++) c += a[b].value;
        return c
    },
    Jb = function(a, b, f) {
        var c = b.dir,
        g = f && "parentNode" === c,
        h = tb++;
        return b.first ?
        function(b, f, h) {
            for (; b = b[c];) if (1 === b.nodeType || g) return a(b, f, h)
        }: function(b, f, j) {
            var k, l, v, p = Qa + " " + h;
            if (j) for (; b = b[c];) {
                if ((1 === b.nodeType || g) && a(b, f, j)) return ! 0
            } else for (; b = b[c];) if (1 === b.nodeType || g) if (v = b[ma] || (b[ma] = {}), (l = v[c]) && l[0] === p) {
                if (!0 === (k = l[1]) || k === bb) return ! 0 === k
            } else if (l = v[c] = [p], l[1] = a(b, f, j) || bb, !0 === l[1]) return ! 0
        }
    },
    Kb = function(a) {
        return 1 < a.length ?
        function(b, f, c) {
            for (var g = a.length; g--;) if (!a[g](b, f, c)) return ! 1;
            return ! 0
        }: a[0]
    },
    mb = function(a, b, f, c, g) {
        for (var h, j = [], k = 0, l = a.length, v = null != b; k < l; k++) if (h = a[k]) if (!f || f(h, c, g)) j.push(h),
        v && b.push(k);
        return j
    },
    ub = function(a, b, f, c, g, h) {
        c && !c[ma] && (c = ub(c));
        g && !g[ma] && (g = ub(g, h));
        return oa(function(h, j, k, l) {
            var v, p, B = [],
            G = [],
            m = j.length,
            u;
            if (! (u = h)) {
                u = b || "*";
                for (var n = k.nodeType ? [k] : k, L = [], q = 0, w = n.length; q < w; q++) Y(u, n[q], L);
                u = L
            }
            u = a && (h || !b) ? mb(u, B, a, k, l) : u;
            n = f ? g || (h ? a: m || c) ? [] : j: u;
            f && f(u, n, k, l);
            if (c) {
                v = mb(n, G);
                c(v, [], k, l);
                for (k = v.length; k--;) if (p = v[k]) n[G[k]] = !(u[G[k]] = p)
            }
            if (h) {
                if (g || a) {
                    if (g) {
                        v = [];
                        for (k = n.length; k--;) if (p = n[k]) v.push(u[k] = p);
                        g(null, n = [], v, l)
                    }
                    for (k = n.length; k--;) if ((p = n[k]) && -1 < (v = g ? nb.call(h, p) : B[k])) h[v] = !(j[v] = p)
                }
            } else n = mb(n === j ? n.splice(m, n.length) : n),
            g ? g(null, j, n, l) : ib.apply(j, n)
        })
    },
    vb = function(a) {
        var b, f, c, g = a.length,
        h = X.relative[a[0].type];
        f = h || X.relative[" "];
        for (var j = h ? 1 : 0, k = Jb(function(a) {
            return a === b
        },
        f, !0), l = Jb(function(a) {
            return - 1 < nb.call(b, a)
        },
        f, !0), v = [function(a, f, c) {
            return ! h && (c || f !== cb) || ((b = f).nodeType ? k(a, f, c) : l(a, f, c))
        }]; j < g; j++) if (f = X.relative[a[j].type]) v = [Jb(Kb(v), f)];
        else {
            f = X.filter[a[j].type].apply(null, a[j].matches);
            if (f[ma]) {
                for (c = ++j; c < g && !X.relative[a[c].type]; c++);
                return ub(1 < j && Kb(v), 1 < j && ab(a.slice(0, j - 1).concat({
                    value: " " === a[j - 2].type ? "*": ""
                })).replace(Mb, "$1"), f, j < c && vb(a.slice(j, c)), c < g && vb(a = a.slice(c)), c < g && ab(a))
            }
            v.push(f)
        }
        return Kb(v)
    },
    db,
    ja,
    bb,
    X,
    ra,
    Aa,
    Ea,
    cb,
    Ba,
    Ja,
    qa,
    sa,
    R,
    P,
    ta,
    ba,
    kb,
    ma = "sizzle" + -new Date,
    Ta = wa.document,
    Qa = 0,
    tb = 0,
    eb = Oa(),
    Va = Oa(),
    $b = Oa(),
    gb = !1,
    ob = function(a, b) {
        a === b && (gb = !0);
        return 0
    },
    Ua = -2147483648,
    wb = {}.hasOwnProperty,
    Wa = [],
    ic = Wa.pop,
    xb = Wa.push,
    ib = Wa.push,
    yb = Wa.slice,
    nb = Wa.indexOf ||
    function(a) {
        for (var b = 0,
        f = this.length; b < f; b++) if (this[b] === a) return b;
        return - 1
    },
    ka = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w", "w#"),
    rc = "\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + ka + ")|)|)[\\x20\\t\\r\\n\\f]*\\]",
    ac = ":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + rc.replace(3, 8) + ")*)|.*)\\)|)",
    Mb = RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$", "g"),
    Zb = /^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
    hc = /^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
    Fb = /[\x20\t\r\n\f]*[+~]/,
    yc = RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]", "g"),
    zc = RegExp(ac),
    sc = RegExp("^" + ka + "$"),
    Hb = {
        ID: /^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
        CLASS: /^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
        TAG: RegExp("^(" + "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w", "w*") + ")"),
        ATTR: RegExp("^" + rc),
        PSEUDO: RegExp("^" + ac),
        CHILD: RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)", "i"),
        bool: RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$", "i"),
        needsContext: RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)", "i")
    },
    pb = /^[^{]+\{\s*\[native \w/,
    pc = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
    Ac = /^(?:input|select|textarea|button)$/i,
    tc = /^h\d$/i,
    qc = /'|\\/g,
    Gb = RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)", "ig"),
    lb = function(a, b, f) {
        a = "0x" + b - 65536;
        return a !== a || f ? b: 0 > a ? String.fromCharCode(a + 65536) : String.fromCharCode(a >> 10 | 55296, a & 1023 | 56320)
    };
    try {
        ib.apply(Wa = yb.call(Ta.childNodes), Ta.childNodes),
        Wa[Ta.childNodes.length].nodeType
    } catch(Ob) {
        ib = {
            apply: Wa.length ?
            function(a, b) {
                xb.apply(a, yb.call(b))
            }: function(a, b) {
                for (var f = a.length,
                c = 0; a[f++] = b[c++];);
                a.length = f - 1
            }
        }
    }
    Aa = Y.isXML = function(a) {
        return (a = a && (a.ownerDocument || a).documentElement) ? "HTML" !== a.nodeName: !1
    };
    ja = Y.support = {};
    Ja = Y.setDocument = function(a) {
        var b = a ? a.ownerDocument || a: Ta,
        a = b.defaultView;
        if (b === qa || 9 !== b.nodeType || !b.documentElement) return qa;
        qa = b;
        sa = b.documentElement;
        R = !Aa(b);
        a && (a.attachEvent && a !== a.top) && a.attachEvent("onbeforeunload",
        function() {
            Ja()
        });
        ja.attributes = na(function(a) {
            a.className = "i";
            return ! a.getAttribute("className")
        });
        ja.getElementsByTagName = na(function(a) {
            a.appendChild(b.createComment(""));
            return ! a.getElementsByTagName("*").length
        });
        ja.getElementsByClassName = na(function(a) {
            a.innerHTML = "<div class='a'></div><div class='a i'></div>";
            a.firstChild.className = "i";
            return 2 === a.getElementsByClassName("i").length
        });
        ja.getById = na(function(a) {
            sa.appendChild(a).id = ma;
            return ! b.getElementsByName || !b.getElementsByName(ma).length
        });
        ja.getById ? (X.find.ID = function(a, b) {
            if ("undefined" !== typeof b.getElementById && R) {
                var f = b.getElementById(a);
                return f && f.parentNode ? [f] : []
            }
        },
        X.filter.ID = function(a) {
            var b = a.replace(Gb, lb);
            return function(a) {
                return a.getAttribute("id") === b
            }
        }) : (delete X.find.ID, X.filter.ID = function(a) {
            var b = a.replace(Gb, lb);
            return function(a) {
                return (a = "undefined" !== typeof a.getAttributeNode && a.getAttributeNode("id")) && a.value === b
            }
        });
        X.find.TAG = ja.getElementsByTagName ?
        function(a, b) {
            if ("undefined" !== typeof b.getElementsByTagName) return b.getElementsByTagName(a)
        }: function(a, b) {
            var f, c = [],
            g = 0,
            h = b.getElementsByTagName(a);
            if ("*" === a) {
                for (; f = h[g++];) 1 === f.nodeType && c.push(f);
                return c
            }
            return h
        };
        X.find.CLASS = ja.getElementsByClassName &&
        function(a, b) {
            if ("undefined" !== typeof b.getElementsByClassName && R) return b.getElementsByClassName(a)
        };
        ta = [];
        P = [];
        if (ja.qsa = pb.test(b.querySelectorAll)) na(function(a) {
            a.innerHTML = "<select><option selected=''></option></select>";
            a.querySelectorAll("[selected]").length || P.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
            a.querySelectorAll(":checked").length || P.push(":checked")
        }),
        na(function(a) {
            var f = b.createElement("input");
            f.setAttribute("type", "hidden");
            a.appendChild(f).setAttribute("t", "");
            a.querySelectorAll("[t^='']").length && P.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
            a.querySelectorAll(":enabled").length || P.push(":enabled", ":disabled");
            a.querySelectorAll("*,:x");
            P.push(",.*:")
        }); (ja.matchesSelector = pb.test(ba = sa.webkitMatchesSelector || sa.mozMatchesSelector || sa.oMatchesSelector || sa.msMatchesSelector)) && na(function(a) {
            ja.disconnectedMatch = ba.call(a, "div");
            ba.call(a, "[s!='']:x");
            ta.push("!=", ac)
        });
        P = P.length && RegExp(P.join("|"));
        ta = ta.length && RegExp(ta.join("|"));
        kb = pb.test(sa.contains) || sa.compareDocumentPosition ?
        function(a, b) {
            var f = 9 === a.nodeType ? a.documentElement: a,
            c = b && b.parentNode;
            return a === c || !(!c || !(1 === c.nodeType && (f.contains ? f.contains(c) : a.compareDocumentPosition && a.compareDocumentPosition(c) & 16)))
        }: function(a, b) {
            if (b) for (; b = b.parentNode;) if (b === a) return ! 0;
            return ! 1
        };
        ob = sa.compareDocumentPosition ?
        function(a, f) {
            if (a === f) return gb = !0,
            0;
            var c = f.compareDocumentPosition && a.compareDocumentPosition && a.compareDocumentPosition(f);
            return c ? c & 1 || !ja.sortDetached && f.compareDocumentPosition(a) === c ? a === b || kb(Ta, a) ? -1 : f === b || kb(Ta, f) ? 1 : Ba ? nb.call(Ba, a) - nb.call(Ba, f) : 0 : c & 4 ? -1 : 1 : a.compareDocumentPosition ? -1 : 1
        }: function(a, f) {
            var c, g = 0;
            c = a.parentNode;
            var h = f.parentNode,
            j = [a],
            k = [f];
            if (a === f) return gb = !0,
            0;
            if (!c || !h) return a === b ? -1 : f === b ? 1 : c ? -1 : h ? 1 : Ba ? nb.call(Ba, a) - nb.call(Ba, f) : 0;
            if (c === h) return xa(a, f);
            for (c = a; c = c.parentNode;) j.unshift(c);
            for (c = f; c = c.parentNode;) k.unshift(c);
            for (; j[g] === k[g];) g++;
            return g ? xa(j[g], k[g]) : j[g] === Ta ? -1 : k[g] === Ta ? 1 : 0
        };
        return b
    };
    Y.matches = function(a, b) {
        return Y(a, null, null, b)
    };
    Y.matchesSelector = function(a, b) { (a.ownerDocument || a) !== qa && Ja(a);
        b = b.replace(yc, "='$1']");
        if (ja.matchesSelector && R && (!ta || !ta.test(b)) && (!P || !P.test(b))) try {
            var f = ba.call(a, b);
            if (f || ja.disconnectedMatch || a.document && 11 !== a.document.nodeType) return f
        } catch(c) {}
        return 0 < Y(b, qa, null, [a]).length
    };
    Y.contains = function(a, b) { (a.ownerDocument || a) !== qa && Ja(a);
        return kb(a, b)
    };
    Y.attr = function(a, b) { (a.ownerDocument || a) !== qa && Ja(a);
        var f = X.attrHandle[b.toLowerCase()],
        f = f && wb.call(X.attrHandle, b.toLowerCase()) ? f(a, b, !R) : void 0;
        return void 0 === f ? ja.attributes || !R ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value: null: f
    };
    Y.error = function(a) {
        throw Error("Syntax error, unrecognized expression: " + a);
    };
    Y.uniqueSort = function(a) {
        var b, f = [],
        c = 0,
        g = 0;
        gb = !ja.detectDuplicates;
        Ba = !ja.sortStable && a.slice(0);
        a.sort(ob);
        if (gb) {
            for (; b = a[g++];) b === a[g] && (c = f.push(g));
            for (; c--;) a.splice(f[c], 1)
        }
        return a
    };
    ra = Y.getText = function(a) {
        var b, f = "",
        c = 0;
        if (b = a.nodeType) if (1 === b || 9 === b || 11 === b) {
            if ("string" === typeof a.textContent) return a.textContent;
            for (a = a.firstChild; a; a = a.nextSibling) f += ra(a)
        } else {
            if (3 === b || 4 === b) return a.nodeValue
        } else for (; b = a[c]; c++) f += ra(b);
        return f
    };
    X = Y.selectors = {
        cacheLength: 50,
        createPseudo: oa,
        match: Hb,
        attrHandle: {},
        find: {},
        relative: {
            ">": {
                dir: "parentNode",
                first: !0
            },
            " ": {
                dir: "parentNode"
            },
            "+": {
                dir: "previousSibling",
                first: !0
            },
            "~": {
                dir: "previousSibling"
            }
        },
        preFilter: {
            ATTR: function(a) {
                a[1] = a[1].replace(Gb, lb);
                a[3] = (a[4] || a[5] || "").replace(Gb, lb);
                "~=" === a[2] && (a[3] = " " + a[3] + " ");
                return a.slice(0, 4)
            },
            CHILD: function(a) {
                a[1] = a[1].toLowerCase();
                "nth" === a[1].slice(0, 3) ? (a[3] || Y.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && Y.error(a[0]);
                return a
            },
            PSEUDO: function(a) {
                var b, f = !a[5] && a[2];
                if (Hb.CHILD.test(a[0])) return null;
                if (a[3] && void 0 !== a[4]) a[2] = a[4];
                else if (f && zc.test(f) && (b = $a(f, !0)) && (b = f.indexOf(")", f.length - b) - f.length)) a[0] = a[0].slice(0, b),
                a[2] = f.slice(0, b);
                return a.slice(0, 3)
            }
        },
        filter: {
            TAG: function(a) {
                var b = a.replace(Gb, lb).toLowerCase();
                return "*" === a ?
                function() {
                    return ! 0
                }: function(a) {
                    return a.nodeName && a.nodeName.toLowerCase() === b
                }
            },
            CLASS: function(a) {
                var b = eb[a + " "];
                return b || (b = RegExp("(^|[\\x20\\t\\r\\n\\f])" + a + "([\\x20\\t\\r\\n\\f]|$)")) && eb(a,
                function(a) {
                    return b.test("string" === typeof a.className && a.className || "undefined" !== typeof a.getAttribute && a.getAttribute("class") || "")
                })
            },
            ATTR: function(a, b, f) {
                return function(c) {
                    c = Y.attr(c, a);
                    if (null == c) return "!=" === b;
                    if (!b) return ! 0;
                    c += "";
                    return "=" === b ? c === f: "!=" === b ? c !== f: "^=" === b ? f && 0 === c.indexOf(f) : "*=" === b ? f && -1 < c.indexOf(f) : "$=" === b ? f && c.slice( - f.length) === f: "~=" === b ? -1 < (" " + c + " ").indexOf(f) : "|=" === b ? c === f || c.slice(0, f.length + 1) === f + "-": !1
                }
            },
            CHILD: function(a, b, f, c, g) {
                var h = "nth" !== a.slice(0, 3),
                j = "last" !== a.slice( - 4),
                k = "of-type" === b;
                return 1 === c && 0 === g ?
                function(a) {
                    return !! a.parentNode
                }: function(b, f, l) {
                    var v, p, B, G, m, f = h !== j ? "nextSibling": "previousSibling",
                    u = b.parentNode,
                    n = k && b.nodeName.toLowerCase(),
                    l = !l && !k;
                    if (u) {
                        if (h) {
                            for (; f;) {
                                for (p = b; p = p[f];) if (k ? p.nodeName.toLowerCase() === n: 1 === p.nodeType) return ! 1;
                                m = f = "only" === a && !m && "nextSibling"
                            }
                            return ! 0
                        }
                        m = [j ? u.firstChild: u.lastChild];
                        if (j && l) {
                            l = u[ma] || (u[ma] = {});
                            v = l[a] || [];
                            G = v[0] === Qa && v[1];
                            B = v[0] === Qa && v[2];
                            for (p = G && u.childNodes[G]; p = ++G && p && p[f] || (B = G = 0) || m.pop();) if (1 === p.nodeType && ++B && p === b) {
                                l[a] = [Qa, G, B];
                                break
                            }
                        } else if (l && (v = (b[ma] || (b[ma] = {}))[a]) && v[0] === Qa) B = v[1];
                        else for (; p = ++G && p && p[f] || (B = G = 0) || m.pop();) if ((k ? p.nodeName.toLowerCase() === n: 1 === p.nodeType) && ++B) if (l && ((p[ma] || (p[ma] = {}))[a] = [Qa, B]), p === b) break;
                        B -= g;
                        return B === c || 0 === B % c && 0 <= B / c
                    }
                }
            },
            PSEUDO: function(a, b) {
                var f, c = X.pseudos[a] || X.setFilters[a.toLowerCase()] || Y.error("unsupported pseudo: " + a);
                return c[ma] ? c(b) : 1 < c.length ? (f = [a, a, "", b], X.setFilters.hasOwnProperty(a.toLowerCase()) ? oa(function(a, f) {
                    for (var g, h = c(a, b), j = h.length; j--;) g = nb.call(a, h[j]),
                    a[g] = !(f[g] = h[j])
                }) : function(a) {
                    return c(a, 0, f)
                }) : c
            }
        },
        pseudos: {
            not: oa(function(a) {
                var b = [],
                f = [],
                c = Ea(a.replace(Mb, "$1"));
                return c[ma] ? oa(function(a, b, f, g) {
                    for (var g = c(a, null, g, []), h = a.length; h--;) if (f = g[h]) a[h] = !(b[h] = f)
                }) : function(a, g, h) {
                    b[0] = a;
                    c(b, null, h, f);
                    return ! f.pop()
                }
            }),
            has: oa(function(a) {
                return function(b) {
                    return 0 < Y(a, b).length
                }
            }),
            contains: oa(function(a) {
                return function(b) {
                    return - 1 < (b.textContent || b.innerText || ra(b)).indexOf(a)
                }
            }),
            lang: oa(function(a) {
                sc.test(a || "") || Y.error("unsupported lang: " + a);
                a = a.replace(Gb, lb).toLowerCase();
                return function(b) {
                    var f;
                    do
                    if (f = R ? b.lang: b.getAttribute("xml:lang") || b.getAttribute("lang")) return f = f.toLowerCase(),
                    f === a || 0 === f.indexOf(a + "-");
                    while ((b = b.parentNode) && 1 === b.nodeType);
                    return ! 1
                }
            }),
            target: function(a) {
                var b = wa.location && wa.location.hash;
                return b && b.slice(1) === a.id
            },
            root: function(a) {
                return a === sa
            },
            focus: function(a) {
                return a === qa.activeElement && (!qa.hasFocus || qa.hasFocus()) && !(!a.type && !a.href && !~a.tabIndex)
            },
            enabled: function(a) {
                return ! 1 === a.disabled
            },
            disabled: function(a) {
                return ! 0 === a.disabled
            },
            checked: function(a) {
                var b = a.nodeName.toLowerCase();
                return "input" === b && !!a.checked || "option" === b && !!a.selected
            },
            selected: function(a) {
                a.parentNode && a.parentNode.selectedIndex;
                return ! 0 === a.selected
            },
            empty: function(a) {
                for (a = a.firstChild; a; a = a.nextSibling) if ("@" < a.nodeName || 3 === a.nodeType || 4 === a.nodeType) return ! 1;
                return ! 0
            },
            parent: function(a) {
                return ! X.pseudos.empty(a)
            },
            header: function(a) {
                return tc.test(a.nodeName)
            },
            input: function(a) {
                return Ac.test(a.nodeName)
            },
            button: function(a) {
                var b = a.nodeName.toLowerCase();
                return "input" === b && "button" === a.type || "button" === b
            },
            text: function(a) {
                var b;
                return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || b.toLowerCase() === a.type)
            },
            first: Pa(function() {
                return [0]
            }),
            last: Pa(function(a, b) {
                return [b - 1]
            }),
            eq: Pa(function(a, b, f) {
                return [0 > f ? f + b: f]
            }),
            even: Pa(function(a, b) {
                for (var f = 0; f < b; f += 2) a.push(f);
                return a
            }),
            odd: Pa(function(a, b) {
                for (var f = 1; f < b; f += 2) a.push(f);
                return a
            }),
            lt: Pa(function(a, b, f) {
                for (b = 0 > f ? f + b: f; 0 <= --b;) a.push(b);
                return a
            }),
            gt: Pa(function(a, b, f) {
                for (f = 0 > f ? f + b: f; ++f < b;) a.push(f);
                return a
            })
        }
    };
    X.pseudos.nth = X.pseudos.eq;
    for (db in {
        radio: !0,
        checkbox: !0,
        file: !0,
        password: !0,
        image: !0
    }) X.pseudos[db] = Ib(db);
    for (db in {
        submit: !0,
        reset: !0
    }) X.pseudos[db] = Nb(db);
    va.prototype = X.filters = X.pseudos;
    X.setFilters = new va;
    Ea = Y.compile = function(a, b) {
        var f, c = [],
        g = [],
        h = $b[a + " "];
        if (!h) {
            b || (b = $a(a));
            for (f = b.length; f--;) h = vb(b[f]),
            h[ma] ? c.push(h) : g.push(h);
            var j = 0,
            k = 0 < c.length,
            l = 0 < g.length;
            f = function(a, b, f, h, v) {
                var p, B, G = [],
                m = 0,
                u = "0",
                ec = a && [],
                n = null != v,
                L = cb,
                q = a || l && X.find.TAG("*", v && b.parentNode || b),
                w = Qa += null == L ? 1 : Math.random() || 0.1;
                n && (cb = b !== qa && b, bb = j);
                for (; null != (v = q[u]); u++) {
                    if (l && v) {
                        for (p = 0; B = g[p++];) if (B(v, b, f)) {
                            h.push(v);
                            break
                        }
                        n && (Qa = w, bb = ++j)
                    }
                    k && ((v = !B && v) && m--, a && ec.push(v))
                }
                m += u;
                if (k && u !== m) {
                    for (p = 0; B = c[p++];) B(ec, G, b, f);
                    if (a) {
                        if (0 < m) for (; u--;) ! ec[u] && !G[u] && (G[u] = ic.call(h));
                        G = mb(G)
                    }
                    ib.apply(h, G);
                    n && (!a && 0 < G.length && 1 < m + c.length) && Y.uniqueSort(h)
                }
                n && (Qa = w, cb = L);
                return ec
            };
            f = k ? oa(f) : f;
            h = $b(a, f)
        }
        return h
    };
    ja.sortStable = ma.split("").sort(ob).join("") === ma;
    ja.detectDuplicates = gb;
    Ja();
    ja.sortDetached = na(function(a) {
        return a.compareDocumentPosition(qa.createElement("div")) & 1
    });
    na(function(a) {
        a.innerHTML = "<a href='#'></a>";
        return "#" === a.firstChild.getAttribute("href")
    }) || Ka("type|href|height|width",
    function(a, b, f) {
        if (!f) return a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
    }); (!ja.attributes || !na(function(a) {
        a.innerHTML = "<input/>";
        a.firstChild.setAttribute("value", "");
        return "" === a.firstChild.getAttribute("value")
    })) && Ka("value",
    function(a, b, f) {
        if (!f && "input" === a.nodeName.toLowerCase()) return a.defaultValue
    });
    na(function(a) {
        return null == a.getAttribute("disabled")
    }) || Ka("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
    function(a, b, f) {
        var c;
        if (!f) return (c = a.getAttributeNode(b)) && c.specified ? c.value: !0 === a[b] ? b.toLowerCase() : null
    });
    n.find = Y;
    n.expr = Y.selectors;
    n.expr[":"] = n.expr.pseudos;
    n.unique = Y.uniqueSort;
    n.text = Y.getText;
    n.isXMLDoc = Y.isXML;
    n.contains = Y.contains;
    var jc = {};
    n.Callbacks = function(a) {
        var f;
        if ("string" === typeof a) {
            if (! (f = jc[a])) {
                f = a;
                var c = jc[f] = {};
                n.each(f.match(ea) || [],
                function(a, b) {
                    c[b] = !0
                });
                f = c
            }
        } else f = n.extend({},
        a);
        var a = f,
        g, h, j, k, l, v, p = [],
        B = !a.once && [],
        G = function(b) {
            h = a.memory && b;
            j = !0;
            l = v || 0;
            v = 0;
            k = p.length;
            for (g = !0; p && l < k; l++) if (!1 === p[l].apply(b[0], b[1]) && a.stopOnFalse) {
                h = !1;
                break
            }
            g = !1;
            p && (B ? B.length && G(B.shift()) : h ? p = [] : m.disable())
        },
        m = {
            add: function() {
                if (p) {
                    var b = p.length; (function pd(b) {
                        n.each(b,
                        function(b, f) {
                            var c = n.type(f);
                            "function" === c ? (!a.unique || !m.has(f)) && p.push(f) : f && (f.length && "string" !== c) && pd(f)
                        })
                    })(arguments);
                    g ? k = p.length: h && (v = b, G(h))
                }
                return this
            },
            remove: function() {
                p && n.each(arguments,
                function(a, b) {
                    for (var f; - 1 < (f = n.inArray(b, p, f));) p.splice(f, 1),
                    g && (f <= k && k--, f <= l && l--)
                });
                return this
            },
            has: function(a) {
                return a ? -1 < n.inArray(a, p) : !(!p || !p.length)
            },
            empty: function() {
                p = [];
                k = 0;
                return this
            },
            disable: function() {
                p = B = h = b;
                return this
            },
            disabled: function() {
                return ! p
            },
            lock: function() {
                B = b;
                h || m.disable();
                return this
            },
            locked: function() {
                return ! B
            },
            fireWith: function(a, b) {
                if (p && (!j || B)) b = b || [],
                b = [a, b.slice ? b.slice() : b],
                g ? B.push(b) : G(b);
                return this
            },
            fire: function() {
                m.fireWith(this, arguments);
                return this
            },
            fired: function() {
                return !! j
            }
        };
        return m
    };
    n.extend({
        Deferred: function(a) {
            var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]],
            f = "pending",
            c = {
                state: function() {
                    return f
                },
                always: function() {
                    g.done(arguments).fail(arguments);
                    return this
                },
                then: function() {
                    var a = arguments;
                    return n.Deferred(function(f) {
                        n.each(b,
                        function(b, h) {
                            var j = h[0],
                            k = n.isFunction(a[b]) && a[b];
                            g[h[1]](function() {
                                var a = k && k.apply(this, arguments);
                                if (a && n.isFunction(a.promise)) a.promise().done(f.resolve).fail(f.reject).progress(f.notify);
                                else f[j + "With"](this === c ? f.promise() : this, k ? [a] : arguments)
                            })
                        });
                        a = null
                    }).promise()
                },
                promise: function(a) {
                    return null != a ? n.extend(a, c) : c
                }
            },
            g = {};
            c.pipe = c.then;
            n.each(b,
            function(a, h) {
                var j = h[2],
                k = h[3];
                c[h[1]] = j.add;
                k && j.add(function() {
                    f = k
                },
                b[a ^ 1][2].disable, b[2][2].lock);
                g[h[0]] = function() {
                    g[h[0] + "With"](this === g ? c: this, arguments);
                    return this
                };
                g[h[0] + "With"] = j.fireWith
            });
            c.promise(g);
            a && a.call(g, g);
            return g
        },
        when: function(a) {
            var b = 0,
            f = Ha.call(arguments),
            c = f.length,
            g = 1 !== c || a && n.isFunction(a.promise) ? c: 0,
            h = 1 === g ? a: n.Deferred(),
            j = function(a, b, f) {
                return function(c) {
                    b[a] = this;
                    f[a] = 1 < arguments.length ? Ha.call(arguments) : c;
                    f === k ? h.notifyWith(b, f) : --g || h.resolveWith(b, f)
                }
            },
            k,
            l,
            v;
            if (1 < c) {
                k = Array(c);
                l = Array(c);
                for (v = Array(c); b < c; b++) f[b] && n.isFunction(f[b].promise) ? f[b].promise().done(j(b, v, f)).fail(h.reject).progress(j(b, l, k)) : --g
            }
            g || h.resolveWith(v, f);
            return h.promise()
        }
    });
    var kc = n;
    var Z = {},
    Pb, zb, Fa, Ab, bc, Bb, Ra, uc, Cb, U = V.createElement("div");
    U.setAttribute("className", "t");
    U.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
    Pb = U.getElementsByTagName("*") || [];
    if ((zb = U.getElementsByTagName("a")[0]) && zb.style && Pb.length) {
        Ab = V.createElement("select");
        Bb = Ab.appendChild(V.createElement("option"));
        Fa = U.getElementsByTagName("input")[0];
        zb.style.cssText = "top:1px;float:left;opacity:.5";
        Z.getSetAttribute = "t" !== U.className;
        Z.leadingWhitespace = 3 === U.firstChild.nodeType;
        Z.tbody = !U.getElementsByTagName("tbody").length;
        Z.htmlSerialize = !!U.getElementsByTagName("link").length;
        Z.style = /top/.test(zb.getAttribute("style"));
        Z.hrefNormalized = "/a" === zb.getAttribute("href");
        Z.opacity = /^0.5/.test(zb.style.opacity);
        Z.cssFloat = !!zb.style.cssFloat;
        Z.checkOn = !!Fa.value;
        Z.optSelected = Bb.selected;
        Z.enctype = !!V.createElement("form").enctype;
        Z.html5Clone = "<:nav></:nav>" !== V.createElement("nav").cloneNode(!0).outerHTML;
        Z.inlineBlockNeedsLayout = !1;
        Z.shrinkWrapBlocks = !1;
        Z.pixelPosition = !1;
        Z.deleteExpando = !0;
        Z.noCloneEvent = !0;
        Z.reliableMarginRight = !0;
        Z.boxSizingReliable = !0;
        Fa.checked = !0;
        Z.noCloneChecked = Fa.cloneNode(!0).checked;
        Ab.disabled = !0;
        Z.optDisabled = !Bb.disabled;
        try {
            delete U.test
        } catch(Qb) {
            Z.deleteExpando = !1
        }
        Fa = V.createElement("input");
        Fa.setAttribute("value", "");
        Z.input = "" === Fa.getAttribute("value");
        Fa.value = "t";
        Fa.setAttribute("type", "radio");
        Z.radioValue = "t" === Fa.value;
        Fa.setAttribute("checked", "t");
        Fa.setAttribute("name", "t");
        bc = V.createDocumentFragment();
        bc.appendChild(Fa);
        Z.appendChecked = Fa.checked;
        Z.checkClone = bc.cloneNode(!0).cloneNode(!0).lastChild.checked;
        U.attachEvent && (U.attachEvent("onclick",
        function() {
            Z.noCloneEvent = !1
        }), U.cloneNode(!0).click());
        for (Cb in {
            submit: !0,
            change: !0,
            focusin: !0
        }) U.setAttribute(Ra = "on" + Cb, "t"),
        Z[Cb + "Bubbles"] = Ra in a || !1 === U.attributes[Ra].expando;
        U.style.backgroundClip = "content-box";
        U.cloneNode(!0).style.backgroundClip = "";
        Z.clearCloneStyle = "content-box" === U.style.backgroundClip;
        for (Cb in n(Z)) break;
        Z.ownLast = "0" !== Cb;
        n(function() {
            var b, f, c = V.getElementsByTagName("body")[0];
            c && (b = V.createElement("div"), b.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", c.appendChild(b).appendChild(U), U.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", f = U.getElementsByTagName("td"), f[0].style.cssText = "padding:0;margin:0;border:0;display:none", uc = 0 === f[0].offsetHeight, f[0].style.display = "", f[1].style.display = "none", Z.reliableHiddenOffsets = uc && 0 === f[0].offsetHeight, U.innerHTML = "", U.style.cssText = "box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;", n.swap(c, null != c.style.zoom ? {
                zoom: 1
            }: {},
            function() {
                Z.boxSizing = 4 === U.offsetWidth
            }), a.getComputedStyle && (Z.pixelPosition = "1%" !== (a.getComputedStyle(U, null) || {}).top, Z.boxSizingReliable = "4px" === (a.getComputedStyle(U, null) || {
                width: "4px"
            }).width, f = U.appendChild(V.createElement("div")), f.style.cssText = U.style.cssText = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;", f.style.marginRight = f.style.width = "0", U.style.width = "1px", Z.reliableMarginRight = !parseFloat((a.getComputedStyle(f, null) || {}).marginRight)), typeof U.style.zoom !== Ga && (U.innerHTML = "", U.style.cssText = "padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1", Z.inlineBlockNeedsLayout = 3 === U.offsetWidth, U.style.display = "block", U.innerHTML = "<div></div>", U.firstChild.style.width = "5px", Z.shrinkWrapBlocks = 3 !== U.offsetWidth, Z.inlineBlockNeedsLayout && (c.style.zoom = 1)), c.removeChild(b), b = U = f = f = null)
        });
        Pb = Ab = bc = Bb = zb = Fa = null
    }
    kc.support = Z;
    var fc = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
    mc = /([A-Z])/g;
    n.extend({
        cache: {},
        noData: {
            applet: !0,
            embed: !0,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function(a) {
            a = a.nodeType ? n.cache[a[n.expando]] : a[n.expando];
            return !! a && !j(a)
        },
        data: function(a, b, f) {
            return g(a, b, f)
        },
        removeData: function(a, b) {
            return f(a, b)
        },
        _data: function(a, b, f) {
            return g(a, b, f, !0)
        },
        _removeData: function(a, b) {
            return f(a, b, !0)
        },
        acceptData: function(a) {
            if (a.nodeType && 1 !== a.nodeType && 9 !== a.nodeType) return ! 1;
            var b = a.nodeName && n.noData[a.nodeName.toLowerCase()];
            return ! b || !0 !== b && a.getAttribute("classid") === b
        }
    });
    n.fn.extend({
        data: function(a, f) {
            var c, g, j = null,
            k = 0,
            l = this[0];
            if (a === b) {
                if (this.length && (j = n.data(l), 1 === l.nodeType && !n._data(l, "parsedAttrs"))) {
                    for (c = l.attributes; k < c.length; k++) g = c[k].name,
                    0 === g.indexOf("data-") && (g = n.camelCase(g.slice(5)), h(l, g, j[g]));
                    n._data(l, "parsedAttrs", !0)
                }
                return j
            }
            return "object" === typeof a ? this.each(function() {
                n.data(this, a)
            }) : 1 < arguments.length ? this.each(function() {
                n.data(this, a, f)
            }) : l ? h(l, a, n.data(l, a)) : null
        },
        removeData: function(a) {
            return this.each(function() {
                n.removeData(this, a)
            })
        }
    });
    n.extend({
        queue: function(a, b, f) {
            var c;
            if (a) return b = (b || "fx") + "queue",
            c = n._data(a, b),
            f && (!c || n.isArray(f) ? c = n._data(a, b, n.makeArray(f)) : c.push(f)),
            c || []
        },
        dequeue: function(a, b) {
            var b = b || "fx",
            f = n.queue(a, b),
            c = f.length,
            g = f.shift(),
            h = n._queueHooks(a, b),
            j = function() {
                n.dequeue(a, b)
            };
            "inprogress" === g && (g = f.shift(), c--);
            g && ("fx" === b && f.unshift("inprogress"), delete h.stop, g.call(a, j, h)); ! c && h && h.empty.fire()
        },
        _queueHooks: function(a, b) {
            var f = b + "queueHooks";
            return n._data(a, f) || n._data(a, f, {
                empty: n.Callbacks("once memory").add(function() {
                    n._removeData(a, b + "queue");
                    n._removeData(a, f)
                })
            })
        }
    });
    n.fn.extend({
        queue: function(a, f) {
            var c = 2;
            "string" !== typeof a && (f = a, a = "fx", c--);
            return arguments.length < c ? n.queue(this[0], a) : f === b ? this: this.each(function() {
                var b = n.queue(this, a, f);
                n._queueHooks(this, a);
                "fx" === a && "inprogress" !== b[0] && n.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                n.dequeue(this, a)
            })
        },
        delay: function(a, b) {
            a = n.fx ? n.fx.speeds[a] || a: a;
            return this.queue(b || "fx",
            function(b, f) {
                var c = setTimeout(b, a);
                f.stop = function() {
                    clearTimeout(c)
                }
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, f) {
            var c, g = 1,
            h = n.Deferred(),
            j = this,
            k = this.length,
            l = function() {--g || h.resolveWith(j, [j])
            };
            "string" !== typeof a && (f = a, a = b);
            for (a = a || "fx"; k--;) if ((c = n._data(j[k], a + "queueHooks")) && c.empty) g++,
            c.empty.add(l);
            l();
            return h.promise(f)
        }
    });
    var Sb, Rb, Tb = /[\t\r\n\f]/g,
    Bc = /\r/g,
    Cc = /^(?:input|select|textarea|button|object)$/i,
    Dc = /^(?:a|area)$/i,
    Ub = /^(?:checked|selected)$/i,
    cc = n.support.getSetAttribute,
    Ec = n.support.input;
    n.fn.extend({
        attr: function(a, b) {
            return n.access(this, n.attr, a, b, 1 < arguments.length)
        },
        removeAttr: function(a) {
            return this.each(function() {
                n.removeAttr(this, a)
            })
        },
        prop: function(a, b) {
            return n.access(this, n.prop, a, b, 1 < arguments.length)
        },
        removeProp: function(a) {
            a = n.propFix[a] || a;
            return this.each(function() {
                try {
                    this[a] = b,
                    delete this[a]
                } catch(f) {}
            })
        },
        addClass: function(a) {
            var b, f, c, g, h, j = 0,
            k = this.length;
            b = "string" === typeof a && a;
            if (n.isFunction(a)) return this.each(function(b) {
                n(this).addClass(a.call(this, b, this.className))
            });
            if (b) for (b = (a || "").match(ea) || []; j < k; j++) if (f = this[j], c = 1 === f.nodeType && (f.className ? (" " + f.className + " ").replace(Tb, " ") : " ")) {
                for (h = 0; g = b[h++];) 0 > c.indexOf(" " + g + " ") && (c += g + " ");
                f.className = n.trim(c)
            }
            return this
        },
        removeClass: function(a) {
            var b, f, c, g, h, j = 0,
            k = this.length;
            b = 0 === arguments.length || "string" === typeof a && a;
            if (n.isFunction(a)) return this.each(function(b) {
                n(this).removeClass(a.call(this, b, this.className))
            });
            if (b) for (b = (a || "").match(ea) || []; j < k; j++) if (f = this[j], c = 1 === f.nodeType && (f.className ? (" " + f.className + " ").replace(Tb, " ") : "")) {
                for (h = 0; g = b[h++];) for (; 0 <= c.indexOf(" " + g + " ");) c = c.replace(" " + g + " ", " ");
                f.className = a ? n.trim(c) : ""
            }
            return this
        },
        toggleClass: function(a, b) {
            var f = typeof a;
            return "boolean" === typeof b && "string" === f ? b ? this.addClass(a) : this.removeClass(a) : n.isFunction(a) ? this.each(function(f) {
                n(this).toggleClass(a.call(this, f, this.className, b), b)
            }) : this.each(function() {
                if ("string" === f) for (var b, c = 0,
                g = n(this), h = a.match(ea) || []; b = h[c++];) g.hasClass(b) ? g.removeClass(b) : g.addClass(b);
                else if (f === Ga || "boolean" === f) this.className && n._data(this, "__className__", this.className),
                this.className = this.className || !1 === a ? "": n._data(this, "__className__") || ""
            })
        },
        hasClass: function(a) {
            for (var a = " " + a + " ",
            b = 0,
            f = this.length; b < f; b++) if (1 === this[b].nodeType && 0 <= (" " + this[b].className + " ").replace(Tb, " ").indexOf(a)) return ! 0;
            return ! 1
        },
        val: function(a) {
            var f, c, g, h = this[0];
            if (arguments.length) return g = n.isFunction(a),
            this.each(function(f) {
                if (1 === this.nodeType && (f = g ? a.call(this, f, n(this).val()) : a, null == f ? f = "": "number" === typeof f ? f += "": n.isArray(f) && (f = n.map(f,
                function(a) {
                    return null == a ? "": a + ""
                })), c = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()], !c || !("set" in c) || c.set(this, f, "value") === b)) this.value = f
            });
            if (h) {
                if ((c = n.valHooks[h.type] || n.valHooks[h.nodeName.toLowerCase()]) && "get" in c && (f = c.get(h, "value")) !== b) return f;
                f = h.value;
                return "string" === typeof f ? f.replace(Bc, "") : null == f ? "": f
            }
        }
    });
    n.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = n.find.attr(a, "value");
                    return null != b ? b: a.text
                }
            },
            select: {
                get: function(a) {
                    for (var b, f = a.options,
                    c = a.selectedIndex,
                    g = (a = "select-one" === a.type || 0 > c) ? null: [], h = a ? c + 1 : f.length, j = 0 > c ? h: a ? c: 0; j < h; j++) if (b = f[j], (b.selected || j === c) && (n.support.optDisabled ? !b.disabled: null === b.getAttribute("disabled")) && (!b.parentNode.disabled || !n.nodeName(b.parentNode, "optgroup"))) {
                        b = n(b).val();
                        if (a) return b;
                        g.push(b)
                    }
                    return g
                },
                set: function(a, b) {
                    for (var f, c, g = a.options,
                    h = n.makeArray(b), j = g.length; j--;) if (c = g[j], c.selected = 0 <= n.inArray(n(c).val(), h)) f = !0;
                    f || (a.selectedIndex = -1);
                    return h
                }
            }
        },
        attr: function(a, f, c) {
            var g, h, j = a.nodeType;
            if (a && !(3 === j || 8 === j || 2 === j)) {
                if (typeof a.getAttribute === Ga) return n.prop(a, f, c);
                if (1 !== j || !n.isXMLDoc(a)) f = f.toLowerCase(),
                g = n.attrHooks[f] || (n.expr.match.bool.test(f) ? Rb: Sb);
                if (c !== b) if (null === c) n.removeAttr(a, f);
                else {
                    if (g && "set" in g && (h = g.set(a, c, f)) !== b) return h;
                    a.setAttribute(f, c + "");
                    return c
                } else {
                    if (g && "get" in g && null !== (h = g.get(a, f))) return h;
                    h = n.find.attr(a, f);
                    return null == h ? b: h
                }
            }
        },
        removeAttr: function(a, b) {
            var f, c, g = 0,
            h = b && b.match(ea);
            if (h && 1 === a.nodeType) for (; f = h[g++];) c = n.propFix[f] || f,
            n.expr.match.bool.test(f) ? Ec && cc || !Ub.test(f) ? a[c] = !1 : a[n.camelCase("default-" + f)] = a[c] = !1 : n.attr(a, f, ""),
            a.removeAttribute(cc ? f: c)
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!n.support.radioValue && "radio" === b && n.nodeName(a, "input")) {
                        var f = a.value;
                        a.setAttribute("type", b);
                        f && (a.value = f);
                        return b
                    }
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(a, f, c) {
            var g, h, j;
            j = a.nodeType;
            if (a && !(3 === j || 8 === j || 2 === j)) {
                if (j = 1 !== j || !n.isXMLDoc(a)) f = n.propFix[f] || f,
                h = n.propHooks[f];
                return c !== b ? h && "set" in h && (g = h.set(a, c, f)) !== b ? g: a[f] = c: h && "get" in h && null !== (g = h.get(a, f)) ? g: a[f]
            }
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = n.find.attr(a, "tabindex");
                    return b ? parseInt(b, 10) : Cc.test(a.nodeName) || Dc.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        }
    });
    Rb = {
        set: function(a, b, f) { ! 1 === b ? n.removeAttr(a, f) : Ec && cc || !Ub.test(f) ? a.setAttribute(!cc && n.propFix[f] || f, f) : a[n.camelCase("default-" + f)] = a[f] = !0;
            return f
        }
    };
    n.each(n.expr.match.bool.source.match(/\w+/g),
    function(a, f) {
        var c = n.expr.attrHandle[f] || n.find.attr;
        n.expr.attrHandle[f] = Ec && cc || !Ub.test(f) ?
        function(a, f, g) {
            var h = n.expr.attrHandle[f],
            a = g ? b: (n.expr.attrHandle[f] = b) != c(a, f, g) ? f.toLowerCase() : null;
            n.expr.attrHandle[f] = h;
            return a
        }: function(a, f, c) {
            return c ? b: a[n.camelCase("default-" + f)] ? f.toLowerCase() : null
        }
    });
    if (!Ec || !cc) n.attrHooks.value = {
        set: function(a, b, f) {
            if (n.nodeName(a, "input")) a.defaultValue = b;
            else return Sb && Sb.set(a, b, f)
        }
    };
    cc || (Sb = {
        set: function(a, f, c) {
            var g = a.getAttributeNode(c);
            g || a.setAttributeNode(g = a.ownerDocument.createAttribute(c));
            g.value = f += "";
            return "value" === c || f === a.getAttribute(c) ? f: b
        }
    },
    n.expr.attrHandle.id = n.expr.attrHandle.name = n.expr.attrHandle.coords = function(a, f, c) {
        var g;
        return c ? b: (g = a.getAttributeNode(f)) && "" !== g.value ? g.value: null
    },
    n.valHooks.button = {
        get: function(a, f) {
            var c = a.getAttributeNode(f);
            return c && c.specified ? c.value: b
        },
        set: Sb.set
    },
    n.attrHooks.contenteditable = {
        set: function(a, b, f) {
            Sb.set(a, "" === b ? !1 : b, f)
        }
    },
    n.each(["width", "height"],
    function(a, b) {
        n.attrHooks[b] = {
            set: function(a, f) {
                if ("" === f) return a.setAttribute(b, "auto"),
                f
            }
        }
    }));
    n.support.hrefNormalized || n.each(["href", "src"],
    function(a, b) {
        n.propHooks[b] = {
            get: function(a) {
                return a.getAttribute(b, 4)
            }
        }
    });
    n.support.style || (n.attrHooks.style = {
        get: function(a) {
            return a.style.cssText || b
        },
        set: function(a, b) {
            return a.style.cssText = b + ""
        }
    });
    n.support.optSelected || (n.propHooks.selected = {
        get: function(a) {
            if (a = a.parentNode) a.selectedIndex,
            a.parentNode && a.parentNode.selectedIndex;
            return null
        }
    });
    n.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
    function() {
        n.propFix[this.toLowerCase()] = this
    });
    n.support.enctype || (n.propFix.enctype = "encoding");
    n.each(["radio", "checkbox"],
    function() {
        n.valHooks[this] = {
            set: function(a, b) {
                if (n.isArray(b)) return a.checked = 0 <= n.inArray(n(a).val(), b)
            }
        };
        n.support.checkOn || (n.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on": a.value
        })
    });
    var Ic = /^(?:input|select|textarea)$/i,
    qd = /^key/,
    rd = /^(?:mouse|contextmenu)|click/,
    Tc = /^(?:focusinfocus|focusoutblur)$/,
    Uc = /^([^.]*)(?:\.(.+)|)$/;
    n.event = {
        global: {},
        add: function(a, f, c, g, h) {
            var j, k, l, v, p, B, G, m, u;
            if (l = n._data(a)) {
                c.handler && (v = c, c = v.handler, h = v.selector);
                c.guid || (c.guid = n.guid++);
                if (! (k = l.events)) k = l.events = {};
                if (! (p = l.handle)) p = l.handle = function(a) {
                    return typeof n !== Ga && (!a || n.event.triggered !== a.type) ? n.event.dispatch.apply(p.elem, arguments) : b
                },
                p.elem = a;
                f = (f || "").match(ea) || [""];
                for (l = f.length; l--;) if (j = Uc.exec(f[l]) || [], m = B = j[1], u = (j[2] || "").split(".").sort(), m) {
                    j = n.event.special[m] || {};
                    m = (h ? j.delegateType: j.bindType) || m;
                    j = n.event.special[m] || {};
                    B = n.extend({
                        type: m,
                        origType: B,
                        data: g,
                        handler: c,
                        guid: c.guid,
                        selector: h,
                        needsContext: h && n.expr.match.needsContext.test(h),
                        namespace: u.join(".")
                    },
                    v);
                    if (! (G = k[m])) if (G = k[m] = [], G.delegateCount = 0, !j.setup || !1 === j.setup.call(a, g, u, p)) a.addEventListener ? a.addEventListener(m, p, !1) : a.attachEvent && a.attachEvent("on" + m, p);
                    j.add && (j.add.call(a, B), B.handler.guid || (B.handler.guid = c.guid));
                    h ? G.splice(G.delegateCount++, 0, B) : G.push(B);
                    n.event.global[m] = !0
                }
                a = null
            }
        },
        remove: function(a, b, f, c, g) {
            var h, j, k, l, v, p, B, G, m, u, L, q = n.hasData(a) && n._data(a);
            if (q && (p = q.events)) {
                b = (b || "").match(ea) || [""];
                for (v = b.length; v--;) if (k = Uc.exec(b[v]) || [], m = L = k[1], u = (k[2] || "").split(".").sort(), m) {
                    B = n.event.special[m] || {};
                    m = (c ? B.delegateType: B.bindType) || m;
                    G = p[m] || [];
                    k = k[2] && RegExp("(^|\\.)" + u.join("\\.(?:.*\\.|)") + "(\\.|$)");
                    for (l = h = G.length; h--;) if (j = G[h], (g || L === j.origType) && (!f || f.guid === j.guid) && (!k || k.test(j.namespace)) && (!c || c === j.selector || "**" === c && j.selector)) G.splice(h, 1),
                    j.selector && G.delegateCount--,
                    B.remove && B.remove.call(a, j);
                    l && !G.length && ((!B.teardown || !1 === B.teardown.call(a, u, q.handle)) && n.removeEvent(a, m, q.handle), delete p[m])
                } else for (m in p) n.event.remove(a, m + b[v], f, c, !0);
                n.isEmptyObject(p) && (delete q.handle, n._removeData(a, "events"))
            }
        },
        trigger: function(f, c, g, h) {
            var j, k, l, v, p, B, G = [g || V],
            m = Ca.call(f, "type") ? f.type: f;
            p = Ca.call(f, "namespace") ? f.namespace.split(".") : [];
            l = j = g = g || V;
            if (! (3 === g.nodeType || 8 === g.nodeType) && !Tc.test(m + n.event.triggered)) if (0 <= m.indexOf(".") && (p = m.split("."), m = p.shift(), p.sort()), k = 0 > m.indexOf(":") && "on" + m, f = f[n.expando] ? f: new n.Event(m, "object" === typeof f && f), f.isTrigger = h ? 2 : 3, f.namespace = p.join("."), f.namespace_re = f.namespace ? RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, f.result = b, f.target || (f.target = g), c = null == c ? [f] : n.makeArray(c, [f]), p = n.event.special[m] || {},
            h || !(p.trigger && !1 === p.trigger.apply(g, c))) {
                if (!h && !p.noBubble && !n.isWindow(g)) {
                    v = p.delegateType || m;
                    Tc.test(v + m) || (l = l.parentNode);
                    for (; l; l = l.parentNode) G.push(l),
                    j = l;
                    if (j === (g.ownerDocument || V)) G.push(j.defaultView || j.parentWindow || a)
                }
                for (B = 0; (l = G[B++]) && !f.isPropagationStopped();) f.type = 1 < B ? v: p.bindType || m,
                (j = (n._data(l, "events") || {})[f.type] && n._data(l, "handle")) && j.apply(l, c),
                (j = k && l[k]) && (n.acceptData(l) && j.apply && !1 === j.apply(l, c)) && f.preventDefault();
                f.type = m;
                if (!h && !f.isDefaultPrevented() && (!p._default || !1 === p._default.apply(G.pop(), c)) && n.acceptData(g) && k && g[m] && !n.isWindow(g)) { (j = g[k]) && (g[k] = null);
                    n.event.triggered = m;
                    try {
                        g[m]()
                    } catch(u) {}
                    n.event.triggered = b;
                    j && (g[k] = j)
                }
                return f.result
            }
        },
        dispatch: function(a) {
            var a = n.event.fix(a),
            f,
            c,
            g,
            h,
            j = [],
            k = Ha.call(arguments);
            f = (n._data(this, "events") || {})[a.type] || [];
            var l = n.event.special[a.type] || {};
            k[0] = a;
            a.delegateTarget = this;
            if (! (l.preDispatch && !1 === l.preDispatch.call(this, a))) {
                j = n.event.handlers.call(this, a, f);
                for (f = 0; (g = j[f++]) && !a.isPropagationStopped();) {
                    a.currentTarget = g.elem;
                    for (h = 0; (c = g.handlers[h++]) && !a.isImmediatePropagationStopped();) if (!a.namespace_re || a.namespace_re.test(c.namespace)) if (a.handleObj = c, a.data = c.data, c = ((n.event.special[c.origType] || {}).handle || c.handler).apply(g.elem, k), c !== b && !1 === (a.result = c)) a.preventDefault(),
                    a.stopPropagation()
                }
                l.postDispatch && l.postDispatch.call(this, a);
                return a.result
            }
        },
        handlers: function(a, f) {
            var c, g, h, j, k = [],
            l = f.delegateCount,
            v = a.target;
            if (l && v.nodeType && (!a.button || "click" !== a.type)) for (; v != this; v = v.parentNode || this) if (1 === v.nodeType && (!0 !== v.disabled || "click" !== a.type)) {
                h = [];
                for (j = 0; j < l; j++) g = f[j],
                c = g.selector + " ",
                h[c] === b && (h[c] = g.needsContext ? 0 <= n(c, this).index(v) : n.find(c, this, null, [v]).length),
                h[c] && h.push(g);
                h.length && k.push({
                    elem: v,
                    handlers: h
                })
            }
            l < f.length && k.push({
                elem: this,
                handlers: f.slice(l)
            });
            return k
        },
        fix: function(a) {
            if (a[n.expando]) return a;
            var b, f, c;
            b = a.type;
            var g = a,
            h = this.fixHooks[b];
            h || (this.fixHooks[b] = h = rd.test(b) ? this.mouseHooks: qd.test(b) ? this.keyHooks: {});
            c = h.props ? this.props.concat(h.props) : this.props;
            a = new n.Event(g);
            for (b = c.length; b--;) f = c[b],
            a[f] = g[f];
            a.target || (a.target = g.srcElement || V);
            3 === a.target.nodeType && (a.target = a.target.parentNode);
            a.metaKey = !!a.metaKey;
            return h.filter ? h.filter(a, g) : a
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: ["char", "charCode", "key", "keyCode"],
            filter: function(a, b) {
                null == a.which && (a.which = null != b.charCode ? b.charCode: b.keyCode);
                return a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, f) {
                var c, g, h = f.button,
                j = f.fromElement;
                null == a.pageX && null != f.clientX && (c = a.target.ownerDocument || V, g = c.documentElement, c = c.body, a.pageX = f.clientX + (g && g.scrollLeft || c && c.scrollLeft || 0) - (g && g.clientLeft || c && c.clientLeft || 0), a.pageY = f.clientY + (g && g.scrollTop || c && c.scrollTop || 0) - (g && g.clientTop || c && c.clientTop || 0)); ! a.relatedTarget && j && (a.relatedTarget = j === a.target ? f.toElement: j); ! a.which && h !== b && (a.which = h & 1 ? 1 : h & 2 ? 3 : h & 4 ? 2 : 0);
                return a
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== q() && this.focus) try {
                        return this.focus(),
                        !1
                    } catch(a) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === q() && this.blur) return this.blur(),
                    !1
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if (n.nodeName(this, "input") && "checkbox" === this.type && this.click) return this.click(),
                    !1
                },
                _default: function(a) {
                    return n.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    a.result !== b && (a.originalEvent.returnValue = a.result)
                }
            }
        },
        simulate: function(a, b, f, c) {
            a = n.extend(new n.Event, f, {
                type: a,
                isSimulated: !0,
                originalEvent: {}
            });
            c ? n.event.trigger(a, null, b) : n.event.dispatch.call(b, a);
            a.isDefaultPrevented() && f.preventDefault()
        }
    };
    n.removeEvent = V.removeEventListener ?
    function(a, b, f) {
        a.removeEventListener && a.removeEventListener(b, f, !1)
    }: function(a, b, f) {
        b = "on" + b;
        a.detachEvent && (typeof a[b] === Ga && (a[b] = null), a.detachEvent(b, f))
    };
    n.Event = function(a, b) {
        if (! (this instanceof n.Event)) return new n.Event(a, b);
        a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || !1 === a.returnValue || a.getPreventDefault && a.getPreventDefault() ? k: m) : this.type = a;
        b && n.extend(this, b);
        this.timeStamp = a && a.timeStamp || n.now();
        this[n.expando] = !0
    };
    n.Event.prototype = {
        isDefaultPrevented: m,
        isPropagationStopped: m,
        isImmediatePropagationStopped: m,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = k;
            a && (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = k;
            a && (a.stopPropagation && a.stopPropagation(), a.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = k;
            this.stopPropagation()
        }
    };
    n.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    },
    function(a, b) {
        n.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var f, c = a.relatedTarget,
                g = a.handleObj;
                if (!c || c !== this && !n.contains(this, c)) a.type = g.origType,
                f = g.handler.apply(this, arguments),
                a.type = b;
                return f
            }
        }
    });
    n.support.submitBubbles || (n.event.special.submit = {
        setup: function() {
            if (n.nodeName(this, "form")) return ! 1;
            n.event.add(this, "click._submit keypress._submit",
            function(a) {
                a = a.target;
                if ((a = n.nodeName(a, "input") || n.nodeName(a, "button") ? a.form: b) && !n._data(a, "submitBubbles")) n.event.add(a, "submit._submit",
                function(a) {
                    a._submit_bubble = !0
                }),
                n._data(a, "submitBubbles", !0)
            })
        },
        postDispatch: function(a) {
            a._submit_bubble && (delete a._submit_bubble, this.parentNode && !a.isTrigger && n.event.simulate("submit", this.parentNode, a, !0))
        },
        teardown: function() {
            if (n.nodeName(this, "form")) return ! 1;
            n.event.remove(this, "._submit")
        }
    });
    n.support.changeBubbles || (n.event.special.change = {
        setup: function() {
            if (Ic.test(this.nodeName)) {
                if ("checkbox" === this.type || "radio" === this.type) n.event.add(this, "propertychange._change",
                function(a) {
                    "checked" === a.originalEvent.propertyName && (this._just_changed = !0)
                }),
                n.event.add(this, "click._change",
                function(a) {
                    this._just_changed && !a.isTrigger && (this._just_changed = !1);
                    n.event.simulate("change", this, a, !0)
                });
                return ! 1
            }
            n.event.add(this, "beforeactivate._change",
            function(a) {
                a = a.target;
                Ic.test(a.nodeName) && !n._data(a, "changeBubbles") && (n.event.add(a, "change._change",
                function(a) {
                    this.parentNode && (!a.isSimulated && !a.isTrigger) && n.event.simulate("change", this.parentNode, a, !0)
                }), n._data(a, "changeBubbles", !0))
            })
        },
        handle: function(a) {
            var b = a.target;
            if (this !== b || a.isSimulated || a.isTrigger || "radio" !== b.type && "checkbox" !== b.type) return a.handleObj.handler.apply(this, arguments)
        },
        teardown: function() {
            n.event.remove(this, "._change");
            return ! Ic.test(this.nodeName)
        }
    });
    n.support.focusinBubbles || n.each({
        focus: "focusin",
        blur: "focusout"
    },
    function(a, b) {
        var f = 0,
        c = function(a) {
            n.event.simulate(b, a.target, n.event.fix(a), !0)
        };
        n.event.special[b] = {
            setup: function() {
                0 === f++&&V.addEventListener(a, c, !0)
            },
            teardown: function() {
                0 === --f && V.removeEventListener(a, c, !0)
            }
        }
    });
    n.fn.extend({
        on: function(a, f, c, g, h) {
            var j, k;
            if ("object" === typeof a) {
                "string" !== typeof f && (c = c || f, f = b);
                for (j in a) this.on(j, f, c, a[j], h);
                return this
            }
            null == c && null == g ? (g = f, c = f = b) : null == g && ("string" === typeof f ? (g = c, c = b) : (g = c, c = f, f = b));
            if (!1 === g) g = m;
            else if (!g) return this;
            1 === h && (k = g, g = function(a) {
                n().off(a);
                return k.apply(this, arguments)
            },
            g.guid = k.guid || (k.guid = n.guid++));
            return this.each(function() {
                n.event.add(this, a, g, c, f)
            })
        },
        one: function(a, b, f, c) {
            return this.on(a, b, f, c, 1)
        },
        off: function(a, f, c) {
            var g;
            if (a && a.preventDefault && a.handleObj) return g = a.handleObj,
            n(a.delegateTarget).off(g.namespace ? g.origType + "." + g.namespace: g.origType, g.selector, g.handler),
            this;
            if ("object" === typeof a) {
                for (g in a) this.off(g, f, a[g]);
                return this
            }
            if (!1 === f || "function" === typeof f) c = f,
            f = b; ! 1 === c && (c = m);
            return this.each(function() {
                n.event.remove(this, a, c, f)
            })
        },
        trigger: function(a, b) {
            return this.each(function() {
                n.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var f = this[0];
            if (f) return n.event.trigger(a, b, f, !0)
        }
    });
    var ld = /^.[^:#\[\.,]*$/,
    sd = /^(?:parents|prev(?:Until|All))/,
    Vc = n.expr.match.needsContext,
    td = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    n.fn.extend({
        find: function(a) {
            var b, f = [],
            c = this,
            g = c.length;
            if ("string" !== typeof a) return this.pushStack(n(a).filter(function() {
                for (b = 0; b < g; b++) if (n.contains(c[b], this)) return ! 0
            }));
            for (b = 0; b < g; b++) n.find(a, c[b], f);
            f = this.pushStack(1 < g ? n.unique(f) : f);
            f.selector = this.selector ? this.selector + " " + a: a;
            return f
        },
        has: function(a) {
            var b, f = n(a, this),
            c = f.length;
            return this.filter(function() {
                for (b = 0; b < c; b++) if (n.contains(this, f[b])) return ! 0
            })
        },
        not: function(a) {
            return this.pushStack(p(this, a || [], !0))
        },
        filter: function(a) {
            return this.pushStack(p(this, a || [], !1))
        },
        is: function(a) {
            return !! p(this, "string" === typeof a && Vc.test(a) ? n(a) : a || [], !1).length
        },
        closest: function(a, b) {
            for (var f, c = 0,
            g = this.length,
            h = [], j = Vc.test(a) || "string" !== typeof a ? n(a, b || this.context) : 0; c < g; c++) for (f = this[c]; f && f !== b; f = f.parentNode) if (11 > f.nodeType && (j ? -1 < j.index(f) : 1 === f.nodeType && n.find.matchesSelector(f, a))) {
                h.push(f);
                break
            }
            return this.pushStack(1 < h.length ? n.unique(h) : h)
        },
        index: function(a) {
            return ! a ? this[0] && this[0].parentNode ? this.first().prevAll().length: -1 : "string" === typeof a ? n.inArray(this[0], n(a)) : n.inArray(a.jquery ? a[0] : a, this)
        },
        add: function(a, b) {
            var f = "string" === typeof a ? n(a, b) : n.makeArray(a && a.nodeType ? [a] : a),
            f = n.merge(this.get(), f);
            return this.pushStack(n.unique(f))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject: this.prevObject.filter(a))
        }
    });
    n.each({
        parent: function(a) {
            return (a = a.parentNode) && 11 !== a.nodeType ? a: null
        },
        parents: function(a) {
            return n.dir(a, "parentNode")
        },
        parentsUntil: function(a, b, f) {
            return n.dir(a, "parentNode", f)
        },
        next: function(a) {
            return r(a, "nextSibling")
        },
        prev: function(a) {
            return r(a, "previousSibling")
        },
        nextAll: function(a) {
            return n.dir(a, "nextSibling")
        },
        prevAll: function(a) {
            return n.dir(a, "previousSibling")
        },
        nextUntil: function(a, b, f) {
            return n.dir(a, "nextSibling", f)
        },
        prevUntil: function(a, b, f) {
            return n.dir(a, "previousSibling", f)
        },
        siblings: function(a) {
            return n.sibling((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return n.sibling(a.firstChild)
        },
        contents: function(a) {
            return n.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document: n.merge([], a.childNodes)
        }
    },
    function(a, b) {
        n.fn[a] = function(f, c) {
            var g = n.map(this, b, f);
            "Until" !== a.slice( - 5) && (c = f);
            c && "string" === typeof c && (g = n.filter(c, g));
            1 < this.length && (td[a] || (g = n.unique(g)), sd.test(a) && (g = g.reverse()));
            return this.pushStack(g)
        }
    });
    n.extend({
        filter: function(a, b, f) {
            var c = b[0];
            f && (a = ":not(" + a + ")");
            return 1 === b.length && 1 === c.nodeType ? n.find.matchesSelector(c, a) ? [c] : [] : n.find.matches(a, n.grep(b,
            function(a) {
                return 1 === a.nodeType
            }))
        },
        dir: function(a, f, c) {
            for (var g = [], a = a[f]; a && 9 !== a.nodeType && (c === b || 1 !== a.nodeType || !n(a).is(c));) 1 === a.nodeType && g.push(a),
            a = a[f];
            return g
        },
        sibling: function(a, b) {
            for (var f = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && f.push(a);
            return f
        }
    });
    var Qc = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
    ud = / jQuery\d+="(?:null|\d+)"/g,
    Wc = RegExp("<(?:" + Qc + ")[\\s/>]", "i"),
    Jc = /^\s+/,
    Xc = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
    Yc = /<([\w:]+)/,
    Zc = /<tbody/i,
    vd = /<|&#?\w+;/,
    wd = /<(?:script|style|link)/i,
    Gc = /^(?:checkbox|radio)$/i,
    xd = /checked\s*(?:[^=]|=\s*.checked.)/i,
    $c = /^$|\/(?:java|ecma)script/i,
    md = /^true\/(.*)/,
    yd = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
    qb = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        area: [1, "<map>", "</map>"],
        param: [1, "<object>", "</object>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: n.support.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
    },
    Kc = l(V).appendChild(V.createElement("div"));
    qb.optgroup = qb.option;
    qb.tbody = qb.tfoot = qb.colgroup = qb.caption = qb.thead;
    qb.th = qb.td;
    n.fn.extend({
        text: function(a) {
            return n.access(this,
            function(a) {
                return a === b ? n.text(this) : this.empty().append((this[0] && this[0].ownerDocument || V).createTextNode(a))
            },
            null, a, arguments.length)
        },
        append: function() {
            return this.domManip(arguments,
            function(a) { (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && z(this, a).appendChild(a)
            })
        },
        prepend: function() {
            return this.domManip(arguments,
            function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = z(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments,
            function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return this.domManip(arguments,
            function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        remove: function(a, b) {
            for (var f, c = a ? n.filter(a, this) : this, g = 0; null != (f = c[g]); g++) ! b && 1 === f.nodeType && n.cleanData(C(f)),
            f.parentNode && (b && n.contains(f.ownerDocument, f) && J(C(f, "script")), f.parentNode.removeChild(f));
            return this
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++) {
                for (1 === a.nodeType && n.cleanData(C(a, !1)); a.firstChild;) a.removeChild(a.firstChild);
                a.options && n.nodeName(a, "select") && (a.options.length = 0)
            }
            return this
        },
        clone: function(a, b) {
            a = null == a ? !1 : a;
            b = null == b ? a: b;
            return this.map(function() {
                return n.clone(this, a, b)
            })
        },
        html: function(a) {
            return n.access(this,
            function(a) {
                var f = this[0] || {},
                c = 0,
                g = this.length;
                if (a === b) return 1 === f.nodeType ? f.innerHTML.replace(ud, "") : b;
                if ("string" === typeof a && !wd.test(a) && (n.support.htmlSerialize || !Wc.test(a)) && (n.support.leadingWhitespace || !Jc.test(a)) && !qb[(Yc.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = a.replace(Xc, "<$1></$2>");
                    try {
                        for (; c < g; c++) f = this[c] || {},
                        1 === f.nodeType && (n.cleanData(C(f, !1)), f.innerHTML = a);
                        f = 0
                    } catch(h) {}
                }
                f && this.empty().append(a)
            },
            null, a, arguments.length)
        },
        replaceWith: function() {
            var a = n.map(this,
            function(a) {
                return [a.nextSibling, a.parentNode]
            }),
            b = 0;
            this.domManip(arguments,
            function(f) {
                var c = a[b++],
                g = a[b++];
                g && (c && c.parentNode !== g && (c = this.nextSibling), n(this).remove(), g.insertBefore(f, c))
            },
            !0);
            return b ? this: this.remove()
        },
        detach: function(a) {
            return this.remove(a, !0)
        },
        domManip: function(a, b, f) {
            var a = sb.apply([], a),
            c,
            g,
            h,
            j,
            k = 0,
            l = this.length,
            v = this,
            p = l - 1,
            B = a[0],
            m = n.isFunction(B);
            if (m || !(1 >= l || "string" !== typeof B || n.support.checkClone || !xd.test(B))) return this.each(function(c) {
                var g = v.eq(c);
                m && (a[0] = B.call(this, c, g.html()));
                g.domManip(a, b, f)
            });
            if (l && (j = n.buildFragment(a, this[0].ownerDocument, !1, !f && this), c = j.firstChild, 1 === j.childNodes.length && (j = c), c)) {
                h = n.map(C(j, "script"), F);
                for (g = h.length; k < l; k++) c = j,
                k !== p && (c = n.clone(c, !0, !0), g && n.merge(h, C(c, "script"))),
                b.call(this[k], c, k);
                if (g) {
                    j = h[h.length - 1].ownerDocument;
                    n.map(h, w);
                    for (k = 0; k < g; k++) if (c = h[k], $c.test(c.type || "") && !n._data(c, "globalEval") && n.contains(j, c)) c.src ? n._evalUrl(c.src) : n.globalEval((c.text || c.textContent || c.innerHTML || "").replace(yd, ""))
                }
                j = c = null
            }
            return this
        }
    });
    n.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    },
    function(a, b) {
        n.fn[a] = function(a) {
            for (var f = 0,
            c = [], g = n(a), h = g.length - 1; f <= h; f++) a = f === h ? this: this.clone(!0),
            n(g[f])[b](a),
            Ma.apply(c, a.get());
            return this.pushStack(c)
        }
    });
    n.extend({
        clone: function(a, b, f) {
            var c, g, h, j, k, l = n.contains(a.ownerDocument, a);
            n.support.html5Clone || n.isXMLDoc(a) || !Wc.test("<" + a.nodeName + ">") ? h = a.cloneNode(!0) : (Kc.innerHTML = a.outerHTML, Kc.removeChild(h = Kc.firstChild));
            if ((!n.support.noCloneEvent || !n.support.noCloneChecked) && (1 === a.nodeType || 11 === a.nodeType) && !n.isXMLDoc(a)) {
                c = C(h);
                k = C(a);
                for (j = 0; null != (g = k[j]); ++j) if (c[j]) {
                    var v = c[j],
                    p = void 0,
                    B = void 0,
                    m = void 0;
                    if (1 === v.nodeType) {
                        p = v.nodeName.toLowerCase();
                        if (!n.support.noCloneEvent && v[n.expando]) {
                            m = n._data(v);
                            for (B in m.events) n.removeEvent(v, B, m.handle);
                            v.removeAttribute(n.expando)
                        }
                        if ("script" === p && v.text !== g.text) F(v).text = g.text,
                        w(v);
                        else if ("object" === p) v.parentNode && (v.outerHTML = g.outerHTML),
                        n.support.html5Clone && (g.innerHTML && !n.trim(v.innerHTML)) && (v.innerHTML = g.innerHTML);
                        else if ("input" === p && Gc.test(g.type)) v.defaultChecked = v.checked = g.checked,
                        v.value !== g.value && (v.value = g.value);
                        else if ("option" === p) v.defaultSelected = v.selected = g.defaultSelected;
                        else if ("input" === p || "textarea" === p) v.defaultValue = g.defaultValue
                    }
                }
            }
            if (b) if (f) {
                k = k || C(a);
                c = c || C(h);
                for (j = 0; null != (g = k[j]); j++) u(g, c[j])
            } else u(a, h);
            c = C(h, "script");
            0 < c.length && J(c, !l && C(a, "script"));
            return h
        },
        buildFragment: function(a, b, f, c) {
            for (var g, h, j, k, v, p, B = a.length,
            m = l(b), G = [], u = 0; u < B; u++) if ((h = a[u]) || 0 === h) if ("object" === n.type(h)) n.merge(G, h.nodeType ? [h] : h);
            else if (vd.test(h)) {
                j = j || m.appendChild(b.createElement("div"));
                k = (Yc.exec(h) || ["", ""])[1].toLowerCase();
                p = qb[k] || qb._default;
                j.innerHTML = p[1] + h.replace(Xc, "<$1></$2>") + p[2];
                for (g = p[0]; g--;) j = j.lastChild; ! n.support.leadingWhitespace && Jc.test(h) && G.push(b.createTextNode(Jc.exec(h)[0]));
                if (!n.support.tbody) for (g = (h = "table" === k && !Zc.test(h) ? j.firstChild: "<table>" === p[1] && !Zc.test(h) ? j: 0) && h.childNodes.length; g--;) n.nodeName(v = h.childNodes[g], "tbody") && !v.childNodes.length && h.removeChild(v);
                n.merge(G, j.childNodes);
                for (j.textContent = ""; j.firstChild;) j.removeChild(j.firstChild);
                j = m.lastChild
            } else G.push(b.createTextNode(h));
            j && m.removeChild(j);
            n.support.appendChecked || n.grep(C(G, "input"), D);
            for (u = 0; h = G[u++];) if (! (c && -1 !== n.inArray(h, c)) && (a = n.contains(h.ownerDocument, h), j = C(m.appendChild(h), "script"), a && J(j), f)) for (g = 0; h = j[g++];) $c.test(h.type || "") && f.push(h);
            return m
        },
        cleanData: function(a, b) {
            for (var f, c, g, h, j = 0,
            k = n.expando,
            l = n.cache,
            v = n.support.deleteExpando,
            p = n.event.special; null != (f = a[j]); j++) if (b || n.acceptData(f)) if (h = (g = f[k]) && l[g]) {
                if (h.events) for (c in h.events) p[c] ? n.event.remove(f, c) : n.removeEvent(f, c, h.handle);
                l[g] && (delete l[g], v ? delete f[k] : typeof f.removeAttribute !== Ga ? f.removeAttribute(k) : f[k] = null, La.push(g))
            }
        },
        _evalUrl: function(a) {
            return n.ajax({
                url: a,
                type: "GET",
                dataType: "script",
                async: !1,
                global: !1,
                "throws": !0
            })
        }
    });
    n.fn.extend({
        wrapAll: function(a) {
            if (n.isFunction(a)) return this.each(function(b) {
                n(this).wrapAll(a.call(this, b))
            });
            if (this[0]) {
                var b = n(a, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && b.insertBefore(this[0]);
                b.map(function() {
                    for (var a = this; a.firstChild && 1 === a.firstChild.nodeType;) a = a.firstChild;
                    return a
                }).append(this)
            }
            return this
        },
        wrapInner: function(a) {
            return n.isFunction(a) ? this.each(function(b) {
                n(this).wrapInner(a.call(this, b))
            }) : this.each(function() {
                var b = n(this),
                f = b.contents();
                f.length ? f.wrapAll(a) : b.append(a)
            })
        },
        wrap: function(a) {
            var b = n.isFunction(a);
            return this.each(function(f) {
                n(this).wrapAll(b ? a.call(this, f) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                n.nodeName(this, "body") || n(this).replaceWith(this.childNodes)
            }).end()
        }
    });
    var nc, Xb, Yb, Lc = /alpha\([^)]*\)/i,
    zd = /opacity\s*=\s*([^)]*)/,
    Ad = /^(top|right|bottom|left)$/,
    Bd = /^(none|table(?!-c[ea]).+)/,
    ad = /^margin/,
    nd = RegExp("^(" + ha + ")(.*)$", "i"),
    wc = RegExp("^(" + ha + ")(?!px)[a-z%]+$", "i"),
    Cd = RegExp("^([+-])=(" + ha + ")", "i"),
    Sc = {
        BODY: "block"
    },
    Dd = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    },
    bd = {
        letterSpacing: 0,
        fontWeight: 400
    },
    Wb = ["Top", "Right", "Bottom", "Left"],
    Rc = ["Webkit", "O", "Moz", "ms"];
    n.fn.extend({
        css: function(a, f) {
            return n.access(this,
            function(a, f, c) {
                var g, h = {},
                j = 0;
                if (n.isArray(f)) {
                    g = Xb(a);
                    for (c = f.length; j < c; j++) h[f[j]] = n.css(a, f[j], !1, g);
                    return h
                }
                return c !== b ? n.style(a, f, c) : n.css(a, f)
            },
            a, f, 1 < arguments.length)
        },
        show: function() {
            return I(this, !0)
        },
        hide: function() {
            return I(this)
        },
        toggle: function(a) {
            return "boolean" === typeof a ? a ? this.show() : this.hide() : this.each(function() {
                y(this) ? n(this).show() : n(this).hide()
            })
        }
    });
    n.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var f = Yb(a, "opacity");
                        return "" === f ? "1": f
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": n.support.cssFloat ? "cssFloat": "styleFloat"
        },
        style: function(a, f, c, g) {
            if (a && !(3 === a.nodeType || 8 === a.nodeType || !a.style)) {
                var h, j, k, l = n.camelCase(f),
                v = a.style,
                f = n.cssProps[l] || (n.cssProps[l] = E(v, l));
                k = n.cssHooks[f] || n.cssHooks[l];
                if (c !== b) {
                    j = typeof c;
                    if ("string" === j && (h = Cd.exec(c))) c = (h[1] + 1) * h[2] + parseFloat(n.css(a, f)),
                    j = "number";
                    if (! (null == c || "number" === j && isNaN(c))) if ("number" === j && !n.cssNumber[l] && (c += "px"), !n.support.clearCloneStyle && ("" === c && 0 === f.indexOf("background")) && (v[f] = "inherit"), !k || !("set" in k) || (c = k.set(a, c, g)) !== b) try {
                        v[f] = c
                    } catch(p) {}
                } else return k && "get" in k && (h = k.get(a, !1, g)) !== b ? h: v[f]
            }
        },
        css: function(a, f, c, g) {
            var h, j;
            j = n.camelCase(f);
            f = n.cssProps[j] || (n.cssProps[j] = E(a.style, j)); (j = n.cssHooks[f] || n.cssHooks[j]) && "get" in j && (h = j.get(a, !0, c));
            h === b && (h = Yb(a, f, g));
            "normal" === h && f in bd && (h = bd[f]);
            return "" === c || c ? (a = parseFloat(h), !0 === c || n.isNumeric(a) ? a || 0 : h) : h
        }
    });
    a.getComputedStyle ? (Xb = function(b) {
        return a.getComputedStyle(b, null)
    },
    Yb = function(a, f, c) {
        var g, h = (c = c || Xb(a)) ? c.getPropertyValue(f) || c[f] : b,
        j = a.style;
        c && ("" === h && !n.contains(a.ownerDocument, a) && (h = n.style(a, f)), wc.test(h) && ad.test(f) && (a = j.width, f = j.minWidth, g = j.maxWidth, j.minWidth = j.maxWidth = j.width = h, h = c.width, j.width = a, j.minWidth = f, j.maxWidth = g));
        return h
    }) : V.documentElement.currentStyle && (Xb = function(a) {
        return a.currentStyle
    },
    Yb = function(a, f, c) {
        var g, h, j = (c = c || Xb(a)) ? c[f] : b,
        k = a.style;
        null == j && (k && k[f]) && (j = k[f]);
        if (wc.test(j) && !Ad.test(f)) {
            c = k.left;
            if (h = (g = a.runtimeStyle) && g.left) g.left = a.currentStyle.left;
            k.left = "fontSize" === f ? "1em": j;
            j = k.pixelLeft + "px";
            k.left = c;
            h && (g.left = h)
        }
        return "" === j ? "auto": j
    });
    n.each(["height", "width"],
    function(a, b) {
        n.cssHooks[b] = {
            get: function(a, f, c) {
                if (f) return 0 === a.offsetWidth && Bd.test(n.css(a, "display")) ? n.swap(a, Dd,
                function() {
                    return N(a, b, c)
                }) : N(a, b, c)
            },
            set: function(a, f, c) {
                var g = c && Xb(a);
                return K(a, f, c ? x(a, b, c, n.support.boxSizing && "border-box" === n.css(a, "boxSizing", !1, g), g) : 0)
            }
        }
    });
    n.support.opacity || (n.cssHooks.opacity = {
        get: function(a, b) {
            return zd.test((b && a.currentStyle ? a.currentStyle.filter: a.style.filter) || "") ? 0.01 * parseFloat(RegExp.$1) + "": b ? "1": ""
        },
        set: function(a, b) {
            var f = a.style,
            c = a.currentStyle,
            g = n.isNumeric(b) ? "alpha(opacity=" + 100 * b + ")": "",
            h = c && c.filter || f.filter || "";
            f.zoom = 1;
            if ((1 <= b || "" === b) && "" === n.trim(h.replace(Lc, "")) && f.removeAttribute) if (f.removeAttribute("filter"), "" === b || c && !c.filter) return;
            f.filter = Lc.test(h) ? h.replace(Lc, g) : h + " " + g
        }
    });
    n(function() {
        n.support.reliableMarginRight || (n.cssHooks.marginRight = {
            get: function(a, b) {
                if (b) return n.swap(a, {
                    display: "inline-block"
                },
                Yb, [a, "marginRight"])
            }
        }); ! n.support.pixelPosition && n.fn.position && n.each(["top", "left"],
        function(a, b) {
            n.cssHooks[b] = {
                get: function(a, f) {
                    if (f) return f = Yb(a, b),
                    wc.test(f) ? n(a).position()[b] + "px": f
                }
            }
        })
    });
    n.expr && n.expr.filters && (n.expr.filters.hidden = function(a) {
        return 0 >= a.offsetWidth && 0 >= a.offsetHeight || !n.support.reliableHiddenOffsets && "none" === (a.style && a.style.display || n.css(a, "display"))
    },
    n.expr.filters.visible = function(a) {
        return ! n.expr.filters.hidden(a)
    });
    n.each({
        margin: "",
        padding: "",
        border: "Width"
    },
    function(a, b) {
        n.cssHooks[a + b] = {
            expand: function(f) {
                for (var c = 0,
                g = {},
                f = "string" === typeof f ? f.split(" ") : [f]; 4 > c; c++) g[a + Wb[c] + b] = f[c] || f[c - 2] || f[0];
                return g
            }
        };
        ad.test(a) || (n.cssHooks[a + b].set = K)
    });
    var Ed = /%20/g,
    od = /\[\]$/,
    cd = /\r?\n/g,
    Fd = /^(?:submit|button|image|reset|file)$/i,
    Gd = /^(?:input|select|textarea|keygen)/i;
    n.fn.extend({
        serialize: function() {
            return n.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = n.prop(this, "elements");
                return a ? n.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !n(this).is(":disabled") && Gd.test(this.nodeName) && !Fd.test(a) && (this.checked || !Gc.test(a))
            }).map(function(a, b) {
                var f = n(this).val();
                return null == f ? null: n.isArray(f) ? n.map(f,
                function(a) {
                    return {
                        name: b.name,
                        value: a.replace(cd, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: f.replace(cd, "\r\n")
                }
            }).get()
        }
    });
    n.param = function(a, f) {
        var c, g = [],
        h = function(a, b) {
            b = n.isFunction(b) ? b() : null == b ? "": b;
            g[g.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
        };
        f === b && (f = n.ajaxSettings && n.ajaxSettings.traditional);
        if (n.isArray(a) || a.jquery && !n.isPlainObject(a)) n.each(a,
        function() {
            h(this.name, this.value)
        });
        else for (c in a) B(c, a[c], f, h);
        return g.join("&").replace(Ed, "+")
    };
    n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
    function(a, b) {
        n.fn[b] = function(a, f) {
            return 0 < arguments.length ? this.on(b, null, a, f) : this.trigger(b)
        }
    });
    n.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        },
        bind: function(a, b, f) {
            return this.on(a, null, b, f)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        delegate: function(a, b, f, c) {
            return this.on(b, a, f, c)
        },
        undelegate: function(a, b, f) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", f)
        }
    });
    var dc, Vb, Mc = n.now(),
    Nc = /\?/,
    Hd = /#.*$/,
    dd = /([?&])_=[^&]*/,
    Id = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
    Jd = /^(?:GET|HEAD)$/,
    Kd = /^\/\//,
    ed = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
    fd = n.fn.load,
    gd = {},
    Hc = {},
    hd = "*/".concat("*");
    try {
        Vb = Lb.href
    } catch(Od) {
        Vb = V.createElement("a"),
        Vb.href = "",
        Vb = Vb.href
    }
    dc = ed.exec(Vb.toLowerCase()) || [];
    n.fn.load = function(a, f, c) {
        if ("string" !== typeof a && fd) return fd.apply(this, arguments);
        var g, h, j, k = this,
        l = a.indexOf(" ");
        0 <= l && (g = a.slice(l, a.length), a = a.slice(0, l));
        n.isFunction(f) ? (c = f, f = b) : f && "object" === typeof f && (j = "POST");
        0 < k.length && n.ajax({
            url: a,
            type: j,
            dataType: "html",
            data: f
        }).done(function(a) {
            h = arguments;
            k.html(g ? n("<div>").append(n.parseHTML(a)).find(g) : a)
        }).complete(c &&
        function(a, b) {
            k.each(c, h || [a.responseText, b, a])
        });
        return this
    };
    n.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
    function(a, b) {
        n.fn[b] = function(a) {
            return this.on(b, a)
        }
    });
    n.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Vb,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dc[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": hd,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": n.parseJSON,
                "text xml": n.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? G(G(a, n.ajaxSettings), b) : G(n.ajaxSettings, a)
        },
        ajaxPrefilter: v(gd),
        ajaxTransport: v(Hc),
        ajax: function(a, f) {
            function c(a, f, g, h) {
                var B, L, ka, z;
                z = f;
                if (2 !== r) {
                    r = 2;
                    l && clearTimeout(l);
                    p = b;
                    k = h || "";
                    M.readyState = 0 < a ? 4 : 0;
                    h = 200 <= a && 300 > a || 304 === a;
                    if (g) {
                        ka = m;
                        for (var F = M,
                        Q, W, A, C, y = ka.contents,
                        la = ka.dataTypes;
                        "*" === la[0];) la.shift(),
                        W === b && (W = ka.mimeType || F.getResponseHeader("Content-Type"));
                        if (W) for (C in y) if (y[C] && y[C].test(W)) {
                            la.unshift(C);
                            break
                        }
                        if (la[0] in g) A = la[0];
                        else {
                            for (C in g) {
                                if (!la[0] || ka.converters[C + " " + la[0]]) {
                                    A = C;
                                    break
                                }
                                Q || (Q = C)
                            }
                            A = A || Q
                        }
                        A ? (A !== la[0] && la.unshift(A), ka = g[A]) : ka = void 0
                    }
                    a: {
                        g = m;
                        Q = ka;
                        W = M;
                        A = h;
                        var ia, J, x, F = {},
                        y = g.dataTypes.slice();
                        if (y[1]) for (J in g.converters) F[J.toLowerCase()] = g.converters[J];
                        for (C = y.shift(); C;) if (g.responseFields[C] && (W[g.responseFields[C]] = Q), !x && (A && g.dataFilter) && (Q = g.dataFilter(Q, g.dataType)), x = C, C = y.shift()) if ("*" === C) C = x;
                        else if ("*" !== x && x !== C) {
                            J = F[x + " " + C] || F["* " + C];
                            if (!J) for (ia in F) if (ka = ia.split(" "), ka[1] === C && (J = F[x + " " + ka[0]] || F["* " + ka[0]])) { ! 0 === J ? J = F[ia] : !0 !== F[ia] && (C = ka[0], y.unshift(ka[1]));
                                break
                            }
                            if (!0 !== J) if (J && g["throws"]) Q = J(Q);
                            else try {
                                Q = J(Q)
                            } catch(O) {
                                ka = {
                                    state: "parsererror",
                                    error: J ? O: "No conversion from " + x + " to " + C
                                };
                                break a
                            }
                        }
                        ka = {
                            state: "success",
                            data: Q
                        }
                    }
                    if (h) m.ifModified && ((z = M.getResponseHeader("Last-Modified")) && (n.lastModified[j] = z), (z = M.getResponseHeader("etag")) && (n.etag[j] = z)),
                    204 === a || "HEAD" === m.type ? z = "nocontent": 304 === a ? z = "notmodified": (z = ka.state, B = ka.data, L = ka.error, h = !L);
                    else if (L = z, a || !z) z = "error",
                    0 > a && (a = 0);
                    M.status = a;
                    M.statusText = (f || z) + "";
                    h ? q.resolveWith(G, [B, z, M]) : q.rejectWith(G, [M, z, L]);
                    M.statusCode(S);
                    S = b;
                    v && u.trigger(h ? "ajaxSuccess": "ajaxError", [M, m, h ? B: L]);
                    w.fireWith(G, [M, z]);
                    v && (u.trigger("ajaxComplete", [M, m]), --n.active || n.event.trigger("ajaxStop"))
                }
            }
            "object" === typeof a && (f = a, a = b);
            var f = f || {},
            g, h, j, k, l, v, p, B, m = n.ajaxSetup({},
            f),
            G = m.context || m,
            u = m.context && (G.nodeType || G.jquery) ? n(G) : n.event,
            q = n.Deferred(),
            w = n.Callbacks("once memory"),
            S = m.statusCode || {},
            ka = {},
            z = {},
            r = 0,
            F = "canceled",
            M = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (2 === r) {
                        if (!B) for (B = {}; b = Id.exec(k);) B[b[1].toLowerCase()] = b[2];
                        b = B[a.toLowerCase()]
                    }
                    return null == b ? null: b
                },
                getAllResponseHeaders: function() {
                    return 2 === r ? k: null
                },
                setRequestHeader: function(a, b) {
                    var f = a.toLowerCase();
                    r || (a = z[f] = z[f] || a, ka[a] = b);
                    return this
                },
                overrideMimeType: function(a) {
                    r || (m.mimeType = a);
                    return this
                },
                statusCode: function(a) {
                    var b;
                    if (a) if (2 > r) for (b in a) S[b] = [S[b], a[b]];
                    else M.always(a[M.status]);
                    return this
                },
                abort: function(a) {
                    a = a || F;
                    p && p.abort(a);
                    c(0, a);
                    return this
                }
            };
            q.promise(M).complete = w.add;
            M.success = M.done;
            M.error = M.fail;
            m.url = ((a || m.url || Vb) + "").replace(Hd, "").replace(Kd, dc[1] + "//");
            m.type = f.method || f.type || m.method || m.type;
            m.dataTypes = n.trim(m.dataType || "*").toLowerCase().match(ea) || [""];
            null == m.crossDomain && (g = ed.exec(m.url.toLowerCase()), m.crossDomain = !(!g || !(g[1] !== dc[1] || g[2] !== dc[2] || (g[3] || ("http:" === g[1] ? "80": "443")) !== (dc[3] || ("http:" === dc[1] ? "80": "443")))));
            m.data && (m.processData && "string" !== typeof m.data) && (m.data = n.param(m.data, m.traditional));
            L(gd, m, f, M);
            if (2 === r) return M; (v = m.global) && 0 === n.active++&&n.event.trigger("ajaxStart");
            m.type = m.type.toUpperCase();
            m.hasContent = !Jd.test(m.type);
            j = m.url;
            m.hasContent || (m.data && (j = m.url += (Nc.test(j) ? "&": "?") + m.data, delete m.data), !1 === m.cache && (m.url = dd.test(j) ? j.replace(dd, "$1_=" + Mc++) : j + (Nc.test(j) ? "&": "?") + "_=" + Mc++));
            m.ifModified && (n.lastModified[j] && M.setRequestHeader("If-Modified-Since", n.lastModified[j]), n.etag[j] && M.setRequestHeader("If-None-Match", n.etag[j])); (m.data && m.hasContent && !1 !== m.contentType || f.contentType) && M.setRequestHeader("Content-Type", m.contentType);
            M.setRequestHeader("Accept", m.dataTypes[0] && m.accepts[m.dataTypes[0]] ? m.accepts[m.dataTypes[0]] + ("*" !== m.dataTypes[0] ? ", " + hd + "; q=0.01": "") : m.accepts["*"]);
            for (h in m.headers) M.setRequestHeader(h, m.headers[h]);
            if (m.beforeSend && (!1 === m.beforeSend.call(G, M, m) || 2 === r)) return M.abort();
            F = "abort";
            for (h in {
                success: 1,
                error: 1,
                complete: 1
            }) M[h](m[h]);
            if (p = L(Hc, m, f, M)) {
                M.readyState = 1;
                v && u.trigger("ajaxSend", [M, m]);
                m.async && 0 < m.timeout && (l = setTimeout(function() {
                    M.abort("timeout")
                },
                m.timeout));
                try {
                    r = 1,
                    p.send(ka, c)
                } catch(Q) {
                    if (2 > r) c( - 1, Q);
                    else throw Q;
                }
            } else c( - 1, "No Transport");
            return M
        },
        getJSON: function(a, b, f) {
            return n.get(a, b, f, "json")
        },
        getScript: function(a, f) {
            return n.get(a, b, f, "script")
        }
    });
    n.each(["get", "post"],
    function(a, f) {
        n[f] = function(a, c, g, h) {
            n.isFunction(c) && (h = h || g, g = c, c = b);
            return n.ajax({
                url: a,
                type: f,
                dataType: h,
                data: c,
                success: g
            })
        }
    });
    n.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(a) {
                n.globalEval(a);
                return a
            }
        }
    });
    n.ajaxPrefilter("script",
    function(a) {
        a.cache === b && (a.cache = !1);
        a.crossDomain && (a.type = "GET", a.global = !1)
    });
    n.ajaxTransport("script",
    function(a) {
        if (a.crossDomain) {
            var f, c = V.head || n("head")[0] || V.documentElement;
            return {
                send: function(b, g) {
                    f = V.createElement("script");
                    f.async = !0;
                    a.scriptCharset && (f.charset = a.scriptCharset);
                    f.src = a.url;
                    f.onload = f.onreadystatechange = function(a, b) {
                        if (b || !f.readyState || /loaded|complete/.test(f.readyState)) f.onload = f.onreadystatechange = null,
                        f.parentNode && f.parentNode.removeChild(f),
                        f = null,
                        b || g(200, "success")
                    };
                    c.insertBefore(f, c.firstChild)
                },
                abort: function() {
                    if (f) f.onload(b, !0)
                }
            }
        }
    });
    var id = [],
    Oc = /(=)\?(?=&|$)|\?\?/;
    n.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = id.pop() || n.expando + "_" + Mc++;
            this[a] = !0;
            return a
        }
    });
    n.ajaxPrefilter("json jsonp",
    function(f, c, g) {
        var h, j, k, l = !1 !== f.jsonp && (Oc.test(f.url) ? "url": "string" === typeof f.data && !(f.contentType || "").indexOf("application/x-www-form-urlencoded") && Oc.test(f.data) && "data");
        if (l || "jsonp" === f.dataTypes[0]) return h = f.jsonpCallback = n.isFunction(f.jsonpCallback) ? f.jsonpCallback() : f.jsonpCallback,
        l ? f[l] = f[l].replace(Oc, "$1" + h) : !1 !== f.jsonp && (f.url += (Nc.test(f.url) ? "&": "?") + f.jsonp + "=" + h),
        f.converters["script json"] = function() {
            k || n.error(h + " was not called");
            return k[0]
        },
        f.dataTypes[0] = "json",
        j = a[h],
        a[h] = function() {
            k = arguments
        },
        g.always(function() {
            a[h] = j;
            f[h] && (f.jsonpCallback = c.jsonpCallback, id.push(h));
            k && n.isFunction(j) && j(k[0]);
            k = j = b
        }),
        "script"
    });
    var lc, vc, Ld = 0,
    Pc = a.ActiveXObject &&
    function() {
        for (var a in lc) lc[a](b, !0)
    };
    n.ajaxSettings.xhr = a.ActiveXObject ?
    function() {
        var b;
        if (! (b = !this.isLocal && S())) a: {
            try {
                b = new a.ActiveXObject("Microsoft.XMLHTTP");
                break a
            } catch(f) {}
            b = void 0
        }
        return b
    }: S;
    vc = n.ajaxSettings.xhr();
    n.support.cors = !!vc && "withCredentials" in vc; (vc = n.support.ajax = !!vc) && n.ajaxTransport(function(f) {
        if (!f.crossDomain || n.support.cors) {
            var c;
            return {
                send: function(g, h) {
                    var j, k, l = f.xhr();
                    f.username ? l.open(f.type, f.url, f.async, f.username, f.password) : l.open(f.type, f.url, f.async);
                    if (f.xhrFields) for (k in f.xhrFields) l[k] = f.xhrFields[k];
                    f.mimeType && l.overrideMimeType && l.overrideMimeType(f.mimeType); ! f.crossDomain && !g["X-Requested-With"] && (g["X-Requested-With"] = "XMLHttpRequest");
                    try {
                        for (k in g) l.setRequestHeader(k, g[k])
                    } catch(v) {}
                    l.send(f.hasContent && f.data || null);
                    c = function(a, g) {
                        var k, v, p, m;
                        try {
                            if (c && (g || 4 === l.readyState)) if (c = b, j && (l.onreadystatechange = n.noop, Pc && delete lc[j]), g) 4 !== l.readyState && l.abort();
                            else {
                                m = {};
                                k = l.status;
                                v = l.getAllResponseHeaders();
                                "string" === typeof l.responseText && (m.text = l.responseText);
                                try {
                                    p = l.statusText
                                } catch(B) {
                                    p = ""
                                } ! k && f.isLocal && !f.crossDomain ? k = m.text ? 200 : 404 : 1223 === k && (k = 204)
                            }
                        } catch(G) {
                            g || h( - 1, G)
                        }
                        m && h(k, p, m, v)
                    };
                    f.async ? 4 === l.readyState ? setTimeout(c) : (j = ++Ld, Pc && (lc || (lc = {},
                    n(a).unload(Pc)), lc[j] = c), l.onreadystatechange = c) : c()
                },
                abort: function() {
                    c && c(b, !0)
                }
            }
        }
    });
    var gc, Fc, Md = /^(?:toggle|show|hide)$/,
    jd = RegExp("^(?:([+-])=|)(" + ha + ")([a-z%]*)$", "i"),
    Nd = /queueHooks$/,
    xc = [function(a, b, f) {
        var c, g, h, j, k, l = this,
        v = {},
        p = a.style,
        m = a.nodeType && y(a),
        B = n._data(a, "fxshow");
        f.queue || (j = n._queueHooks(a, "fx"), null == j.unqueued && (j.unqueued = 0, k = j.empty.fire, j.empty.fire = function() {
            j.unqueued || k()
        }), j.unqueued++, l.always(function() {
            l.always(function() {
                j.unqueued--;
                n.queue(a, "fx").length || j.empty.fire()
            })
        }));
        if (1 === a.nodeType && ("height" in b || "width" in b)) f.overflow = [p.overflow, p.overflowX, p.overflowY],
        "inline" === n.css(a, "display") && "none" === n.css(a, "float") && (!n.support.inlineBlockNeedsLayout || "inline" === H(a.nodeName) ? p.display = "inline-block": p.zoom = 1);
        f.overflow && (p.overflow = "hidden", n.support.shrinkWrapBlocks || l.always(function() {
            p.overflow = f.overflow[0];
            p.overflowX = f.overflow[1];
            p.overflowY = f.overflow[2]
        }));
        for (c in b) if (g = b[c], Md.exec(g) && (delete b[c], h = h || "toggle" === g, g !== (m ? "hide": "show"))) v[c] = B && B[c] || n.style(a, c);
        if (!n.isEmptyObject(v)) for (c in B ? "hidden" in B && (m = B.hidden) : B = n._data(a, "fxshow", {}), h && (B.hidden = !m), m ? n(a).show() : l.done(function() {
            n(a).hide()
        }), l.done(function() {
            var b;
            n._removeData(a, "fxshow");
            for (b in v) n.style(a, b, v[b])
        }), v) b = O(m ? B[c] : 0, c, l),
        c in B || (B[c] = b.start, m && (b.end = b.start, b.start = "width" === c || "height" === c ? 1 : 0))
    }],
    oc = {
        "*": [function(a, b) {
            var f = this.createTween(a, b),
            c = f.cur(),
            g = jd.exec(b),
            h = g && g[3] || (n.cssNumber[a] ? "": "px"),
            j = (n.cssNumber[a] || "px" !== h && +c) && jd.exec(n.css(f.elem, a)),
            k = 1,
            l = 20;
            if (j && j[3] !== h) {
                h = h || j[3];
                g = g || [];
                j = +c || 1;
                do k = k || ".5",
                j /= k,
                n.style(f.elem, a, j + h);
                while (k !== (k = f.cur() / c) && 1 !== k && --l)
            }
            g && (j = f.start = +j || +c || 0, f.unit = h, f.end = g[1] ? j + (g[1] + 1) * g[2] : +g[2]);
            return f
        }]
    };
    n.Animation = n.extend(M, {
        tweener: function(a, b) {
            n.isFunction(a) ? (b = a, a = ["*"]) : a = a.split(" ");
            for (var f, c = 0,
            g = a.length; c < g; c++) f = a[c],
            oc[f] = oc[f] || [],
            oc[f].unshift(b)
        },
        prefilter: function(a, b) {
            b ? xc.unshift(a) : xc.push(a)
        }
    });
    n.Tween = W;
    W.prototype = {
        constructor: W,
        init: function(a, b, f, c, g, h) {
            this.elem = a;
            this.prop = f;
            this.easing = g || "swing";
            this.options = b;
            this.start = this.now = this.cur();
            this.end = c;
            this.unit = h || (n.cssNumber[f] ? "": "px")
        },
        cur: function() {
            var a = W.propHooks[this.prop];
            return a && a.get ? a.get(this) : W.propHooks._default.get(this)
        },
        run: function(a) {
            var b, f = W.propHooks[this.prop];
            this.pos = this.options.duration ? b = n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : b = a;
            this.now = (this.end - this.start) * b + this.start;
            this.options.step && this.options.step.call(this.elem, this.now, this);
            f && f.set ? f.set(this) : W.propHooks._default.set(this);
            return this
        }
    };
    W.prototype.init.prototype = W.prototype;
    W.propHooks = {
        _default: {
            get: function(a) {
                if (null != a.elem[a.prop] && (!a.elem.style || null == a.elem.style[a.prop])) return a.elem[a.prop];
                a = n.css(a.elem, a.prop, "");
                return ! a || "auto" === a ? 0 : a
            },
            set: function(a) {
                if (n.fx.step[a.prop]) n.fx.step[a.prop](a);
                else a.elem.style && (null != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop]) ? n.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
            }
        }
    };
    W.propHooks.scrollTop = W.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    };
    n.each(["toggle", "show", "hide"],
    function(a, b) {
        var f = n.fn[b];
        n.fn[b] = function(a, c, g) {
            return null == a || "boolean" === typeof a ? f.apply(this, arguments) : this.animate(la(b, !0), a, c, g)
        }
    });
    n.fn.extend({
        fadeTo: function(a, b, f, c) {
            return this.filter(y).css("opacity", 0).show().end().animate({
                opacity: b
            },
            a, f, c)
        },
        animate: function(a, b, f, c) {
            var g = n.isEmptyObject(a),
            h = n.speed(b, f, c),
            b = function() {
                var b = M(this, n.extend({},
                a), h); (g || n._data(this, "finish")) && b.stop(!0)
            };
            b.finish = b;
            return g || !1 === h.queue ? this.each(b) : this.queue(h.queue, b)
        },
        stop: function(a, f, c) {
            var g = function(a) {
                var b = a.stop;
                delete a.stop;
                b(c)
            };
            "string" !== typeof a && (c = f, f = a, a = b);
            f && !1 !== a && this.queue(a || "fx", []);
            return this.each(function() {
                var b = !0,
                f = null != a && a + "queueHooks",
                h = n.timers,
                j = n._data(this);
                if (f) j[f] && j[f].stop && g(j[f]);
                else for (f in j) j[f] && (j[f].stop && Nd.test(f)) && g(j[f]);
                for (f = h.length; f--;) if (h[f].elem === this && (null == a || h[f].queue === a)) h[f].anim.stop(c),
                b = !1,
                h.splice(f, 1); (b || !c) && n.dequeue(this, a)
            })
        },
        finish: function(a) { ! 1 !== a && (a = a || "fx");
            return this.each(function() {
                var b, f = n._data(this),
                c = f[a + "queue"];
                b = f[a + "queueHooks"];
                var g = n.timers,
                h = c ? c.length: 0;
                f.finish = !0;
                n.queue(this, a, []);
                b && b.stop && b.stop.call(this, !0);
                for (b = g.length; b--;) g[b].elem === this && g[b].queue === a && (g[b].anim.stop(!0), g.splice(b, 1));
                for (b = 0; b < h; b++) c[b] && c[b].finish && c[b].finish.call(this);
                delete f.finish
            })
        }
    });
    n.each({
        slideDown: la("show"),
        slideUp: la("hide"),
        slideToggle: la("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    },
    function(a, b) {
        n.fn[a] = function(a, f, c) {
            return this.animate(b, a, f, c)
        }
    });
    n.speed = function(a, b, f) {
        var c = a && "object" === typeof a ? n.extend({},
        a) : {
            complete: f || !f && b || n.isFunction(a) && a,
            duration: a,
            easing: f && b || b && !n.isFunction(b) && b
        };
        c.duration = n.fx.off ? 0 : "number" === typeof c.duration ? c.duration: c.duration in n.fx.speeds ? n.fx.speeds[c.duration] : n.fx.speeds._default;
        if (null == c.queue || !0 === c.queue) c.queue = "fx";
        c.old = c.complete;
        c.complete = function() {
            n.isFunction(c.old) && c.old.call(this);
            c.queue && n.dequeue(this, c.queue)
        };
        return c
    };
    n.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return 0.5 - Math.cos(a * Math.PI) / 2
        }
    };
    n.timers = [];
    n.fx = W.prototype.init;
    n.fx.tick = function() {
        var a, f = n.timers,
        c = 0;
        for (gc = n.now(); c < f.length; c++) a = f[c],
        !a() && f[c] === a && f.splice(c--, 1);
        f.length || n.fx.stop();
        gc = b
    };
    n.fx.timer = function(a) {
        a() && n.timers.push(a) && n.fx.start()
    };
    n.fx.interval = 13;
    n.fx.start = function() {
        Fc || (Fc = setInterval(n.fx.tick, n.fx.interval))
    };
    n.fx.stop = function() {
        clearInterval(Fc);
        Fc = null
    };
    n.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    };
    n.fx.step = {};
    n.expr && n.expr.filters && (n.expr.filters.animated = function(a) {
        return n.grep(n.timers,
        function(b) {
            return a === b.elem
        }).length
    });
    n.fn.offset = function(a) {
        if (arguments.length) return a === b ? this: this.each(function(b) {
            n.offset.setOffset(this, a, b)
        });
        var f, c, g = {
            top: 0,
            left: 0
        },
        h = (c = this[0]) && c.ownerDocument;
        if (h) {
            f = h.documentElement;
            if (!n.contains(f, c)) return g;
            typeof c.getBoundingClientRect !== Ga && (g = c.getBoundingClientRect());
            c = ia(h);
            return {
                top: g.top + (c.pageYOffset || f.scrollTop) - (f.clientTop || 0),
                left: g.left + (c.pageXOffset || f.scrollLeft) - (f.clientLeft || 0)
            }
        }
    };
    n.offset = {
        setOffset: function(a, b, f) {
            var c = n.css(a, "position");
            "static" === c && (a.style.position = "relative");
            var g = n(a),
            h = g.offset(),
            j = n.css(a, "top"),
            k = n.css(a, "left"),
            l = {},
            v = {}; ("absolute" === c || "fixed" === c) && -1 < n.inArray("auto", [j, k]) ? (v = g.position(), c = v.top, k = v.left) : (c = parseFloat(j) || 0, k = parseFloat(k) || 0);
            n.isFunction(b) && (b = b.call(a, f, h));
            null != b.top && (l.top = b.top - h.top + c);
            null != b.left && (l.left = b.left - h.left + k);
            "using" in b ? b.using.call(a, l) : g.css(l)
        }
    };
    n.fn.extend({
        position: function() {
            if (this[0]) {
                var a, b, f = {
                    top: 0,
                    left: 0
                },
                c = this[0];
                "fixed" === n.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), n.nodeName(a[0], "html") || (f = a.offset()), f.top += n.css(a[0], "borderTopWidth", !0), f.left += n.css(a[0], "borderLeftWidth", !0));
                return {
                    top: b.top - f.top - n.css(c, "marginTop", !0),
                    left: b.left - f.left - n.css(c, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var a = this.offsetParent || Db; a && !n.nodeName(a, "html") && "static" === n.css(a, "position");) a = a.offsetParent;
                return a || Db
            })
        }
    });
    n.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    },
    function(a, f) {
        var c = /Y/.test(f);
        n.fn[a] = function(g) {
            return n.access(this,
            function(a, g, h) {
                var j = ia(a);
                if (h === b) return j ? f in j ? j[f] : j.document.documentElement[g] : a[g];
                j ? j.scrollTo(!c ? h: n(j).scrollLeft(), c ? h: n(j).scrollTop()) : a[g] = h
            },
            a, g, arguments.length, null)
        }
    });
    n.each({
        Height: "height",
        Width: "width"
    },
    function(a, f) {
        n.each({
            padding: "inner" + a,
            content: f,
            "": "outer" + a
        },
        function(c, g) {
            n.fn[g] = function(g, h) {
                var j = arguments.length && (c || "boolean" !== typeof g),
                k = c || (!0 === g || !0 === h ? "margin": "border");
                return n.access(this,
                function(f, c, g) {
                    return n.isWindow(f) ? f.document.documentElement["client" + a] : 9 === f.nodeType ? (c = f.documentElement, Math.max(f.body["scroll" + a], c["scroll" + a], f.body["offset" + a], c["offset" + a], c["client" + a])) : g === b ? n.css(f, c, k) : n.style(f, c, g, k)
                },
                f, j ? g: b, j, null)
            }
        })
    });
    n.fn.size = function() {
        return this.length
    };
    n.fn.andSelf = n.fn.addBack;
    "object" === typeof module && module && "object" === typeof module.exports ? module.exports = n: (a.jQuery = a.$ = n, "function" === typeof define && define.amd && define("jquery", [],
    function() {
        return n
    }))
})(window);
if ("undefined" === typeof jQuery) throw Error("Bootstrap requires jQuery"); +
function(a) {
    a.fn.emulateTransitionEnd = function(b) {
        var c = !1,
        g = this;
        a(this).one(a.support.transition.end,
        function() {
            c = !0
        });
        setTimeout(function() {
            c || a(g).trigger(a.support.transition.end)
        },
        b);
        return this
    };
    a(function() {
        var b = a.support,
        c;
        a: {
            c = document.createElement("bootstrap");
            var g = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            },
            f;
            for (f in g) if (void 0 !== c.style[f]) {
                c = {
                    end: g[f]
                };
                break a
            }
            c = void 0
        }
        b.transition = c
    })
} (jQuery); +
function(a) {
    var b = function(b) {
        a(b).on("click", '[data-dismiss="alert"]', this.close)
    };
    b.prototype.close = function(b) {
        function f() {
            k.trigger("closed.bs.alert").remove()
        }
        var c = a(this),
        j = c.attr("data-target");
        j || (j = (j = c.attr("href")) && j.replace(/.*(?=#[^\s]*$)/, ""));
        var k = a(j);
        b && b.preventDefault();
        k.length || (k = c.hasClass("alert") ? c: c.parent());
        k.trigger(b = a.Event("close.bs.alert"));
        b.isDefaultPrevented() || (k.removeClass("in"), a.support.transition && k.hasClass("fade") ? k.one(a.support.transition.end, f).emulateTransitionEnd(150) : f())
    };
    var c = a.fn.alert;
    a.fn.alert = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.alert");
            h || f.data("bs.alert", h = new b(this));
            "string" == typeof c && h[c].call(f)
        })
    };
    a.fn.alert.Constructor = b;
    a.fn.alert.noConflict = function() {
        a.fn.alert = c;
        return this
    };
    a(document).on("click.bs.alert.data-api", '[data-dismiss="alert"]', b.prototype.close)
} (jQuery); +
function(a) {
    var b = function(c, f) {
        this.$element = a(c);
        this.options = a.extend({},
        b.DEFAULTS, f)
    };
    b.DEFAULTS = {
        loadingText: "loading..."
    };
    b.prototype.setState = function(a) {
        var b = this.$element,
        c = b.is("input") ? "val": "html",
        j = b.data(),
        a = a + "Text";
        j.resetText || b.data("resetText", b[c]());
        b[c](j[a] || this.options[a]);
        setTimeout(function() {
            "loadingText" == a ? b.addClass("disabled").attr("disabled", "disabled") : b.removeClass("disabled").removeAttr("disabled")
        },
        0)
    };
    b.prototype.toggle = function() {
        var a = this.$element.closest('[data-toggle="buttons"]'),
        b = !0;
        if (a.length) {
            var c = this.$element.find("input");
            "radio" === c.prop("type") && (c.prop("checked") && this.$element.hasClass("active") ? b = !1 : a.find(".active").removeClass("active"));
            b && c.prop("checked", !this.$element.hasClass("active")).trigger("change")
        }
        b && this.$element.toggleClass("active")
    };
    var c = a.fn.button;
    a.fn.button = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.button"),
            j = "object" == typeof c && c;
            h || f.data("bs.button", h = new b(this, j));
            "toggle" == c ? h.toggle() : c && h.setState(c)
        })
    };
    a.fn.button.Constructor = b;
    a.fn.button.noConflict = function() {
        a.fn.button = c;
        return this
    };
    a(document).on("click.bs.button.data-api", "[data-toggle^=button]",
    function(b) {
        var f = a(b.target);
        f.hasClass("btn") || (f = f.closest(".btn"));
        f.button("toggle");
        b.preventDefault()
    })
} (jQuery); +
function(a) {
    var b = function(b, f) {
        this.$element = a(b);
        this.$indicators = this.$element.find(".carousel-indicators");
        this.options = f;
        this.paused = this.sliding = this.interval = this.$active = this.$items = null;
        "hover" == this.options.pause && this.$element.on("mouseenter", a.proxy(this.pause, this)).on("mouseleave", a.proxy(this.cycle, this))
    };
    b.DEFAULTS = {
        interval: 5E3,
        pause: "hover",
        wrap: !0
    };
    b.prototype.cycle = function(b) {
        b || (this.paused = !1);
        this.interval && clearInterval(this.interval);
        this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval));
        return this
    };
    b.prototype.getActiveIndex = function() {
        this.$active = this.$element.find(".item.active");
        this.$items = this.$active.parent().children();
        return this.$items.index(this.$active)
    };
    b.prototype.to = function(b) {
        var f = this,
        c = this.getActiveIndex();
        if (! (b > this.$items.length - 1 || 0 > b)) return this.sliding ? this.$element.one("slid.bs.carousel",
        function() {
            f.to(b)
        }) : c == b ? this.pause().cycle() : this.slide(b > c ? "next": "prev", a(this.$items[b]))
    };
    b.prototype.pause = function(b) {
        b || (this.paused = !0);
        this.$element.find(".next, .prev").length && a.support.transition.end && (this.$element.trigger(a.support.transition.end), this.cycle(!0));
        this.interval = clearInterval(this.interval);
        return this
    };
    b.prototype.next = function() {
        if (!this.sliding) return this.slide("next")
    };
    b.prototype.prev = function() {
        if (!this.sliding) return this.slide("prev")
    };
    b.prototype.slide = function(b, f) {
        var c = this.$element.find(".item.active"),
        j = f || c[b](),
        k = this.interval,
        m = "next" == b ? "left": "right",
        q = "next" == b ? "first": "last",
        r = this;
        if (!j.length) {
            if (!this.options.wrap) return;
            j = this.$element.find(".item")[q]()
        }
        this.sliding = !0;
        k && this.pause();
        q = a.Event("slide.bs.carousel", {
            relatedTarget: j[0],
            direction: m
        });
        if (!j.hasClass("active")) {
            this.$indicators.length && (this.$indicators.find(".active").removeClass("active"), this.$element.one("slid.bs.carousel",
            function() {
                var b = a(r.$indicators.children()[r.getActiveIndex()]);
                b && b.addClass("active")
            }));
            if (a.support.transition && this.$element.hasClass("slide")) {
                this.$element.trigger(q);
                if (q.isDefaultPrevented()) return;
                j.addClass(b);
                j[0].offsetWidth;
                c.addClass(m);
                j.addClass(m);
                c.one(a.support.transition.end,
                function() {
                    j.removeClass([b, m].join(" ")).addClass("active");
                    c.removeClass(["active", m].join(" "));
                    r.sliding = !1;
                    setTimeout(function() {
                        r.$element.trigger("slid.bs.carousel")
                    },
                    0)
                }).emulateTransitionEnd(600)
            } else {
                this.$element.trigger(q);
                if (q.isDefaultPrevented()) return;
                c.removeClass("active");
                j.addClass("active");
                this.sliding = !1;
                this.$element.trigger("slid.bs.carousel")
            }
            k && this.cycle();
            return this
        }
    };
    var c = a.fn.carousel;
    a.fn.carousel = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.carousel"),
            j = a.extend({},
            b.DEFAULTS, f.data(), "object" == typeof c && c),
            k = "string" == typeof c ? c: j.slide;
            h || f.data("bs.carousel", h = new b(this, j));
            if ("number" == typeof c) h.to(c);
            else if (k) h[k]();
            else j.interval && h.pause().cycle()
        })
    };
    a.fn.carousel.Constructor = b;
    a.fn.carousel.noConflict = function() {
        a.fn.carousel = c;
        return this
    };
    a(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]",
    function(b) {
        var f = a(this),
        c,
        j = a(f.attr("data-target") || (c = f.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, ""));
        c = a.extend({},
        j.data(), f.data());
        var k = f.attr("data-slide-to");
        k && (c.interval = !1);
        j.carousel(c); (k = f.attr("data-slide-to")) && j.data("bs.carousel").to(k);
        b.preventDefault()
    });
    a(window).on("load",
    function() {
        a('[data-ride="carousel"]').each(function() {
            var b = a(this);
            b.carousel(b.data())
        })
    })
} (jQuery); +
function(a) {
    var b = function(c, f) {
        this.$element = a(c);
        this.options = a.extend({},
        b.DEFAULTS, f);
        this.transitioning = null;
        this.options.parent && (this.$parent = a(this.options.parent));
        this.options.toggle && this.toggle()
    };
    b.DEFAULTS = {
        toggle: !0
    };
    b.prototype.dimension = function() {
        return this.$element.hasClass("width") ? "width": "height"
    };
    b.prototype.show = function() {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var b = a.Event("show.bs.collapse");
            this.$element.trigger(b);
            if (!b.isDefaultPrevented()) {
                if ((b = this.$parent && this.$parent.find("> .panel > .in")) && b.length) {
                    var f = b.data("bs.collapse");
                    if (f && f.transitioning) return;
                    b.collapse("hide");
                    f || b.data("bs.collapse", null)
                }
                var c = this.dimension();
                this.$element.removeClass("collapse").addClass("collapsing")[c](0);
                this.transitioning = 1;
                b = function() {
                    this.$element.removeClass("collapsing").addClass("in")[c]("auto");
                    this.transitioning = 0;
                    this.$element.trigger("shown.bs.collapse")
                };
                if (!a.support.transition) return b.call(this);
                f = a.camelCase(["scroll", c].join("-"));
                this.$element.one(a.support.transition.end, a.proxy(b, this)).emulateTransitionEnd(350)[c](this.$element[0][f])
            }
        }
    };
    b.prototype.hide = function() {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var b = a.Event("hide.bs.collapse");
            this.$element.trigger(b);
            if (!b.isDefaultPrevented()) {
                b = this.dimension();
                this.$element[b](this.$element[b]())[0].offsetHeight;
                this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");
                this.transitioning = 1;
                var f = function() {
                    this.transitioning = 0;
                    this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")
                };
                if (!a.support.transition) return f.call(this);
                this.$element[b](0).one(a.support.transition.end, a.proxy(f, this)).emulateTransitionEnd(350)
            }
        }
    };
    b.prototype.toggle = function() {
        this[this.$element.hasClass("in") ? "hide": "show"]()
    };
    var c = a.fn.collapse;
    a.fn.collapse = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.collapse"),
            j = a.extend({},
            b.DEFAULTS, f.data(), "object" == typeof c && c);
            h || f.data("bs.collapse", h = new b(this, j));
            if ("string" == typeof c) h[c]()
        })
    };
    a.fn.collapse.Constructor = b;
    a.fn.collapse.noConflict = function() {
        a.fn.collapse = c;
        return this
    };
    a(document).on("click.bs.collapse.data-api", "[data-toggle=collapse]",
    function(b) {
        var f = a(this),
        c,
        b = f.attr("data-target") || b.preventDefault() || (c = f.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "");
        c = a(b);
        var j = (b = c.data("bs.collapse")) ? "toggle": f.data(),
        k = f.attr("data-parent"),
        m = k && a(k);
        if (!b || !b.transitioning) m && m.find('[data-toggle=collapse][data-parent="' + k + '"]').not(f).addClass("collapsed"),
        f[c.hasClass("in") ? "addClass": "removeClass"]("collapsed");
        c.collapse(j)
    })
} (jQuery); +
function(a) {
    function b() {
        a(g).remove();
        a(f).each(function(b) {
            var f = c(a(this));
            f.hasClass("open") && (f.trigger(b = a.Event("hide.bs.dropdown")), b.isDefaultPrevented() || f.removeClass("open").trigger("hidden.bs.dropdown"))
        })
    }
    function c(b) {
        var f = b.attr("data-target");
        f || (f = (f = b.attr("href")) && /#/.test(f) && f.replace(/.*(?=#[^\s]*$)/, ""));
        return (f = f && a(f)) && f.length ? f: b.parent()
    }
    var g = ".dropdown-backdrop",
    f = "[data-toggle=dropdown]",
    h = function(b) {
        a(b).on("click.bs.dropdown", this.toggle)
    };
    h.prototype.toggle = function(f) {
        var g = a(this);
        if (!g.is(".disabled, :disabled")) {
            var h = c(g),
            f = h.hasClass("open");
            b();
            if (!f) {
                if ("ontouchstart" in document.documentElement && !h.closest(".navbar-nav").length) a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click", b);
                h.trigger(f = a.Event("show.bs.dropdown"));
                if (f.isDefaultPrevented()) return;
                h.toggleClass("open").trigger("shown.bs.dropdown");
                g.focus()
            }
            return ! 1
        }
    };
    h.prototype.keydown = function(b) {
        if (/(38|40|27)/.test(b.keyCode)) {
            var g = a(this);
            b.preventDefault();
            b.stopPropagation();
            if (!g.is(".disabled, :disabled")) {
                var h = c(g),
                j = h.hasClass("open");
                if (!j || j && 27 == b.keyCode) return 27 == b.which && h.find(f).focus(),
                g.click();
                g = a("[role=menu] li:not(.divider):visible a", h);
                g.length && (h = g.index(g.filter(":focus")), 38 == b.keyCode && 0 < h && h--, 40 == b.keyCode && h < g.length - 1 && h++, ~h || (h = 0), g.eq(h).focus())
            }
        }
    };
    var j = a.fn.dropdown;
    a.fn.dropdown = function(b) {
        return this.each(function() {
            var f = a(this),
            c = f.data("bs.dropdown");
            c || f.data("bs.dropdown", c = new h(this));
            "string" == typeof b && c[b].call(f)
        })
    };
    a.fn.dropdown.Constructor = h;
    a.fn.dropdown.noConflict = function() {
        a.fn.dropdown = j;
        return this
    };
    a(document).on("click.bs.dropdown.data-api", b).on("click.bs.dropdown.data-api", ".dropdown form",
    function(a) {
        a.stopPropagation()
    }).on("click.bs.dropdown.data-api", f, h.prototype.toggle).on("keydown.bs.dropdown.data-api", f + ", [role=menu]", h.prototype.keydown)
} (jQuery); +
function(a) {
    var b = function(b, f) {
        this.options = f;
        this.$element = a(b);
        this.$backdrop = this.isShown = null;
        this.options.remote && this.$element.load(this.options.remote)
    };
    b.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    };
    b.prototype.toggle = function(a) {
        return this[!this.isShown ? "show": "hide"](a)
    };
    b.prototype.show = function(b) {
        var f = this,
        c = a.Event("show.bs.modal", {
            relatedTarget: b
        });
        this.$element.trigger(c); ! this.isShown && !c.isDefaultPrevented() && (this.isShown = !0, this.escape(), this.$element.on("click.dismiss.modal", '[data-dismiss="modal"]', a.proxy(this.hide, this)), this.backdrop(function() {
            var c = a.support.transition && f.$element.hasClass("fade");
            f.$element.parent().length || f.$element.appendTo(document.body);
            f.$element.show();
            c && f.$element[0].offsetWidth;
            f.$element.addClass("in").attr("aria-hidden", !1);
            f.enforceFocus();
            var h = a.Event("shown.bs.modal", {
                relatedTarget: b
            });
            c ? f.$element.find(".modal-dialog").one(a.support.transition.end,
            function() {
                f.$element.focus().trigger(h)
            }).emulateTransitionEnd(300) : f.$element.focus().trigger(h)
        }))
    };
    b.prototype.hide = function(b) {
        b && b.preventDefault();
        b = a.Event("hide.bs.modal");
        this.$element.trigger(b);
        this.isShown && !b.isDefaultPrevented() && (this.isShown = !1, this.escape(), a(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.modal"), a.support.transition && this.$element.hasClass("fade") ? this.$element.one(a.support.transition.end, a.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal())
    };
    b.prototype.enforceFocus = function() {
        a(document).off("focusin.bs.modal").on("focusin.bs.modal", a.proxy(function(a) {
            this.$element[0] !== a.target && !this.$element.has(a.target).length && this.$element.focus()
        },
        this))
    };
    b.prototype.escape = function() {
        if (this.isShown && this.options.keyboard) this.$element.on("keyup.dismiss.bs.modal", a.proxy(function(a) {
            27 == a.which && this.hide()
        },
        this));
        else this.isShown || this.$element.off("keyup.dismiss.bs.modal")
    };
    b.prototype.hideModal = function() {
        var a = this;
        this.$element.hide();
        this.backdrop(function() {
            a.removeBackdrop();
            a.$element.trigger("hidden.bs.modal")
        })
    };
    b.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove();
        this.$backdrop = null
    };
    b.prototype.backdrop = function(b) {
        var f = this.$element.hasClass("fade") ? "fade": "";
        if (this.isShown && this.options.backdrop) {
            var c = a.support.transition && f;
            this.$backdrop = a('<div class="modal-backdrop ' + f + '" />').appendTo(document.body);
            this.$element.on("click.dismiss.modal", a.proxy(function(a) {
                a.target === a.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this))
            },
            this));
            c && this.$backdrop[0].offsetWidth;
            this.$backdrop.addClass("in");
            b && (c ? this.$backdrop.one(a.support.transition.end, b).emulateTransitionEnd(150) : b())
        } else ! this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"), a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one(a.support.transition.end, b).emulateTransitionEnd(150) : b()) : b && b()
    };
    var c = a.fn.modal;
    a.fn.modal = function(c, f) {
        return this.each(function() {
            var h = a(this),
            j = h.data("bs.modal"),
            k = a.extend({},
            b.DEFAULTS, h.data(), "object" == typeof c && c);
            j || h.data("bs.modal", j = new b(this, k));
            if ("string" == typeof c) j[c](f);
            else k.show && j.show(f)
        })
    };
    a.fn.modal.Constructor = b;
    a.fn.modal.noConflict = function() {
        a.fn.modal = c;
        return this
    };
    a(document).on("click.bs.modal.data-api", '[data-toggle="modal"]',
    function(b) {
        var f = a(this),
        c = f.attr("href"),
        j = a(f.attr("data-target") || c && c.replace(/.*(?=#[^\s]+$)/, "")),
        c = j.data("modal") ? "toggle": a.extend({
            remote: !/#/.test(c) && c
        },
        j.data(), f.data());
        b.preventDefault();
        j.modal(c, this).one("hide",
        function() {
            f.is(":visible") && f.focus()
        })
    });
    a(document).on("show.bs.modal", ".modal",
    function() {
        a(document.body).addClass("modal-open")
    }).on("hidden.bs.modal", ".modal",
    function() {
        a(document.body).removeClass("modal-open")
    })
} (jQuery); +
function(a) {
    var b = function(a, b) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null;
        this.init("tooltip", a, b)
    };
    b.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1
    };
    b.prototype.init = function(b, f, c) {
        this.enabled = !0;
        this.type = b;
        this.$element = a(f);
        this.options = this.getOptions(c);
        b = this.options.trigger.split(" ");
        for (f = b.length; f--;) if (c = b[f], "click" == c) this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this));
        else if ("manual" != c) {
            var j = "hover" == c ? "mouseleave": "blur";
            this.$element.on(("hover" == c ? "mouseenter": "focus") + "." + this.type, this.options.selector, a.proxy(this.enter, this));
            this.$element.on(j + "." + this.type, this.options.selector, a.proxy(this.leave, this))
        }
        this.options.selector ? this._options = a.extend({},
        this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    };
    b.prototype.getDefaults = function() {
        return b.DEFAULTS
    };
    b.prototype.getOptions = function(b) {
        b = a.extend({},
        this.getDefaults(), this.$element.data(), b);
        b.delay && "number" == typeof b.delay && (b.delay = {
            show: b.delay,
            hide: b.delay
        });
        return b
    };
    b.prototype.getDelegateOptions = function() {
        var b = {},
        f = this.getDefaults();
        this._options && a.each(this._options,
        function(a, c) {
            f[a] != c && (b[a] = c)
        });
        return b
    };
    b.prototype.enter = function(b) {
        var f = b instanceof this.constructor ? b: a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type);
        clearTimeout(f.timeout);
        f.hoverState = "in";
        if (!f.options.delay || !f.options.delay.show) return f.show();
        f.timeout = setTimeout(function() {
            "in" == f.hoverState && f.show()
        },
        f.options.delay.show)
    };
    b.prototype.leave = function(b) {
        var f = b instanceof this.constructor ? b: a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type);
        clearTimeout(f.timeout);
        f.hoverState = "out";
        if (!f.options.delay || !f.options.delay.hide) return f.hide();
        f.timeout = setTimeout(function() {
            "out" == f.hoverState && f.hide()
        },
        f.options.delay.hide)
    };
    b.prototype.show = function() {
        var b = a.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled && (this.$element.trigger(b), !b.isDefaultPrevented())) {
            var f = this.tip();
            this.setContent();
            this.options.animation && f.addClass("fade");
            var b = "function" == typeof this.options.placement ? this.options.placement.call(this, f[0], this.$element[0]) : this.options.placement,
            c = /\s?auto?\s?/i,
            j = c.test(b);
            j && (b = b.replace(c, "") || "top");
            f.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(b);
            this.options.container ? f.appendTo(this.options.container) : f.insertAfter(this.$element);
            var c = this.getPosition(),
            k = f[0].offsetWidth,
            m = f[0].offsetHeight;
            if (j) {
                var q = this.$element.parent(),
                j = b,
                r = document.documentElement.scrollTop || document.body.scrollTop,
                p = "body" == this.options.container ? window.innerWidth: q.outerWidth(),
                l = "body" == this.options.container ? window.innerHeight: q.outerHeight(),
                q = "body" == this.options.container ? 0 : q.offset().left,
                b = "bottom" == b && c.top + c.height + m - r > l ? "top": "top" == b && 0 > c.top - r - m ? "bottom": "right" == b && c.right + k > p ? "left": "left" == b && c.left - k < q ? "right": b;
                f.removeClass(j).addClass(b)
            }
            f = this.getCalculatedOffset(b, c, k, m);
            this.applyPlacement(f, b);
            this.$element.trigger("shown.bs." + this.type)
        }
    };
    b.prototype.applyPlacement = function(a, b) {
        var c, j = this.tip(),
        k = j[0].offsetWidth,
        m = j[0].offsetHeight,
        q = parseInt(j.css("margin-top"), 10),
        r = parseInt(j.css("margin-left"), 10);
        isNaN(q) && (q = 0);
        isNaN(r) && (r = 0);
        a.top += q;
        a.left += r;
        j.offset(a).addClass("in");
        q = j[0].offsetWidth;
        r = j[0].offsetHeight;
        "top" == b && r != m && (c = !0, a.top = a.top + m - r);
        /bottom|top/.test(b) ? (m = 0, 0 > a.left && (m = -2 * a.left, a.left = 0, j.offset(a), q = j[0].offsetWidth), this.replaceArrow(m - k + q, q, "left")) : this.replaceArrow(r - m, r, "top");
        c && j.offset(a)
    };
    b.prototype.replaceArrow = function(a, b, c) {
        this.arrow().css(c, a ? 50 * (1 - a / b) + "%": "")
    };
    b.prototype.setContent = function() {
        var a = this.tip(),
        b = this.getTitle();
        a.find(".tooltip-inner")[this.options.html ? "html": "text"](b);
        a.removeClass("fade in top bottom left right")
    };
    b.prototype.hide = function() {
        function b() {
            "in" != f.hoverState && c.detach()
        }
        var f = this,
        c = this.tip(),
        j = a.Event("hide.bs." + this.type);
        this.$element.trigger(j);
        if (!j.isDefaultPrevented()) return c.removeClass("in"),
        a.support.transition && this.$tip.hasClass("fade") ? c.one(a.support.transition.end, b).emulateTransitionEnd(150) : b(),
        this.$element.trigger("hidden.bs." + this.type),
        this
    };
    b.prototype.fixTitle = function() {
        var a = this.$element;
        if (a.attr("title") || "string" != typeof a.attr("data-original-title")) a.attr("data-original-title", a.attr("title") || "").attr("title", "")
    };
    b.prototype.hasContent = function() {
        return this.getTitle()
    };
    b.prototype.getPosition = function() {
        var b = this.$element[0];
        return a.extend({},
        "function" == typeof b.getBoundingClientRect ? b.getBoundingClientRect() : {
            width: b.offsetWidth,
            height: b.offsetHeight
        },
        this.$element.offset())
    };
    b.prototype.getCalculatedOffset = function(a, b, c, j) {
        return "bottom" == a ? {
            top: b.top + b.height,
            left: b.left + b.width / 2 - c / 2
        }: "top" == a ? {
            top: b.top - j,
            left: b.left + b.width / 2 - c / 2
        }: "left" == a ? {
            top: b.top + b.height / 2 - j / 2,
            left: b.left - c
        }: {
            top: b.top + b.height / 2 - j / 2,
            left: b.left + b.width
        }
    };
    b.prototype.getTitle = function() {
        var a = this.$element,
        b = this.options;
        return a.attr("data-original-title") || ("function" == typeof b.title ? b.title.call(a[0]) : b.title)
    };
    b.prototype.tip = function() {
        return this.$tip = this.$tip || a(this.options.template)
    };
    b.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    };
    b.prototype.validate = function() {
        this.$element[0].parentNode || (this.hide(), this.options = this.$element = null)
    };
    b.prototype.enable = function() {
        this.enabled = !0
    };
    b.prototype.disable = function() {
        this.enabled = !1
    };
    b.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    };
    b.prototype.toggle = function(b) {
        b = b ? a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type) : this;
        b.tip().hasClass("in") ? b.leave(b) : b.enter(b)
    };
    b.prototype.destroy = function() {
        this.hide().$element.off("." + this.type).removeData("bs." + this.type)
    };
    var c = a.fn.tooltip;
    a.fn.tooltip = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.tooltip"),
            j = "object" == typeof c && c;
            h || f.data("bs.tooltip", h = new b(this, j));
            if ("string" == typeof c) h[c]()
        })
    };
    a.fn.tooltip.Constructor = b;
    a.fn.tooltip.noConflict = function() {
        a.fn.tooltip = c;
        return this
    }
} (jQuery); +
function(a) {
    var b = function(a, b) {
        this.init("popover", a, b)
    };
    if (!a.fn.tooltip) throw Error("Popover requires tooltip.js");
    b.DEFAULTS = a.extend({},
    a.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    });
    b.prototype = a.extend({},
    a.fn.tooltip.Constructor.prototype);
    b.prototype.constructor = b;
    b.prototype.getDefaults = function() {
        return b.DEFAULTS
    };
    b.prototype.setContent = function() {
        var a = this.tip(),
        b = this.getTitle(),
        c = this.getContent();
        a.find(".popover-title")[this.options.html ? "html": "text"](b);
        a.find(".popover-content")[this.options.html ? "html": "text"](c);
        a.removeClass("fade top bottom left right in");
        a.find(".popover-title").html() || a.find(".popover-title").hide()
    };
    b.prototype.hasContent = function() {
        return this.getTitle() || this.getContent()
    };
    b.prototype.getContent = function() {
        var a = this.$element,
        b = this.options;
        return a.attr("data-content") || ("function" == typeof b.content ? b.content.call(a[0]) : b.content)
    };
    b.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    };
    b.prototype.tip = function() {
        this.$tip || (this.$tip = a(this.options.template));
        return this.$tip
    };
    var c = a.fn.popover;
    a.fn.popover = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.popover"),
            j = "object" == typeof c && c;
            h || f.data("bs.popover", h = new b(this, j));
            if ("string" == typeof c) h[c]()
        })
    };
    a.fn.popover.Constructor = b;
    a.fn.popover.noConflict = function() {
        a.fn.popover = c;
        return this
    }
} (jQuery); +
function(a) {
    function b(f, c) {
        this.$body = a(document.body);
        this.$scrollElement = a(f).is(document.body) ? a(window) : a(f);
        this.options = a.extend({},
        b.DEFAULTS, c);
        this.selector = (this.options.target || "") + " .nav li > a";
        this.offsets = [];
        this.targets = [];
        this.activeTarget = null;
        this.scrollHeight = 0;
        this.$scrollElement.on("scroll.bs.scrollspy", a.proxy(this.process, this));
        this.refresh();
        this.process()
    }
    function c(f) {
        return this.each(function() {
            var c = a(this),
            g = c.data("bs.scrollspy"),
            k = "object" == typeof f && f;
            g || c.data("bs.scrollspy", g = new b(this, k));
            if ("string" == typeof f) g[f]()
        })
    }
    b.VERSION = "3.3.6";
    b.DEFAULTS = {
        offset: 10
    };
    b.prototype.getScrollHeight = function() {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    };
    b.prototype.refresh = function() {
        var b = this,
        c = "offset",
        g = 0;
        this.offsets = [];
        this.targets = [];
        this.scrollHeight = this.getScrollHeight();
        a.isWindow(this.$scrollElement[0]) || (c = "position", g = this.$scrollElement.scrollTop());
        this.$body.find(this.selector).map(function() {
            var b = a(this),
            b = b.data("target") || b.attr("href"),
            f = /^#./.test(b) && a(b);
            return f && f.length && f.is(":visible") && [[f[c]().top + g, b]] || null
        }).sort(function(a, b) {
            return a[0] - b[0]
        }).each(function() {
            b.offsets.push(this[0]);
            b.targets.push(this[1])
        })
    };
    b.prototype.process = function() {
        var a = this.$scrollElement.scrollTop() + this.options.offset,
        b = this.getScrollHeight(),
        c = this.options.offset + b - this.$scrollElement.height(),
        g = this.offsets,
        m = this.targets,
        q = this.activeTarget,
        r;
        this.scrollHeight != b && this.refresh();
        if (a >= c) return q != (r = m[m.length - 1]) && this.activate(r);
        if (q && a < g[0]) return this.activeTarget = null,
        this.clear();
        for (r = g.length; r--;) q != m[r] && a >= g[r] && (void 0 === g[r + 1] || a < g[r + 1]) && this.activate(m[r])
    };
    b.prototype.activate = function(b) {
        this.activeTarget = b;
        this.clear();
        b = a(this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]').parents("li").addClass("active");
        b.parent(".dropdown-menu").length && (b = b.closest("li.dropdown").addClass("active"));
        b.trigger("activate.bs.scrollspy")
    };
    b.prototype.clear = function() {
        a(this.selector).parentsUntil(this.options.target, ".active").removeClass("active")
    };
    var g = a.fn.scrollspy;
    a.fn.scrollspy = c;
    a.fn.scrollspy.Constructor = b;
    a.fn.scrollspy.noConflict = function() {
        a.fn.scrollspy = g;
        return this
    };
    a(window).on("load.bs.scrollspy.data-api",
    function() {
        a('[data-spy="scroll"]').each(function() {
            var b = a(this);
            c.call(b, b.data())
        })
    })
} (jQuery); +
function(a) {
    var b = function(b) {
        this.element = a(b)
    };
    b.prototype.show = function() {
        var b = this.element,
        f = b.closest("ul:not(.dropdown-menu)"),
        c = b.data("target");
        c || (c = (c = b.attr("href")) && c.replace(/.*(?=#[^\s]*$)/, ""));
        if (!b.parent("li").hasClass("active")) {
            var j = f.find(".active:last a")[0],
            k = a.Event("show.bs.tab", {
                relatedTarget: j
            });
            b.trigger(k);
            k.isDefaultPrevented() || (c = a(c), this.activate(b.parent("li"), f), this.activate(c, c.parent(),
            function() {
                b.trigger({
                    type: "shown.bs.tab",
                    relatedTarget: j
                })
            }))
        }
    };
    b.prototype.activate = function(b, f, c) {
        function j() {
            k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");
            b.addClass("active");
            m ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade");
            b.parent(".dropdown-menu") && b.closest("li.dropdown").addClass("active");
            c && c()
        }
        var k = f.find("> .active"),
        m = c && a.support.transition && k.hasClass("fade");
        m ? k.one(a.support.transition.end, j).emulateTransitionEnd(150) : j();
        k.removeClass("in")
    };
    var c = a.fn.tab;
    a.fn.tab = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.tab");
            h || f.data("bs.tab", h = new b(this));
            if ("string" == typeof c) h[c]()
        })
    };
    a.fn.tab.Constructor = b;
    a.fn.tab.noConflict = function() {
        a.fn.tab = c;
        return this
    };
    a(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]',
    function(b) {
        b.preventDefault();
        a(this).tab("show")
    })
} (jQuery); +
function(a) {
    var b = function(c, f) {
        this.options = a.extend({},
        b.DEFAULTS, f);
        this.$window = a(window).on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", a.proxy(this.checkPositionWithEventLoop, this));
        this.$element = a(c);
        this.affixed = this.unpin = null;
        this.checkPosition()
    };
    b.RESET = "affix affix-top affix-bottom";
    b.DEFAULTS = {
        offset: 0
    };
    b.prototype.checkPositionWithEventLoop = function() {
        setTimeout(a.proxy(this.checkPosition, this), 1)
    };
    b.prototype.checkPosition = function() {
        if (this.$element.is(":visible")) {
            var c = a(document).height(),
            f = this.$window.scrollTop(),
            h = this.$element.offset(),
            j = this.options.offset,
            k = j.top,
            m = j.bottom;
            "object" != typeof j && (m = k = j);
            "function" == typeof k && (k = j.top());
            "function" == typeof m && (m = j.bottom());
            c = null != this.unpin && f + this.unpin <= h.top ? !1 : null != m && h.top + this.$element.height() >= c - m ? "bottom": null != k && f <= k ? "top": !1;
            this.affixed !== c && (this.unpin && this.$element.css("top", ""), this.affixed = c, this.unpin = "bottom" == c ? h.top - f: null, this.$element.removeClass(b.RESET).addClass("affix" + (c ? "-" + c: "")), "bottom" == c && this.$element.offset({
                top: document.body.offsetHeight - m - this.$element.height()
            }))
        }
    };
    var c = a.fn.affix;
    a.fn.affix = function(c) {
        return this.each(function() {
            var f = a(this),
            h = f.data("bs.affix"),
            j = "object" == typeof c && c;
            h || f.data("bs.affix", h = new b(this, j));
            if ("string" == typeof c) h[c]()
        })
    };
    a.fn.affix.Constructor = b;
    a.fn.affix.noConflict = function() {
        a.fn.affix = c;
        return this
    };
    a(window).on("load",
    function() {
        a('[data-spy="affix"]').each(function() {
            var b = a(this),
            f = b.data();
            f.offset = f.offset || {};
            f.offsetBottom && (f.offset.bottom = f.offsetBottom);
            f.offsetTop && (f.offset.top = f.offsetTop);
            b.affix(f)
        })
    })
} (jQuery); (function(a) {
    a.fn.menuAim = function(b) {
        this.each(function() {
            var c = a(this),
            g = null,
            f = [],
            h = null,
            j = null,
            k = a.extend({
                rowSelector: "> li",
                submenuSelector: "*",
                submenuDirection: "right",
                tolerance: 75,
                enter: a.noop,
                exit: a.noop,
                activate: a.noop,
                deactivate: a.noop,
                exitMenu: a.noop
            },
            b),
            m = function(a) {
                a != g && (g && k.deactivate(g), k.activate(a), g = a)
            },
            q = function(a) {
                var b = r();
                b ? j = setTimeout(function() {
                    q(a)
                },
                b) : m(a)
            },
            r = function() {
                function b(a, f) {
                    return (f.y - a.y) / (f.x - a.x)
                }
                if (!g || !a(g).is(k.submenuSelector)) return 0;
                var j = c.offset(),
                m = {
                    x: j.left,
                    y: j.top - k.tolerance
                },
                q = {
                    x: j.left + c.outerWidth(),
                    y: m.y
                },
                w = {
                    x: j.left,
                    y: j.top + c.outerHeight() + k.tolerance
                },
                r = {
                    x: j.left + c.outerWidth(),
                    y: w.y
                },
                u = f[f.length - 1],
                C = f[0];
                if (!u) return 0;
                C || (C = u);
                if (C.x < j.left || (C.x > r.x || C.y < j.top || C.y > r.y) || h && u.x == h.x && u.y == h.y) return 0;
                var D = q,
                j = r;
                "left" == k.submenuDirection ? (D = w, j = m) : "below" == k.submenuDirection ? (D = r, j = w) : "above" == k.submenuDirection && (D = m, j = q);
                m = b(u, D);
                q = b(u, j);
                D = b(C, D);
                C = b(C, j);
                if (m < D && q > C) return h = u,
                300;
                h = null;
                return 0
            };
            c.mouseleave(function() {
                j && clearTimeout(j);
                k.exitMenu(this) && (g && k.deactivate(g), g = null)
            }).find(k.rowSelector).mouseenter(function() {
                j && clearTimeout(j);
                k.enter(this);
                q(this)
            }).mouseleave(function() {
                k.exit(this)
            }).click(function() {
                m(this)
            });
            a(document).mousemove(function(a) {
                f.push({
                    x: a.pageX,
                    y: a.pageY
                });
                3 < f.length && f.shift()
            })
        });
        return this
    }
})(jQuery);
var MobileEsp = {
    initCompleted: !1,
    isWebkit: !1,
    isMobilePhone: !1,
    isIphone: !1,
    isAndroid: !1,
    isAndroidPhone: !1,
    isTierTablet: !1,
    isTierIphone: !1,
    isTierRichCss: !1,
    isTierGenericMobile: !1,
    engineWebKit: "webkit",
    deviceIphone: "iphone",
    deviceIpod: "ipod",
    deviceIpad: "ipad",
    deviceMacPpc: "macintosh",
    deviceAndroid: "android",
    deviceGoogleTV: "googletv",
    deviceHtcFlyer: "htc_flyer",
    deviceWinPhone7: "windows phone os 7",
    deviceWinPhone8: "windows phone 8",
    deviceWinMob: "windows ce",
    deviceWindows: "windows",
    deviceIeMob: "iemobile",
    devicePpc: "ppc",
    enginePie: "wm5 pie",
    deviceBB: "blackberry",
    deviceBB10: "bb10",
    vndRIM: "vnd.rim",
    deviceBBStorm: "blackberry95",
    deviceBBBold: "blackberry97",
    deviceBBBoldTouch: "blackberry 99",
    deviceBBTour: "blackberry96",
    deviceBBCurve: "blackberry89",
    deviceBBCurveTouch: "blackberry 938",
    deviceBBTorch: "blackberry 98",
    deviceBBPlaybook: "playbook",
    deviceSymbian: "symbian",
    deviceSymbos: "symbos",
    deviceS60: "series60",
    deviceS70: "series70",
    deviceS80: "series80",
    deviceS90: "series90",
    devicePalm: "palm",
    deviceWebOS: "webos",
    deviceWebOShp: "hpwos",
    engineBlazer: "blazer",
    engineXiino: "xiino",
    deviceNuvifone: "nuvifone",
    deviceBada: "bada",
    deviceTizen: "tizen",
    deviceMeego: "meego",
    deviceKindle: "kindle",
    engineSilk: "silk-accelerated",
    vndwap: "vnd.wap",
    wml: "wml",
    deviceTablet: "tablet",
    deviceBrew: "brew",
    deviceDanger: "danger",
    deviceHiptop: "hiptop",
    devicePlaystation: "playstation",
    devicePlaystationVita: "vita",
    deviceNintendoDs: "nitro",
    deviceNintendo: "nintendo",
    deviceWii: "wii",
    deviceXbox: "xbox",
    deviceArchos: "archos",
    engineOpera: "opera",
    engineNetfront: "netfront",
    engineUpBrowser: "up.browser",
    engineOpenWeb: "openweb",
    deviceMidp: "midp",
    uplink: "up.link",
    engineTelecaQ: "teleca q",
    engineObigo: "obigo",
    devicePda: "pda",
    mini: "mini",
    mobile: "mobile",
    mobi: "mobi",
    maemo: "maemo",
    linux: "linux",
    mylocom2: "sony/com",
    manuSonyEricsson: "sonyericsson",
    manuericsson: "ericsson",
    manuSamsung1: "sec-sgh",
    manuSony: "sony",
    manuHtc: "htc",
    svcDocomo: "docomo",
    svcKddi: "kddi",
    svcVodafone: "vodafone",
    disUpdate: "update",
    uagent: "",
    InitDeviceScan: function() {
        this.initCompleted = !1;
        navigator && navigator.userAgent && (this.uagent = navigator.userAgent.toLowerCase());
        this.isWebkit = this.DetectWebkit();
        this.isIphone = this.DetectIphone();
        this.isAndroid = this.DetectAndroid();
        this.isAndroidPhone = this.DetectAndroidPhone();
        this.isTierIphone = this.DetectTierIphone();
        this.isTierTablet = this.DetectTierTablet();
        this.isMobilePhone = this.DetectMobileQuick();
        this.isTierRichCss = this.DetectTierRichCss();
        this.isTierGenericMobile = this.DetectTierOtherPhones();
        this.initCompleted = !0
    },
    DetectIphone: function() {
        return this.initCompleted || this.isIphone ? this.isIphone: -1 < this.uagent.search(this.deviceIphone) ? this.DetectIpad() || this.DetectIpod() ? !1 : !0 : !1
    },
    DetectIpod: function() {
        return - 1 < this.uagent.search(this.deviceIpod) ? !0 : !1
    },
    DetectIphoneOrIpod: function() {
        return this.DetectIphone() || this.DetectIpod() ? !0 : !1
    },
    DetectIpad: function() {
        return - 1 < this.uagent.search(this.deviceIpad) && this.DetectWebkit() ? !0 : !1
    },
    DetectIos: function() {
        return this.DetectIphoneOrIpod() || this.DetectIpad() ? !0 : !1
    },
    DetectAndroid: function() {
        return this.initCompleted || this.isAndroid ? this.isAndroid: -1 < this.uagent.search(this.deviceAndroid) || this.DetectGoogleTV() ? !0 : -1 < this.uagent.search(this.deviceHtcFlyer) ? !0 : !1
    },
    DetectAndroidPhone: function() {
        return this.initCompleted || this.isAndroidPhone ? this.isAndroidPhone: this.DetectAndroid() && -1 < this.uagent.search(this.mobile) || this.DetectOperaAndroidPhone() ? !0 : -1 < this.uagent.search(this.deviceHtcFlyer) ? !0 : !1
    },
    DetectAndroidTablet: function() {
        return ! this.DetectAndroid() || this.DetectOperaMobile() || -1 < this.uagent.search(this.deviceHtcFlyer) ? !1 : -1 < this.uagent.search(this.mobile) ? !1 : !0
    },
    DetectAndroidWebKit: function() {
        return this.DetectAndroid() && this.DetectWebkit() ? !0 : !1
    },
    DetectGoogleTV: function() {
        return - 1 < this.uagent.search(this.deviceGoogleTV) ? !0 : !1
    },
    DetectWebkit: function() {
        return this.initCompleted || this.isWebkit ? this.isWebkit: -1 < this.uagent.search(this.engineWebKit) ? !0 : !1
    },
    DetectWindowsPhone: function() {
        return this.DetectWindowsPhone7() || this.DetectWindowsPhone8() ? !0 : !1
    },
    DetectWindowsPhone7: function() {
        return - 1 < this.uagent.search(this.deviceWinPhone7) ? !0 : !1
    },
    DetectWindowsPhone8: function() {
        return - 1 < this.uagent.search(this.deviceWinPhone8) ? !0 : !1
    },
    DetectWindowsMobile: function() {
        return this.DetectWindowsPhone() ? !1 : -1 < this.uagent.search(this.deviceWinMob) || ( - 1 < this.uagent.search(this.deviceIeMob) || -1 < this.uagent.search(this.enginePie)) || -1 < this.uagent.search(this.devicePpc) && !( - 1 < this.uagent.search(this.deviceMacPpc)) ? !0 : -1 < this.uagent.search(this.manuHtc) && -1 < this.uagent.search(this.deviceWindows) ? !0 : !1
    },
    DetectBlackBerry: function() {
        return - 1 < this.uagent.search(this.deviceBB) || -1 < this.uagent.search(this.vndRIM) ? !0 : this.DetectBlackBerry10Phone() ? !0 : !1
    },
    DetectBlackBerry10Phone: function() {
        return - 1 < this.uagent.search(this.deviceBB10) && -1 < this.uagent.search(this.mobile) ? !0 : !1
    },
    DetectBlackBerryTablet: function() {
        return - 1 < this.uagent.search(this.deviceBBPlaybook) ? !0 : !1
    },
    DetectBlackBerryWebKit: function() {
        return this.DetectBlackBerry() && -1 < this.uagent.search(this.engineWebKit) ? !0 : !1
    },
    DetectBlackBerryTouch: function() {
        return this.DetectBlackBerry() && ( - 1 < this.uagent.search(this.deviceBBStorm) || -1 < this.uagent.search(this.deviceBBTorch) || -1 < this.uagent.search(this.deviceBBBoldTouch) || -1 < this.uagent.search(this.deviceBBCurveTouch)) ? !0 : !1
    },
    DetectBlackBerryHigh: function() {
        return this.DetectBlackBerryWebKit() ? !1 : this.DetectBlackBerry() && (this.DetectBlackBerryTouch() || -1 < this.uagent.search(this.deviceBBBold) || -1 < this.uagent.search(this.deviceBBTour) || -1 < this.uagent.search(this.deviceBBCurve)) ? !0 : !1
    },
    DetectBlackBerryLow: function() {
        return this.DetectBlackBerry() ? this.DetectBlackBerryHigh() || this.DetectBlackBerryWebKit() ? !1 : !0 : !1
    },
    DetectS60OssBrowser: function() {
        return this.DetectWebkit() ? -1 < this.uagent.search(this.deviceS60) || -1 < this.uagent.search(this.deviceSymbian) ? !0 : !1 : !1
    },
    DetectSymbianOS: function() {
        return - 1 < this.uagent.search(this.deviceSymbian) || -1 < this.uagent.search(this.deviceS60) || -1 < this.uagent.search(this.deviceSymbos) && this.DetectOperaMobile || -1 < this.uagent.search(this.deviceS70) || -1 < this.uagent.search(this.deviceS80) || -1 < this.uagent.search(this.deviceS90) ? !0 : !1
    },
    DetectPalmOS: function() {
        return this.DetectPalmWebOS() ? !1 : -1 < this.uagent.search(this.devicePalm) || -1 < this.uagent.search(this.engineBlazer) || -1 < this.uagent.search(this.engineXiino) ? !0 : !1
    },
    DetectPalmWebOS: function() {
        return - 1 < this.uagent.search(this.deviceWebOS) ? !0 : !1
    },
    DetectWebOSTablet: function() {
        return - 1 < this.uagent.search(this.deviceWebOShp) && -1 < this.uagent.search(this.deviceTablet) ? !0 : !1
    },
    DetectOperaMobile: function() {
        return - 1 < this.uagent.search(this.engineOpera) && ( - 1 < this.uagent.search(this.mini) || -1 < this.uagent.search(this.mobi)) ? !0 : !1
    },
    DetectOperaAndroidPhone: function() {
        return - 1 < this.uagent.search(this.engineOpera) && -1 < this.uagent.search(this.deviceAndroid) && -1 < this.uagent.search(this.mobi) ? !0 : !1
    },
    DetectOperaAndroidTablet: function() {
        return - 1 < this.uagent.search(this.engineOpera) && -1 < this.uagent.search(this.deviceAndroid) && -1 < this.uagent.search(this.deviceTablet) ? !0 : !1
    },
    DetectKindle: function() {
        return - 1 < this.uagent.search(this.deviceKindle) && !this.DetectAndroid() ? !0 : !1
    },
    DetectAmazonSilk: function() {
        return - 1 < this.uagent.search(this.engineSilk) ? !0 : !1
    },
    DetectGarminNuvifone: function() {
        return - 1 < this.uagent.search(this.deviceNuvifone) ? !0 : !1
    },
    DetectBada: function() {
        return - 1 < this.uagent.search(this.deviceBada) ? !0 : !1
    },
    DetectTizen: function() {
        return - 1 < this.uagent.search(this.deviceTizen) ? !0 : !1
    },
    DetectMeego: function() {
        return - 1 < this.uagent.search(this.deviceMeego) ? !0 : !1
    },
    DetectDangerHiptop: function() {
        return - 1 < this.uagent.search(this.deviceDanger) || -1 < this.uagent.search(this.deviceHiptop) ? !0 : !1
    },
    DetectSonyMylo: function() {
        return - 1 < this.uagent.search(this.manuSony) && ( - 1 < this.uagent.search(this.qtembedded) || -1 < this.uagent.search(this.mylocom2)) ? !0 : !1
    },
    DetectMaemoTablet: function() {
        return - 1 < this.uagent.search(this.maemo) ? !0 : -1 < this.uagent.search(this.linux) && -1 < this.uagent.search(this.deviceTablet) && !this.DetectWebOSTablet() && !this.DetectAndroid() ? !0 : !1
    },
    DetectArchos: function() {
        return - 1 < this.uagent.search(this.deviceArchos) ? !0 : !1
    },
    DetectGameConsole: function() {
        return this.DetectSonyPlaystation() || this.DetectNintendo() || this.DetectXbox() ? !0 : !1
    },
    DetectSonyPlaystation: function() {
        return - 1 < this.uagent.search(this.devicePlaystation) ? !0 : !1
    },
    DetectGamingHandheld: function() {
        return - 1 < this.uagent.search(this.devicePlaystation) && -1 < this.uagent.search(this.devicePlaystationVita) ? !0 : !1
    },
    DetectNintendo: function() {
        return - 1 < this.uagent.search(this.deviceNintendo) || -1 < this.uagent.search(this.deviceWii) || -1 < this.uagent.search(this.deviceNintendoDs) ? !0 : !1
    },
    DetectXbox: function() {
        return - 1 < this.uagent.search(this.deviceXbox) ? !0 : !1
    },
    DetectBrewDevice: function() {
        return - 1 < this.uagent.search(this.deviceBrew) ? !0 : !1
    },
    DetectSmartphone: function() {
        return this.DetectTierIphone() || this.DetectS60OssBrowser() || this.DetectSymbianOS() || this.DetectWindowsMobile() || this.DetectBlackBerry() || this.DetectPalmOS() ? !0 : !1
    },
    DetectMobileQuick: function() {
        return this.DetectTierTablet() ? !1 : this.initCompleted || this.isMobilePhone ? this.isMobilePhone: this.DetectSmartphone() || -1 < this.uagent.search(this.mobile) || this.DetectKindle() || this.DetectAmazonSilk() || -1 < this.uagent.search(this.deviceMidp) || this.DetectBrewDevice() || this.DetectOperaMobile() || this.DetectArchos() || -1 < this.uagent.search(this.engineObigo) || -1 < this.uagent.search(this.engineNetfront) || -1 < this.uagent.search(this.engineUpBrowser) || -1 < this.uagent.search(this.engineOpenWeb) ? !0 : !1
    },
    DetectMobileLong: function() {
        return this.DetectMobileQuick() || this.DetectGameConsole() || (this.DetectDangerHiptop() || this.DetectMaemoTablet() || this.DetectSonyMylo() || this.DetectGarminNuvifone()) || -1 < this.uagent.search(this.devicePda) && !( - 1 < this.uagent.search(this.disUpdate)) || -1 < this.uagent.search(this.manuSamsung1) || -1 < this.uagent.search(this.manuSonyEricsson) || -1 < this.uagent.search(this.manuericsson) || -1 < this.uagent.search(this.svcDocomo) || -1 < this.uagent.search(this.svcKddi) || -1 < this.uagent.search(this.svcVodafone) ? !0 : !1
    },
    DetectTierTablet: function() {
        return this.initCompleted || this.isTierTablet ? this.isTierTablet: this.DetectIpad() || this.DetectAndroidTablet() || this.DetectBlackBerryTablet() || this.DetectWebOSTablet() ? !0 : !1
    },
    DetectTierIphone: function() {
        return this.initCompleted || this.isTierIphone ? this.isTierIphone: this.DetectIphoneOrIpod() || this.DetectAndroidPhone() || this.DetectWindowsPhone() || this.DetectBlackBerry10Phone() || this.DetectPalmWebOS() || this.DetectBada() || this.DetectTizen() || this.DetectGamingHandheld() ? !0 : this.DetectBlackBerryWebKit() && this.DetectBlackBerryTouch() ? !0 : !1
    },
    DetectTierRichCss: function() {
        return this.initCompleted || this.isTierRichCss ? this.isTierRichCss: this.DetectTierIphone() || (this.DetectKindle() || this.DetectTierTablet()) || !this.DetectMobileQuick() ? !1 : this.DetectWebkit() ? !0 : this.DetectS60OssBrowser() || this.DetectBlackBerryHigh() || this.DetectWindowsMobile() || -1 < this.uagent.search(this.engineTelecaQ) ? !0 : !1
    },
    DetectTierOtherPhones: function() {
        return this.initCompleted || this.isTierGenericMobile ? this.isTierGenericMobile: this.DetectTierIphone() || this.DetectTierRichCss() || this.DetectTierTablet() ? !1 : this.DetectMobileLong() ? !0 : !1
    }
};
MobileEsp.InitDeviceScan();
/*

 Regula: An annotation-based form-validation framework in Javascript
 Version 1.3.3-SNAPSHOT

 Written By Vivin Paliath (http://vivin.net)
 License: BSD License
 Copyright (C) 2010-2013

 Other licenses:

 DOMUtils#getElementsByAttribute
 Author: Robert Nyman
 Copyright Robert Nyman, http://www.robertnyman.com
 Free to use if this text is included
*/
(function(a, b) {
    "function" === typeof define && define.amd ? define("utils/MapUtils", b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.MapUtils = b())
})(this,
function() {
    return {
        iterateOverMap: function(a, b) {
            var c = 0,
            g;
            for (g in a) a.hasOwnProperty(g) && "__size__" !== g && (b.call(a, g, a[g], c), c++)
        },
        exists: function(a, b) {
            for (var c = !1,
            g = 0; ! c && g < a.length;) c = b == a[g],
            g++;
            return c
        },
        put: function(a, b, c) {
            a.__size__ || (a.__size__ = 0);
            a[b] || a.__size__++;
            a[b] = c
        },
        isEmpty: function(a) {
            for (var b in a) if (a.hasOwnProperty(b)) return ! 1;
            return ! 0
        }
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("utils/DOMUtils", b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.DOMUtils = b())
})(this,
function() {
    return {
        friendlyInputNames: {
            form: "The form",
            select: "The select box",
            textarea: "The text area",
            checkbox: "The checkbox",
            radio: "The radio button",
            text: "The text field",
            password: "The password",
            email: "The email",
            url: "The URL",
            number: "The number",
            datetime: "The datetime",
            "datetime-local": "The local datetime",
            date: "The date",
            month: "The month",
            time: "The time",
            week: "The week",
            range: "The range",
            tel: "The telephone number",
            color: "The color"
        },
        getElementsByAttribute: function(a, b, c, g) {
            for (var a = "*" == b && a.all ? a.all: a.getElementsByTagName(b), b = [], f = "undefined" !== typeof g ? RegExp("(^|\\s)" + g + "(\\s|$)") : null, h, j, k = 0; k < a.length; k++) h = a[k],
            j = h.getAttribute && h.getAttribute(c),
            "string" == typeof j && 0 < j.length && ("undefined" === typeof g || f && f.test(j)) && b.push(h);
            return b
        },
        getAttributeValueForElement: function(a, b) {
            var c = a.getAttribute && a.getAttribute(b) || null;
            if (!c) for (var g = a.attributes,
            f = 0; f < g.length; f++) g[f].nodeName === b && (c = g[f].nodeValue);
            return c
        },
        generateRandomId: function() {
            return "regula-generated-" + Math.floor(1E6 * Math.random())
        },
        supportsHTML5Validation: function() {
            return "function" === typeof document.createElement("input").checkValidity
        }
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("service/GroupService", b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.GroupService = b())
})(this,
function() {
    return {
        Group: {
            Default: 0
        },
        ReverseGroup: {
            "0": "Default"
        },
        deletedGroupIndices: [],
        firstCustomGroupIndex: 1
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("utils/ArrayUtils", b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.ArrayUtils = b())
})(this,
function() {
    return {
        explode: function(a, b) {
            for (var c = "",
            g = 0; g < a.length; g++) c += a[g] + b;
            return c.replace(RegExp(b + "$"), "")
        }
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("service/ExceptionService", ["utils/ArrayUtils"], b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.ExceptionService = b(a.regulaModules.ArrayUtils))
})(this,
function(a) {
    var b = {
        IllegalArgumentException: function(a) {
            this.name = "IllegalArgumentException";
            this.message = a
        },
        ConstraintDefinitionException: function(a) {
            this.name = "ConstraintDefinitionException";
            this.message = a
        },
        BindException: function(a) {
            this.name = "BindException";
            this.message = a
        },
        MissingFeatureException: function(a) {
            this.name = "MissingFeatureException";
            this.message = a
        }
    },
    c;
    for (c in b) if (b.hasOwnProperty(c)) {
        var g = b[c];
        g.prototype = Error();
        g.prototype.constructor = g
    }
    return {
        Exception: b,
        generateExceptionMessage: function(a, b, c) {
            var g = "";
            null != a ? (g = a.id, g = "" == b || null == b || void 0 == b ? g + ": ": g + ("." + b + ": ")) : "" != b && (null != b && void 0 != b) && (g = "@" + b + ": ");
            return g + c
        },
        explodeParameters: function(b) {
            var c = "Function received: {",
            g;
            for (g in b) b.hasOwnProperty(g) && ("string" == typeof b[g] ? c += g + ": " + b[g] + ", ": b[g] instanceof Array && (c += g + ": [" + a.explode(b[g], ", ") + "], "));
            return c = c.replace(/, $/, "") + "}"
        }
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("service/ValidationService", ["utils/DOMUtils", "utils/MapUtils", "service/GroupService", "service/ExceptionService", "utils/ArrayUtils"], b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.ValidationService = b(a.regulaModules.DOMUtils, a.regulaModules.MapUtils, a.regulaModules.GroupService, a.regulaModules.ExceptionService, a.regulaModules.ArrayUtils))
})(this,
function(a, b, c, g, f) {
    function h(a, b) {
        var f = b[a],
        c = a.replace(/(^[A-Z]+)/,
        function(a) {
            return a.toLowerCase()
        });
        O[c] = f.async ?
        function(b, c, h) {
            if ("undefined" === typeof h) throw new g.Exception.IllegalArgumentException(a + " is an asynchronous constraint, but you have not provided a callback.");
            return f.validator.call(b, c, O, h)
        }: function(a, b) {
            return f.validator.call(a, b, O)
        }
    }
    function j(a, b) {
        var f = B.validateEmptyFields;
        "undefined" !== typeof b.ignoreEmpty && (f = !b.ignoreEmpty);
        return ! (M.blank.call(a) && !f)
    }
    function k(a) {
        var b = {
            YMD: {
                Year: 0,
                Month: 1,
                Day: 2
            },
            MDY: {
                Month: 0,
                Day: 1,
                Year: 2
            },
            DMY: {
                Day: 0,
                Month: 1,
                Year: 2
            }
        } [a.format],
        f = a.separator;
        "undefined" === typeof a.separator && (f = /\//.test(this.value) ? "/": /\./.test(this.value) ? ".": / /.test(this.value) ? " ": /[^0-9]+/);
        var c = this.value.split(f),
        g = new Date(c[b.Year], c[b.Month] - 1, c[b.Day]),
        c = new Date;
        "undefined" !== typeof a.date && (c = a.date.split(f), c = new Date(c[b.Year], c[b.Month] - 1, c[b.Day]));
        return {
            dateToValidate: g,
            dateToTestAgainst: c
        }
    }
    function m() {
        return ! this.validity.typeMismatch
    }
    function q(a) {
        var b = {
            asyncContexts: [],
            syncContexts: []
        },
        f;
        for (f in G) if (G.hasOwnProperty(f)) {
            var c = G[f],
            g;
            for (g in c) if (c.hasOwnProperty(g)) if (document.getElementById(g)) {
                var h = c[g],
                j;
                for (j in h) if (h.hasOwnProperty(j)) {
                    var k = I(f, g, j);
                    k.async ? b.asyncContexts.push(k) : b.syncContexts.push(k)
                }
            } else delete c[g]
        }
        b = C(b);
        return E(b, a)
    }
    function r(a) {
        var b = {
            asyncContexts: [],
            syncContexts: []
        },
        f;
        for (f in G) if (G.hasOwnProperty(f)) {
            var c = G[f],
            g;
            for (g in c) if (c.hasOwnProperty(g) && c[g][a.constraintType]) {
                var h = I(f, g, a.constraintType);
                h.async ? b.asyncContexts.push(h) : b.syncContexts.push(h)
            }
        }
        b = C(b);
        return E(b, a)
    }
    function p(a) {
        var b = [],
        c = {
            asyncContexts: [],
            syncContexts: []
        },
        h;
        for (h in G) if (G.hasOwnProperty(h)) for (var j = G[h], k = 0; k < a.elementIds.length; k++) {
            var l = a.elementIds[k],
            v = j[l];
            if ("undefined" !== typeof v) for (var p in v) {
                if (v.hasOwnProperty(p)) {
                    var m = I(h, l, p);
                    m.async ? c.asyncContexts.push(m) : c.syncContexts.push(m)
                }
            } else b.push(l)
        }
        if (0 < b.length) throw new g.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: " + f.explode(b) + ". " + g.explodeParameters(a));
        c = C(c);
        return E(c, a)
    }
    function l(a) {
        var b = [],
        c = {
            asyncContexts: [],
            syncContexts: []
        },
        h;
        for (h in G) if (G.hasOwnProperty(h)) for (var j = G[h], k = 0; k < a.elementIds.length; k++) {
            var l = a.elementIds[k];
            "undefined" !== typeof j[l] ? (l = I(h, l, a.constraintType), l.async ? c.asyncContexts.push(l) : c.syncContexts.push(l)) : b.push(l)
        }
        if (0 < b.length) throw new g.Exception.IllegalArgumentException("No constraints have been bound to the specified elements: " + f.explode(b) + ". " + g.explodeParameters(a));
        c = C(c);
        return E(c, a)
    }
    function z(a) {
        for (var b = !1,
        f = {
            groupedContexts: {}
        },
        c = 0; c < a.groups.length;) {
            var h = a.groups[c],
            j = G[h];
            if ("undefined" !== typeof j) for (var k in j) {
                if (j.hasOwnProperty(k)) {
                    var l = j[k],
                    v;
                    for (v in l) if (l.hasOwnProperty(v)) {
                        var p = I(h, k, v);
                        f.groupedContexts[h] || (f.groupedContexts[h] = {
                            asyncContexts: [],
                            syncContexts: []
                        });
                        p.async ? (b = !0, f.groupedContexts[h].asyncContexts.push(p)) : f.groupedContexts[h].syncContexts.push(p)
                    }
                }
            } else throw new g.Exception.IllegalArgumentException("Undefined group in group list. " + g.explodeParameters(a));
            c++
        }
        f = D(f);
        a.groups = f.groups;
        f = f.uniqueConstraintsToValidate;
        return y(a, f, b)
    }
    function F(a) {
        for (var b = !1,
        f = {
            groupedContexts: {}
        },
        c = 0; c < a.groups.length;) {
            var h = a.groups[c],
            j = G[h];
            if ("undefined" !== typeof j) {
                var k = !1,
                l;
                for (l in j) if (j.hasOwnProperty(l) && j[l][a.constraintType]) {
                    var k = !0,
                    v = I(h, l, a.constraintType);
                    f.groupedContexts[h] || (f.groupedContexts[h] = {
                        asyncContexts: [],
                        syncContexts: []
                    });
                    v.async ? (b = !0, f.groupedContexts[h].asyncContexts.push(v)) : f.groupedContexts[h].syncContexts.push(v)
                }
                if (!k) throw new g.Exception.IllegalArgumentException("Constraint " + a.constraintType + " has not been bound to any element under group " + h + ". " + g.explodeParameters(a));
            } else throw new g.Exception.IllegalArgumentException("Undefined group in group list. " + g.explodeParameters(a));
            c++
        }
        f = D(f);
        a.groups = f.groups;
        f = f.uniqueConstraintsToValidate;
        return y(a, f, b)
    }
    function w(a) {
        for (var b = [], c = [], h = !1, j = {
            groupedContexts: {}
        },
        k = 0; k < a.groups.length;) {
            var l = a.groups[k],
            v = G[l];
            if (v) for (var p = 0; p < a.elementIds.length; p++) {
                var m = a.elementIds[p],
                B = v[m];
                if (B) for (var u in B) {
                    if (B.hasOwnProperty(u)) {
                        var L = I(l, m, u);
                        j.groupedContexts[l] || (j.groupedContexts[l] = {
                            asyncContexts: [],
                            syncContexts: []
                        });
                        L.async ? (h = !0, j.groupedContexts[l].asyncContexts.push(L)) : j.groupedContexts[l].syncContexts.push(L)
                    }
                } else b.push(l),
                c.push(m)
            } else throw new g.Exception.IllegalArgumentException("Undefined group in group list. " + g.explodeParameters(a));
            k++
        }
        if (0 < b.length) throw new g.Exception.IllegalArgumentException("The following elements: " + f.explode(c) + " were not found in one or more of the following group(s): [" + f.explode(b, ",").replace(/,/g, ", ") + "]. " + g.explodeParameters(a));
        b = D(j);
        a.groups = b.groups;
        j = b.uniqueConstraintsToValidate;
        return y(a, j, h)
    }
    function J(a) {
        for (var b = !1,
        f = {
            groupedContexts: {}
        },
        c = 0; c < a.groups.length;) {
            for (var g = a.groups[c], h = 0; h < a.elementIds.length; h++) {
                var j = I(g, a.elementIds[h], a.constraintType);
                f.groupedContexts[g] || (f.groupedContexts[g] = {
                    asyncContexts: [],
                    syncContexts: []
                });
                j.async ? (b = !0, f.groupedContexts[g].asyncContexts.push(j)) : f.groupedContexts[g].syncContexts.push(j)
            }
            c++
        }
        f = D(f);
        a.groups = f.groups;
        f = f.uniqueConstraintsToValidate;
        return y(a, f, b)
    }
    function u(a) {
        var b = !0;
        S[a.elementId] || (S[a.elementId] = {});
        var f = document.getElementById(a.elementId).cloneNode(!1),
        c = f.name.replace(/\s/g, "");
        "undefined" !== typeof f.type && "radio" === f.type.toLowerCase() && "" !== c ? Q[c] || (Q[c] = {}) : Q[c] = {}; ! S[a.elementId][a.elementConstraint] && !Q[c][a.elementConstraint] && (b = !1, S[a.elementId][a.elementConstraint] = !0, "undefined" !== typeof f.type && ("radio" === f.type.toLowerCase() && "" !== c) && (Q[c][a.elementConstraint] = !0));
        return b
    }
    function C(a) {
        for (var b = {
            asyncContexts: [],
            syncContexts: []
        },
        f = 0; f < a.syncContexts.length; f++) {
            var c = a.syncContexts[f];
            u(c) || b.syncContexts.push(c)
        }
        for (f = 0; f < a.asyncContexts.length; f++) c = a.asyncContexts[f],
        u(c) || b.asyncContexts.push(c);
        return b
    }
    function D(a) {
        var b = [],
        f = {
            groupedContexts: {}
        },
        c;
        for (c in a.groupedContexts) if (a.groupedContexts.hasOwnProperty(c)) {
            for (var g = 0; g < a.groupedContexts[c].syncContexts.length; g++) {
                var h = a.groupedContexts[c].syncContexts[g];
                u(h) || (f.groupedContexts[c] || (f.groupedContexts[c] = {
                    asyncContexts: [],
                    syncContexts: []
                }), f.groupedContexts[c].syncContexts.push(h), -1 == b.indexOf(c) && b.push(c))
            }
            for (g = 0; g < a.groupedContexts[c].asyncContexts.length; g++) h = a.groupedContexts[c].asyncContexts[g],
            u(h) || (f.groupedContexts[c] || (f.groupedContexts[c] = {
                asyncContexts: [],
                syncContexts: []
            }), f.groupedContexts[c].asyncContexts.push(h), -1 == b.indexOf(c) && b.push(c))
        }
        return {
            groups: b,
            uniqueConstraintsToValidate: f
        }
    }
    function E(a, b) {
        var f = [];
        if (0 < a.syncContexts.length) {
            for (var c = [], h = 0; h < a.syncContexts.length;) {
                var j = a.syncContexts[h]; (j = K(j.group, j.elementId, j.elementConstraint, j.params)) && c.push(j);
                h++
            }
            f = c
        }
        if (0 < a.asyncContexts.length) {
            if (!b.callback) throw new g.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided.");
            for (var c = function(c) {
                l++;
                c && k.push(c);
                l === a.asyncContexts.length && (c = k, f = 0 < f.length ? f.concat(c) : c, b.callback(f))
            },
            k = [], l = 0, h = 0; h < a.asyncContexts.length; h++) j = a.asyncContexts[h],
            x(j.group, j.elementId, j.elementConstraint, j.params, c)
        } else b.callback && b.callback(f);
        return f
    }
    function y(a, b, f) {
        for (var c, h = a.groups,
        j = a.independent,
        k = [], l = 0, v = !0; l < h.length && v;) {
            for (var v = b.groupedContexts[h[l]].syncContexts, p = 0; p < v.length; p++) {
                var m = v[p]; (m = K(m.group, m.elementId, m.elementConstraint, m.params)) && k.push(m)
            }
            l++;
            v = 0 == k.length || j && 0 != k.length
        }
        c = k;
        if (f) {
            if (!a.callback) throw new g.Exception.IllegalArgumentException("One or more constraints to be validated are asynchronous, but a callback has not been provided."); ! a.independent && 0 < c.length && (f = c[0].group, h = b.groupedContexts[f], b.groupedContexts = {},
            b.groupedContexts[f] = h);
            var B = a.groups,
            G = a.independent,
            u = [],
            L = !0; (function Xa(f) {
                if (f < B.length && L) {
                    for (var g = b.groupedContexts[B[f]].asyncContexts, h = 0, j = 0; j < g.length; j++) {
                        var k = g[j];
                        x(k.group, k.elementId, k.elementConstraint, k.params, l)
                    }
                    var l = function(a) {
                        h++;
                        a && u.push(a);
                        h === g.length && (L = 0 === u.length || G && 0 != u.length, Xa(++f))
                    }
                } else c = 0 < c.length ? c.concat(u) : u,
                a.callback(c)
            })(0)
        } else a.callback && a.callback(c);
        return c
    }
    function I(a, b, f) {
        var c = G[a];
        if (!c) throw new g.Exception.IllegalArgumentException("Undefined group in group list (group: " + a + ", elementId: " + b + ", constraint: " + f + ")");
        c = c[b];
        if (!c) throw new g.Exception.IllegalArgumentException("No constraints have been defined for the element with id: " + b + " in group " + a);
        c = c[f];
        if (!c) throw new g.Exception.IllegalArgumentException("Constraint " + f + " in group " + a + " hasn't been bound to the element with id " + b);
        return {
            group: a,
            elementId: b,
            elementConstraint: f,
            params: c,
            async: L[f].async
        }
    }
    function K(a, b, f, c) {
        var g, h = N(a, b, f, c),
        j = "";
        h.constraintPassed || (j = A(b, f, c), g = {
            group: a,
            constraintName: f,
            formSpecific: L[f].formSpecific,
            custom: L[f].custom,
            compound: L[f].compound,
            async: L[f].async,
            composingConstraintViolations: h.composingConstraintViolations || [],
            constraintParameters: c,
            failingElements: h.failingElements,
            message: j
        });
        if (B.enableHTML5Validation) for (a = 0; a < h.failingElements.length; a++) h.failingElements[a].setCustomValidity("");
        return g
    }
    function x(a, b, f, c, g) {
        var h;
        H(a, b, f, c,
        function(j) {
            var k = "";
            j.constraintPassed || (k = A(b, f, c), h = {
                group: a,
                constraintName: f,
                formSpecific: L[f].formSpecific,
                custom: L[f].custom,
                compound: L[f].compound,
                async: L[f].async,
                composingConstraintViolations: j.composingConstraintViolations || [],
                constraintParameters: c,
                failingElements: j.failingElements,
                message: k
            });
            if (B.enableHTML5Validation) for (k = 0; k < j.failingElements.length; k++) j.failingElements[k].setCustomValidity("");
            g(h)
        })
    }
    function N(b, f, c, g) {
        var h = !1,
        j = [],
        k = document.getElementById(f),
        f = [];
        L[c].formSpecific ? (j = L[c].validator.call(k, g, O), h = 0 == j.length) : (L[c].compound ? (f = L[c].validator.call(k, g, b, L[c], null), h = 0 == f.length) : h = L[c].validator.call(k, g, O), h || j.push(k));
        b = k.cloneNode(!1).name.replace(/\s/g, "");
        g = k.cloneNode(!1).type;
        "undefined" !== typeof g && ("radio" === g.toLowerCase() && "" !== b) && (j = a.getElementsByAttribute(document.body, "input", "name", b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")));
        h = {
            constraintName: c,
            constraintPassed: h,
            failingElements: j
        };
        L[c].reportAsSingleViolation || (h.composingConstraintViolations = f);
        return h
    }
    function H(b, f, c, g, h) {
        function j(b, f, g, h) {
            var l = k.cloneNode(!1).name.replace(/\s/g, ""),
            v = k.cloneNode(!1).type;
            "undefined" !== typeof v && ("radio" === v.toLowerCase() && "" !== l) && (g = a.getElementsByAttribute(document.body, "input", "name", l));
            b = {
                constraintName: c,
                constraintPassed: b,
                failingElements: g
            };
            L[c].reportAsSingleViolation || (b.composingConstraintViolations = f);
            h(b)
        }
        var k = document.getElementById(f);
        L[c].formSpecific ? L[c].validator.call(k, g, O,
        function(a) {
            j(0 === a.length, null, a, h)
        }) : L[c].compound ? L[c].validator.call(k, g, b, L[c],
        function(a) {
            var b = [],
            f = 0 === a.length;
            f || b.push(k);
            j(f, a, b, h)
        }) : L[c].validator.call(k, g, O,
        function(a) {
            var b = [];
            a || b.push(k);
            j(a, null, b, h)
        })
    }
    function A(b, f, c) {
        var b = document.getElementById(b),
        g = "",
        g = c.message ? c.message: c.msg ? c.msg: L[f].defaultMessage,
        h;
        for (h in c) if (c.hasOwnProperty(h)) var j = RegExp("{" + h + "}", "g"),
        g = g.replace(j, c[h]);
        if (L[f].compound && "undefined" !== typeof L[f].composingConstraints) for (c = 0; c < L[f].composingConstraints.length; c++) {
            var k = L[f].composingConstraints[c];
            for (h in k.params) k.params.hasOwnProperty(h) && (j = RegExp("{" + h + "}", "g"), g = g.replace(j, k.params[h]))
        }
        /{label}/.test(g) && ((f = a.friendlyInputNames[b.cloneNode(!1).tagName.toLowerCase()]) || (f = a.friendlyInputNames[b.cloneNode(!1).type.toLowerCase()]), g = g.replace(/{label}/, f), g = g.replace(/{flags}/g, ""));
        return g = g.replace(/\\\"/g, '"')
    }
    var B = {},
    v = {},
    L = {},
    G = {},
    S = {},
    Q = {},
    O = {},
    M = {
        checked: function() {
            var b = !1;
            if ("radio" === this.type.toLowerCase() && "" !== this.name.replace(/\s/g, "")) for (var f = a.getElementsByAttribute(document.body, "input", "name", this.name.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")), c = 0; c < f.length && !b;) b = f[c].checked,
            c++;
            else b = this.checked;
            return b
        },
        selected: function() {
            return 0 < this.selectedIndex
        },
        max: function(a) {
            var b = !0;
            j(this, a) && (b = parseFloat(this.value) <= parseFloat(a.value));
            return b
        },
        min: function(a) {
            var b = !0;
            j(this, a) && (b = parseFloat(this.value) >= parseFloat(a.value));
            return b
        },
        range: function(a) {
            var b = !0;
            j(this, a) && (b = "" != this.value.replace(/\s/g, "") && parseFloat(this.value) <= parseFloat(a.max) && parseFloat(this.value) >= parseFloat(a.min));
            return b
        },
        notBlank: function() {
            return "" != this.value.replace(/\s/g, "")
        },
        blank: function() {
            return "" === this.value.replace(/\s/g, "")
        },
        matches: function(a) {
            var b = !0;
            j(this, a) && (b = "string" === typeof a.regex ? a.regex.replace(/^\//, "").replace(/\/$/, "") : a.regex, b = ("undefined" !== typeof a.flags ? RegExp(b.toString().replace(/^\//, "").replace(/\/[^\/]*$/, ""), a.flags) : RegExp(b)).test(this.value));
            return b
        },
        email: function(a) {
            var b = !0;
            j(this, a) && (b = /^[a-z0-9!#$%&'*+/ = ?^_` { |
            }~ - ] + ( ? :\. [a - z0 - 9 ! #$ % &'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i.test(this.value));
return b},alpha:function(a){var b=!0;j(this,a)&&(b=/^[A-Za-z]+$/.test(this.value));return b},numeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9]+$/.test(this.value));return b},integer:function(a){var b=!0;j(this,a)&&(b=/^-?[0-9]+$/.test(this.value));return b},real:function(a){var b=!0;j(this,a)&&(b=/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/.test(this.value));return b},alphaNumeric:function(a){var b=!0;j(this,a)&&(b=/^[0-9A-Za-z]+$/.test(this.value));return b},completelyFilled:function(){for(var a=[],b=0;b<
this.elements.length;b++){var f=this.elements[b];M.required.call(f)||a.push(f)}return a},passwordsMatch:function(a){var b=[],f=document.getElementById(a.field1),a=document.getElementById(a.field2);f.value!=a.value&&(b=[f,a]);return b},required:function(){var a=!0;if(this.tagName)if("select"===this.tagName.toLowerCase())a=M.selected.call(this);else if("checkbox"===this.type.toLowerCase()||"radio"===this.type.toLowerCase())a=M.checked.call(this);else if("input"===this.tagName.toLowerCase()||"textarea"===
this.tagName.toLowerCase())"button"!=this.type.toLowerCase()&&(a=M.notBlank.call(this));return a},length:function(a){var b=!0;j(this,a)&&(b=this.value.length>=a.min&&this.value.length<=a.max);return b},digits:function(a){var b=!0;if(j(this,a)){var f=this.value.replace(/\s/g,""),c=f.split(/\./),b=!1;0<f.length&&(1==c.length&&(c[1]=""),b=0<a.integer?c[0].length<=a.integer:!0,0<a.fraction&&(b=b&&c[1].length<=a.fraction))}return b},past:function(a){var b=!0;j(this,a)&&(a=k.call(this,a),b=a.dateToValidate<
a.dateToTestAgainst);return b},future:function(a){var b=!0;j(this,a)&&(a=k.call(this,a),b=a.dateToValidate>a.dateToTestAgainst);return b},url:function(a){var b=!0;j(this,a)&&(b=/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\ (\)\ * \ + , ; = ] | :) * @) ? ((\ [( | (v[\da - f] {
                1,
            }\. (([a - z] | \d | -|\. | _ | ~) | [!\$ & '\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\ (\)\ * \ + , ; = ]) * )(: \d * ) ? )(\ / (([a - z] | \d | -|\. | _ | ~ | [\u00A0 - \uD7FF\uF900 - \uFDCF\uFDF0 - \uFFEF]) | ( % [\da - f] {
                2
            }) | [!\$ & '\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\ (\)\ * \ + , ; = ] | :|@) + (\ / (([a - z] | \d | -|\. | _ | ~ | [\u00A0 - \uD7FF\uF900 - \uFDCF\uFDF0 - \uFFEF]) | ( % [\da - f] {
                2
            }) | [!\$ & '\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\ (\)\ * \ + , ; = ] | :|@) + (\ / (([a - z] | \d | -|\. | _ | ~ | [\u00A0 - \uD7FF\uF900 - \uFDCF\uFDF0 - \uFFEF]) | ( % [\da - f] {
                2
            }) | [!\$ & '\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\ (\)\ * \ + , ; = ] | :|@)) {
                0
            })(\ ? ((([a - z] | \d | -|\. | _ | ~ | [\u00A0 - \uD7FF\uF900 - \uFDCF\uFDF0 - \uFFEF]) | ( % [\da - f] {
                2
            }) | [!\$ & '\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\ (\)\ * \ + , ; = ] | :|@) | \ / |\ ? ) * ) ? $ / i.test(this.value));
            return b
        },
        step: function(a) {
            var b = !0;
            if (j(this, a)) var b = parseFloat(this.value),
            f = parseFloat(a.max),
            c = parseFloat(a.min),
            a = parseFloat(a.value),
            b = b <= f && b >= c && 0 === b % a;
            return b
        },
        html5Required: function() {
            return ! this.validity.valueMissing
        },
        html5Email: m, html5URL: m, html5Number: m, html5DateTime: m, html5DateTimeLocal: m, html5Date: m, html5Month: m, html5Time: m, html5Week: m, html5Range: m, html5Tel: m, html5Color: m, html5Pattern: function() {
            return ! this.validity.patternMismatch
        },
        html5MaxLength: function() {
            return ! this.validity.tooLong
        },
        html5Min: function() {
            return ! this.validity.rangeUnderflow
        },
        html5Max: function() {
            return ! this.validity.rangeOverflow
        },
        html5Step: function() {
            return ! this.validity.stepMismatch
        }
    };
    return {
        Validator: M,
        init: function(a) {
            B = a.config;
            v = a.ReverseConstraint;
            L = a.constraintDefinitions;
            G = a.boundConstraints
        },
        wrapValidatorWithEmptyCheck: function(a) {
            return function(b, f, c) {
                var g = !0;
                j(this, b) && (g = a.call(this, b, f, c));
                return g
            }
        },
        initializePublicValidators: function(a) {
            for (var b in a) a.hasOwnProperty(b) && h(b, a)
        },
        compoundValidator: function(a, f, c, g) {
            function h(f, c) {
                var g = {},
                j;
                for (j in f) f.hasOwnProperty(j) && "__size__" != j && b.put(g, j, f[j]);
                if (0 < c.length) for (j in a) a.hasOwnProperty(j) && "__size__" != j && b.put(g, j, a[j]);
                return g
            }
            function k(a, b, f, g) {
                var h = v[w.constraintType],
                b = A(b, h, g),
                f = {
                    group: f,
                    constraintName: a.constraintName,
                    custom: L[h].custom,
                    compound: L[h].compound,
                    async: L[h].async,
                    constraintParameters: w.params,
                    failingElements: a.failingElements,
                    message: b
                };
                c.reportAsSingleViolation || (f.composingConstraintViolations = a.composingConstraintViolations || []);
                return f
            }
            for (var l = [], p = [], m = 0; m < c.composingConstraints.length; m++) {
                var G = c.composingConstraints[m];
                L[v[G.constraintType]].async ? p.push(G) : l.push(G)
            }
            var u = null,
            q = this;
            if (j(this, a)) {
                if (0 < l.length) {
                    u = [];
                    for (m = 0; m < l.length; m++) {
                        var w = l[m],
                        G = v[w.constraintType],
                        S = h(w.params, c.params),
                        G = N(f, q.id, G, S);
                        if (!G.constraintPassed) {
                            var z = k(G, q.id, f, S);
                            if (B.enableHTML5Validation) for (var r = 0; r < G.failingElements.length; r++) G.failingElements[r].setCustomValidity(z.message);
                            u.push(z)
                        }
                    }
                }
                if (0 < p.length) {
                    null === u && (u = []);
                    for (var F = 0,
                    m = 0; m < p.length; m++) w = p[m],
                    G = v[w.constraintType],
                    S = h(w.params, c.params),
                    H(f, q.id, G, S, M);
                    var M = function(a) {
                        if (!a.constraintPassed) {
                            var b = k(a, q.id, f, S);
                            if (B.enableHTML5Validation) for (var c = 0; c < a.failingElements.length; c++) a.failingElements[c].setCustomValidity(b.message);
                            u.push(b)
                        }
                        F++;
                        F === p.length && g(u)
                    }
                }
            } else u = [];
            return u
        },
        validate: function(a) {
            S = {};
            Q = {};
            var b = {
                "000": q,
                "001": r,
                "010": p,
                "011": l,
                100 : z,
                101 : F,
                110 : w,
                111 : J
            };
            if (!a || "undefined" === typeof a) a = {};
            "undefined" === typeof a.independent && (a.independent = !0);
            "undefined" !== typeof a.constraintType && (a.constraintType = v[a.constraintType]);
            if ("undefined" !== typeof a.groups) {
                var f = a.groups;
                a.groups = [];
                for (var g = 0; g < f.length; g++) a.groups.push(c.ReverseGroup[f[g]])
            }
            if ("undefined" !== typeof a.elements) {
                a.elementIds = [];
                for (g = 0; g < a.elements.length; g++) a.elementIds.push(a.elements[g].id)
            } else "undefined" !== typeof a.elementId && (a.elementIds = [a.elementId]);
            return b[function(a) {
                var b = a.elementIds || null,
                f = ("undefined" === typeof a.constraintType ? null: a.constraintType) || null,
                a = "" + (null == (a.groups || null) ? "0": "1");
                return a = a + (null == b ? "0": "1") + (null == f ? "0": "1")
            } (a)](a)
        },
        runValidatorFor: N,
        interpolateConstraintDefaultMessage: A,
        createPublicValidator: h
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("domain/CompositionGraph", b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.CompositionGraph = b())
})(this,
function() {
    var a = {},
    b = {
        visited: !1,
        name: "RootNode",
        type: -1,
        parents: [],
        children: []
    };
    return {
        ROOT: -1,
        addNode: function(c) {
            var g = c.type,
            f = c.name,
            c = c.parent,
            f = "undefined" === typeof a[g] ? {
                visited: !1,
                name: f,
                type: g,
                parents: [],
                children: []
            }: a[g];
            null == c ? b.children.push(f) : (c.children.push(f), f.parents.push(c));
            a[g] = f
        },
        getNodeByType: function(b) {
            b = a[b];
            return "undefined" === typeof b ? null: b
        },
        analyze: function(a) {
            a = function f(a, b) {
                var c = {
                    cycle: !1,
                    path: b
                };
                if (a.visited) c.cycle = !0;
                else {
                    a.visited = !0;
                    for (var m = 0; m < a.children.length && !c.cycle;) c = f(a.children[m], b + "." + a.children[m].name),
                    m++
                }
                return c
            } (a, a.name);
            a.cycle ||
            function h(a) {
                a.visited = !1;
                for (var b = 0; b < a.children.length; b++) h(a.children[b])
            } (b);
            return a
        },
        getRoot: function() {
            return b
        },
        setRoot: function(a) {
            b = a
        },
        clone: function() {
            var a = {},
            g = function h(b, g) {
                var m = "undefined" === typeof a[b.type] ? {
                    visited: b.visited,
                    name: b.name,
                    type: b.type,
                    parents: [],
                    children: []
                }: a[b.type];
                null !== g && m.parents.push(g);
                for (var q = 0; q < b.children.length; q++) m.children.push(h(b.children[q], m));
                return a[b.type] = m
            } (b, null);
            return {
                typeToNodeMap: a,
                root: g
            }
        },
        initializeFromClone: function(c) {
            a = c.typeToNodeMap;
            b = c.root
        }
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("service/ConstraintService", ["service/ValidationService", "domain/CompositionGraph", "service/ExceptionService", "utils/MapUtils", "utils/ArrayUtils"], b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.ConstraintService = b(a.regulaModules.ValidationService, a.regulaModules.CompositionGraph, a.regulaModules.ExceptionService, a.regulaModules.MapUtils, a.regulaModules.ArrayUtils))
})(this,
function(a, b, c, g, f) {
    function h(a, b, g) {
        var h = {
            error: !1,
            message: ""
        };
        g.__size__ < b.params.length && (h = {
            error: !0,
            message: c.generateExceptionMessage(a, q[b.constraintType], "@" + q[b.constraintType] + " expects at least " + b.params.length + " parameter(s). However, you have provided only " + g.__size__),
            data: null
        });
        for (var j = [], k = 0; k < b.params.length; k++) {
            var l = b.params[k];
            "undefined" === typeof g[l] && j.push(l)
        }
        0 < j.length && (h = {
            error: !0,
            message: c.generateExceptionMessage(a, q[b.constraintType], "You seem to have provided some optional or required parameters for @" + q[b.constraintType] + ", but you are still missing the following " + j.length + " required parameter(s): " + f.explode(j, ", ")),
            data: null
        });
        return h
    }
    function j(a, f) {
        var c = b.getNodeByType(m[a]);
        null == c && (b.addNode({
            type: m[a],
            name: a,
            parent: null
        }), c = b.getNodeByType(m[a]));
        for (var g = 0; g < c.children.length; g++) {
            for (var h = c.children[g], j = [], k = 0; k < h.parents.length; k++) h.parents[k] !== c && j.push(h.parents[k]);
            h.parents = j
        }
        c.children = [];
        for (g = 0; g < f.length; g++) h = z[q[f[g].constraintType]],
        b.addNode({
            type: h.constraintType,
            name: q[h.constraintType],
            parent: c
        })
    }
    function k(a, b, f) {
        for (var j = 0; j < b.length; j++) {
            if ("undefined" === typeof b[j].constraintType) throw new c.Exception.ConstraintDefinitionException("In compound constraint " + a + ": A composing constraint has no constraint type specified.");
            var k = b[j],
            l = q[k.constraintType],
            p = {
                __size__: 0
            };
            k.params = k.params || {};
            for (var m in k.params) k.params.hasOwnProperty(m) && g.put(p, m, k.params[m]);
            var r = 0,
            K;
            for (K in k.params) k.params.hasOwnProperty(K) && r++;
            k.params.__size__ = r;
            for (k = 0; k < f.length; k++) g.put(p, f[k], null);
            l = h(null, z[l], p);
            if (l.error) throw new c.Exception.ConstraintDefinitionException("In compound constraint " + a + ": " + l.message);
        }
    }
    for (var m = {},
    q = {},
    r = 0,
    p = "Checked Selected Max Min Range Between NotBlank NotEmpty Blank Empty Pattern Matches Email Alpha IsAlpha Numeric IsNumeric AlphaNumeric IsAlphaNumeric Integer Real CompletelyFilled PasswordsMatch Required Length Digits Past Future Step URL HTML5Required HTML5Email HTML5URL HTML5MaxLength HTML5Pattern HTML5Min HTML5Max HTML5Step".split(" "), l = 0; l < p.length; l++) m[p[l]] = l,
    q[l] = p[l];
    r = l;
    m.Between = m.Range;
    m.Matches = m.Pattern;
    m.Empty = m.Blank;
    m.NotEmpty = m.NotBlank;
    m.IsAlpha = m.Alpha;
    m.IsNumeric = m.Numeric;
    m.IsAlphaNumeric = m.AlphaNumeric;
    var z = {
        Checked: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.checked,
            constraintType: m.Checked,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} needs to be checked."
        },
        Selected: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.selected,
            constraintType: m.Selected,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} needs to be selected."
        },
        Max: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.max,
            constraintType: m.Max,
            custom: !1,
            compound: !1,
            params: ["value"],
            defaultMessage: "{label} needs to be lesser than or equal to {value}."
        },
        Min: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.min,
            constraintType: m.Min,
            custom: !1,
            compound: !1,
            params: ["value"],
            defaultMessage: "{label} needs to be greater than or equal to {value}."
        },
        Range: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.range,
            constraintType: m.Range,
            custom: !1,
            compound: !1,
            params: ["min", "max"],
            defaultMessage: "{label} needs to be between {min} and {max}."
        },
        NotBlank: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.notBlank,
            constraintType: m.NotBlank,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} cannot be blank."
        },
        Blank: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.blank,
            constraintType: m.Blank,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} needs to be blank."
        },
        Pattern: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.matches,
            constraintType: m.Pattern,
            custom: !1,
            compound: !1,
            params: ["regex"],
            defaultMessage: "{label} needs to match {regex}{flags}."
        },
        Email: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.email,
            constraintType: m.Email,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} is not a valid email."
        },
        Alpha: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.alpha,
            constraintType: m.Alpha,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} can only contain letters."
        },
        Numeric: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.numeric,
            constraintType: m.Numeric,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} can only contain numbers."
        },
        AlphaNumeric: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.alphaNumeric,
            constraintType: m.AlphaNumeric,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} can only contain numbers and letters."
        },
        Integer: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.integer,
            constraintType: m.Integer,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} must be an integer."
        },
        Real: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.real,
            constraintType: m.Real,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} must be a real number."
        },
        CompletelyFilled: {
            async: !1,
            html5: !1,
            formSpecific: !0,
            validator: a.Validator.completelyFilled,
            constraintType: m.CompletelyFilled,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} must be completely filled."
        },
        PasswordsMatch: {
            async: !1,
            html5: !1,
            formSpecific: !0,
            validator: a.Validator.passwordsMatch,
            constraintType: m.PasswordsMatch,
            custom: !1,
            compound: !1,
            params: ["field1", "field2"],
            defaultMessage: "Passwords do not match."
        },
        Required: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.required,
            constraintType: m.Required,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} is required."
        },
        Length: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.length,
            constraintType: m.Length,
            custom: !1,
            compound: !1,
            params: ["min", "max"],
            defaultMessage: "{label} length must be between {min} and {max}."
        },
        Digits: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.digits,
            constraintType: m.Digits,
            custom: !1,
            compound: !1,
            params: ["integer", "fraction"],
            defaultMessage: "{label} must have up to {integer} digits and {fraction} fractional digits."
        },
        Past: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.past,
            constraintType: m.Past,
            custom: !1,
            compound: !1,
            params: ["format"],
            defaultMessage: "{label} must be in the past."
        },
        Future: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.future,
            constraintType: m.Future,
            custom: !1,
            compound: !1,
            params: ["format"],
            defaultMessage: "{label} must be in the future."
        },
        Step: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.step,
            constraintType: m.Step,
            custom: !1,
            compound: !1,
            params: ["min", "max", "value"],
            defaultMessage: "{label} must be equal to {min} or greater, and equal to {max} or lesser, at increments of {value}."
        },
        URL: {
            async: !1,
            html5: !1,
            formSpecific: !1,
            validator: a.Validator.url,
            constraintType: m.URL,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} must be a valid URL."
        },
        HTML5Required: {
            async: !1,
            html5: !0,
            inputType: null,
            attribute: "required",
            formSpecific: !1,
            validator: a.Validator.html5Required,
            constraintType: m.HTML5Required,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} is required."
        },
        HTML5Email: {
            async: !1,
            html5: !0,
            inputType: "email",
            attribute: null,
            formSpecific: !1,
            validator: a.Validator.html5Email,
            constraintType: m.HTML5Email,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} is not a valid email."
        },
        HTML5Pattern: {
            async: !1,
            html5: !0,
            inputType: null,
            attribute: "pattern",
            formSpecific: !1,
            validator: a.Validator.html5Pattern,
            constraintType: m.HTML5Pattern,
            custom: !1,
            compound: !1,
            params: ["pattern"],
            defaultMessage: "{label} needs to match {pattern}."
        },
        HTML5URL: {
            async: !1,
            html5: !0,
            inputType: "url",
            attribute: null,
            formSpecific: !1,
            validator: a.Validator.html5URL,
            constraintType: m.HTML5URL,
            custom: !1,
            compound: !1,
            params: [],
            defaultMessage: "{label} is not a valid URL."
        },
        HTML5MaxLength: {
            async: !1,
            html5: !0,
            inputType: null,
            attribute: "maxlength",
            formSpecific: !1,
            validator: a.Validator.html5MaxLength,
            constraintType: m.HTML5MaxLength,
            custom: !1,
            compound: !1,
            params: ["maxlength"],
            defaultMessage: "{label} must be less than {maxlength} characters."
        },
        HTML5Min: {
            async: !1,
            html5: !0,
            inputType: null,
            attribute: "min",
            formSpecific: !1,
            validator: a.Validator.html5Min,
            constraintType: m.HTML5Min,
            custom: !1,
            compound: !1,
            params: ["min"],
            defaultMessage: "{label} needs to be greater than or equal to {min}."
        },
        HTML5Max: {
            async: !1,
            html5: !0,
            inputType: null,
            attribute: "max",
            formSpecific: !1,
            validator: a.Validator.html5Max,
            constraintType: m.HTML5Max,
            custom: !1,
            compound: !1,
            params: ["max"],
            defaultMessage: "{label} needs to be lesser than or equal to {max}."
        },
        HTML5Step: {
            async: !1,
            html5: !0,
            inputType: null,
            attribute: "step",
            formSpecific: !1,
            validator: a.Validator.html5Step,
            constraintType: m.HTML5Step,
            custom: !1,
            compound: !1,
            params: ["step"],
            defaultMessage: "{label} must be equal to the minimum value or greater at increments of {step}."
        }
    };
    return {
        Constraint: m,
        ReverseConstraint: q,
        firstCustomConstraintIndex: r,
        constraintDefinitions: z,
        override: function(f) {
            var g = "undefined" === typeof f.async ? z[f.name].async: f.async,
            h = f.validator;
            f.validatorRedefined && !f.formSpecific && (h = a.wrapValidatorWithEmptyCheck(h));
            var l = b.getNodeByType(f.constraintType);
            if (f.compound) {
                k(f.name, f.composingConstraints, f.params);
                var p = b.clone();
                j(f.name, f.composingConstraints);
                var r = b.analyze(l);
                if (r.cycle) throw b.initializeFromClone(p),
                new c.Exception.ConstraintDefinitionException("regula.override: The overriding composing-constraints you have specified have created a cyclic composition: " + r.path);
                g = !1;
                for (p = 0; p < f.composingConstraints.length && !g;) g = z[q[f.composingConstraints[p].constraintType]].async,
                p++
            }
            null !== l &&
            function y(a) {
                for (var f = 0; f < a.parents.length; f++) {
                    var c = a.parents[f];
                    c.type !== b.ROOT && (z[q[c.type]].async = g, y(c))
                }
            } (l);
            z[f.name] = {
                async: g,
                formSpecific: f.formSpecific,
                constraintType: m[f.name],
                custom: !0,
                compound: f.compound,
                params: f.params,
                composingConstraints: f.composingConstraints,
                defaultMessage: f.defaultMessage,
                validator: h
            };
            z[f.name].custom && f.validatorRedefined && a.createPublicValidator(f.name, z)
        },
        custom: function(b) {
            m[b.name] = r;
            q[r++] = b.name;
            var f = b.validator;
            b.formSpecific || (f = a.wrapValidatorWithEmptyCheck(b.validator));
            z[b.name] = {
                async: b.async,
                formSpecific: b.formSpecific,
                validator: f,
                constraintType: m[b.name],
                custom: !0,
                compound: !1,
                params: b.params,
                defaultMessage: b.defaultMessage
            };
            a.createPublicValidator(b.name, z)
        },
        compound: function(b) {
            k(b.name, b.constraints, b.params);
            for (var f = !1,
            c = 0; c < b.constraints.length && !f;) {
                var g = q[b.constraints[c].constraintType],
                f = f || z[g].async;
                c++
            }
            m[b.name] = r;
            q[r++] = b.name;
            z[b.name] = {
                async: f,
                formSpecific: b.formSpecific,
                constraintType: m[b.name],
                custom: !0,
                compound: !0,
                params: b.params,
                reportAsSingleViolation: b.reportAsSingleViolation,
                composingConstraints: b.constraints,
                defaultMessage: b.defaultMessage,
                validator: a.compoundValidator
            };
            a.createPublicValidator(b.name, z);
            j(b.name, b.constraints)
        },
        verifyConstraintDefinition: function(a, b, f) {
            var g = {
                successful: !0,
                message: "",
                data: null
            },
            j = a.cloneNode(!1);
            "form" == j.tagName.toLowerCase() && !z[b].formSpecific ? g = {
                successful: !1,
                message: c.generateExceptionMessage(a, b, "@" + b + " is not a form constraint, but you are trying to bind it to a form"),
                data: null
            }: "form" != j.tagName.toLowerCase() && z[b].formSpecific ? g = {
                successful: !1,
                message: c.generateExceptionMessage(a, b, "@" + b + " is a form constraint, but you are trying to bind it to a non-form element"),
                data: null
            }: ("undefined" === typeof j.type || "checkbox" != j.type.toLowerCase() && "radio" != j.type.toLowerCase()) && "Checked" == b ? g = {
                successful: !1,
                message: c.generateExceptionMessage(a, b, "@" + b + " is only applicable to checkboxes and radio buttons. You are trying to bind it to an input element that is neither a checkbox nor a radio button."),
                data: null
            }: "select" != j.tagName.toLowerCase() && "Selected" == b ? g = {
                successful: !1,
                message: c.generateExceptionMessage(a, b, "@" + b + " is only applicable to select boxes. You are trying to bind it to an input element that is not a select box."),
                data: null
            }: (a = h(a, z[b], f), a.error ? g = {
                successful: !1,
                message: a.message,
                data: null
            }: g.data = f);
            return g
        },
        verifyParameterCountMatches: h
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("parser/Parser", ["utils/MapUtils", "service/ExceptionService", "service/ConstraintService"], b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.Parser = b(a.regulaModules.MapUtils, a.regulaModules.ExceptionService, a.regulaModules.ConstraintService))
})(this,
function(a, b, c) {
    function g(a) {
        return a ? a.replace(/^\s+/, "").replace(/\s+$/, "") : ""
    }
    return {
        parse: function(f, h) {
            function j(a) {
                var c = {
                    successful: !0,
                    message: "",
                    data: null
                };
                if (!/[A-Za-z_]/.test(a) || "undefined" === typeof a || null == a) c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Invalid starting character"),
                    data: null
                };
                return c
            }
            function k(a) {
                var c = {
                    successful: !0,
                    message: "",
                    data: null
                };
                /[0-9A-Za-z_]/.test(a) || (c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Invalid character in identifier. Can only include 0-9, A-Z, a-z, and _") + " " + c.message,
                    data: null
                });
                return c
            }
            function m(a) {
                var c, h = g(a.shift());
                0 == h.length && (h = a.shift());
                c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Invalid starting character for parameter name. Can only include A-Z, a-z, and _"),
                    data: null
                };
                if ("undefined" !== typeof h) if (c = j(h.charAt(0)), c.successful) {
                    for (var l = 1; l < h.length && c.successful;) c = k(h.charAt(l)),
                    l++;
                    c.successful && (c.data = h)
                } else c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Invalid starting character for parameter name. Can only include A-Z, a-z, and _") + " " + c.message,
                    data: null
                };
                if (c.successful) if (h = c.data, l = a.shift(), "=" == l) {
                    0 == g(a[0]).length && a.shift();
                    l = {
                        successful: !0,
                        message: "",
                        data: []
                    };
                    if (")" == a[0]) l = {
                        successful: !1,
                        message: b.generateExceptionMessage(f, w, "Parameter value expected") + " " + l.message,
                        data: null
                    };
                    else if (c = a.shift(), l = {
                        successful: !0,
                        message: "",
                        data: null
                    },
                    "-" == c ? (l = q(a), l.successful && (l.data = c + l.data)) : (a.unshift(c), l = {
                        successful: !1,
                        message: b.generateExceptionMessage(f, w, "Not a negative number"),
                        data: null
                    }), c = l, c.successful || (c = q(a), c.successful || (c = {
                        successful: !1,
                        message: b.generateExceptionMessage(f, w, "Parameter value is not a number") + " " + c.message,
                        data: null
                    })), l = c, c = l.message, !l.successful) {
                        var l = a.shift(),
                        p = "",
                        m = {
                            successful: !0,
                            message: "",
                            data: null
                        };
                        if ('"' == l) {
                            for (var v = !1; 0 < a.length && m.successful && !v;)'"' == a[0] ? (v = !0, a.shift()) : (m = z(a), p += m.data);
                            v || (m = {
                                successful: !1,
                                message: b.generateExceptionMessage(f, w, "Unterminated string literal"),
                                data: null
                            })
                        } else a.unshift(l),
                        m = {
                            successful: !1,
                            message: b.generateExceptionMessage(f, w, "Invalid quoted string"),
                            data: null
                        };
                        m.successful = m.successful && v;
                        m.data = p;
                        l = m;
                        l.message = l.message + " " + c;
                        c = l.message;
                        if (!l.successful) {
                            v = "";
                            l = a.shift();
                            p = {
                                successful: !0,
                                message: "",
                                data: null
                            };
                            if ("/" == l) {
                                for (var v = l,
                                u = !1; 0 < a.length && p.successful && !u;)"/" == a[0] ? (v += a.shift(), u = !0) : (p = z(a), v += p.data);
                                u || (p = {
                                    successful: !1,
                                    message: b.generateExceptionMessage(f, w, "Unterminated regex literal"),
                                    data: null
                                })
                            } else a.unshift(l),
                            p = {
                                successful: !1,
                                message: b.generateExceptionMessage(f, w, "Not a regular expression"),
                                data: null
                            };
                            p.successful = p.successful && u;
                            p.data = v;
                            l = p;
                            l.message = l.message + " " + c;
                            c = l.message;
                            if (!l.successful && (u = a.shift(), v = {
                                successful: !0,
                                message: "",
                                data: null
                            },
                            "true" == g(u) || "false" == g(u) ? v = {
                                successful: !0,
                                message: "",
                                data: "true" === u
                            }: (a.unshift(u), v = {
                                successful: !1,
                                message: b.generateExceptionMessage(f, w, "Not a boolean"),
                                data: null
                            }), l = v, l.message = l.message + " " + c, c = l.message, !l.successful)) {
                                u = [];
                                v = a.shift();
                                l = {
                                    successful: !0,
                                    message: "",
                                    data: null
                                };
                                if ("[" == v) if (0 == g(a[0]).length && a.shift(), l = "]" == a[0] ? {
                                    successful: !0,
                                    message: "",
                                    data: ""
                                }: F(a), l.successful) {
                                    u.push(l.data);
                                    for (0 == g(a[0]).length && a.shift(); 0 < a.length && "," == a[0] && l.successful;) a.shift(),
                                    l = F(a),
                                    u.push(l.data),
                                    0 == g(a[0]).length && a.shift();
                                    l.data = u;
                                    v = a.shift();
                                    0 == g(v).length && a.shift();
                                    "]" != v && (l = {
                                        successful: !1,
                                        message: b.generateExceptionMessage(f, w, "Cannot find matching closing ] in group definition") + " " + l.message,
                                        data: null
                                    })
                                } else l = {
                                    successful: !1,
                                    message: b.generateExceptionMessage(f, w, "Invalid group definition") + " " + l.message,
                                    data: null
                                };
                                else a.unshift(v),
                                l = {
                                    successful: !1,
                                    message: b.generateExceptionMessage(f, w, "Not a valid group definition"),
                                    data: null
                                };
                                l.message = l.message + " " + c;
                                c = l.message;
                                l.successful || (l = {
                                    successful: !1,
                                    message: b.generateExceptionMessage(f, w, "Parameter value must be a number, quoted string, regular expression, or a boolean") + " " + c,
                                    data: null
                                })
                            }
                        }
                    }
                    c = l;
                    c.successful ? c.data = {
                        name: h,
                        value: c.data
                    }: c = {
                        successful: !1,
                        message: b.generateExceptionMessage(f, w, "Invalid parameter value") + " " + c.message,
                        data: null
                    }
                } else a.unshift(l),
                c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "'=' expected after parameter name " + c.message),
                    data: null
                };
                else c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Invalid parameter name. You might have unmatched parentheses") + " " + c.message,
                    data: null
                };
                return c
            }
            function q(a) {
                var c = null;
                if ("." != a[0]) {
                    if (c = p(a), "." == a[0]) {
                        var g = c.data,
                        c = r(a);
                        c.successful && (c.data = g + c.data)
                    }
                } else c = r(a);
                c.successful || (c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Not a positive number") + " " + c.message,
                    data: null
                });
                return c
            }
            function r(a) {
                var c = a.shift(),
                a = p(a);
                a.successful ? a.data = c + a.data: a = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Not a valid fraction"),
                    data: null
                };
                return a
            }
            function p(a) {
                var c = g(a.shift()),
                h = l(c.charAt(0));
                if (h.successful) {
                    for (a = 1; a < c.length && h.successful;) h = l(c.charAt(a)),
                    a++;
                    h.successful && (h.data = c)
                } else a.unshift(c),
                h = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Not a valid integer") + " " + h.message,
                    data: []
                };
                return h
            }
            function l(a) {
                var c = {
                    successful: !0,
                    message: "",
                    data: null
                };
                /[0-9]/.test(a) || (c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Not a valid digit"),
                    data: null
                });
                return c
            }
            function z(a) {
                var b = "",
                f = a.shift();
                "\\" == f && (b = a.shift());
                return {
                    successful: !0,
                    message: "",
                    data: f + b
                }
            }
            function F(a) {
                var c = {
                    successful: !0,
                    message: "",
                    data: ""
                },
                h = g(a.shift());
                0 == h.length && (h = a.shift());
                c = j(h.charAt(0));
                if (c.successful) {
                    for (a = 1; a < h.length && c.successful;) c = k(h.charAt(a)),
                    a++;
                    c.successful && (c.data = h)
                } else c = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Invalid starting character for group name. Can only include A-Z, a-z, and _") + " " + c.message,
                    data: null
                };
                return c
            }
            for (var w = "",
            J = g(h.replace(/\s*\n\s*/g, "")), u = '@()[]=,"\\/-\\.'.split(""), C = [], D = 0, E = 0; E < J.length; E++) a.exists(u, J.charAt(E)) && (D = J.substring(D, E), 0 == D.length || C.push(D), C.push(J.charAt(E)), D = E + 1);
            D < J.length && (D = J.substring(D, J.length), 0 == D.length || C.push(D));
            u = {
                successful: !0,
                message: "",
                data: null
            };
            for (J = []; 0 < C.length && u.successful;) {
                u = C;
                E = {
                    successful: !0,
                    message: "",
                    data: null
                };
                D = u.shift();
                0 == g(D).length && (D = u.shift());
                if ("@" == D) {
                    var E = {
                        Between: "Range",
                        Matches: "Pattern",
                        Empty: "Blank",
                        NotEmpty: "NotBlank",
                        IsAlpha: "Alpha",
                        IsNumeric: "Integer",
                        IsAlphaNumeric: "AlphaNumeric"
                    },
                    D = g(u.shift()),
                    y = j(D.charAt(0));
                    if (y.successful) {
                        for (var I = 1; I < D.length && y.successful;) y = k(D.charAt(I)),
                        I++;
                        y.successful && (y.data = D)
                    } else y = {
                        successful: !1,
                        message: b.generateExceptionMessage(f, w, "Invalid starting character for constraint name. Can only include A-Z, a-z, and _") + " " + y.message,
                        data: null
                    };
                    D = y;
                    if (D.successful) if (w = D.data, w = E[w] ? E[w] : w, c.constraintDefinitions[w]) {
                        E = {
                            successful: !0,
                            message: "",
                            data: {}
                        };
                        if ("(" == u[0]) if (u.shift(), D = {},
                        ")" == u[0]) u.shift();
                        else if (E = m(u), E.successful) {
                            a.put(D, E.data.name, E.data.value);
                            for (0 == g(u[0]).length && u.shift(); 0 < u.length && "," == u[0] && E.successful;) u.shift(),
                            E = m(u),
                            E.successful && (a.put(D, E.data.name, E.data.value), 0 == g(u[0]).length && u.shift());
                            E.successful && (y = u.shift(), 0 == g(y).length && (y = u.shift()), ")" != y ? E = {
                                successful: !1,
                                message: b.generateExceptionMessage(f, w, "Cannot find matching closing ) in parameter list") + " " + E.message,
                                data: null
                            }: E.data = D)
                        } else E = {
                            successful: !1,
                            message: b.generateExceptionMessage(f, w, "Invalid parameter definition") + " " + E.message,
                            data: null
                        };
                        else void 0 !== u[0] && "@" != u[0] && (E = {
                            successful: !1,
                            message: b.generateExceptionMessage(f, w, "Unexpected character '" + u[0] + "' after constraint definition") + " " + E.message,
                            data: null
                        });
                        D = E;
                        D.successful && (D = c.verifyConstraintDefinition(f, w, D.data), D.successful && (D.data = {
                            element: f,
                            constraintName: w,
                            definedParameters: D.data
                        }))
                    } else D = {
                        successful: !1,
                        message: b.generateExceptionMessage(f, w, "I cannot find the specified constraint name. If this is a custom constraint, you need to define it before you bind to it") + " " + D.message,
                        data: null
                    };
                    else D = {
                        successful: !1,
                        message: b.generateExceptionMessage(f, w, "Invalid constraint name in constraint definition") + " " + D.message,
                        data: null
                    };
                    u = D
                } else u = {
                    successful: !1,
                    message: b.generateExceptionMessage(f, w, "Invalid constraint. Constraint definitions need to start with '@'") + " " + E.message,
                    data: null
                };
                u = E = u;
                J.push(u.data)
            }
            u.data = J;
            return u
        }
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("service/BindingService", "utils/MapUtils service/GroupService utils/DOMUtils parser/Parser service/ConstraintService service/ExceptionService".split(" "), b) : ("undefined" === typeof a.regulaModules && (a.regulaModules = {}), a.regulaModules.BindingService = b(a.regulaModules.MapUtils, a.regulaModules.GroupService, a.regulaModules.DOMUtils, a.regulaModules.Parser, a.regulaModules.ConstraintService, a.regulaModules.ExceptionService))
})(this,
function(a, b, c, g, f, h) {
    function j() {
        l = {
            Default: {}
        }
    }
    function k(f, c) {
        if (a.isEmpty(l[c][f]) && (delete l[c][f], a.isEmpty(l[c]))) {
            delete l[c];
            var g = b.Group[c];
            delete b.Group[c];
            delete b.ReverseGroup[g];
            b.deletedGroupIndices.push(g)
        }
    }
    function m(a) {
        var b = {
            successful: !0,
            message: "",
            data: null
        },
        f = "undefined" !== typeof a.cloneNode ? a.cloneNode(!1) : a,
        c = null;
        "undefined" !== typeof f.tagName && (c = f.tagName.toLowerCase());
        "form" !== c && "select" !== c && "textarea" !== c && "input" !== c ? b = {
            successful: !1,
            message: c + "#" + a.id + " is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements.",
            data: null
        }: "input" === c && null === a.getAttribute("type") && (b = {
            successful: !1,
            message: c + "#" + a.id + " does not have a type attribute.",
            data: null
        });
        return b
    }
    function q(a) {
        for (var b = a.element,
        a = null === b ? c.getElementsByAttribute(document.body, "*", "data-constraints") : [b], f = {
            successful: !0,
            message: "",
            data: null
        },
        h = 0; h < a.length && f.successful;) if (b = a[h], f = m(b), f.successful) {
            b.id || (b.id = c.generateRandomId());
            var j = b.getAttribute("data-constraints");
            if (null !== j && (f = g.parse(b, j), f.successful && null !== f.data)) {
                b = f.data;
                for (j = 0; f.successful && j < b.length;) f = b[j],
                f = p(f.element, f.constraintName, f.definedParameters),
                j++
            }
            h++
        }
        return f
    }
    function r(c, g) {
        function j(c, g, h) {
            var p = l[b.ReverseGroup[b.Group.Default]][c.id][f.ReverseConstraint[g]].groups,
            m = [];
            h.groups ? m = h.groups: m.push(b.ReverseGroup[b.Group.Default]);
            a.exists(m, b.ReverseGroup[b.Group.Default]) || m.push(b.ReverseGroup[b.Group.Default]);
            for (var u = h = m,
            q = {},
            m = [], w = 0; w < p.length; w++) m.push(p[w]),
            q[p[w]] = !0;
            for (p = 0; p < u.length; p++) q[u[p]] || m.push(u[p]);
            p = [];
            for (u = 0; u < m.length; u++) a.exists(h, m[u]) || p.push(m[u]);
            for (h = 0; h < p.length; h++) m = p[h],
            delete l[m][c.id][f.ReverseConstraint[g]],
            k(c.id, m)
        }
        var m = {
            successful: !0,
            message: "",
            data: null
        },
        u = g.element,
        q = c.overwriteConstraint || !1,
        r = c.overwriteParameters || !1,
        E = c.constraintType,
        y = c.params || {},
        I = {
            __size__: 0
        },
        K = y.groups;
        if ("undefined" === typeof E) m = {
            successful: !1,
            message: "regula.bind expects a valid constraint type for each constraint in constraints attribute of the options argument. " + h.explodeParameters(g),
            data: null
        };
        else if (y && y.groups) if (y.groups instanceof Array) {
            for (var x = [], N = 0; N < y.groups.length && m.successful;)"string" == typeof y.groups[N] ? x.push(y.groups[N]) : "undefined" !== typeof b.ReverseGroup[y.groups[N]] ? x.push(b.ReverseGroup[y.groups[N]]) : m = {
                successful: !1,
                message: "Invalid group: " + y.groups[N] + ". " + h.explodeParameters(g),
                data: null
            },
            N++;
            m.successful && (y.groups = x)
        } else m = {
            successful: !1,
            message: "The groups parameter must be an array of enums or strings " + h.explodeParameters(g),
            data: null
        };
        if (m.successful) {
            if (!l[b.ReverseGroup[b.Group.Default]][u.id] || !l[b.ReverseGroup[b.Group.Default]][u.id][f.ReverseConstraint[E]]) {
                for (var H in y) y.hasOwnProperty(H) && a.put(I, H, y[H]);
                m = f.verifyConstraintDefinition(u, f.ReverseConstraint[E], I)
            } else if (q) {
                for (H in y) y.hasOwnProperty(H) && a.put(I, H, y[H]);
                m = f.verifyConstraintDefinition(u, f.ReverseConstraint[E], I);
                m.successful && j(u, E, y)
            } else {
                q = l[b.ReverseGroup[b.Group.Default]][u.id][f.ReverseConstraint[E]];
                for (H in q) q.hasOwnProperty(H) && a.put(I, H, q[H]);
                if (r) {
                    for (H in y) y.hasOwnProperty(H) && a.put(I, H, y[H]);
                    m = f.verifyConstraintDefinition(u, f.ReverseConstraint[E], I);
                    m.successful && j(u, E, I)
                } else for (H in y) y.hasOwnProperty(H) && (q[H] || a.put(I, H, y[H]))
            }
            m.successful && (m = p(u, f.ReverseConstraint[E], I))
        }
        y.groups = K;
        return m
    }
    function p(c, g, j) {
        var k = {
            successful: !0,
            message: "",
            data: null
        };
        j.groups || a.put(j, "groups", [b.ReverseGroup[b.Group.Default]]);
        var p = j.groups; - 1 === p.indexOf(b.ReverseGroup[b.Group.Default]) && (p.push(b.ReverseGroup[b.Group.Default]), j.groups = p);
        for (var m = 0; m < p.length; m++) {
            var q = p[m];
            if (!l[q]) {
                var r = -1,
                r = 0 < b.deletedGroupIndices.length ? b.deletedGroupIndices.pop() : b.firstCustomGroupIndex++;
                b.Group[q] = r;
                b.ReverseGroup[r] = q;
                l[q] = {}
            }
            l[q][c.id] || (l[q][c.id] = {});
            l[q][c.id][g] = j
        }
        if (f.constraintDefinitions[g].html5) if (null !== c.getAttribute("type") && null !== f.constraintDefinitions[g].inputType && c.getAttribute("type") !== f.constraintDefinitions[g].inputType) k = {
            successful: !1,
            message: h.generateExceptionMessage(c, g, "Element type of " + c.getAttribute("type") + " conflicts with type of constraint @" + g + ": " + f.constraintDefinitions[g].inputType),
            data: null
        };
        else if (p = f.constraintDefinitions[g].attribute, m = f.constraintDefinitions[g].inputType, null !== p && null === c.getAttribute(p) || null !== m && null === c.getAttribute("type")) {
            if (g === f.ReverseConstraint[f.Constraint.HTML5Required]) c.setAttribute("required", "true");
            else {
                g = f.constraintDefinitions[g];
                for (p = 0; p < g.params.length; p++) c.setAttribute(g.params[p], j[g.params[p]])
            }
            j = c.getAttribute("class");
            /regula-modified/.test(j) || c.setAttribute("class", j + " regula-modified")
        }
        return k
    }
    var l = null;
    return {
        initializeBoundConstraints: function() {
            null === l && j()
        },
        resetBoundConstraints: j,
        getBoundConstraints: function() {
            return l
        },
        removeElementAndGroupFromBoundConstraintsIfEmpty: k,
        bindAfterParsing: q,
        bindHTML5ValidationConstraints: function(b) {
            var g = b.element,
            h = {
                successful: !0,
                message: "",
                data: null
            },
            b = [{
                attribute: "required",
                value: null,
                constraint: f.Constraint.HTML5Required
            },
            {
                attribute: "type",
                value: "email",
                constraint: f.Constraint.HTML5Email
            },
            {
                attribute: "type",
                value: "url",
                constraint: f.Constraint.HTML5URL
            },
            {
                attribute: "pattern",
                value: null,
                constraint: f.Constraint.HTML5Pattern
            },
            {
                attribute: "maxlength",
                value: null,
                constraint: f.Constraint.HTML5MaxLength
            },
            {
                attribute: "min",
                value: null,
                constraint: f.Constraint.HTML5Min
            },
            {
                attribute: "max",
                value: null,
                constraint: f.Constraint.HTML5Max
            },
            {
                attribute: "step",
                value: null,
                constraint: f.Constraint.HTML5Step
            }],
            j = {
                email: f.Constraint.HTML5Email,
                url: f.Constraint.HTML5URL
            },
            k = {};
            if (null === g) for (var l = 0; l < b.length; l++) for (var q = b[l], j = null, j = null == q.value ? c.getElementsByAttribute(document.body, "*", q.attribute) : c.getElementsByAttribute(document.body, "*", q.attribute, q.value), g = k, r = 0; r < j.length; r++) {
                var y = j[r];
                y.id || (y.id = c.generateRandomId());
                g[y.id] || (g[y.id] = []);
                var I = {
                    constraint: q.constraint,
                    params: {}
                };
                null === q.value && (I.params[q.attribute] = c.getAttributeValueForElement(y, q.attribute));
                g[y.id].push(I)
            } else if (g.id || (g.id = c.generateRandomId()), h = m(g), h.successful) {
                k[g.id] = [];
                for (l = 0; l < b.length; l++) q = b[l],
                null === q.value ? null != c.getAttributeValueForElement(g, q.attribute) && (r = {
                    constraint: q.constraint,
                    params: {}
                },
                r.params[q.attribute] = c.getAttributeValueForElement(g, q.attribute), k[g.id].push(r)) : (q = c.getAttributeValueForElement(g, q.attribute), null != q && "undefined" !== typeof j[q] && k[g.id].push({
                    constraint: j[q],
                    params: {}
                }))
            }
            a.iterateOverMap(k,
            function(a, b) {
                for (var c = document.getElementById(a), g = 0; g < b.length; g++) {
                    var j = b[g];
                    h = p(c, f.ReverseConstraint[j.constraint], j.params)
                }
            });
            return h
        },
        bindFromOptions: function(a) {
            var b = {
                successful: !0,
                message: "",
                data: null
            },
            f = a.element,
            c = a.constraints || [],
            g = f && f.tagName ? f.tagName.toLowerCase() : null;
            if (f) if (1 !== f.nodeType) b = {
                successful: !1,
                message: "regula.bind: element attribute is expected to be an HTMLElement, but was of unexpected type: " + typeof f + ". " + h.explodeParameters(a),
                data: null
            };
            else if ("form" != g && "select" != g && "textarea" != g && "input" != g) b = {
                successful: !1,
                message: g + "#" + f.id + " is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements. " + h.explodeParameters(a),
                data: null
            };
            else if (0 < c.length) for (f = 0; f < c.length && b.successful;) b = r(c[f], a),
            f++;
            else b = q({
                element: f
            });
            else b = {
                successful: !1,
                message: "regula.bind expects a non-null element attribute in the options argument. " + h.explodeParameters(a),
                data: null
            };
            return b
        },
        unbind: function(a) {
            for (var b = !1,
            c = 0; c < a.elements.length; c++) {
                var g = a.elements[c].id,
                j = a.constraints || [];
                if (0 == j.length) for (var p in l) l.hasOwnProperty(p) && "undefined" !== typeof l[p][g] && (delete l[p][g], "Default" !== p && k(g, p), b = !0);
                else for (var m = 0; m < j.length; m++) {
                    var q = j[m];
                    for (p in l) l.hasOwnProperty(p) && "undefined" !== typeof l[p][g] && (delete l[p][g][f.ReverseConstraint[q]], "Default" !== p && k(g, p), b = !0)
                }
            }
            if (0 < a.elements.length && !b) throw new h.Exception.IllegalArgumentException("Element with id " + g + " does not have any constraints bound to it. " + h.explodeParameters(a));
        },
        isBound: function(a) {
            var c = a.elementId,
            g = a.group,
            a = a.constraint,
            h = "undefined" !== typeof l[b.ReverseGroup[b.Group.Default]][c];
            h && "undefined" !== typeof g && "undefined" === typeof a ? (g = b.ReverseGroup[g], h = "undefined" !== typeof g && "undefined" !== typeof l[g][c]) : h && "undefined" === typeof g && "undefined" !== typeof a ? (a = f.ReverseConstraint[a], h = "undefined" !== typeof a && "undefined" !== typeof l[b.ReverseGroup[b.Group.Default]][c][a]) : h && ("undefined" !== typeof g && "undefined" !== typeof a) && (g = b.ReverseGroup[g], a = f.ReverseConstraint[a], h = "undefined" !== typeof g && "undefined" !== typeof a && "undefined" !== typeof l[g][c] && "undefined" !== typeof l[g][c][a]);
            return h
        }
    }
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("regula", "utils/MapUtils utils/DOMUtils service/BindingService service/ExceptionService service/ConstraintService service/ValidationService service/GroupService".split(" "), b) : (a.regula = b(a.regulaModules.MapUtils, a.regulaModules.DOMUtils, a.regulaModules.BindingService, a.regulaModules.ExceptionService, a.regulaModules.ConstraintService, a.regulaModules.ValidationService, a.regulaModules.GroupService), a.regula._modules = a.regulaModules, a.regulaModules = void 0)
})(this,
function(a, b, c, g, f, h, j) {
    var k = {
        validateEmptyFields: !0,
        enableHTML5Validation: !0,
        debug: !1
    };
    c.initializeBoundConstraints();
    h.initializePublicValidators(f.constraintDefinitions);
    return {
        configure: function(b) {
            a.iterateOverMap(b,
            function(a, b) {
                "undefined" !== typeof k[a] && (k[a] = b)
            })
        },
        bind: function(a) {
            var f = {
                successful: !0,
                message: "",
                data: null
            };
            if ("undefined" === typeof a || !a) c.resetBoundConstraints(),
            k.enableHTML5Validation && b.supportsHTML5Validation() && (f = c.bindHTML5ValidationConstraints({
                element: null
            })),
            f.successful && (f = c.bindAfterParsing({
                element: null
            }));
            else {
                var h = a.elements;
                if ("undefined" === typeof h || !h) k.enableHTML5Validation && (b.supportsHTML5Validation() && "undefined" !== typeof a.element && null !== a.element) && (f = c.bindHTML5ValidationConstraints({
                    element: a.element
                })),
                f.successful && (f = c.bindFromOptions(a));
                else for (var j = 0; f.successful && j < h.length;) a.element = h[j],
                k.enableHTML5Validation && b.supportsHTML5Validation() && (f = c.bindHTML5ValidationConstraints({
                    element: a.element
                })),
                f.successful ? (f = c.bindFromOptions(a), f.successful || (f.message = "regula.bind: Element " + (j + 1) + " of " + h.length + " failed: " + f.message)) : f.message = "regula.bind: Failed binding HTML5 validation constraints: Element " + (j + 1) + " of " + h.length + " failed: " + f.message,
                j++
            }
            if (!f.successful) throw new g.Exception.BindException(f.message);
        },
        unbind: function(a) {
            if ("undefined" === typeof a || !a) c.resetBoundConstraints();
            else {
                if ("undefined" === typeof a.elementId && "undefined" === typeof a.elements) throw new g.Exception.IllegalArgumentException("regula.unbind requires an elementId attribute, or an elements attribute if options are provided");
                if ("undefined" !== typeof a.elements && !(a.elements instanceof Array)) throw new g.Exception.IllegalArgumentException("regula.unbind expects the elements attribute to be an array, if it is provided");
                if ("undefined" === typeof a.elements && (a.elements = [document.getElementById(a.elementId)], null === a.elements[0])) throw new g.Exception.IllegalArgumentException("Element with id " + a.elementId + " does not have any constraints bound to it. " + g.explodeParameters(a));
                c.unbind(a)
            }
        },
        isBound: function(a) {
            if ("undefined" === typeof a) throw new g.Exception.IllegalArgumentException("regula.isBound expects options");
            var b = a.element,
            f = a.elementId;
            if ("undefined" === typeof b && "undefined" === typeof f) throw new g.Exception.IllegalArgumentException("regula.isBound expects at the very least, either an element or elementId attribute");
            if (a.hasOwnProperty("constraint") && "undefined" === typeof a.constraint) throw new g.Exception.IllegalArgumentException("Undefined constraint was supplied as a parameter");
            if (a.hasOwnProperty("group") && "undefined" === typeof a.group) throw new g.Exception.IllegalArgumentException("Undefined group was supplied as a parameter");
            "undefined" !== typeof b && (f = b.id);
            return c.isBound({
                elementId: f,
                group: a.group,
                constraint: a.constraint
            })
        },
        validate: function(a, b) {
            h.init({
                config: k,
                ReverseConstraint: f.ReverseConstraint,
                constraintDefinitions: f.constraintDefinitions,
                boundConstraints: c.getBoundConstraints()
            });
            var j = [];
            if ("undefined" !== typeof a && "undefined" !== typeof a.groups && !(a.groups instanceof Array)) throw new g.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must be an array.");
            if ("undefined" !== typeof a && "undefined" !== typeof a.groups && 0 == a.groups.length) throw new g.Exception.IllegalArgumentException("regula.validate: If a groups attribute is provided, it must not be empty.");
            if ("undefined" !== typeof a && a.hasOwnProperty("constraintType") && "undefined" === typeof a.constraintType) throw new g.Exception.IllegalArgumentException("regula.validate: If a constraintType attribute is provided, it cannot be undefined.");
            "undefined" === typeof b && "function" === typeof a && (a = {
                callback: a
            });
            "undefined" !== typeof b && (a.callback = b);
            if ("undefined" !== typeof a && "undefined" !== typeof a.elements) if (a.elements instanceof Array) {
                if (0 == a.elements.length) throw new g.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must not be empty.");
                j = h.validate(a)
            } else throw new g.Exception.IllegalArgumentException("regula.validate: If an elements attribute is provided, it must be an array.");
            else j = h.validate(a);
            return j
        },
        custom: function(a) {
            if (!a) throw new g.Exception.IllegalArgumentException("regula.custom expects options");
            var b = a.name,
            c = a.formSpecific || !1,
            h = a.validator,
            j = a.params || [],
            k = a.defaultMessage || "",
            a = "undefined" === typeof a.async ? !1 : a.async;
            if (b) {
                if ("string" != typeof b) throw new g.Exception.IllegalArgumentException("regula.custom expects the name attribute in the options argument to be a string");
                if (0 == b.replace(/\s/g, "").length) throw new g.Exception.IllegalArgumentException("regula.custom cannot accept an empty string for the name attribute in the options argument");
            } else throw new g.Exception.IllegalArgumentException("regula.custom expects a name attribute in the options argument");
            if ("boolean" != typeof c) throw new g.Exception.IllegalArgumentException("regula.custom expects the formSpecific attribute in the options argument to be a boolean");
            if (h) {
                if ("function" != typeof h) throw new g.Exception.IllegalArgumentException("regula.custom expects the validator attribute in the options argument to be a function");
            } else throw new g.Exception.IllegalArgumentException("regula.custom expects a validator attribute in the options argument");
            if (0 > j.constructor.toString().indexOf("Array")) throw new g.Exception.IllegalArgumentException("regula.custom expects the params attribute in the options argument to be an array");
            if ("string" != typeof k) throw new g.Exception.IllegalArgumentException("regula.custom expects the defaultMessage attribute in the options argument to be a string");
            if (f.constraintDefinitions[b]) throw new g.Exception.IllegalArgumentException("There is already a constraint called " + b + ". If you wish to override this constraint, use regula.override");
            f.custom({
                async: a,
                name: b,
                formSpecific: c,
                validator: h,
                custom: !0,
                compound: !1,
                params: j,
                defaultMessage: k
            })
        },
        compound: function(a) {
            if (!a) throw new g.Exception.IllegalArgumentException("regula.compound expects options");
            var b = a.name,
            c = a.constraints || [],
            h = a.formSpecific || !1,
            j = a.defaultMessage || "",
            k = a.params || [],
            a = "undefined" === typeof a.reportAsSingleViolation ? !1 : a.reportAsSingleViolation;
            if (!b) throw new g.Exception.IllegalArgumentException("regula.compound expects a name attribute in the options argument");
            if ("string" != typeof b) throw new g.Exception.IllegalArgumentException("regula.compound expects name to be a string parameter");
            if (0 > k.constructor.toString().indexOf("Array")) throw new g.Exception.IllegalArgumentException("regula.compound expects the params attribute in the options argument to be an array");
            if (0 == c.length) throw new g.Exception.IllegalArgumentException("regula.compound expects an array of composing constraints under a constraints attribute in the options argument");
            if (f.constraintDefinitions[b]) throw new g.Exception.IllegalArgumentException("regula.compound: There is already a constraint called " + b + ". If you wish to override this constraint, use regula.override");
            f.compound({
                name: b,
                formSpecific: h,
                params: k,
                reportAsSingleViolation: a,
                constraints: c,
                defaultMessage: j
            })
        },
        override: function(a) {
            if (!a) throw new g.Exception.IllegalArgumentException("regula.override expects options");
            if ("undefined" == typeof a.constraintType) throw new g.Exception.IllegalArgumentException("regula.override expects a valid constraintType attribute in the options argument");
            var b = f.ReverseConstraint[a.constraintType];
            if ("undefined" === typeof b) throw new g.Exception.IllegalArgumentException("regula.override: I could not find the specified constraint. Perhaps it has not been defined? Function received: " + g.explodeParameters(a));
            var c = !1,
            h = f.constraintDefinitions[b].formSpecific;
            f.constraintDefinitions[b].custom && (h = "undefined" === typeof a.formSpecific ? f.constraintDefinitions[b].formSpecific: a.formSpecific);
            var j = f.constraintDefinitions[b].custom && "undefined" !== typeof a.async ? a.async: f.constraintDefinitions[b].async,
            k = f.constraintDefinitions[b].custom ? a.params || f.constraintDefinitions[b].params: f.constraintDefinitions[b].params,
            F = a.defaultMessage || f.constraintDefinitions[b].defaultMessage,
            w = f.constraintDefinitions[b].compound,
            J = a.constraints || f.constraintDefinitions[b].constraints,
            u = f.constraintDefinitions[b].validator;
            f.constraintDefinitions[b].custom && (!f.constraintDefinitions[b].compound && "undefined" !== typeof a.validator) && (u = a.validator, c = !0);
            if ("boolean" != typeof h) throw new g.Exception.IllegalArgumentException("regula.override expects the formSpecific attribute in the options argument to be a boolean");
            if ("function" != typeof u) throw new g.Exception.IllegalArgumentException("regula.override expects the validator attribute in the options argument to be a function");
            if (! (k instanceof Array)) throw new g.Exception.IllegalArgumentException("regula.override expects the params attribute in the options argument to be an array");
            if ("string" != typeof F) throw new g.Exception.IllegalArgumentException("regula.override expects the defaultMessage attribute in the options argument to be a string");
            f.override({
                async: j,
                formSpecific: h,
                name: b,
                constraintType: a.constraintType,
                compound: w,
                params: k,
                composingConstraints: J,
                defaultMessage: F,
                validator: u,
                validatorRedefined: c
            })
        },
        Constraint: f.Constraint,
        Group: j.Group,
        DateFormat: {
            DMY: "DMY",
            MDY: "MDY",
            YMD: "YMD"
        },
        Exception: g.Exception
    }
}); (function(a) {
    function b(a) {
        throw RangeError(N[a]);
    }
    function c(a, b) {
        for (var f = a.length,
        c = []; f--;) c[f] = b(a[f]);
        return c
    }
    function g(a, b) {
        var f = a.split("@"),
        g = "";
        1 < f.length && (g = f[0] + "@", a = f[1]);
        a = a.replace(x, ".");
        f = a.split(".");
        f = c(f, b).join(".");
        return g + f
    }
    function f(a) {
        for (var b = [], f = 0, c = a.length, g, h; f < c;) g = a.charCodeAt(f++),
        55296 <= g && 56319 >= g && f < c ? (h = a.charCodeAt(f++), 56320 == (h & 64512) ? b.push(((g & 1023) << 10) + (h & 1023) + 65536) : (b.push(g), f--)) : b.push(g);
        return b
    }
    function h(a) {
        return c(a,
        function(a) {
            var b = "";
            65535 < a && (a -= 65536, b += B(a >>> 10 & 1023 | 55296), a = 56320 | a & 1023);
            return b += B(a)
        }).join("")
    }
    function j(a, b, f) {
        for (var c = 0,
        a = f ? A(a / C) : a >> 1, a = a + A(a / b); a > H * J >> 1; c += F) a = A(a / H);
        return A(c + (H + 1) * a / (a + u))
    }
    function k(a) {
        var f = [],
        c = a.length,
        g,
        k = 0,
        l = E,
        p = D,
        v,
        m,
        B,
        u,
        q;
        v = a.lastIndexOf(y);
        0 > v && (v = 0);
        for (m = 0; m < v; ++m) 128 <= a.charCodeAt(m) && b("not-basic"),
        f.push(a.charCodeAt(m));
        for (v = 0 < v ? v + 1 : 0; v < c;) {
            m = k;
            g = 1;
            for (B = F;; B += F) {
                v >= c && b("invalid-input");
                u = a.charCodeAt(v++);
                u = 10 > u - 48 ? u - 22 : 26 > u - 65 ? u - 65 : 26 > u - 97 ? u - 97 : F; (u >= F || u > A((z - k) / g)) && b("overflow");
                k += u * g;
                q = B <= p ? w: B >= p + J ? J: B - p;
                if (u < q) break;
                u = F - q;
                g > A(z / u) && b("overflow");
                g *= u
            }
            g = f.length + 1;
            p = j(k - m, g, 0 == m);
            A(k / g) > z - l && b("overflow");
            l += A(k / g);
            k %= g;
            f.splice(k++, 0, l)
        }
        return h(f)
    }
    function m(a) {
        var c, g, h, k, l, p, v, m, u, q = [],
        r,
        C,
        I,
        a = f(a);
        r = a.length;
        c = E;
        g = 0;
        l = D;
        for (p = 0; p < r; ++p) u = a[p],
        128 > u && q.push(B(u));
        for ((h = k = q.length) && q.push(y); h < r;) {
            v = z;
            for (p = 0; p < r; ++p) u = a[p],
            u >= c && u < v && (v = u);
            C = h + 1;
            v - c > A((z - g) / C) && b("overflow");
            g += (v - c) * C;
            c = v;
            for (p = 0; p < r; ++p) if (u = a[p], u < c && ++g > z && b("overflow"), u == c) {
                m = g;
                for (v = F;; v += F) {
                    u = v <= l ? w: v >= l + J ? J: v - l;
                    if (m < u) break;
                    I = m - u;
                    m = F - u;
                    q.push(B(u + I % m + 22 + 75 * (26 > u + I % m) - 0));
                    m = A(I / m)
                }
                q.push(B(m + 22 + 75 * (26 > m) - 0));
                l = j(g, C, h == k);
                g = 0; ++h
            }++g; ++c
        }
        return q.join("")
    }
    var q = "object" == typeof exports && exports && !exports.nodeType && exports,
    r = "object" == typeof module && module && !module.nodeType && module,
    p = "object" == typeof global && global;
    if (p.global === p || p.window === p || p.self === p) a = p;
    var l, z = 2147483647,
    F = 36,
    w = 1,
    J = 26,
    u = 38,
    C = 700,
    D = 72,
    E = 128,
    y = "-",
    I = /^xn--/,
    K = /[^\x20-\x7E]/,
    x = /[\x2E\u3002\uFF0E\uFF61]/g,
    N = {
        overflow: "Overflow: input needs wider integers to process",
        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
        "invalid-input": "Invalid input"
    },
    H = F - w,
    A = Math.floor,
    B = String.fromCharCode,
    v;
    l = {
        version: "1.3.2",
        ucs2: {
            decode: f,
            encode: h
        },
        decode: k,
        encode: m,
        toASCII: function(a) {
            return g(a,
            function(a) {
                return K.test(a) ? "xn--" + m(a) : a
            })
        },
        toUnicode: function(a) {
            return g(a,
            function(a) {
                return I.test(a) ? k(a.slice(4).toLowerCase()) : a
            })
        }
    };
    if ("function" == typeof define && "object" == typeof define.amd && define.amd) define("punycode",
    function() {
        return l
    });
    else if (q && r) if (module.exports == q) r.exports = l;
    else for (v in l) l.hasOwnProperty(v) && (q[v] = l[v]);
    else a.punycode = l
})(this); (function(a, b, c) {
    function g(f) {
        var c = b.console;
        h[f] || (h[f] = !0, a.migrateWarnings.push(f), c && (c.warn && !a.migrateMute) && (c.warn("JQMIGRATE: " + f), a.migrateTrace && c.trace && c.trace()))
    }
    function f(b, f, c, h) {
        if (Object.defineProperty) try {
            Object.defineProperty(b, f, {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    g(h);
                    return c
                },
                set: function(a) {
                    g(h);
                    c = a
                }
            });
            return
        } catch(j) {}
        a._definePropertyBroken = !0;
        b[f] = c
    }
    var h = {};
    a.migrateWarnings = [];
    a.migrateMute = !0; ! a.migrateMute && (b.console && b.console.log) && b.console.log("JQMIGRATE: Logging is active");
    a.migrateTrace === c && (a.migrateTrace = !0);
    a.migrateReset = function() {
        h = {};
        a.migrateWarnings.length = 0
    };
    "BackCompat" === document.compatMode && g("jQuery is not compatible with Quirks Mode");
    var j = a("<input/>", {
        size: 1
    }).attr("size") && a.attrFn,
    k = a.attr,
    m = a.attrHooks.value && a.attrHooks.value.get ||
    function() {
        return null
    },
    q = a.attrHooks.value && a.attrHooks.value.set ||
    function() {
        return c
    },
    r = /^(?:input|button)$/i,
    p = /^[238]$/,
    l = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
    z = /^(?:checked|selected)$/i;
    f(a, "attrFn", j || {},
    "jQuery.attrFn is deprecated");
    a.attr = function(b, f, h, v) {
        var m = f.toLowerCase(),
        B = b && b.nodeType;
        if (v && (4 > k.length && g("jQuery.fn.attr( props, pass ) is deprecated"), b && !p.test(B) && (j ? f in j: a.isFunction(a.fn[f])))) return a(b)[f](h);
        "type" === f && (h !== c && r.test(b.nodeName) && b.parentNode) && g("Can't change the 'type' of an input or button in IE 6/7/8"); ! a.attrHooks[m] && l.test(m) && (a.attrHooks[m] = {
            get: function(b, f) {
                var g, h = a.prop(b, f);
                return ! 0 === h || "boolean" !== typeof h && (g = b.getAttributeNode(f)) && !1 !== g.nodeValue ? f.toLowerCase() : c
            },
            set: function(b, f, c) { ! 1 === f ? a.removeAttr(b, c) : (f = a.propFix[c] || c, f in b && (b[f] = !0), b.setAttribute(c, c.toLowerCase()));
                return c
            }
        },
        z.test(m) && g("jQuery.fn.attr('" + m + "') may use property instead of attribute"));
        return k.call(a, b, f, h)
    };
    a.attrHooks.value = {
        get: function(a, b) {
            var f = (a.nodeName || "").toLowerCase();
            if ("button" === f) return m.apply(this, arguments);
            "input" !== f && "option" !== f && g("jQuery.fn.attr('value') no longer gets properties");
            return b in a ? a.value: null
        },
        set: function(a, b) {
            var f = (a.nodeName || "").toLowerCase();
            if ("button" === f) return q.apply(this, arguments);
            "input" !== f && "option" !== f && g("jQuery.fn.attr('value', val) no longer sets properties");
            a.value = b
        }
    };
    var F, w, J = a.fn.init,
    u = a.parseJSON,
    C = /^([^<]*)(<[\w\W]+>)([^>]*)$/;
    a.fn.init = function(b, f, c) {
        var h;
        if (b && "string" === typeof b && !a.isPlainObject(f) && (h = C.exec(a.trim(b))) && h[0]) if ("<" !== b.charAt(0) && g("$(html) HTML strings must start with '<' character"), h[3] && g("$(html) HTML text after last tag is ignored"), "#" === h[0].charAt(0) && (g("HTML string cannot start with a '#' character"), a.error("JQMIGRATE: Invalid selector string (XSS)")), f && f.context && (f = f.context), a.parseHTML) return J.call(this, a.parseHTML(h[2], f, !0), f, c);
        return J.apply(this, arguments)
    };
    a.fn.init.prototype = a.fn;
    a.parseJSON = function(a) {
        return ! a && null !== a ? (g("jQuery.parseJSON requires a valid JSON string"), null) : u.apply(this, arguments)
    };
    a.uaMatch = function(a) {
        a = a.toLowerCase();
        a = /(chrome)[ \/]([\w.]+)/.exec(a) || /(webkit)[ \/]([\w.]+)/.exec(a) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a) || /(msie) ([\w.]+)/.exec(a) || 0 > a.indexOf("compatible") && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a) || [];
        return {
            browser: a[1] || "",
            version: a[2] || "0"
        }
    };
    a.browser || (F = a.uaMatch(navigator.userAgent), w = {},
    F.browser && (w[F.browser] = !0, w.version = F.version), w.chrome ? w.webkit = !0 : w.webkit && (w.safari = !0), a.browser = w);
    f(a, "browser", a.browser, "jQuery.browser is deprecated");
    a.sub = function() {
        function b(a, f) {
            return new b.fn.init(a, f)
        }
        a.extend(!0, b, this);
        b.superclass = this;
        b.fn = b.prototype = this();
        b.fn.constructor = b;
        b.sub = this.sub;
        b.fn.init = function(c, g) {
            g && (g instanceof a && !(g instanceof b)) && (g = b(g));
            return a.fn.init.call(this, c, g, f)
        };
        b.fn.init.prototype = b.fn;
        var f = b(document);
        g("jQuery.sub() is deprecated");
        return b
    };
    a.ajaxSetup({
        converters: {
            "text json": a.parseJSON
        }
    });
    var D = a.fn.data;
    a.fn.data = function(b) {
        var f, h;
        if ((h = this[0]) && "events" === b && 1 === arguments.length) if (f = a.data(h, b), h = a._data(h, b), (f === c || f === h) && h !== c) return g("Use of jQuery.fn.data('events') is deprecated"),
        h;
        return D.apply(this, arguments)
    };
    var E = /\/(java|ecma)script/i,
    y = a.fn.andSelf || a.fn.addBack;
    a.fn.andSelf = function() {
        g("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");
        return y.apply(this, arguments)
    };
    a.clean || (a.clean = function(b, f, c, h) {
        f = f || document;
        f = !f.nodeType && f[0] || f;
        f = f.ownerDocument || f;
        g("jQuery.clean() is deprecated");
        var j, k = [];
        a.merge(k, a.buildFragment(b, f).childNodes);
        if (c) {
            f = function(a) {
                if (!a.type || E.test(a.type)) return h ? h.push(a.parentNode ? a.parentNode.removeChild(a) : a) : c.appendChild(a)
            };
            for (b = 0; null != (j = k[b]); b++) if (!a.nodeName(j, "script") || !f(j)) c.appendChild(j),
            "undefined" !== typeof j.getElementsByTagName && (j = a.grep(a.merge([], j.getElementsByTagName("script")), f), k.splice.apply(k, [b + 1, 0].concat(j)), b += j.length)
        }
        return k
    });
    var I = a.event.add,
    K = a.event.remove,
    x = a.event.trigger,
    N = a.fn.toggle,
    H = a.fn.live,
    A = a.fn.die,
    B = /\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,
    v = /(?:^|\s)hover(\.\S+|)\b/,
    L = function(b) {
        if ("string" !== typeof b || a.event.special.hover) return b;
        v.test(b) && g("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");
        return b && b.replace(v, "mouseenter$1 mouseleave$1")
    };
    a.event.props && "attrChange" !== a.event.props[0] && a.event.props.unshift("attrChange", "attrName", "relatedNode", "srcElement");
    a.event.dispatch && f(a.event, "handle", a.event.dispatch, "jQuery.event.handle is undocumented and deprecated");
    a.event.add = function(a, b, f, c, h) {
        a !== document && B.test(b) && g("AJAX events should be attached to document: " + b);
        I.call(this, a, L(b || ""), f, c, h)
    };
    a.event.remove = function(a, b, f, c, g) {
        K.call(this, a, L(b) || "", f, c, g)
    };
    a.fn.error = function() {
        var a = Array.prototype.slice.call(arguments, 0);
        g("jQuery.fn.error() is deprecated");
        a.splice(0, 0, "error");
        if (arguments.length) return this.bind.apply(this, a);
        this.triggerHandler.apply(this, a);
        return this
    };
    a.fn.toggle = function(b, f) {
        if (!a.isFunction(b) || !a.isFunction(f)) return N.apply(this, arguments);
        g("jQuery.fn.toggle(handler, handler...) is deprecated");
        var c = arguments,
        h = b.guid || a.guid++,
        j = 0,
        k = function(f) {
            var g = (a._data(this, "lastToggle" + b.guid) || 0) % j;
            a._data(this, "lastToggle" + b.guid, g + 1);
            f.preventDefault();
            return c[g].apply(this, arguments) || !1
        };
        for (k.guid = h; j < c.length;) c[j++].guid = h;
        return this.click(k)
    };
    a.fn.live = function(b, f, c) {
        g("jQuery.fn.live() is deprecated");
        if (H) return H.apply(this, arguments);
        a(this.context).on(b, this.selector, f, c);
        return this
    };
    a.fn.die = function(b, f) {
        g("jQuery.fn.die() is deprecated");
        if (A) return A.apply(this, arguments);
        a(this.context).off(b, this.selector || "**", f);
        return this
    };
    a.event.trigger = function(a, b, f, c) { ! f && !B.test(a) && g("Global events are undocumented and deprecated");
        return x.call(this, a, b, f || document, c)
    };
    a.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),
    function(b, f) {
        a.event.special[f] = {
            setup: function() {
                var b = this;
                b !== document && (a.event.add(document, f + "." + a.guid,
                function() {
                    a.event.trigger(f, null, b, !0)
                }), a._data(this, f, a.guid++));
                return ! 1
            },
            teardown: function() {
                this !== document && a.event.remove(document, f + "." + a._data(this, f));
                return ! 1
            }
        }
    })
})(jQuery, window); (function(a) {
    "function" === typeof define && define.amd ? define(["jquery"], a) : a(jQuery)
})(function(a) {
    function b(a) {
        return f.raw ? a: encodeURIComponent(a)
    }
    function c(b, c) {
        var k;
        if (f.raw) k = b;
        else a: {
            var m = b;
            0 === m.indexOf('"') && (m = m.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
            try {
                m = decodeURIComponent(m.replace(g, " "))
            } catch(q) {
                k = void 0;
                break a
            }
            try {
                k = f.json ? JSON.parse(m) : m;
                break a
            } catch(r) {}
            k = void 0
        }
        return a.isFunction(c) ? c(k) : k
    }
    var g = /\+/g,
    f = a.cookie = function(g, j, k) {
        if (void 0 !== j && !a.isFunction(j)) {
            k = a.extend({},
            f.defaults, k);
            if ("number" === typeof k.expires) {
                var m = k.expires,
                q = k.expires = new Date;
                q.setDate(q.getDate() + m)
            }
            return document.cookie = [b(g), "=", b(f.json ? JSON.stringify(j) : String(j)), k.expires ? "; expires=" + k.expires.toUTCString() : "", k.path ? "; path=" + k.path: "", k.domain ? "; domain=" + k.domain: "", k.secure ? "; secure": ""].join("")
        }
        for (var k = g ? void 0 : {},
        m = document.cookie ? document.cookie.split("; ") : [], q = 0, r = m.length; q < r; q++) {
            var p = m[q].split("="),
            l;
            l = p.shift();
            l = f.raw ? l: decodeURIComponent(l);
            p = p.join("=");
            if (g && g === l) {
                k = c(p, j);
                break
            }
            if (!g && void 0 !== (p = c(p))) k[l] = p
        }
        return k
    };
    f.defaults = {};
    a.removeCookie = function(b, f) {
        return void 0 !== a.cookie(b) ? (a.cookie(b, "", a.extend({},
        f, {
            expires: -1
        })), !0) : !1
    }
}); (function(a) {
    function b(b) {
        if (b && void 0 === b.allowPageScroll && (void 0 !== b.swipe || void 0 !== b.swipeStatus)) b.allowPageScroll = q;
        void 0 !== b.click && void 0 === b.tap && (b.tap = b.click);
        b || (b = {});
        b = a.extend({},
        a.fn.swipe.defaults, b);
        return this.each(function() {
            var f = a(this),
            g = f.data(N);
            g || (g = new c(this, b), f.data(N, g))
        })
    }
    function c(b, c) {
        function B(b) {
            if (!0 !== T.data(N + "_intouch") && !(0 < a(b.target).closest(c.excludedElements, T).length)) {
                var k = b.originalEvent ? b.originalEvent: b,
                l,
                p = x ? k.touches[0] : k;
                ca = E;
                x ? da = k.touches.length: b.preventDefault();
                ha = 0;
                za = ea = null;
                pa = Ia = aa = 0;
                ya = 1;
                ua = 0;
                for (var b = [], v = 0; 5 >= v; v++) b.push({
                    start: {
                        x: 0,
                        y: 0
                    },
                    end: {
                        x: 0,
                        y: 0
                    },
                    identifier: 0
                });
                fa = b;
                b = {};
                b[g] = La(g);
                b[f] = La(f);
                b[h] = La(h);
                b[j] = La(j);
                Za = b;
                Oa = Y = 0;
                if (!x || da === c.fingers || c.fingers === C || hb()) {
                    if (Eb(0, p), Na = Ma(), 2 == da && (Eb(1, k.touches[1]), Ia = pa = sb(fa[0].start, fa[1].start)), c.swipeStatus || c.pinchStatus) l = M(k, ca)
                } else l = !1;
                if (!1 === l) return ca = K,
                M(k, ca),
                l;
                rb(!0)
            }
        }
        function v(b) {
            var l, v, p, B = b.originalEvent ? b.originalEvent: b;
            if (! (ca === I || ca === K || Db())) {
                var G, n = jb(x ? B.touches[0] : B);
                wa = Ma();
                x && (da = B.touches.length);
                ca = y;
                2 == da && (0 == Ia ? (Eb(1, B.touches[1]), Ia = pa = sb(fa[0].start, fa[1].start)) : (jb(B.touches[1]), pa = sb(fa[0].end, fa[1].end), za = 1 > ya ? m: k), ya = (1 * (pa / Ia)).toFixed(2), ua = Math.abs(Ia - pa));
                if (da === c.fingers || c.fingers === C || !x || hb()) {
                    l = n.start;
                    v = n.end;
                    l = Math.atan2(v.y - l.y, l.x - v.x);
                    l = Math.round(180 * l / Math.PI);
                    0 > l && (l = 360 - Math.abs(l));
                    l = ea = 45 >= l && 0 <= l ? g: 360 >= l && 315 <= l ? g: 135 <= l && 225 >= l ? f: 45 < l && 135 > l ? j: h;
                    if (c.allowPageScroll === q || hb()) b.preventDefault();
                    else switch (v = c.allowPageScroll === r, l) {
                    case g:
                        (c.swipeLeft && v || !v && c.allowPageScroll != J) && b.preventDefault();
                        break;
                    case f:
                        (c.swipeRight && v || !v && c.allowPageScroll != J) && b.preventDefault();
                        break;
                    case h:
                        (c.swipeUp && v || !v && c.allowPageScroll != u) && b.preventDefault();
                        break;
                    case j:
                        (c.swipeDown && v || !v && c.allowPageScroll != u) && b.preventDefault()
                    }
                    ha = Math.round(Math.sqrt(Math.pow(n.end.x - n.start.x, 2) + Math.pow(n.end.y - n.start.y, 2)));
                    aa = wa - Na;
                    b = ea;
                    l = ha;
                    l = Math.max(l, Za[b].distance);
                    Za[b].distance = l;
                    if (c.swipeStatus || c.pinchStatus) G = M(B, ca);
                    if (!c.triggerOnTouchEnd || c.triggerOnTouchLeave) {
                        b = !0;
                        if (c.triggerOnTouchLeave) {
                            p = a(this);
                            var L = p.offset(),
                            b = L.left;
                            l = L.left + p.outerWidth();
                            v = L.top;
                            p = L.top + p.outerHeight();
                            b = n.end.x > b && n.end.x < l && n.end.y > v && n.end.y < p
                        } ! c.triggerOnTouchEnd && b ? ca = O(y) : c.triggerOnTouchLeave && !b && (ca = O(I)); (ca == K || ca == I) && M(B, ca)
                    }
                } else ca = K,
                M(B, ca); ! 1 === G && (ca = K, M(B, ca))
            }
        }
        function L(a) {
            var b = a.originalEvent;
            if (x && 0 < b.touches.length) return Y = Ma(),
            Oa = event.touches.length + 1,
            !0;
            Db() && (da = Oa);
            a.preventDefault();
            wa = Ma();
            aa = wa - Na;
            ia() ? (ca = K, M(b, ca)) : c.triggerOnTouchEnd || !1 == c.triggerOnTouchEnd && ca === y ? (ca = I, M(b, ca)) : !c.triggerOnTouchEnd && c.tap ? (ca = I, W(b, ca, z)) : ca === y && (ca = K, M(b, ca));
            rb(!1)
        }
        function G() {
            pa = Ia = Na = wa = da = 0;
            ya = 1;
            Oa = Y = 0;
            rb(!1)
        }
        function S(a) {
            a = a.originalEvent;
            c.triggerOnTouchLeave && (ca = O(I), M(a, ca))
        }
        function Q() {
            T.unbind(Xa, B);
            T.unbind(n, G);
            T.unbind(Ya, v);
            T.unbind(Ca, L);
            Da && T.unbind(Da, S);
            rb(!1)
        }
        function O(a) {
            var b = a,
            f = c.maxTimeThreshold ? aa >= c.maxTimeThreshold ? !1 : !0 : !0,
            g = la(),
            h = ia(); ! f || h ? b = K: g && a == y && (!c.triggerOnTouchEnd || c.triggerOnTouchLeave) ? b = I: !g && (a == I && c.triggerOnTouchLeave) && (b = K);
            return b
        }
        function M(a, b) {
            var f = void 0;
            if (Ga() && Lb() || Lb()) f = W(a, b, p);
            else if ((Sa() && hb() || hb()) && !1 !== f) f = W(a, b, l);
            V() && c.doubleTap && !1 !== f ? f = W(a, b, F) : aa > c.longTapThreshold && ha < D && c.longTap && !1 !== f ? f = W(a, b, w) : (1 === da || !x) && (isNaN(ha) || 0 === ha) && c.tap && !1 !== f && (f = W(a, b, z));
            b === K && G(a);
            b === I && (x ? 0 == a.touches.length && G(a) : G(a));
            return f
        }
        function W(b, v, B) {
            var u = void 0;
            if (B == p) {
                T.trigger("swipeStatus", [v, ea || null, ha || 0, aa || 0, da]);
                if (c.swipeStatus && (u = c.swipeStatus.call(T, b, v, ea || null, ha || 0, aa || 0, da), !1 === u)) return ! 1;
                if (v == I && Ga()) {
                    T.trigger("swipe", [ea, ha, aa, da]);
                    if (c.swipe && (u = c.swipe.call(T, b, ea, ha, aa, da), !1 === u)) return ! 1;
                    switch (ea) {
                    case g:
                        T.trigger("swipeLeft", [ea, ha, aa, da]);
                        c.swipeLeft && (u = c.swipeLeft.call(T, b, ea, ha, aa, da));
                        break;
                    case f:
                        T.trigger("swipeRight", [ea, ha, aa, da]);
                        c.swipeRight && (u = c.swipeRight.call(T, b, ea, ha, aa, da));
                        break;
                    case h:
                        T.trigger("swipeUp", [ea, ha, aa, da]);
                        c.swipeUp && (u = c.swipeUp.call(T, b, ea, ha, aa, da));
                        break;
                    case j:
                        T.trigger("swipeDown", [ea, ha, aa, da]),
                        c.swipeDown && (u = c.swipeDown.call(T, b, ea, ha, aa, da))
                    }
                }
            }
            if (B == l) {
                T.trigger("pinchStatus", [v, za || null, ua || 0, aa || 0, da, ya]);
                if (c.pinchStatus && (u = c.pinchStatus.call(T, b, v, za || null, ua || 0, aa || 0, da, ya), !1 === u)) return ! 1;
                if (v == I && Sa()) switch (za) {
                case k:
                    T.trigger("pinchIn", [za || null, ua || 0, aa || 0, da, ya]);
                    c.pinchIn && (u = c.pinchIn.call(T, b, za || null, ua || 0, aa || 0, da, ya));
                    break;
                case m:
                    T.trigger("pinchOut", [za || null, ua || 0, aa || 0, da, ya]),
                    c.pinchOut && (u = c.pinchOut.call(T, b, za || null, ua || 0, aa || 0, da, ya))
                }
            }
            if (B == z) {
                if (v === K || v === I) clearTimeout(na),
                c.doubleTap && !V() ? (oa = Ma(), na = setTimeout(a.proxy(function() {
                    oa = null;
                    T.trigger("tap", [b.target]);
                    c.tap && (u = c.tap.call(T, b, b.target))
                },
                this), c.doubleTapThreshold)) : (oa = null, T.trigger("tap", [b.target]), c.tap && (u = c.tap.call(T, b, b.target)))
            } else if (B == F) {
                if (v === K || v === I) clearTimeout(na),
                oa = null,
                T.trigger("doubletap", [b.target]),
                c.doubleTap && (u = c.doubleTap.call(T, b, b.target))
            } else if (B == w && (v === K || v === I)) clearTimeout(na),
            oa = null,
            T.trigger("longtap", [b.target]),
            c.longTap && (u = c.longTap.call(T, b, b.target));
            return u
        }
        function la() {
            var a = !0;
            null !== c.threshold && (a = ha >= c.threshold);
            return a
        }
        function ia() {
            var a = !1;
            null !== c.cancelThreshold && null !== ea && (a = Za[ea].distance - ha >= c.cancelThreshold);
            return a
        }
        function Sa() {
            var a = da === c.fingers || c.fingers === C || !x,
            b = 0 !== fa[0].end.x,
            f;
            f = null !== c.pinchThreshold ? ua >= c.pinchThreshold: !0;
            return a && b && f
        }
        function hb() {
            return ! (!c.pinchStatus && !c.pinchIn && !c.pinchOut)
        }
        function Ga() {
            var a = c.maxTimeThreshold ? aa >= c.maxTimeThreshold ? !1 : !0 : !0,
            b = la(),
            f = da === c.fingers || c.fingers === C || !x,
            g = 0 !== fa[0].end.x;
            return ! ia() && g && f && b && a
        }
        function Lb() {
            return ! (!c.swipe && !c.swipeStatus && !c.swipeLeft && !c.swipeRight && !c.swipeUp && !c.swipeDown)
        }
        function V() {
            if (null == oa) return ! 1;
            var a = Ma();
            return !! c.doubleTap && a - oa <= c.doubleTapThreshold
        }
        function Db() {
            var a = !1;
            Y && Ma() - Y <= c.fingerReleaseThreshold && (a = !0);
            return a
        }
        function rb(a) { ! 0 === a ? (T.bind(Ya, v), T.bind(Ca, L), Da && T.bind(Da, S)) : (T.unbind(Ya, v, !1), T.unbind(Ca, L, !1), Da && T.unbind(Da, S, !1));
            T.data(N + "_intouch", !0 === a)
        }
        function Eb(a, b) {
            fa[a].identifier = void 0 !== b.identifier ? b.identifier: 0;
            fa[a].start.x = fa[a].end.x = b.pageX || b.clientX;
            fa[a].start.y = fa[a].end.y = b.pageY || b.clientY;
            return fa[a]
        }
        function jb(a) {
            var b = void 0 !== a.identifier ? a.identifier: 0;
            a: {
                for (var f = 0; f < fa.length; f++) if (fa[f].identifier == b) {
                    b = fa[f];
                    break a
                }
                b = void 0
            }
            b.end.x = a.pageX || a.clientX;
            b.end.y = a.pageY || a.clientY;
            return b
        }
        function La(a) {
            return {
                direction: a,
                distance: 0
            }
        }
        function sb(a, b) {
            var f = Math.abs(a.x - b.x),
            c = Math.abs(a.y - b.y);
            return Math.round(Math.sqrt(f * f + c * c))
        }
        function Ma() {
            return (new Date).getTime()
        }
        var Ha = x || !c.fallbackToMouseEvents,
        Xa = Ha ? "touchstart": "mousedown",
        Ya = Ha ? "touchmove": "mousemove",
        Ca = Ha ? "touchend": "mouseup",
        Da = Ha ? null: "mouseleave",
        n = "touchcancel",
        ha = 0,
        ea = null,
        aa = 0,
        Ia = 0,
        pa = 0,
        ya = 1,
        ua = 0,
        za = 0,
        Za = null,
        T = a(b),
        ca = "start",
        da = 0,
        fa = null,
        Na = 0,
        wa = 0,
        Y = 0,
        Oa = 0,
        oa = 0,
        na = null;
        try {
            T.bind(Xa, B),
            T.bind(n, G)
        } catch(Ka) {
            a.error("events not supported " + Xa + "," + n + " on jQuery.swipe")
        }
        this.enable = function() {
            T.bind(Xa, B);
            T.bind(n, G);
            return T
        };
        this.disable = function() {
            Q();
            return T
        };
        this.destroy = function() {
            Q();
            T.data(N, null);
            return T
        };
        this.option = function(b, f) {
            if (void 0 !== c[b]) {
                if (void 0 === f) return c[b];
                c[b] = f
            } else a.error("Option " + b + " does not exist on jQuery.swipe.options")
        }
    }
    var g = "left",
    f = "right",
    h = "up",
    j = "down",
    k = "in",
    m = "out",
    q = "none",
    r = "auto",
    p = "swipe",
    l = "pinch",
    z = "tap",
    F = "doubletap",
    w = "longtap",
    J = "horizontal",
    u = "vertical",
    C = "all",
    D = 10,
    E = "start",
    y = "move",
    I = "end",
    K = "cancel",
    x = "ontouchstart" in window,
    N = "TouchSwipe";
    a.fn.swipe = function(f) {
        var c = a(this),
        g = c.data(N);
        if (g && "string" === typeof f) {
            if (g[f]) return g[f].apply(this, Array.prototype.slice.call(arguments, 1));
            a.error("Method " + f + " does not exist on jQuery.swipe")
        } else if (!g && ("object" === typeof f || !f)) return b.apply(this, arguments);
        return c
    };
    a.fn.swipe.defaults = {
        fingers: 1,
        threshold: 75,
        cancelThreshold: null,
        pinchThreshold: 20,
        maxTimeThreshold: null,
        fingerReleaseThreshold: 250,
        longTapThreshold: 500,
        doubleTapThreshold: 200,
        swipe: null,
        swipeLeft: null,
        swipeRight: null,
        swipeUp: null,
        swipeDown: null,
        swipeStatus: null,
        pinchIn: null,
        pinchOut: null,
        pinchStatus: null,
        click: null,
        tap: null,
        doubleTap: null,
        longTap: null,
        triggerOnTouchEnd: !0,
        triggerOnTouchLeave: !1,
        allowPageScroll: "auto",
        fallbackToMouseEvents: !0,
        excludedElements: "button, input, select, textarea, a, .noSwipe"
    };
    a.fn.swipe.phases = {
        PHASE_START: E,
        PHASE_MOVE: y,
        PHASE_END: I,
        PHASE_CANCEL: K
    };
    a.fn.swipe.directions = {
        LEFT: g,
        RIGHT: f,
        UP: h,
        DOWN: j,
        IN: k,
        OUT: m
    };
    a.fn.swipe.pageScroll = {
        NONE: q,
        HORIZONTAL: J,
        VERTICAL: u,
        AUTO: r
    };
    a.fn.swipe.fingers = {
        ONE: 1,
        TWO: 2,
        THREE: 3,
        ALL: C
    }
})(jQuery);
$(document).ready(function() {
    jQuery.easing.jswing = jQuery.easing.swing;
    jQuery.extend(jQuery.easing, {
        def: "easeOutQuad",
        easeInQuad: function(a, b, c, g, f) {
            return g * (b /= f) * b + c
        },
        easeOutQuad: function(a, b, c, g, f) {
            return - g * (b /= f) * (b - 2) + c
        },
        easeInOutQuad: function(a, b, c, g, f) {
            return 1 > (b /= f / 2) ? g / 2 * b * b + c: -g / 2 * (--b * (b - 2) - 1) + c
        },
        easeInCubic: function(a, b, c, g, f) {
            return g * (b /= f) * b * b + c
        },
        easeOutCubic: function(a, b, c, g, f) {
            return g * ((b = b / f - 1) * b * b + 1) + c
        },
        easeInOutCubic: function(a, b, c, g, f) {
            return 1 > (b /= f / 2) ? g / 2 * b * b * b + c: g / 2 * ((b -= 2) * b * b + 2) + c
        },
        easeInQuart: function(a, b, c, g, f) {
            return g * (b /= f) * b * b * b + c
        },
        easeOutQuart: function(a, b, c, g, f) {
            return - g * ((b = b / f - 1) * b * b * b - 1) + c
        },
        easeInOutQuart: function(a, b, c, g, f) {
            return 1 > (b /= f / 2) ? g / 2 * b * b * b * b + c: -g / 2 * ((b -= 2) * b * b * b - 2) + c
        },
        easeInQuint: function(a, b, c, g, f) {
            return g * (b /= f) * b * b * b * b + c
        },
        easeOutQuint: function(a, b, c, g, f) {
            return g * ((b = b / f - 1) * b * b * b * b + 1) + c
        },
        easeInOutQuint: function(a, b, c, g, f) {
            return 1 > (b /= f / 2) ? g / 2 * b * b * b * b * b + c: g / 2 * ((b -= 2) * b * b * b * b + 2) + c
        },
        easeInSine: function(a, b, c, g, f) {
            return - g * Math.cos(b / f * (Math.PI / 2)) + g + c
        },
        easeOutSine: function(a, b, c, g, f) {
            return g * Math.sin(b / f * (Math.PI / 2)) + c
        },
        easeInOutSine: function(a, b, c, g, f) {
            return - g / 2 * (Math.cos(Math.PI * b / f) - 1) + c
        },
        easeInExpo: function(a, b, c, g, f) {
            return 0 == b ? c: g * Math.pow(2, 10 * (b / f - 1)) + c
        },
        easeOutExpo: function(a, b, c, g, f) {
            return b == f ? c + g: g * ( - Math.pow(2, -10 * b / f) + 1) + c
        },
        easeInOutExpo: function(a, b, c, g, f) {
            return 0 == b ? c: b == f ? c + g: 1 > (b /= f / 2) ? g / 2 * Math.pow(2, 10 * (b - 1)) + c: g / 2 * ( - Math.pow(2, -10 * --b) + 2) + c
        },
        easeInCirc: function(a, b, c, g, f) {
            return - g * (Math.sqrt(1 - (b /= f) * b) - 1) + c
        },
        easeOutCirc: function(a, b, c, g, f) {
            return g * Math.sqrt(1 - (b = b / f - 1) * b) + c
        },
        easeInOutCirc: function(a, b, c, g, f) {
            return 1 > (b /= f / 2) ? -g / 2 * (Math.sqrt(1 - b * b) - 1) + c: g / 2 * (Math.sqrt(1 - (b -= 2) * b) + 1) + c
        },
        easeInElastic: function(a, b, c, g, f) {
            var a = 1.70158,
            h = 0,
            j = g;
            if (0 == b) return c;
            if (1 == (b /= f)) return c + g;
            h || (h = 0.3 * f);
            j < Math.abs(g) ? (j = g, a = h / 4) : a = h / (2 * Math.PI) * Math.asin(g / j);
            return - (j * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * f - a) * 2 * Math.PI / h)) + c
        },
        easeOutElastic: function(a, b, c, g, f) {
            var a = 1.70158,
            h = 0,
            j = g;
            if (0 == b) return c;
            if (1 == (b /= f)) return c + g;
            h || (h = 0.3 * f);
            j < Math.abs(g) ? (j = g, a = h / 4) : a = h / (2 * Math.PI) * Math.asin(g / j);
            return j * Math.pow(2, -10 * b) * Math.sin((b * f - a) * 2 * Math.PI / h) + g + c
        },
        easeInOutElastic: function(a, b, c, g, f) {
            var a = 1.70158,
            h = 0,
            j = g;
            if (0 == b) return c;
            if (2 == (b /= f / 2)) return c + g;
            h || (h = f * 0.3 * 1.5);
            j < Math.abs(g) ? (j = g, a = h / 4) : a = h / (2 * Math.PI) * Math.asin(g / j);
            return 1 > b ? -0.5 * j * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * f - a) * 2 * Math.PI / h) + c: 0.5 * j * Math.pow(2, -10 * (b -= 1)) * Math.sin((b * f - a) * 2 * Math.PI / h) + g + c
        },
        easeInBack: function(a, b, c, g, f, h) {
            void 0 == h && (h = 1.70158);
            return g * (b /= f) * b * ((h + 1) * b - h) + c
        },
        easeOutBack: function(a, b, c, g, f, h) {
            void 0 == h && (h = 1.70158);
            return g * ((b = b / f - 1) * b * ((h + 1) * b + h) + 1) + c
        },
        easeInOutBack: function(a, b, c, g, f, h) {
            void 0 == h && (h = 1.70158);
            return 1 > (b /= f / 2) ? g / 2 * b * b * (((h *= 1.525) + 1) * b - h) + c: g / 2 * ((b -= 2) * b * (((h *= 1.525) + 1) * b + h) + 2) + c
        },
        easeInBounce: function(a, b, c, g, f) {
            return g - jQuery.easing.easeOutBounce(a, f - b, 0, g, f) + c
        },
        easeOutBounce: function(a, b, c, g, f) {
            return (b /= f) < 1 / 2.75 ? g * 7.5625 * b * b + c: b < 2 / 2.75 ? g * (7.5625 * (b -= 1.5 / 2.75) * b + 0.75) + c: b < 2.5 / 2.75 ? g * (7.5625 * (b -= 2.25 / 2.75) * b + 0.9375) + c: g * (7.5625 * (b -= 2.625 / 2.75) * b + 0.984375) + c
        },
        easeInOutBounce: function(a, b, c, g, f) {
            return b < f / 2 ? 0.5 * jQuery.easing.easeInBounce(a, 2 * b, 0, g, f) + c: 0.5 * jQuery.easing.easeOutBounce(a, 2 * b - f, 0, g, f) + 0.5 * g + c
        }
    })
}); (function() {
    var a, b, c, g, f = {}.hasOwnProperty,
    h = function() {
        this.options_index = 0;
        this.parsed = []
    };
    h.prototype.add_node = function(a) {
        return "OPTGROUP" === a.nodeName.toUpperCase() ? this.add_group(a) : this.add_option(a)
    };
    h.prototype.add_group = function(a) {
        var b, f, c, g, h, j;
        b = this.parsed.length;
        this.parsed.push({
            array_index: b,
            group: !0,
            label: this.escapeExpression(a.label),
            title: a.title ? a.title: void 0,
            children: 0,
            disabled: a.disabled,
            classes: a.className
        });
        h = a.childNodes;
        j = [];
        c = 0;
        for (g = h.length; c < g; c++) f = h[c],
        j.push(this.add_option(f, b, a.disabled));
        return j
    };
    h.prototype.add_option = function(a, b, f) {
        if ("OPTION" === a.nodeName.toUpperCase()) return "" !== a.text ? (null != b && (this.parsed[b].children += 1), this.parsed.push({
            array_index: this.parsed.length,
            options_index: this.options_index,
            value: a.value,
            text: a.text,
            html: a.innerHTML,
            title: a.title ? a.title: void 0,
            selected: a.selected,
            disabled: !0 === f ? f: a.disabled,
            group_array_index: b,
            group_label: null != b ? this.parsed[b].label: null,
            classes: a.className,
            data: this._parseDataAttributes(a),
            style: a.style.cssText
        })) : this.parsed.push({
            array_index: this.parsed.length,
            options_index: this.options_index,
            data: {},
            empty: !0
        }),
        this.options_index += 1
    };
    h.prototype._parseDataAttributes = function(a) {
        var b = {
            "option-array-index": this.parsed.length
        },
        f;
        if ("undefined" !== typeof a) for (var c = 0; c < a.attributes.length; c++) if (f = a.attributes[c].nodeName.match(/data-(.*)/)) b[f[1]] = a.attributes[c].nodeValue;
        return b
    };
    h.prototype.escapeExpression = function(a) {
        var b;
        if (null == a || !1 === a) return "";
        if (!/[\&\<\>\"\'\`]/.test(a)) return a;
        b = {
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;"
        };
        return a.replace(/&(?!\w+;)|[\<\>\"\'\`]/g,
        function(a) {
            return b[a] || "&amp;"
        })
    };
    h.select_to_array = function(a) {
        var b, f, c, g;
        b = new h;
        g = a.childNodes;
        f = 0;
        for (c = g.length; f < c; f++) a = g[f],
        b.add_node(a);
        return b.parsed
    };
    var j = function(a, b) {
        this.form_field = a;
        this.options = null != b ? b: {};
        j.browser_is_supported() && (this.is_multiple = this.form_field.multiple, this.set_default_text(), this.set_default_values(), this.setup(), this.set_up_html(), this.register_observers(), this.on_ready())
    };
    j.prototype.set_default_values = function() {
        var a = this;
        this.click_test_action = function(b) {
            return a.test_active_click(b)
        };
        this.activate_action = function(b) {
            return a.activate_field(b)
        };
        this.results_showing = this.mouse_on_container = this.active_field = !1;
        this.result_highlighted = null;
        this.allow_single_deselect = null != this.options.allow_single_deselect && null != this.form_field.options[0] && "" === this.form_field.options[0].text ? this.options.allow_single_deselect: !1;
        this.disable_search_threshold = this.options.disable_search_threshold || 0;
        this.disable_search = this.options.disable_search || !1;
        this.enable_split_word_search = null != this.options.enable_split_word_search ? this.options.enable_split_word_search: !0;
        this.group_search = null != this.options.group_search ? this.options.group_search: !0;
        this.search_contains = this.options.search_contains || !1;
        this.single_backstroke_delete = null != this.options.single_backstroke_delete ? this.options.single_backstroke_delete: !0;
        this.max_selected_options = this.options.max_selected_options || Infinity;
        this.inherit_select_classes = this.options.inherit_select_classes || !1;
        this.display_selected_options = null != this.options.display_selected_options ? this.options.display_selected_options: !0;
        this.display_disabled_options = null != this.options.display_disabled_options ? this.options.display_disabled_options: !0;
        this.include_group_label_in_selected = this.options.include_group_label_in_selected || !1;
        return this.max_shown_results = this.options.max_shown_results || Number.POSITIVE_INFINITY
    };
    j.prototype.set_default_text = function() {
        this.default_text = this.form_field.getAttribute("data-placeholder") ? this.form_field.getAttribute("data-placeholder") : this.is_multiple ? this.options.placeholder_text_multiple || this.options.placeholder_text || j.default_multiple_text: this.options.placeholder_text_single || this.options.placeholder_text || j.default_single_text;
        return this.results_none_found = this.form_field.getAttribute("data-no_results_text") || this.options.no_results_text || j.default_no_result_text
    };
    j.prototype.choice_label = function(a) {
        return this.include_group_label_in_selected && null != a.group_label ? "<b class='group-name'>" + a.group_label + "</b>" + a.html: a.html
    };
    j.prototype.mouse_enter = function() {
        return this.mouse_on_container = !0
    };
    j.prototype.mouse_leave = function() {
        return this.mouse_on_container = !1
    };
    j.prototype.input_focus = function() {
        var a = this;
        if (this.is_multiple) {
            if (!this.active_field) return setTimeout(function() {
                return a.container_mousedown()
            },
            50)
        } else if (!this.active_field) return this.activate_field()
    };
    j.prototype.input_blur = function() {
        var a = this;
        if (!this.mouse_on_container) return this.active_field = !1,
        setTimeout(function() {
            return a.blur_test()
        },
        100)
    };
    j.prototype.results_option_build = function(a) {
        var b, f, c, g, h, j, k;
        b = "";
        g = 0;
        k = this.results_data;
        h = 0;
        for (j = k.length; h < j && !(f = k[h], c = f.group ? this.result_add_group(f) : this.result_add_option(f), "" !== c && (g++, b += c), null != a && a.first && (f.selected && this.is_multiple ? this.choice_build(f) : f.selected && !this.is_multiple && this.single_set_selected_text(this.choice_label(f))), g >= this.max_shown_results); h++);
        return b
    };
    j.prototype.result_add_option = function(a) {
        var b, f;
        if (!a.search_match || !this.include_option_in_results(a)) return "";
        b = []; ! a.disabled && (!a.selected || !this.is_multiple) && b.push("active-result");
        a.disabled && (!a.selected || !this.is_multiple) && b.push("disabled-result");
        a.selected && b.push("result-selected");
        null != a.group_array_index && b.push("group-option");
        "" !== a.classes && b.push(a.classes);
        f = document.createElement("li");
        f.className = b.join(" ");
        f.style.cssText = a.style;
        for (var c in a.data) a.data.hasOwnProperty(c) && f.setAttribute("data-" + c, a.data[c]);
        f.innerHTML = a.search_text;
        a.title && (f.title = a.title);
        return this.outerHTML(f)
    };
    j.prototype.result_add_group = function(a) {
        var b, f;
        if (!a.search_match && !a.group_match || !(0 < a.active_options)) return "";
        b = [];
        b.push("group-result");
        a.classes && b.push(a.classes);
        f = document.createElement("li");
        f.className = b.join(" ");
        f.innerHTML = a.search_text;
        a.title && (f.title = a.title);
        return this.outerHTML(f)
    };
    j.prototype.results_update_field = function() {
        this.set_default_text();
        this.is_multiple || this.results_reset_cleanup();
        this.result_clear_highlight();
        this.results_build();
        if (this.results_showing) return this.winnow_results()
    };
    j.prototype.reset_single_select_options = function() {
        var a, b, f, c, g;
        c = this.results_data;
        g = [];
        b = 0;
        for (f = c.length; b < f; b++) a = c[b],
        a.selected ? g.push(a.selected = !1) : g.push(void 0);
        return g
    };
    j.prototype.results_toggle = function() {
        return this.results_showing ? this.results_hide() : this.results_show()
    };
    j.prototype.results_search = function() {
        return this.results_showing ? this.winnow_results() : this.results_show()
    };
    j.prototype.winnow_results = function() {
        var a, b, f, c, g, h, j, k, m, q, r;
        this.no_results_clear();
        f = 0;
        g = this.get_search_text();
        a = g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
        k = RegExp(a, "i");
        b = this.get_search_regex(a);
        r = this.results_data;
        m = 0;
        for (q = r.length; m < q; m++) if (a = r[m], a.search_match = !1, c = null, this.include_option_in_results(a) && (a.group && (a.group_match = !1, a.active_options = 0), null != a.group_array_index && this.results_data[a.group_array_index] && (c = this.results_data[a.group_array_index], 0 === c.active_options && c.search_match && (f += 1), c.active_options += 1), a.search_text = a.group ? a.label: a.html, !a.group || this.group_search)) a.search_match = this.search_string_match(a.search_text, b),
        a.search_match && !a.group && (f += 1),
        a.search_match ? (g.length && (h = a.search_text.search(k), j = a.search_text.substr(0, h + g.length) + "</em>" + a.search_text.substr(h + g.length), a.search_text = j.substr(0, h) + "<em>" + j.substr(h)), null != c && (c.group_match = !0)) : null != a.group_array_index && this.results_data[a.group_array_index].search_match && (a.search_match = !0);
        this.result_clear_highlight();
        if (1 > f && g.length) return this.update_results_content(""),
        this.no_results(g);
        this.update_results_content(this.results_option_build());
        return this.winnow_results_set_highlight()
    };
    j.prototype.get_search_regex = function(a) {
        return RegExp((this.search_contains ? "": "^") + a, "i")
    };
    j.prototype.search_string_match = function(a, b) {
        var f, c, g, h;
        if (b.test(a)) return ! 0;
        if (this.enable_split_word_search && (0 <= a.indexOf(" ") || 0 === a.indexOf("["))) if (c = a.replace(/\[|\]/g, "").split(" "), c.length) {
            g = 0;
            for (h = c.length; g < h; g++) if (f = c[g], b.test(f)) return ! 0
        }
    };
    j.prototype.choices_count = function() {
        var a, b, f, c;
        if (null != this.selected_option_count) return this.selected_option_count;
        this.selected_option_count = 0;
        c = this.form_field.options;
        b = 0;
        for (f = c.length; b < f; b++) a = c[b],
        a.selected && (this.selected_option_count += 1);
        return this.selected_option_count
    };
    j.prototype.choices_click = function(a) {
        a.preventDefault();
        if (!this.results_showing && !this.is_disabled) return this.results_show()
    };
    j.prototype.keyup_checker = function(a) {
        var b, f;
        b = null != (f = a.which) ? f: a.keyCode;
        this.search_field_scale();
        switch (b) {
        case 8:
            if (this.is_multiple && 1 > this.backstroke_length && 0 < this.choices_count()) return this.keydown_backstroke();
            if (!this.pending_backstroke) return this.result_clear_highlight(),
            this.results_search();
            break;
        case 13:
            a.preventDefault();
            if (this.results_showing) return this.result_select(a);
            break;
        case 27:
            return this.results_showing && this.results_hide(),
            !0;
        case 9:
        case 38:
        case 40:
        case 16:
        case 91:
        case 17:
        case 18:
            break;
        default:
            return this.results_search()
        }
    };
    j.prototype.clipboard_event_checker = function() {
        var a = this;
        return setTimeout(function() {
            return a.results_search()
        },
        50)
    };
    j.prototype.container_width = function() {
        return null != this.options.width ? this.options.width: "" + this.form_field.offsetWidth + "px"
    };
    j.prototype.include_option_in_results = function(a) {
        return this.is_multiple && !this.display_selected_options && a.selected || !this.display_disabled_options && a.disabled || a.empty ? !1 : !0
    };
    j.prototype.search_results_touchstart = function(a) {
        this.touch_started = !0;
        return this.search_results_mouseover(a)
    };
    j.prototype.search_results_touchmove = function(a) {
        this.touch_started = !1;
        return this.search_results_mouseout(a)
    };
    j.prototype.search_results_touchend = function(a) {
        if (this.touch_started) return this.search_results_mouseup(a)
    };
    j.prototype.outerHTML = function(a) {
        var b;
        if (a.outerHTML) return a.outerHTML;
        b = document.createElement("div");
        b.appendChild(a);
        return b.innerHTML
    };
    j.browser_is_supported = function() {
        return /iP(od|hone)/i.test(window.navigator.userAgent) || /Android/i.test(window.navigator.userAgent) && /Mobile/i.test(window.navigator.userAgent) || /IEMobile/i.test(window.navigator.userAgent) || /Windows Phone/i.test(window.navigator.userAgent) || /BlackBerry/i.test(window.navigator.userAgent) || /BB10/i.test(window.navigator.userAgent) ? !1 : "Microsoft Internet Explorer" === window.navigator.appName ? 8 <= document.documentMode: !0
    };
    j.default_multiple_text = "Select Some Options";
    j.default_single_text = "Select an Option";
    j.default_no_result_text = "No results match";
    b = j;
    a = jQuery;
    a.fn.extend({
        chosen: function(f) {
            return ! b.browser_is_supported() ? this: this.each(function() {
                var b, g;
                b = a(this);
                g = b.data("chosen");
                "destroy" === f ? g instanceof c && g.destroy() : g instanceof c || b.data("chosen", new c(this, f))
            })
        }
    });
    var k = function() {
        return g = k.__super__.constructor.apply(this, arguments)
    },
    m = k,
    q = function() {
        this.constructor = m
    },
    r;
    for (r in b) f.call(b, r) && (m[r] = b[r]);
    q.prototype = b.prototype;
    m.prototype = new q;
    m.__super__ = b.prototype;
    k.prototype.setup = function() {
        this.form_field_jq = a(this.form_field);
        this.current_selectedIndex = this.form_field.selectedIndex;
        return this.is_rtl = this.form_field_jq.hasClass("chosen-rtl")
    };
    k.prototype.set_up_html = function() {
        var b;
        b = ["chosen-container"];
        b.push("chosen-container-" + (this.is_multiple ? "multi": "single"));
        this.inherit_select_classes && this.form_field.className && b.push(this.form_field.className);
        this.is_rtl && b.push("chosen-rtl");
        b = {
            "class": b.join(" "),
            style: "width: " + this.container_width() + ";",
            title: this.form_field.title
        };
        this.form_field.id.length && (b.id = this.form_field.id.replace(/[^\w]/g, "_") + "_chosen");
        this.container = a("<div />", b);
        this.is_multiple ? this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="' + this.default_text + '" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>') : this.container.html('<a class="chosen-single chosen-default"><span>' + this.default_text + '</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>');
        this.form_field_jq.hide().after(this.container);
        this.dropdown = this.container.find("div.chosen-drop").first();
        this.search_field = this.container.find("input").first();
        this.search_results = this.container.find("ul.chosen-results").first();
        this.search_field_scale();
        this.search_no_results = this.container.find("li.no-results").first();
        this.is_multiple ? (this.search_choices = this.container.find("ul.chosen-choices").first(), this.search_container = this.container.find("li.search-field").first()) : (this.search_container = this.container.find("div.chosen-search").first(), this.selected_item = this.container.find(".chosen-single").first());
        this.results_build();
        this.set_tab_index();
        return this.set_label_behavior()
    };
    k.prototype.on_ready = function() {
        return this.form_field_jq.trigger("chosen:ready", {
            chosen: this
        })
    };
    k.prototype.register_observers = function() {
        var a = this;
        this.container.bind("touchstart.chosen",
        function(b) {
            a.container_mousedown(b);
            return b.preventDefault()
        });
        this.container.bind("touchend.chosen",
        function(b) {
            a.container_mouseup(b);
            return b.preventDefault()
        });
        this.container.bind("mousedown.chosen",
        function(b) {
            a.container_mousedown(b)
        });
        this.container.bind("mouseup.chosen",
        function(b) {
            a.container_mouseup(b)
        });
        this.container.bind("mouseenter.chosen",
        function(b) {
            a.mouse_enter(b)
        });
        this.container.bind("mouseleave.chosen",
        function(b) {
            a.mouse_leave(b)
        });
        this.search_results.bind("mouseup.chosen",
        function(b) {
            a.search_results_mouseup(b)
        });
        this.search_results.bind("mouseover.chosen",
        function(b) {
            a.search_results_mouseover(b)
        });
        this.search_results.bind("mouseout.chosen",
        function(b) {
            a.search_results_mouseout(b)
        });
        this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",
        function(b) {
            a.search_results_mousewheel(b)
        });
        this.search_results.bind("touchstart.chosen",
        function(b) {
            a.search_results_touchstart(b)
        });
        this.search_results.bind("touchmove.chosen",
        function(b) {
            a.search_results_touchmove(b)
        });
        this.search_results.bind("touchend.chosen",
        function(b) {
            a.search_results_touchend(b)
        });
        this.form_field_jq.bind("chosen:updated.chosen",
        function(b) {
            a.results_update_field(b)
        });
        this.form_field_jq.bind("chosen:activate.chosen",
        function(b) {
            a.activate_field(b)
        });
        this.form_field_jq.bind("chosen:open.chosen",
        function(b) {
            a.container_mousedown(b)
        });
        this.form_field_jq.bind("chosen:close.chosen",
        function(b) {
            a.input_blur(b)
        });
        this.search_field.bind("blur.chosen",
        function(b) {
            a.input_blur(b)
        });
        this.search_field.bind("keyup.chosen",
        function(b) {
            a.keyup_checker(b)
        });
        this.search_field.bind("keydown.chosen",
        function(b) {
            a.keydown_checker(b)
        });
        this.search_field.bind("focus.chosen",
        function(b) {
            a.input_focus(b)
        });
        this.search_field.bind("cut.chosen",
        function(b) {
            a.clipboard_event_checker(b)
        });
        this.search_field.bind("paste.chosen",
        function(b) {
            a.clipboard_event_checker(b)
        });
        return this.is_multiple ? this.search_choices.bind("click.chosen",
        function(b) {
            a.choices_click(b)
        }) : this.container.bind("click.chosen",
        function(a) {
            a.preventDefault()
        })
    };
    k.prototype.destroy = function() {
        a(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action);
        this.search_field[0].tabIndex && (this.form_field_jq[0].tabIndex = this.search_field[0].tabIndex);
        this.container.remove();
        this.form_field_jq.removeData("chosen");
        return this.form_field_jq.show()
    };
    k.prototype.search_field_disabled = function() {
        if (this.is_disabled = this.form_field_jq[0].disabled) return this.container.addClass("chosen-disabled"),
        this.search_field[0].disabled = !0,
        this.is_multiple || this.selected_item.unbind("focus.chosen", this.activate_action),
        this.close_field();
        this.container.removeClass("chosen-disabled");
        this.search_field[0].disabled = !1;
        if (!this.is_multiple) return this.selected_item.bind("focus.chosen", this.activate_action)
    };
    k.prototype.container_mousedown = function(b) {
        if (!this.is_disabled && (b && ("mousedown" === b.type && !this.results_showing) && b.preventDefault(), !(null != b && a(b.target).hasClass("search-choice-close")))) {
            if (this.active_field) {
                if (!this.is_multiple && b && (a(b.target)[0] === this.selected_item[0] || a(b.target).parents("a.chosen-single").length)) b.preventDefault(),
                this.results_toggle()
            } else this.is_multiple && this.search_field.val(""),
            a(this.container[0].ownerDocument).bind("click.chosen", this.click_test_action),
            this.results_show();
            return this.activate_field()
        }
    };
    k.prototype.container_mouseup = function(a) {
        if ("ABBR" === a.target.nodeName && !this.is_disabled) return this.results_reset(a)
    };
    k.prototype.search_results_mousewheel = function(a) {
        var b;
        a.originalEvent && (b = a.originalEvent.deltaY || -a.originalEvent.wheelDelta || a.originalEvent.detail);
        if (null != b) return a.preventDefault(),
        "DOMMouseScroll" === a.type && (b *= 40),
        this.search_results.scrollTop(b + this.search_results.scrollTop())
    };
    k.prototype.blur_test = function() {
        if (!this.active_field && this.container.hasClass("chosen-container-active")) return this.close_field()
    };
    k.prototype.close_field = function() {
        a(this.container[0].ownerDocument).unbind("click.chosen", this.click_test_action);
        this.active_field = !1;
        this.results_hide();
        this.container.removeClass("chosen-container-active");
        this.clear_backstroke();
        this.show_search_field_default();
        return this.search_field_scale()
    };
    k.prototype.activate_field = function() {
        this.container.addClass("chosen-container-active");
        this.active_field = !0;
        this.search_field.val(this.search_field.val());
        return this.search_field.focus()
    };
    k.prototype.test_active_click = function(b) {
        b = a(b.target).closest(".chosen-container");
        return b.length && this.container[0] === b[0] ? this.active_field = !0 : this.close_field()
    };
    k.prototype.results_build = function() {
        this.parsing = !0;
        this.selected_option_count = null;
        this.results_data = h.select_to_array(this.form_field);
        this.is_multiple ? this.search_choices.find("li.search-choice").remove() : this.is_multiple || (this.single_set_selected_text(), this.disable_search || this.form_field.options.length <= this.disable_search_threshold ? (this.search_field[0].readOnly = !0, this.container.addClass("chosen-container-single-nosearch")) : (this.search_field[0].readOnly = !1, this.container.removeClass("chosen-container-single-nosearch")));
        this.update_results_content(this.results_option_build({
            first: !0
        }));
        this.search_field_disabled();
        this.show_search_field_default();
        this.search_field_scale();
        return this.parsing = !1
    };
    k.prototype.result_do_highlight = function(a) {
        var b, f, c, g;
        if (a.length) {
            this.result_clear_highlight();
            this.result_highlight = a;
            this.result_highlight.addClass("highlighted");
            f = parseInt(this.search_results.css("maxHeight"), 10);
            g = this.search_results.scrollTop();
            c = f + g;
            b = this.result_highlight.position().top + this.search_results.scrollTop();
            a = b + this.result_highlight.outerHeight();
            if (a >= c) return this.search_results.scrollTop(0 < a - f ? a - f: 0);
            if (b < g) return this.search_results.scrollTop(b)
        }
    };
    k.prototype.result_clear_highlight = function() {
        this.result_highlight && this.result_highlight.removeClass("highlighted");
        return this.result_highlight = null
    };
    k.prototype.results_show = function() {
        if (this.is_multiple && this.max_selected_options <= this.choices_count()) return this.form_field_jq.trigger("chosen:maxselected", {
            chosen: this
        }),
        !1;
        this.container.addClass("chosen-with-drop");
        this.results_showing = !0;
        this.search_field.focus();
        this.search_field.val(this.search_field.val());
        this.winnow_results();
        return this.form_field_jq.trigger("chosen:showing_dropdown", {
            chosen: this
        })
    };
    k.prototype.update_results_content = function(a) {
        return this.search_results.html(a)
    };
    k.prototype.results_hide = function() {
        this.results_showing && (this.result_clear_highlight(), this.container.removeClass("chosen-with-drop"), this.form_field_jq.trigger("chosen:hiding_dropdown", {
            chosen: this
        }));
        return this.results_showing = !1
    };
    k.prototype.set_tab_index = function() {
        var a;
        if (this.form_field.tabIndex) return a = this.form_field.tabIndex,
        this.form_field.tabIndex = -1,
        this.search_field[0].tabIndex = a
    };
    k.prototype.set_label_behavior = function() {
        var b = this;
        this.form_field_label = this.form_field_jq.parents("label"); ! this.form_field_label.length && this.form_field.id.length && (this.form_field_label = a("label[for='" + this.form_field.id + "']"));
        if (0 < this.form_field_label.length) return this.form_field_label.bind("click.chosen",
        function(a) {
            return b.is_multiple ? b.container_mousedown(a) : b.activate_field()
        })
    };
    k.prototype.show_search_field_default = function() {
        if (this.is_multiple && 1 > this.choices_count() && !this.active_field) return this.search_field.val(this.default_text),
        this.search_field.addClass("default");
        this.search_field.val("");
        return this.search_field.removeClass("default")
    };
    k.prototype.search_results_mouseup = function(b) {
        var f;
        f = a(b.target).hasClass("active-result") ? a(b.target) : a(b.target).parents(".active-result").first();
        if (f.length) return this.result_highlight = f,
        this.result_select(b),
        this.search_field.focus()
    };
    k.prototype.search_results_mouseover = function(b) {
        if (b = a(b.target).hasClass("active-result") ? a(b.target) : a(b.target).parents(".active-result").first()) return this.result_do_highlight(b)
    };
    k.prototype.search_results_mouseout = function(b) {
        if (a(b.target).hasClass("active-result")) return this.result_clear_highlight()
    };
    k.prototype.choice_build = function(b) {
        var f, c = this;
        f = a("<li />", {
            "class": "search-choice"
        }).html("<span>" + this.choice_label(b) + "</span>");
        b.disabled ? f.addClass("search-choice-disabled") : (b = a("<a />", {
            "class": "search-choice-close",
            "data-option-array-index": b.array_index
        }), b.bind("click.chosen",
        function(a) {
            return c.choice_destroy_link_click(a)
        }), f.append(b));
        return this.search_container.before(f)
    };
    k.prototype.choice_destroy_link_click = function(b) {
        b.preventDefault();
        b.stopPropagation();
        if (!this.is_disabled) return this.choice_destroy(a(b.target))
    };
    k.prototype.choice_destroy = function(a) {
        if (this.result_deselect(a[0].getAttribute("data-option-array-index"))) return this.show_search_field_default(),
        this.is_multiple && (0 < this.choices_count() && 1 > this.search_field.val().length) && this.results_hide(),
        a.parents("li").first().remove(),
        this.search_field_scale()
    };
    k.prototype.results_reset = function() {
        this.reset_single_select_options();
        this.form_field.options[0].selected = !0;
        this.single_set_selected_text();
        this.show_search_field_default();
        this.results_reset_cleanup();
        this.form_field_jq.trigger("change");
        if (this.active_field) return this.results_hide()
    };
    k.prototype.results_reset_cleanup = function() {
        this.current_selectedIndex = this.form_field.selectedIndex;
        return this.selected_item.find("abbr").remove()
    };
    k.prototype.result_select = function(a) {
        var b;
        if (this.result_highlight) {
            b = this.result_highlight;
            this.result_clear_highlight();
            if (this.is_multiple && this.max_selected_options <= this.choices_count()) return this.form_field_jq.trigger("chosen:maxselected", {
                chosen: this
            }),
            !1;
            this.is_multiple ? b.removeClass("active-result") : this.reset_single_select_options();
            b.addClass("result-selected");
            b = this.results_data[b[0].getAttribute("data-option-array-index")];
            b.selected = !0;
            this.form_field.options[b.options_index].selected = !0;
            this.selected_option_count = null;
            this.is_multiple ? this.choice_build(b) : this.single_set_selected_text(this.choice_label(b)); (!a.metaKey && !a.ctrlKey || !this.is_multiple) && this.results_hide();
            this.show_search_field_default(); (this.is_multiple || this.form_field.selectedIndex !== this.current_selectedIndex) && this.form_field_jq.trigger("change", {
                selected: this.form_field.options[b.options_index].value
            });
            this.current_selectedIndex = this.form_field.selectedIndex;
            a.preventDefault();
            return this.search_field_scale()
        }
    };
    k.prototype.single_set_selected_text = function(a) {
        null == a && (a = this.default_text);
        a === this.default_text ? this.selected_item.addClass("chosen-default") : (this.single_deselect_control_build(), this.selected_item.removeClass("chosen-default"));
        return this.selected_item.find("span").html(a)
    };
    k.prototype.result_deselect = function(a) {
        a = this.results_data[a];
        if (this.form_field.options[a.options_index].disabled) return ! 1;
        a.selected = !1;
        this.form_field.options[a.options_index].selected = !1;
        this.selected_option_count = null;
        this.result_clear_highlight();
        this.results_showing && this.winnow_results();
        this.form_field_jq.trigger("change", {
            deselected: this.form_field.options[a.options_index].value
        });
        this.search_field_scale();
        return ! 0
    };
    k.prototype.single_deselect_control_build = function() {
        if (this.allow_single_deselect) return this.selected_item.find("abbr").length || this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),
        this.selected_item.addClass("chosen-single-with-deselect")
    };
    k.prototype.get_search_text = function() {
        return a("<div/>").text(a.trim(this.search_field.val())).html()
    };
    k.prototype.winnow_results_set_highlight = function() {
        var a;
        a = !this.is_multiple ? this.search_results.find(".result-selected.active-result") : [];
        a = a.length ? a.first() : this.search_results.find(".active-result").first();
        if (null != a) return this.result_do_highlight(a)
    };
    k.prototype.no_results = function(b) {
        var f;
        f = a('<li class="no-results">' + this.results_none_found + ' "<span></span>"</li>');
        f.find("span").first().html(b);
        this.search_results.append(f);
        return this.form_field_jq.trigger("chosen:no_results", {
            chosen: this
        })
    };
    k.prototype.no_results_clear = function() {
        return this.search_results.find(".no-results").remove()
    };
    k.prototype.keydown_arrow = function() {
        var a;
        if (this.results_showing && this.result_highlight) {
            if (a = this.result_highlight.nextAll("li.active-result").first()) return this.result_do_highlight(a)
        } else return this.results_show()
    };
    k.prototype.keyup_arrow = function() {
        var a;
        if (!this.results_showing && !this.is_multiple) return this.results_show();
        if (this.result_highlight) {
            a = this.result_highlight.prevAll("li.active-result");
            if (a.length) return this.result_do_highlight(a.first());
            0 < this.choices_count() && this.results_hide();
            return this.result_clear_highlight()
        }
    };
    k.prototype.keydown_backstroke = function() {
        var a;
        if (this.pending_backstroke) return this.choice_destroy(this.pending_backstroke.find("a").first()),
        this.clear_backstroke();
        a = this.search_container.siblings("li.search-choice").last();
        if (a.length && !a.hasClass("search-choice-disabled")) return this.pending_backstroke = a,
        this.single_backstroke_delete ? this.keydown_backstroke() : this.pending_backstroke.addClass("search-choice-focus")
    };
    k.prototype.clear_backstroke = function() {
        this.pending_backstroke && this.pending_backstroke.removeClass("search-choice-focus");
        return this.pending_backstroke = null
    };
    k.prototype.keydown_checker = function(a) {
        var b, f;
        b = null != (f = a.which) ? f: a.keyCode;
        this.search_field_scale();
        8 !== b && this.pending_backstroke && this.clear_backstroke();
        switch (b) {
        case 8:
            this.backstroke_length = this.search_field.val().length;
            break;
        case 9:
            this.results_showing && !this.is_multiple && this.result_select(a);
            this.mouse_on_container = !1;
            break;
        case 13:
            this.results_showing && a.preventDefault();
            break;
        case 32:
            this.disable_search && a.preventDefault();
            break;
        case 38:
            a.preventDefault();
            this.keyup_arrow();
            break;
        case 40:
            a.preventDefault(),
            this.keydown_arrow()
        }
    };
    k.prototype.search_field_scale = function() {
        var b, f, c, g, h;
        if (this.is_multiple) {
            b = "position:absolute; left: -1000px; top: -1000px; display:none;";
            c = "font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");
            g = 0;
            for (h = c.length; g < h; g++) f = c[g],
            b += f + ":" + this.search_field.css(f) + ";";
            b = a("<div />", {
                style: b
            });
            b.text(this.search_field.val());
            a("body").append(b);
            f = b.width() + 25;
            b.remove();
            b = this.container.outerWidth();
            f > b - 10 && (f = b - 10);
            return this.search_field.css({
                width: f + "px"
            })
        }
    };
    c = k
}).call(this); (function(a, b) {
    "function" === typeof define && define.amd ? define("bloodhound", ["jquery"],
    function(c) {
        return a.Bloodhound = b(c)
    }) : "object" === typeof exports ? module.exports = b(require("jquery")) : a.Bloodhound = b(jQuery)
})(this,
function(a) {
    var b = {
        isMsie: function() {
            return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] : !1
        },
        isBlankString: function(a) {
            return ! a || /^\s*$/.test(a)
        },
        escapeRegExChars: function(a) {
            return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
        },
        isString: function(a) {
            return "string" === typeof a
        },
        isNumber: function(a) {
            return "number" === typeof a
        },
        isArray: a.isArray,
        isFunction: a.isFunction,
        isObject: a.isPlainObject,
        isUndefined: function(a) {
            return "undefined" === typeof a
        },
        isElement: function(a) {
            return !! (a && 1 === a.nodeType)
        },
        isJQuery: function(b) {
            return b instanceof a
        },
        toStr: function(a) {
            return b.isUndefined(a) || null === a ? "": a + ""
        },
        bind: a.proxy,
        each: function(b, f) {
            a.each(b,
            function(a, b) {
                return f(b, a)
            })
        },
        map: a.map,
        filter: a.grep,
        every: function(b, f) {
            var c = !0;
            if (!b) return c;
            a.each(b,
            function(a, g) {
                if (! (c = f.call(null, g, a, b))) return ! 1
            });
            return !! c
        },
        some: function(b, f) {
            var c = !1;
            if (!b) return c;
            a.each(b,
            function(a, g) {
                if (c = f.call(null, g, a, b)) return ! 1
            });
            return !! c
        },
        mixin: a.extend,
        identity: function(a) {
            return a
        },
        clone: function(b) {
            return a.extend(!0, {},
            b)
        },
        getIdGenerator: function() {
            var a = 0;
            return function() {
                return a++
            }
        },
        templatify: function(b) {
            function f() {
                return String(b)
            }
            return a.isFunction(b) ? b: f
        },
        defer: function(a) {
            setTimeout(a, 0)
        },
        debounce: function(a, b, f) {
            var c, g;
            return function() {
                var h = this,
                j = arguments,
                k;
                k = f && !c;
                clearTimeout(c);
                c = setTimeout(function() {
                    c = null;
                    f || (g = a.apply(h, j))
                },
                b);
                k && (g = a.apply(h, j));
                return g
            }
        },
        throttle: function(a, b) {
            var f, c, g, h, j, k;
            j = 0;
            k = function() {
                j = new Date;
                g = null;
                h = a.apply(f, c)
            };
            return function() {
                var l = new Date,
                m = b - (l - j);
                f = this;
                c = arguments;
                0 >= m ? (clearTimeout(g), g = null, j = l, h = a.apply(f, c)) : g || (g = setTimeout(k, m));
                return h
            }
        },
        stringify: function(a) {
            return b.isString(a) ? a: JSON.stringify(a)
        },
        noop: function() {}
    },
    c;
    c = function(a) {
        return (a = b.toStr(a)) ? a.split(/\s+/) : []
    };
    var g = function(a) {
        return (a = b.toStr(a)) ? a.split(/\W+/) : []
    },
    f = function(a) {
        return function(f) {
            f = b.isArray(f) ? f: [].slice.call(arguments, 0);
            return function(c) {
                var g = [];
                b.each(f,
                function(f) {
                    g = g.concat(a(b.toStr(c[f])))
                });
                return g
            }
        }
    };
    c = {
        nonword: g,
        whitespace: c,
        obj: {
            nonword: f(g),
            whitespace: f(c)
        }
    };
    var h = function(f) {
        this.maxSize = b.isNumber(f) ? f: 100;
        this.reset();
        0 >= this.maxSize && (this.set = this.get = a.noop)
    },
    j = function() {
        this.head = this.tail = null
    },
    k = function(a, b) {
        this.key = a;
        this.val = b;
        this.prev = this.next = null
    };
    b.mixin(h.prototype, {
        set: function(a, b) {
            var f = this.list.tail;
            this.size >= this.maxSize && (this.list.remove(f), delete this.hash[f.key], this.size--); (f = this.hash[a]) ? (f.val = b, this.list.moveToFront(f)) : (f = new k(a, b), this.list.add(f), this.hash[a] = f, this.size++)
        },
        get: function(a) {
            if (a = this.hash[a]) return this.list.moveToFront(a),
            a.val
        },
        reset: function() {
            this.size = 0;
            this.hash = {};
            this.list = new j
        }
    });
    b.mixin(j.prototype, {
        add: function(a) {
            this.head && (a.next = this.head, this.head.prev = a);
            this.head = a;
            this.tail = this.tail || a
        },
        remove: function(a) {
            a.prev ? a.prev.next = a.next: this.head = a.next;
            a.next ? a.next.prev = a.prev: this.tail = a.prev
        },
        moveToFront: function(a) {
            this.remove(a);
            this.add(a)
        }
    });
    var m = function(a, f) {
        this.prefix = ["__", a, "__"].join("");
        this.ttlKey = "__ttl__";
        this.keyMatcher = RegExp("^" + b.escapeRegExChars(this.prefix));
        this.ls = f || r; ! this.ls && this._noop()
    },
    q = function(a) {
        return JSON.stringify(b.isUndefined(a) ? null: a)
    },
    r;
    try {
        r = window.localStorage,
        r.setItem("~~~", "!"),
        r.removeItem("~~~")
    } catch(p) {
        r = null
    }
    b.mixin(m.prototype, {
        _prefix: function(a) {
            return this.prefix + a
        },
        _ttlKey: function(a) {
            return this._prefix(a) + this.ttlKey
        },
        _noop: function() {
            this.get = this.set = this.remove = this.clear = this.isExpired = b.noop
        },
        _safeSet: function(a, b) {
            try {
                this.ls.setItem(a, b)
            } catch(f) {
                "QuotaExceededError" === f.name && (this.clear(), this._noop())
            }
        },
        get: function(b) {
            this.isExpired(b) && this.remove(b);
            b = this.ls.getItem(this._prefix(b));
            return a.parseJSON(b)
        },
        set: function(a, f, c) {
            b.isNumber(c) ? this._safeSet(this._ttlKey(a), q((new Date).getTime() + c)) : this.ls.removeItem(this._ttlKey(a));
            return this._safeSet(this._prefix(a), q(f))
        },
        remove: function(a) {
            this.ls.removeItem(this._ttlKey(a));
            this.ls.removeItem(this._prefix(a));
            return this
        },
        clear: function() {
            var a;
            a = this.keyMatcher;
            var b, f, c = [],
            g = r.length;
            for (b = 0; b < g; b++)(f = r.key(b)).match(a) && c.push(f.replace(a, ""));
            for (a = c.length; a--;) this.remove(c[a]);
            return this
        },
        isExpired: function(f) {
            f = this.ls.getItem(this._ttlKey(f));
            f = a.parseJSON(f);
            return b.isNumber(f) && (new Date).getTime() > f ? !0 : !1
        }
    });
    var l = function(a) {
        a = a || {};
        this.cancelled = !1;
        this.lastReq = null;
        this._send = a.transport;
        this._get = a.limiter ? a.limiter(this._get) : this._get;
        this._cache = !1 === a.cache ? new h(0) : J
    },
    z = 0,
    F = {},
    w = 6,
    J = new h(10);
    l.setMaxPendingRequests = function(a) {
        w = a
    };
    l.resetCache = function() {
        J.reset()
    };
    b.mixin(l.prototype, {
        _fingerprint: function(b) {
            b = b || {};
            return b.url + b.type + a.param(b.data || {})
        },
        _get: function(a, b) {
            function f(a) {
                b(null, a);
                h._cache.set(j, a)
            }
            function c() {
                b(!0)
            }
            function g() {
                z--;
                delete F[j];
                h.onDeckRequestArgs && (h._get.apply(h, h.onDeckRequestArgs), h.onDeckRequestArgs = null)
            }
            var h = this,
            j, k;
            j = this._fingerprint(a);
            this.cancelled || j !== this.lastReq || ((k = F[j]) ? k.done(f).fail(c) : z < w ? (z++, F[j] = this._send(a).done(f).fail(c).always(g)) : this.onDeckRequestArgs = [].slice.call(arguments, 0))
        },
        get: function(f, c) {
            var g, h, c = c || a.noop,
            f = b.isString(f) ? {
                url: f
            }: f || {};
            h = this._fingerprint(f);
            this.cancelled = !1;
            this.lastReq = h; (g = this._cache.get(h)) ? c(null, g) : this._get(f, c)
        },
        cancel: function() {
            this.cancelled = !0
        }
    });
    var g = window,
    f = function(f) {
        f = f || {}; (!f.datumTokenizer || !f.queryTokenizer) && a.error("datumTokenizer and queryTokenizer are both required");
        this.identify = f.identify || b.stringify;
        this.datumTokenizer = f.datumTokenizer;
        this.queryTokenizer = f.queryTokenizer;
        this.reset()
    },
    u = function(a) {
        a = b.filter(a,
        function(a) {
            return !! a
        });
        return a = b.map(a,
        function(a) {
            return a.toLowerCase()
        })
    },
    C = function() {
        var a = {};
        a[y] = [];
        a[E] = {};
        return a
    },
    D = function(a) {
        for (var b = {},
        f = [], c = 0, g = a.length; c < g; c++) b[a[c]] || (b[a[c]] = !0, f.push(a[c]));
        return f
    },
    E = "c",
    y = "i";
    b.mixin(f.prototype, {
        bootstrap: function(a) {
            this.datums = a.datums;
            this.trie = a.trie
        },
        add: function(a) {
            var f = this,
            a = b.isArray(a) ? a: [a];
            b.each(a,
            function(a) {
                var c;
                f.datums[c = f.identify(a)] = a;
                a = u(f.datumTokenizer(a));
                b.each(a,
                function(a) {
                    var b, g;
                    b = f.trie;
                    for (a = a.split(""); g = a.shift();) b = b[E][g] || (b[E][g] = C()),
                    b[y].push(c)
                })
            })
        },
        get: function(a) {
            var f = this;
            return b.map(a,
            function(a) {
                return f.datums[a]
            })
        },
        search: function(a) {
            var f = this,
            c, a = u(this.queryTokenizer(a));
            b.each(a,
            function(a) {
                var b, g;
                if (c && 0 === c.length) return ! 1;
                b = f.trie;
                for (a = a.split(""); b && (g = a.shift());) b = b[E][g];
                if (b && 0 === a.length) {
                    g = b[y].slice(0);
                    if (c) {
                        b = c;
                        var h = a = 0,
                        j = [];
                        b = b.sort();
                        g = g.sort();
                        for (var k = b.length,
                        l = g.length; a < k && h < l;) b[a] < g[h] ? a++:(b[a] > g[h] || (j.push(b[a]), a++), h++);
                        b = j
                    } else b = g;
                    c = b
                } else return c = [],
                !1
            });
            return c ? b.map(D(c),
            function(a) {
                return f.datums[a]
            }) : []
        },
        all: function() {
            var a = [],
            b;
            for (b in this.datums) a.push(this.datums[b]);
            return a
        },
        reset: function() {
            this.datums = {};
            this.trie = C()
        },
        serialize: function() {
            return {
                datums: this.datums,
                trie: this.trie
            }
        }
    });
    var I = g.SearchIndex = f,
    K = function(a) {
        this.url = a.url;
        this.ttl = a.ttl;
        this.cache = a.cache;
        this.prepare = a.prepare;
        this.transform = a.transform;
        this.transport = a.transport;
        this.thumbprint = a.thumbprint;
        this.storage = new m(a.cacheKey)
    };
    b.mixin(K.prototype, {
        _settings: function() {
            return {
                url: this.url,
                type: "GET",
                dataType: "json"
            }
        },
        store: function(a) {
            this.cache && (this.storage.set("data", a, this.ttl), this.storage.set("protocol", location.protocol, this.ttl), this.storage.set("thumbprint", this.thumbprint, this.ttl))
        },
        fromCache: function() {
            var a, b;
            if (!this.cache) return null;
            a = this.storage.get("data");
            b = this.storage.get("protocol");
            b = this.storage.get("thumbprint") !== this.thumbprint || b !== location.protocol;
            return a && !b ? a: null
        },
        fromNetwork: function(a) {
            function b() {
                a(!0)
            }
            function f(b) {
                a(null, c.transform(b))
            }
            var c = this,
            g;
            a && (g = this.prepare(this._settings()), this.transport(g).fail(b).done(f))
        },
        clear: function() {
            this.storage.clear();
            return this
        }
    });
    var x = function(a) {
        this.url = a.url;
        this.prepare = a.prepare;
        this.transform = a.transform;
        this.transport = new l({
            cache: a.cache,
            limiter: a.limiter,
            transport: a.transport
        })
    };
    b.mixin(x.prototype, {
        _settings: function() {
            return {
                url: this.url,
                type: "GET",
                dataType: "json"
            }
        },
        get: function(a, b) {
            function f(a, g) {
                a ? b([]) : b(c.transform(g))
            }
            var c = this,
            g;
            if (b) return g = this.prepare(a || "", this._settings()),
            this.transport.get(g, f)
        },
        cancelLastRequest: function() {
            this.transport.cancel()
        }
    });
    var N, H = function(f) {
        return function(c) {
            var g = a.Deferred();
            f(c,
            function(a) {
                b.defer(function() {
                    g.resolve(a)
                })
            },
            function(a) {
                b.defer(function() {
                    g.reject(a)
                })
            });
            return g
        }
    };
    N = function(f) {
        var c, f = b.mixin({
            initialize: !0,
            identify: b.stringify,
            datumTokenizer: null,
            queryTokenizer: null,
            sufficient: 5,
            sorter: null,
            local: [],
            prefetch: null,
            remote: null
        },
        f || {}); ! f.datumTokenizer && a.error("datumTokenizer is required"); ! f.queryTokenizer && a.error("queryTokenizer is required");
        c = f.sorter;
        f.sorter = c ?
        function(a) {
            return a.sort(c)
        }: b.identity;
        f.local = b.isFunction(f.local) ? f.local() : f.local;
        var g = f,
        h;
        h = f.prefetch;
        var j;
        h ? (j = {
            url: null,
            ttl: 864E5,
            cache: !0,
            cacheKey: null,
            thumbprint: "",
            prepare: b.identity,
            transform: b.identity,
            transport: null
        },
        h = b.isString(h) ? {
            url: h
        }: h, h = b.mixin(j, h), !h.url && a.error("prefetch requires url to be set"), h.transform = h.filter || h.transform, h.cacheKey = h.cacheKey || h.url, h.thumbprint = "0.11.1" + h.thumbprint, h.transport = h.transport ? H(h.transport) : a.ajax) : h = null;
        g.prefetch = h;
        g = f;
        if (h = f.remote) {
            j = {
                url: null,
                cache: !0,
                prepare: null,
                replace: null,
                wildcard: null,
                limiter: null,
                rateLimitBy: "debounce",
                rateLimitWait: 300,
                transform: b.identity,
                transport: null
            };
            h = b.isString(h) ? {
                url: h
            }: h;
            h = b.mixin(j, h); ! h.url && a.error("remote requires url to be set");
            h.transform = h.filter || h.transform;
            j = h;
            var k = function(a, b) {
                b.url = u(b.url, a);
                return b
            },
            l = function(a, b) {
                b.url = b.url.replace(p, encodeURIComponent(a));
                return b
            },
            m = function(a, b) {
                return b
            },
            B,
            u,
            p;
            B = j.prepare;
            u = j.replace;
            p = j.wildcard;
            B || (B = u ? k: j.wildcard ? l: m);
            h.prepare = B;
            var k = j = h,
            q, l = k.limiter,
            m = k.rateLimitBy;
            q = k.rateLimitWait;
            l || (l = /^throttle$/i.test(m) ?
            function(a) {
                return b.throttle(a, q)
            }: function(a) {
                return b.debounce(a, q)
            });
            j.limiter = l;
            h.transport = h.transport ? H(h.transport) : a.ajax;
            delete h.replace;
            delete h.wildcard;
            delete h.rateLimitBy;
            delete h.rateLimitWait
        } else h = void 0;
        g.remote = h;
        return f
    };
    var A = function(a) {
        a = N(a);
        this.sorter = a.sorter;
        this.identify = a.identify;
        this.sufficient = a.sufficient;
        this.local = a.local;
        this.remote = a.remote ? new x(a.remote) : null;
        this.prefetch = a.prefetch ? new K(a.prefetch) : null;
        this.index = new I({
            identify: this.identify,
            datumTokenizer: a.datumTokenizer,
            queryTokenizer: a.queryTokenizer
        }); ! 1 !== a.initialize && this.initialize()
    },
    B;
    B = window && window.Bloodhound;
    A.noConflict = function() {
        window && (window.Bloodhound = B);
        return A
    };
    A.tokenizers = c;
    b.mixin(A.prototype, {
        __ttAdapter: function() {
            function a(b, c, g) {
                return f.search(b, c, g)
            }
            function b(a, c) {
                return f.search(a, c)
            }
            var f = this;
            return this.remote ? a: b
        },
        _loadPrefetch: function() {
            function b(a, g) {
                if (a) return c.reject();
                f.add(g);
                f.prefetch.store(f.index.serialize());
                c.resolve()
            }
            var f = this,
            c, g;
            c = a.Deferred();
            this.prefetch ? (g = this.prefetch.fromCache()) ? (this.index.bootstrap(g), c.resolve()) : this.prefetch.fromNetwork(b) : c.resolve();
            return c.promise()
        },
        _initialize: function() {
            var a = this;
            this.clear(); (this.initPromise = this._loadPrefetch()).done(function() {
                a.add(a.local)
            });
            return this.initPromise
        },
        initialize: function(a) {
            return ! this.initPromise || a ? this._initialize() : this.initPromise
        },
        add: function(a) {
            this.index.add(a);
            return this
        },
        get: function(a) {
            a = b.isArray(a) ? a: [].slice.call(arguments);
            return this.index.get(a)
        },
        search: function(a, f, c) {
            function g(a) {
                var f = [];
                b.each(a,
                function(a) { ! b.some(j,
                    function(b) {
                        return h.identify(a) === h.identify(b)
                    }) && f.push(a)
                });
                c && c(f)
            }
            var h = this,
            j;
            j = this.sorter(this.index.search(a));
            f(this.remote ? j.slice() : j);
            this.remote && j.length < this.sufficient ? this.remote.get(a, g) : this.remote && this.remote.cancelLastRequest();
            return this
        },
        all: function() {
            return this.index.all()
        },
        clear: function() {
            this.index.reset();
            return this
        },
        clearPrefetchCache: function() {
            this.prefetch && this.prefetch.clear();
            return this
        },
        clearRemoteCache: function() {
            l.resetCache();
            return this
        },
        ttAdapter: function() {
            return this.__ttAdapter()
        }
    });
    return A
}); (function(a, b) {
    "function" === typeof define && define.amd ? define("typeahead.js", ["jquery"],
    function(a) {
        return b(a)
    }) : "object" === typeof exports ? module.exports = b(require("jquery")) : b(jQuery)
})(this,
function(a) {
    var b = {
        isMsie: function() {
            return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] : !1
        },
        isBlankString: function(a) {
            return ! a || /^\s*$/.test(a)
        },
        escapeRegExChars: function(a) {
            return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
        },
        isString: function(a) {
            return "string" === typeof a
        },
        isNumber: function(a) {
            return "number" === typeof a
        },
        isArray: a.isArray,
        isFunction: a.isFunction,
        isObject: a.isPlainObject,
        isUndefined: function(a) {
            return "undefined" === typeof a
        },
        isElement: function(a) {
            return !! (a && 1 === a.nodeType)
        },
        isJQuery: function(b) {
            return b instanceof a
        },
        toStr: function(a) {
            return b.isUndefined(a) || null === a ? "": a + ""
        },
        bind: a.proxy,
        each: function(b, f) {
            a.each(b,
            function(a, b) {
                return f(b, a)
            })
        },
        map: a.map,
        filter: a.grep,
        every: function(b, f) {
            var c = !0;
            if (!b) return c;
            a.each(b,
            function(a, g) {
                if (! (c = f.call(null, g, a, b))) return ! 1
            });
            return !! c
        },
        some: function(b, f) {
            var c = !1;
            if (!b) return c;
            a.each(b,
            function(a, g) {
                if (c = f.call(null, g, a, b)) return ! 1
            });
            return !! c
        },
        mixin: a.extend,
        identity: function(a) {
            return a
        },
        clone: function(b) {
            return a.extend(!0, {},
            b)
        },
        getIdGenerator: function() {
            var a = 0;
            return function() {
                return a++
            }
        },
        templatify: function(b) {
            function f() {
                return String(b)
            }
            return a.isFunction(b) ? b: f
        },
        defer: function(a) {
            setTimeout(a, 0)
        },
        debounce: function(a, b, f) {
            var c, g;
            return function() {
                var h = this,
                j = arguments,
                k;
                k = f && !c;
                clearTimeout(c);
                c = setTimeout(function() {
                    c = null;
                    f || (g = a.apply(h, j))
                },
                b);
                k && (g = a.apply(h, j));
                return g
            }
        },
        throttle: function(a, b) {
            var f, c, g, h, j, k;
            j = 0;
            k = function() {
                j = new Date;
                g = null;
                h = a.apply(f, c)
            };
            return function() {
                var l = new Date,
                m = b - (l - j);
                f = this;
                c = arguments;
                0 >= m ? (clearTimeout(g), g = null, j = l, h = a.apply(f, c)) : g || (g = setTimeout(k, m));
                return h
            }
        },
        stringify: function(a) {
            return b.isString(a) ? a: JSON.stringify(a)
        },
        noop: function() {}
    },
    c,
    g = {
        wrapper: "twitter-typeahead",
        input: "tt-input",
        hint: "tt-hint",
        menu: "tt-menu",
        dataset: "tt-dataset",
        suggestion: "tt-suggestion",
        selectable: "tt-selectable",
        empty: "tt-empty",
        open: "tt-open",
        cursor: "tt-cursor",
        highlight: "tt-highlight"
    };
    c = function(a) {
        var f, a = b.mixin({},
        g, a),
        c = {
            wrapper: {
                position: "relative",
                display: "inline-block"
            },
            hint: {
                position: "absolute",
                top: "0",
                left: "0",
                borderColor: "transparent",
                boxShadow: "none",
                opacity: "1"
            },
            input: {
                position: "relative",
                verticalAlign: "top",
                backgroundColor: "transparent"
            },
            inputWithNoHint: {
                position: "relative",
                verticalAlign: "top"
            },
            menu: {
                position: "absolute",
                top: "100%",
                left: "0",
                zIndex: "100",
                display: "none"
            },
            ltr: {
                left: "0",
                right: "auto"
            },
            rtl: {
                left: "auto",
                right: " 0"
            }
        };
        b.isMsie() && b.mixin(c.input, {
            backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"
        });
        var h = {
            wrapper: '<span class="' + a.wrapper + '"></span>',
            menu: '<div class="' + a.menu + '"></div>'
        },
        j = {};
        b.each(a,
        function(a, b) {
            j[b] = "." + a
        });
        f = {
            css: c,
            classes: a,
            html: h,
            selectors: j
        };
        return {
            css: f.css,
            html: f.html,
            classes: f.classes,
            selectors: f.selectors,
            mixin: function(a) {
                b.mixin(a, f)
            }
        }
    };
    var f = function(b) { (!b || !b.el) && a.error("EventBus initialized without el");
        this.$el = a(b.el)
    },
    h;
    h = {
        render: "rendered",
        cursorchange: "cursorchanged",
        select: "selected",
        autocomplete: "autocompleted"
    };
    b.mixin(f.prototype, {
        _trigger: function(b, f) {
            var c;
            c = a.Event("typeahead:" + b); (f = f || []).unshift(c);
            this.$el.trigger.apply(this.$el, f);
            return c
        },
        before: function(a) {
            var b;
            b = [].slice.call(arguments, 1);
            return this._trigger("before" + a, b).isDefaultPrevented()
        },
        trigger: function(a) {
            var b;
            this._trigger(a, [].slice.call(arguments, 1)); (b = h[a]) && this._trigger(b, [].slice.call(arguments, 1))
        }
    });
    var j, k = function(a, b, f, c) {
        var g;
        if (!f) return this;
        b = b.split(q);
        if (c) var h = f,
        f = h.bind ? h.bind(c) : function() {
            h.apply(c, [].slice.call(arguments, 0))
        };
        for (this._callbacks = this._callbacks || {}; g = b.shift();) this._callbacks[g] = this._callbacks[g] || {
            sync: [],
            async: []
        },
        this._callbacks[g][a].push(f);
        return this
    },
    m = function(a, b, f) {
        return function() {
            for (var c, g = 0,
            h = a.length; ! c && g < h; g += 1) c = !1 === a[g].apply(b, f);
            return ! c
        }
    },
    q = /\s+/,
    r;
    r = window.setImmediate ?
    function(a) {
        setImmediate(function() {
            a()
        })
    }: function(a) {
        setTimeout(function() {
            a()
        },
        0)
    };
    j = {
        onSync: function(a, b, f) {
            return k.call(this, "sync", a, b, f)
        },
        onAsync: function(a, b, f) {
            return k.call(this, "async", a, b, f)
        },
        off: function(a) {
            var b;
            if (!this._callbacks) return this;
            for (a = a.split(q); b = a.shift();) delete this._callbacks[b];
            return this
        },
        trigger: function(a) {
            var b, f, c, g, h;
            if (!this._callbacks) return this;
            a = a.split(q);
            for (c = [].slice.call(arguments, 1); (b = a.shift()) && (f = this._callbacks[b]);) g = m(f.sync, this, [b].concat(c)),
            h = m(f.async, this, [b].concat(c)),
            g() && r(h);
            return this
        }
    };
    var p, l = window.document,
    z = {
        node: null,
        pattern: null,
        tagName: "strong",
        className: null,
        wordsOnly: !1,
        caseSensitive: !1
    };
    p = function(a) {
        function f(b) {
            var c, h, j;
            if (c = g.exec(b.data)) j = l.createElement(a.tagName),
            a.className && (j.className = a.className),
            h = b.splitText(c.index),
            h.splitText(c[0].length),
            j.appendChild(h.cloneNode(!0)),
            b.parentNode.replaceChild(j, h);
            return !! c
        }
        function c(a, b) {
            for (var f, g = 0; g < a.childNodes.length; g++) f = a.childNodes[g],
            3 === f.nodeType ? g += b(f) ? 1 : 0 : c(f, b)
        }
        var g, a = b.mixin({},
        z, a);
        if (a.node && a.pattern) {
            a.pattern = b.isArray(a.pattern) ? a.pattern: [a.pattern];
            for (var h = a.pattern,
            j = a.caseSensitive,
            k = a.wordsOnly,
            m = [], u = 0, p = h.length; u < p; u++) m.push(b.escapeRegExChars(h[u]));
            h = k ? "\\b(" + m.join("|") + ")\\b": "(" + m.join("|") + ")";
            g = j ? RegExp(h) : RegExp(h, "i");
            c(a.node, f)
        }
    };
    var F = function(f, c) {
        f = f || {};
        f.input || a.error("input is missing");
        c.mixin(this);
        this.$hint = a(f.hint);
        this.$input = a(f.input);
        this.query = this.$input.val();
        this.queryWhenFocused = this.hasFocus() ? this.query: null;
        this.$overflowHelper = a('<pre aria-hidden="true"></pre>').css({
            position: "absolute",
            visibility: "hidden",
            whiteSpace: "pre",
            fontFamily: this.$input.css("font-family"),
            fontSize: this.$input.css("font-size"),
            fontStyle: this.$input.css("font-style"),
            fontVariant: this.$input.css("font-variant"),
            fontWeight: this.$input.css("font-weight"),
            wordSpacing: this.$input.css("word-spacing"),
            letterSpacing: this.$input.css("letter-spacing"),
            textIndent: this.$input.css("text-indent"),
            textRendering: this.$input.css("text-rendering"),
            textTransform: this.$input.css("text-transform")
        }).insertAfter(this.$input);
        this._checkLanguageDirection();
        0 === this.$hint.length && (this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = b.noop)
    },
    w;
    w = {
        9 : "tab",
        27 : "esc",
        37 : "left",
        39 : "right",
        13 : "enter",
        38 : "up",
        40 : "down"
    };
    F.normalizeQuery = function(a) {
        return b.toStr(a).replace(/^\s*/g, "").replace(/\s{2,}/g, " ")
    };
    b.mixin(F.prototype, j, {
        _onBlur: function() {
            this.resetInputValue();
            this.trigger("blurred")
        },
        _onFocus: function() {
            this.queryWhenFocused = this.query;
            this.trigger("focused")
        },
        _onKeydown: function(a) {
            var b = w[a.which || a.keyCode];
            this._managePreventDefault(b, a);
            b && this._shouldTrigger(b, a) && this.trigger(b + "Keyed", a)
        },
        _onInput: function() {
            this._setQuery(this.getInputValue());
            this.clearHintIfInvalid();
            this._checkLanguageDirection()
        },
        _managePreventDefault: function(a, b) {
            var f;
            switch (a) {
            case "up":
            case "down":
                f = !(b.altKey || b.ctrlKey || b.metaKey || b.shiftKey);
                break;
            default:
                f = !1
            }
            f && b.preventDefault()
        },
        _shouldTrigger: function(a, b) {
            var f;
            switch (a) {
            case "tab":
                f = !(b.altKey || b.ctrlKey || b.metaKey || b.shiftKey);
                break;
            default:
                f = !0
            }
            return f
        },
        _checkLanguageDirection: function() {
            var a = (this.$input.css("direction") || "ltr").toLowerCase();
            this.dir !== a && (this.dir = a, this.$hint.attr("dir", a), this.trigger("langDirChanged", a))
        },
        _setQuery: function(a, b) {
            var f, c;
            c = (f = F.normalizeQuery(a) === F.normalizeQuery(this.query)) ? this.query.length !== a.length: !1;
            this.query = a; ! b && !f ? this.trigger("queryChanged", this.query) : !b && c && this.trigger("whitespaceChanged", this.query)
        },
        bind: function() {
            var a = this,
            f, c, g, h;
            f = b.bind(this._onBlur, this);
            c = b.bind(this._onFocus, this);
            g = b.bind(this._onKeydown, this);
            h = b.bind(this._onInput, this);
            this.$input.on("blur.tt", f).on("focus.tt", c).on("keydown.tt", g);
            if (!b.isMsie() || 9 < b.isMsie()) this.$input.on("input.tt", h);
            else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",
            function(f) {
                w[f.which || f.keyCode] || b.defer(b.bind(a._onInput, a, f))
            });
            return this
        },
        focus: function() {
            this.$input.focus()
        },
        blur: function() {
            this.$input.blur()
        },
        getLangDir: function() {
            return this.dir
        },
        getQuery: function() {
            return this.query || ""
        },
        setQuery: function(a, b) {
            this.setInputValue(a);
            this._setQuery(a, b)
        },
        hasQueryChangedSinceLastFocus: function() {
            return this.query !== this.queryWhenFocused
        },
        getInputValue: function() {
            return this.$input.val()
        },
        setInputValue: function(a) {
            this.$input.val(a);
            this.clearHintIfInvalid();
            this._checkLanguageDirection()
        },
        resetInputValue: function() {
            this.setInputValue(this.query)
        },
        getHint: function() {
            return this.$hint.val()
        },
        setHint: function(a) {
            this.$hint.val(a)
        },
        clearHint: function() {
            this.setHint("")
        },
        clearHintIfInvalid: function() {
            var a, b;
            a = this.getInputValue();
            b = this.getHint();
            b = a !== b && 0 === b.indexOf(a); ! ("" !== a && b && !this.hasOverflow()) && this.clearHint()
        },
        hasFocus: function() {
            return this.$input.is(":focus")
        },
        hasOverflow: function() {
            var a = this.$input.width() - 2;
            this.$overflowHelper.text(this.getInputValue());
            return this.$overflowHelper.width() >= a
        },
        isCursorAtEnd: function() {
            var a, f;
            a = this.$input.val().length;
            f = this.$input[0].selectionStart;
            return b.isNumber(f) ? f === a: document.selection ? (f = document.selection.createRange(), f.moveStart("character", -a), a === f.text.length) : !0
        },
        destroy: function() {
            this.$hint.off(".tt");
            this.$input.off(".tt");
            this.$overflowHelper.remove();
            this.$hint = this.$input = this.$overflowHelper = a("<div>")
        }
    });
    var J = function(f, c) {
        f = f || {};
        f.templates = f.templates || {};
        f.templates.notFound = f.templates.notFound || f.templates.empty;
        f.source || a.error("missing source");
        f.node || a.error("missing node");
        f.name && !/^[_a-zA-Z0-9-]+$/.test(f.name) && a.error("invalid dataset name: " + f.name);
        c.mixin(this);
        this.highlight = !!f.highlight;
        this.name = f.name || u();
        this.limit = f.limit || 5;
        var g = f.display || f.displayKey,
        h = function(a) {
            return a[g]
        },
        g = g || b.stringify;
        this.displayFn = b.isFunction(g) ? g: h;
        var h = f.templates,
        j = this.displayFn,
        k = function(b) {
            return a("<div>").text(j(b))
        };
        this.templates = {
            notFound: h.notFound && b.templatify(h.notFound),
            pending: h.pending && b.templatify(h.pending),
            header: h.header && b.templatify(h.header),
            footer: h.footer && b.templatify(h.footer),
            suggestion: h.suggestion || k
        };
        this.source = f.source.__ttAdapter ? f.source.__ttAdapter() : f.source;
        this.async = b.isUndefined(f.async) ? 2 < this.source.length: !!f.async;
        this._resetLastSuggestion();
        this.$el = a(f.node).addClass(this.classes.dataset).addClass(this.classes.dataset + "-" + this.name)
    },
    u;
    u = b.getIdGenerator();
    J.extractData = function(b) {
        b = a(b);
        return b.data("tt-selectable-object") ? {
            val: b.data("tt-selectable-display") || "",
            obj: b.data("tt-selectable-object") || null
        }: null
    };
    b.mixin(J.prototype, j, {
        _overwrite: function(a, b) {
            b = b || [];
            b.length ? this._renderSuggestions(a, b) : this.async && this.templates.pending ? this._renderPending(a) : !this.async && this.templates.notFound ? this._renderNotFound(a) : this._empty();
            this.trigger("rendered", this.name, b, !1)
        },
        _append: function(a, b) {
            b = b || [];
            b.length && this.$lastSuggestion.length ? this._appendSuggestions(a, b) : b.length ? this._renderSuggestions(a, b) : !this.$lastSuggestion.length && this.templates.notFound && this._renderNotFound(a);
            this.trigger("rendered", this.name, b, !0)
        },
        _renderSuggestions: function(a, b) {
            var f;
            f = this._getSuggestionsFragment(a, b);
            this.$lastSuggestion = f.children().last();
            this.$el.html(f).prepend(this._getHeader(a, b)).append(this._getFooter(a, b))
        },
        _appendSuggestions: function(a, b) {
            var f, c;
            f = this._getSuggestionsFragment(a, b);
            c = f.children().last();
            this.$lastSuggestion.after(f);
            this.$lastSuggestion = c
        },
        _renderPending: function(a) {
            var b = this.templates.pending;
            this._resetLastSuggestion();
            b && this.$el.html(b({
                query: a,
                dataset: this.name
            }))
        },
        _renderNotFound: function(a) {
            var b = this.templates.notFound;
            this._resetLastSuggestion();
            b && this.$el.html(b({
                query: a,
                dataset: this.name
            }))
        },
        _empty: function() {
            this.$el.empty();
            this._resetLastSuggestion()
        },
        _getSuggestionsFragment: function(f, c) {
            var g = this,
            h;
            h = document.createDocumentFragment();
            b.each(c,
            function(b) {
                var c;
                c = g._injectQuery(f, b);
                b = a(g.templates.suggestion(c)).data("tt-selectable-object", b).data("tt-selectable-display", g.displayFn(b)).addClass(g.classes.suggestion + " " + g.classes.selectable);
                h.appendChild(b[0])
            });
            this.highlight && p({
                className: this.classes.highlight,
                node: h,
                pattern: f
            });
            return a(h)
        },
        _getFooter: function(a, b) {
            return this.templates.footer ? this.templates.footer({
                query: a,
                suggestions: b,
                dataset: this.name
            }) : null
        },
        _getHeader: function(a, b) {
            return this.templates.header ? this.templates.header({
                query: a,
                suggestions: b,
                dataset: this.name
            }) : null
        },
        _resetLastSuggestion: function() {
            this.$lastSuggestion = a()
        },
        _injectQuery: function(a, f) {
            return b.isObject(f) ? b.mixin({
                _query: a
            },
            f) : f
        },
        update: function(b) {
            function f(a) {
                h || (h = !0, a = (a || []).slice(0, c.limit), j = a.length, c._overwrite(b, a), j < c.limit && c.async && c.trigger("asyncRequested", b))
            }
            var c = this,
            g = !1,
            h = !1,
            j = 0;
            this.cancel();
            this.cancel = function() {
                g = !0;
                c.cancel = a.noop;
                c.async && c.trigger("asyncCanceled", b)
            };
            this.source(b, f,
            function(f) {
                f = f || []; ! g && j < c.limit && (c.cancel = a.noop, j += f.length, c._append(b, f.slice(0, c.limit - j)), c.async && c.trigger("asyncReceived", b))
            }); ! h && f([])
        },
        cancel: a.noop,
        clear: function() {
            this._empty();
            this.cancel();
            this.trigger("cleared")
        },
        isEmpty: function() {
            return this.$el.is(":empty")
        },
        destroy: function() {
            this.$el = a("<div>")
        }
    });
    var C = function(f, c) {
        var g = this,
        f = f || {};
        f.node || a.error("node is required");
        c.mixin(this);
        this.$node = a(f.node);
        this.query = null;
        this.datasets = b.map(f.datasets,
        function(b) {
            var f = g.$node.find(b.node).first();
            b.node = f.length ? f: a("<div>").appendTo(g.$node);
            return new J(b, c)
        })
    };
    b.mixin(C.prototype, j, {
        _onSelectableClick: function(b) {
            this.trigger("selectableClicked", a(b.currentTarget))
        },
        _onRendered: function(a, b, f, c) {
            this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());
            this.trigger("datasetRendered", b, f, c)
        },
        _onCleared: function() {
            this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());
            this.trigger("datasetCleared")
        },
        _propagate: function() {
            this.trigger.apply(this, arguments)
        },
        _allDatasetsEmpty: function() {
            return b.every(this.datasets,
            function(a) {
                return a.isEmpty()
            })
        },
        _getSelectables: function() {
            return this.$node.find(this.selectors.selectable)
        },
        _removeCursor: function() {
            var a = this.getActiveSelectable();
            a && a.removeClass(this.classes.cursor)
        },
        _ensureVisible: function(a) {
            var b, f, c;
            b = a.position().top;
            a = b + a.outerHeight(!0);
            f = this.$node.scrollTop();
            c = this.$node.height() + parseInt(this.$node.css("paddingTop"), 10) + parseInt(this.$node.css("paddingBottom"), 10);
            0 > b ? this.$node.scrollTop(f + b) : c < a && this.$node.scrollTop(f + (a - c))
        },
        bind: function() {
            var a = this,
            f;
            f = b.bind(this._onSelectableClick, this);
            this.$node.on("click.tt", this.selectors.selectable, f);
            b.each(this.datasets,
            function(b) {
                b.onSync("asyncRequested", a._propagate, a).onSync("asyncCanceled", a._propagate, a).onSync("asyncReceived", a._propagate, a).onSync("rendered", a._onRendered, a).onSync("cleared", a._onCleared, a)
            });
            return this
        },
        isOpen: function() {
            return this.$node.hasClass(this.classes.open)
        },
        open: function() {
            this.$node.addClass(this.classes.open)
        },
        close: function() {
            this.$node.removeClass(this.classes.open);
            this._removeCursor()
        },
        setLanguageDirection: function(a) {
            this.$node.attr("dir", a)
        },
        selectableRelativeToCursor: function(a) {
            var b, f;
            f = this.getActiveSelectable();
            b = this._getSelectables();
            a = (f ? b.index(f) : -1) + a;
            a = (a + 1) % (b.length + 1) - 1;
            a = -1 > a ? b.length - 1 : a;
            return - 1 === a ? null: b.eq(a)
        },
        setCursor: function(a) {
            this._removeCursor();
            if (a = a && a.first()) a.addClass(this.classes.cursor),
            this._ensureVisible(a)
        },
        getSelectableData: function(a) {
            return a && a.length ? J.extractData(a) : null
        },
        getActiveSelectable: function() {
            var a = this._getSelectables().filter(this.selectors.cursor).first();
            return a.length ? a: null
        },
        getTopSelectable: function() {
            var a = this._getSelectables().first();
            return a.length ? a: null
        },
        update: function(a) {
            function f(b) {
                b.update(a)
            }
            var c = a !== this.query;
            c && (this.query = a, b.each(this.datasets, f));
            return c
        },
        empty: function() {
            b.each(this.datasets,
            function(a) {
                a.clear()
            });
            this.query = null;
            this.$node.addClass(this.classes.empty)
        },
        destroy: function() {
            this.$node.off(".tt");
            this.$node = a("<div>");
            b.each(this.datasets,
            function(a) {
                a.destroy()
            })
        }
    });
    var D = function() {
        C.apply(this, [].slice.call(arguments, 0))
    },
    E = C.prototype;
    b.mixin(D.prototype, C.prototype, {
        open: function() { ! this._allDatasetsEmpty() && this._show();
            return E.open.apply(this, [].slice.call(arguments, 0))
        },
        close: function() {
            this._hide();
            return E.close.apply(this, [].slice.call(arguments, 0))
        },
        _onRendered: function() {
            this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show();
            return E._onRendered.apply(this, [].slice.call(arguments, 0))
        },
        _onCleared: function() {
            this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show();
            return E._onCleared.apply(this, [].slice.call(arguments, 0))
        },
        setLanguageDirection: function(a) {
            this.$node.css("ltr" === a ? this.css.ltr: this.css.rtl);
            return E.setLanguageDirection.apply(this, [].slice.call(arguments, 0))
        },
        _hide: function() {
            this.$node.hide()
        },
        _show: function() {
            this.$node.css("display", "block")
        }
    });
    var y = function(f, c) {
        var g, h, j, k, l, m, u, p, q, r, w, f = f || {};
        f.input || a.error("missing input");
        f.menu || a.error("missing menu");
        f.eventBus || a.error("missing event bus");
        c.mixin(this);
        this.eventBus = f.eventBus;
        this.minLength = b.isNumber(f.minLength) ? f.minLength: 1;
        this.input = f.input;
        this.menu = f.menu;
        this.enabled = !0;
        this.active = !1;
        this.input.hasFocus() && this.activate();
        this.dir = this.input.getLangDir();
        this._hacks();
        this.menu.bind().onSync("selectableClicked", this._onSelectableClicked, this).onSync("asyncRequested", this._onAsyncRequested, this).onSync("asyncCanceled", this._onAsyncCanceled, this).onSync("asyncReceived", this._onAsyncReceived, this).onSync("datasetRendered", this._onDatasetRendered, this).onSync("datasetCleared", this._onDatasetCleared, this);
        g = I(this, "activate", "open", "_onFocused");
        h = I(this, "deactivate", "_onBlurred");
        j = I(this, "isActive", "isOpen", "_onEnterKeyed");
        k = I(this, "isActive", "isOpen", "_onTabKeyed");
        l = I(this, "isActive", "_onEscKeyed");
        m = I(this, "isActive", "open", "_onUpKeyed");
        u = I(this, "isActive", "open", "_onDownKeyed");
        p = I(this, "isActive", "isOpen", "_onLeftKeyed");
        q = I(this, "isActive", "isOpen", "_onRightKeyed");
        r = I(this, "_openIfActive", "_onQueryChanged");
        w = I(this, "_openIfActive", "_onWhitespaceChanged");
        this.input.bind().onSync("focused", g, this).onSync("blurred", h, this).onSync("enterKeyed", j, this).onSync("tabKeyed", k, this).onSync("escKeyed", l, this).onSync("upKeyed", m, this).onSync("downKeyed", u, this).onSync("leftKeyed", p, this).onSync("rightKeyed", q, this).onSync("queryChanged", r, this).onSync("whitespaceChanged", w, this).onSync("langDirChanged", this._onLangDirChanged, this)
    },
    I = function(a) {
        var f = [].slice.call(arguments, 1);
        return function() {
            var c = [].slice.call(arguments);
            b.each(f,
            function(b) {
                return a[b].apply(a, c)
            })
        }
    };
    b.mixin(y.prototype, {
        _hacks: function() {
            var f, c;
            f = this.input.$input || a("<div>");
            c = this.menu.$node || a("<div>");
            f.on("blur.tt",
            function(a) {
                var g, h;
                g = document.activeElement;
                h = c.is(g);
                g = 0 < c.has(g).length;
                if (b.isMsie() && (h || g)) a.preventDefault(),
                a.stopImmediatePropagation(),
                b.defer(function() {
                    f.focus()
                })
            });
            c.on("mousedown.tt",
            function(a) {
                a.preventDefault()
            })
        },
        _onSelectableClicked: function(a, b) {
            this.select(b)
        },
        _onDatasetCleared: function() {
            this._updateHint()
        },
        _onDatasetRendered: function(a, b, f, c) {
            this._updateHint();
            this.eventBus.trigger("render", f, c, b)
        },
        _onAsyncRequested: function(a, b, f) {
            this.eventBus.trigger("asyncrequest", f, b)
        },
        _onAsyncCanceled: function(a, b, f) {
            this.eventBus.trigger("asynccancel", f, b)
        },
        _onAsyncReceived: function(a, b, f) {
            this.eventBus.trigger("asyncreceive", f, b)
        },
        _onFocused: function() {
            this._minLengthMet() && this.menu.update(this.input.getQuery())
        },
        _onBlurred: function() {
            this.input.hasQueryChangedSinceLastFocus() && this.eventBus.trigger("change", this.input.getQuery())
        },
        _onEnterKeyed: function(a, b) {
            var f; (f = this.menu.getActiveSelectable()) && this.select(f) && b.preventDefault()
        },
        _onTabKeyed: function(a, b) {
            var f; (f = this.menu.getActiveSelectable()) ? this.select(f) && b.preventDefault() : (f = this.menu.getTopSelectable()) && this.autocomplete(f) && b.preventDefault()
        },
        _onEscKeyed: function() {
            this.close()
        },
        _onUpKeyed: function() {
            this.moveCursor( - 1)
        },
        _onDownKeyed: function() {
            this.moveCursor(1)
        },
        _onLeftKeyed: function() {
            "rtl" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable())
        },
        _onRightKeyed: function() {
            "ltr" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable())
        },
        _onQueryChanged: function(a, b) {
            this._minLengthMet(b) ? this.menu.update(b) : this.menu.empty()
        },
        _onWhitespaceChanged: function() {
            this._updateHint()
        },
        _onLangDirChanged: function(a, b) {
            this.dir !== b && (this.dir = b, this.menu.setLanguageDirection(b))
        },
        _openIfActive: function() {
            this.isActive() && this.open()
        },
        _minLengthMet: function(a) {
            a = b.isString(a) ? a: this.input.getQuery() || "";
            return a.length >= this.minLength
        },
        _updateHint: function() {
            var a, f, c;
            a = this.menu.getTopSelectable();
            f = this.menu.getSelectableData(a);
            a = this.input.getInputValue();
            f && !b.isBlankString(a) && !this.input.hasOverflow() ? (c = F.normalizeQuery(a), c = b.escapeRegExChars(c), c = RegExp("^(?:" + c + ")(.+$)", "i"), (f = c.exec(f.val)) && this.input.setHint(a + f[1])) : this.input.clearHint()
        },
        isEnabled: function() {
            return this.enabled
        },
        enable: function() {
            this.enabled = !0
        },
        disable: function() {
            this.enabled = !1
        },
        isActive: function() {
            return this.active
        },
        activate: function() {
            if (this.isActive()) return ! 0;
            if (!this.isEnabled() || this.eventBus.before("active")) return ! 1;
            this.active = !0;
            this.eventBus.trigger("active");
            return ! 0
        },
        deactivate: function() {
            if (this.isActive()) {
                if (this.eventBus.before("idle")) return ! 1;
                this.active = !1;
                this.close();
                this.eventBus.trigger("idle")
            }
            return ! 0
        },
        isOpen: function() {
            return this.menu.isOpen()
        },
        open: function() { ! this.isOpen() && !this.eventBus.before("open") && (this.menu.open(), this._updateHint(), this.eventBus.trigger("open"));
            return this.isOpen()
        },
        close: function() {
            this.isOpen() && !this.eventBus.before("close") && (this.menu.close(), this.input.clearHint(), this.input.resetInputValue(), this.eventBus.trigger("close"));
            return ! this.isOpen()
        },
        setVal: function(a) {
            this.input.setQuery(b.toStr(a))
        },
        getVal: function() {
            return this.input.getQuery()
        },
        select: function(a) {
            return (a = this.menu.getSelectableData(a)) && !this.eventBus.before("select", a.obj) ? (this.input.setQuery(a.val, !0), this.eventBus.trigger("select", a.obj), this.close(), !0) : !1
        },
        autocomplete: function(a) {
            var b;
            b = this.input.getQuery();
            return (a = this.menu.getSelectableData(a)) && b !== a.val && !this.eventBus.before("autocomplete", a.obj) ? (this.input.setQuery(a.val), this.eventBus.trigger("autocomplete", a.obj), !0) : !1
        },
        moveCursor: function(a) {
            var b, f, c;
            b = this.input.getQuery();
            a = this.menu.selectableRelativeToCursor(a);
            c = (f = this.menu.getSelectableData(a)) ? f.obj: null;
            return (!this._minLengthMet() || !this.menu.update(b)) && !this.eventBus.before("cursorchange", c) ? (this.menu.setCursor(a), f ? this.input.setInputValue(f.val) : (this.input.resetInputValue(), this._updateHint()), this.eventBus.trigger("cursorchange", c), !0) : !1
        },
        destroy: function() {
            this.input.destroy();
            this.menu.destroy()
        }
    });
    var K = function(b, f) {
        b.each(function() {
            var b = a(this),
            c; (c = b.data(H.typeahead)) && f(c, b)
        })
    },
    x = function(f) {
        f = b.isJQuery(f) || b.isElement(f) ? a(f).first() : [];
        return f.length ? f: null
    },
    N,
    H,
    A;
    N = a.fn.typeahead;
    H = {
        www: "tt-www",
        attrs: "tt-attrs",
        typeahead: "tt-typeahead"
    };
    A = {
        initialize: function(g, h) {
            var j, h = b.isArray(h) ? h: [].slice.call(arguments, 1),
            g = g || {};
            j = c(g.classNames);
            return this.each(function() {
                var c, k, l, m, u, p;
                b.each(h,
                function(a) {
                    a.highlight = !!g.highlight
                });
                c = a(this);
                k = a(j.html.wrapper);
                l = x(g.hint);
                m = x(g.menu);
                u = !1 !== g.hint && !l;
                p = !1 !== g.menu && !m;
                u && (l = c.clone().addClass(j.classes.hint).removeData().css(j.css.hint).css({
                    backgroundAttachment: c.css("background-attachment"),
                    backgroundClip: c.css("background-clip"),
                    backgroundColor: c.css("background-color"),
                    backgroundImage: c.css("background-image"),
                    backgroundOrigin: c.css("background-origin"),
                    backgroundPosition: c.css("background-position"),
                    backgroundRepeat: c.css("background-repeat"),
                    backgroundSize: c.css("background-size")
                }).prop("readonly", !0).removeAttr("id name placeholder required").attr({
                    autocomplete: "off",
                    spellcheck: "false",
                    tabindex: -1
                }));
                p && (m = a(j.html.menu).css(j.css.menu));
                l && l.val("");
                var q = j;
                c.data(H.attrs, {
                    dir: c.attr("dir"),
                    autocomplete: c.attr("autocomplete"),
                    spellcheck: c.attr("spellcheck"),
                    style: c.attr("style")
                });
                c.addClass(q.classes.input).attr({
                    autocomplete: "off",
                    spellcheck: !1
                });
                try { ! c.attr("dir") && c.attr("dir", "auto")
                } catch(r) {}
                if (u || p) k.css(j.css.wrapper),
                c.css(u ? j.css.input: j.css.inputWithNoHint),
                c.wrap(k).parent().prepend(u ? l: null).append(p ? m: null);
                u = p ? D: C;
                k = new f({
                    el: c
                });
                l = new F({
                    hint: l,
                    input: c
                },
                j);
                m = new u({
                    node: m,
                    datasets: h
                },
                j);
                m = new y({
                    input: l,
                    menu: m,
                    eventBus: k,
                    minLength: g.minLength
                },
                j);
                c.data(H.www, j);
                c.data(H.typeahead, m)
            })
        },
        isEnabled: function() {
            var a;
            K(this.first(),
            function(b) {
                a = b.isEnabled()
            });
            return a
        },
        enable: function() {
            K(this,
            function(a) {
                a.enable()
            });
            return this
        },
        disable: function() {
            K(this,
            function(a) {
                a.disable()
            });
            return this
        },
        isActive: function() {
            var a;
            K(this.first(),
            function(b) {
                a = b.isActive()
            });
            return a
        },
        activate: function() {
            K(this,
            function(a) {
                a.activate()
            });
            return this
        },
        deactivate: function() {
            K(this,
            function(a) {
                a.deactivate()
            });
            return this
        },
        isOpen: function() {
            var a;
            K(this.first(),
            function(b) {
                a = b.isOpen()
            });
            return a
        },
        open: function() {
            K(this,
            function(a) {
                a.open()
            });
            return this
        },
        close: function() {
            K(this,
            function(a) {
                a.close()
            });
            return this
        },
        select: function(b) {
            var f = !1,
            c = a(b);
            K(this.first(),
            function(a) {
                f = a.select(c)
            });
            return f
        },
        autocomplete: function(b) {
            var f = !1,
            c = a(b);
            K(this.first(),
            function(a) {
                f = a.autocomplete(c)
            });
            return f
        },
        moveCursor: function(a) {
            var b = !1;
            K(this.first(),
            function(f) {
                b = f.moveCursor(a)
            });
            return b
        },
        val: function(a) {
            var b;
            if (arguments.length) return K(this,
            function(b) {
                b.setVal(a)
            }),
            this;
            K(this.first(),
            function(a) {
                b = a.getVal()
            });
            return b
        },
        destroy: function() {
            K(this,
            function(a, f) {
                var c, g;
                c = f.data(H.www);
                g = f.parent().filter(c.selectors.wrapper);
                b.each(f.data(H.attrs),
                function(a, c) {
                    b.isUndefined(a) ? f.removeAttr(c) : f.attr(c, a)
                });
                f.removeData(H.typeahead).removeData(H.www).removeData(H.attr).removeClass(c.classes.input);
                g.length && (f.detach().insertAfter(g), g.remove());
                a.destroy()
            });
            return this
        }
    };
    a.fn.typeahead = function(a) {
        return A[a] ? A[a].apply(this, [].slice.call(arguments, 1)) : A.initialize.apply(this, arguments)
    };
    a.fn.typeahead.noConflict = function() {
        a.fn.typeahead = N;
        return this
    }
}); (function(a, b, c, g) {
    function f(b, f) {
        this.element = b;
        this.options = a.extend(!0, {},
        j, f);
        this.options.share = f.share;
        this._defaults = j;
        this._name = h;
        this.init()
    }
    var h = "sharrre",
    j = {
        className: "sharrre",
        share: {
            googlePlus: !1,
            facebook: !1,
            twitter: !1,
            digg: !1,
            delicious: !1,
            stumbleupon: !1,
            linkedin: !1,
            pinterest: !1
        },
        shareTotal: 0,
        template: "",
        title: "",
        url: c.location.href,
        text: c.title,
        urlCurl: "sharrre.php",
        count: {},
        total: 0,
        shorterTotal: !0,
        enableHover: !0,
        enableCounter: !0,
        enableTracking: !1,
        hover: function() {},
        hide: function() {},
        click: function() {},
        render: function() {},
        buttons: {
            googlePlus: {
                url: "",
                urlCount: !1,
                size: "medium",
                lang: "en-US",
                annotation: ""
            },
            facebook: {
                url: "",
                urlCount: !1,
                action: "like",
                layout: "button_count",
                width: "",
                send: "false",
                faces: "false",
                colorscheme: "",
                font: "",
                lang: "en_US"
            },
            twitter: {
                url: "",
                urlCount: !1,
                count: "horizontal",
                hashtags: "",
                via: "",
                related: "",
                lang: "en"
            },
            digg: {
                url: "",
                urlCount: !1,
                type: "DiggCompact"
            },
            delicious: {
                url: "",
                urlCount: !1,
                size: "medium"
            },
            stumbleupon: {
                url: "",
                urlCount: !1,
                layout: "1"
            },
            linkedin: {
                url: "",
                urlCount: !1,
                counter: ""
            },
            pinterest: {
                url: "",
                media: "",
                description: "",
                layout: "horizontal"
            }
        }
    },
    k = {
        googlePlus: "",
        facebook: "https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",
        twitter: "http://opensharecount.com/count.json?url={url}",
        digg: "http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",
        delicious: "http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",
        stumbleupon: "",
        linkedin: "http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",
        pinterest: "http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"
    },
    m = {
        googlePlus: function(f) {
            var g = f.options.buttons.googlePlus;
            a(f.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="' + g.size + '" data-href="' + ("" !== g.url ? g.url: f.options.url) + '" data-annotation="' + g.annotation + '"></div></div>');
            b.___gcfg = {
                lang: f.options.buttons.googlePlus.lang
            };
            "undefined" === typeof gapi ? (f = c.createElement("script"), f.type = "text/javascript", f.async = !0, f.src = "//apis.google.com/js/plusone.js", g = c.getElementsByTagName("script")[0], g.parentNode.insertBefore(f, g)) : gapi.plusone.go()
        },
        facebook: function(b) {
            var f = b.options.buttons.facebook;
            a(b.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-share-button" data-href="' + ("" !== f.url ? f.url: b.options.url) + '" data-send="' + f.send + '" data-layout="' + f.layout + '" data-width="' + f.width + '" data-show-faces="' + f.faces + '" data-action="' + f.action + '" data-colorscheme="' + f.colorscheme + '" data-font="' + f.font + '" data-via="' + f.via + '"></div></div>');
            if ("undefined" === typeof FB) {
                var g = c.getElementsByTagName("script")[0];
                c.getElementById("facebook-jssdk") || (b = c.createElement("script"), b.id = "facebook-jssdk", b.src = "//connect.facebook.net/" + f.lang + "/all.js#xfbml=1", g.parentNode.insertBefore(b, g))
            } else FB.XFBML.parse()
        },
        twitter: function(b) {
            var f = b.options.buttons.twitter;
            a(b.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="' + ("" !== f.url ? f.url: b.options.url) + '" data-count="' + f.count + '" data-text="' + b.options.text + '" data-via="' + f.via + '" data-hashtags="' + f.hashtags + '" data-related="' + f.related + '" data-lang="' + f.lang + '">Tweet</a></div>');
            "undefined" === typeof twttr ? (b = c.createElement("script"), b.type = "text/javascript", b.async = !0, b.src = "//platform.twitter.com/widgets.js", f = c.getElementsByTagName("script")[0], f.parentNode.insertBefore(b, f)) : a.ajax({
                url: "//platform.twitter.com/widgets.js",
                dataType: "script",
                cache: !0
            })
        },
        digg: function(b) {
            var f = b.options.buttons.digg;
            a(b.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton ' + f.type + '" rel="nofollow external" href="http://digg.com/submit?url=' + encodeURIComponent("" !== f.url ? f.url: b.options.url) + '"></a></div>');
            "undefined" === typeof __DBW && (b = c.createElement("SCRIPT"), f = c.getElementsByTagName("SCRIPT")[0], b.type = "text/javascript", b.async = !0, b.src = "//widgets.digg.com/buttons.js", f.parentNode.insertBefore(b, f))
        },
        delicious: function(b) {
            if ("tall" == b.options.buttons.delicious.size) var f = "width:50px;",
            c = "height:35px;width:50px;font-size:15px;line-height:35px;",
            g = "height:18px;line-height:18px;margin-top:3px;";
            else f = "width:93px;",
            c = "float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",
            g = "float:left;height:20px;line-height:20px;";
            var h = b.shorterTotal(b.options.count.delicious);
            "undefined" === typeof h && (h = 0);
            a(b.element).find(".buttons").append('<div class="button delicious"><div style="' + f + 'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="' + c + 'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">' + h + '</div><div style="' + g + 'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>');
            a(b.element).find(".delicious").on("click",
            function() {
                b.openPopup("delicious")
            })
        },
        stumbleupon: function(f) {
            var g = f.options.buttons.stumbleupon;
            a(f.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="' + g.layout + '" location="' + ("" !== g.url ? g.url: f.options.url) + '"></su:badge></div>');
            "undefined" === typeof STMBLPN ? (f = c.createElement("script"), f.type = "text/javascript", f.async = !0, f.src = "//platform.stumbleupon.com/1/widgets.js", g = c.getElementsByTagName("script")[0], g.parentNode.insertBefore(f, g), s = b.setTimeout(function() {
                "undefined" !== typeof STMBLPN && (STMBLPN.processWidgets(), clearInterval(s))
            },
            500)) : STMBLPN.processWidgets()
        },
        linkedin: function(f) {
            var g = f.options.buttons.linkedin;
            a(f.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="' + ("" !== g.url ? g.url: f.options.url) + '" data-counter="' + g.counter + '"><\/script></div>');
            "undefined" === typeof b.IN ? (f = c.createElement("script"), f.type = "text/javascript", f.async = !0, f.src = "//platform.linkedin.com/in.js", g = c.getElementsByTagName("script")[0], g.parentNode.insertBefore(f, g)) : b.IN.init()
        },
        pinterest: function(b) {
            var f = b.options.buttons.pinterest;
            a(b.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url=' + ("" !== f.url ? f.url: b.options.url) + "&media=" + f.media + "&description=" + f.description + '" class="pin-it-button" count-layout="' + f.layout + '">Pin It</a></div>');
            b = c.createElement("script");
            b.type = "text/javascript";
            b.async = !0;
            b.src = "//assets.pinterest.com/js/pinit.js";
            f = c.getElementsByTagName("script")[0];
            f.parentNode.insertBefore(b, f)
        }
    },
    q = {
        googlePlus: function() {},
        facebook: function() {
            fb = b.setInterval(function() {
                "undefined" !== typeof FB && (FB.Event.subscribe("edge.create",
                function(a) {
                    _gaq.push(["_trackSocial", "facebook", "like", a])
                }), FB.Event.subscribe("edge.remove",
                function(a) {
                    _gaq.push(["_trackSocial", "facebook", "unlike", a])
                }), FB.Event.subscribe("message.send",
                function(a) {
                    _gaq.push(["_trackSocial", "facebook", "send", a])
                }), clearInterval(fb))
            },
            1E3)
        },
        twitter: function() {
            tw = b.setInterval(function() {
                "undefined" !== typeof twttr && (twttr.events.bind("tweet",
                function(a) {
                    a && _gaq.push(["_trackSocial", "twitter", "tweet"])
                }), clearInterval(tw))
            },
            1E3)
        },
        digg: function() {},
        delicious: function() {},
        stumbleupon: function() {},
        linkedin: function() {},
        pinterest: function() {}
    },
    r = {
        googlePlus: function(a) {
            b.open("https://plus.google.com/share?hl=" + a.buttons.googlePlus.lang + "&url=" + encodeURIComponent("" !== a.buttons.googlePlus.url ? a.buttons.googlePlus.url: a.url), "", "toolbar=0, status=0, width=900, height=500")
        },
        facebook: function(a) {
            b.open("http://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent("" !== a.buttons.facebook.url ? a.buttons.facebook.url: a.url) + "&t=" + a.text + "", "", "toolbar=0, status=0, width=900, height=500")
        },
        twitter: function(a) {
            b.open("https://twitter.com/intent/tweet?text=" + encodeURIComponent(a.text) + "&url=" + encodeURIComponent("" !== a.buttons.twitter.url ? a.buttons.twitter.url: a.url) + ("" !== a.buttons.twitter.via ? "&via=" + a.buttons.twitter.via: "") + ("" !== a.buttons.twitter.hashtags ? "&hashtags=" + a.buttons.twitter.hashtags: ""), "", "toolbar=0, status=0, width=650, height=360")
        },
        digg: function(a) {
            b.open("http://digg.com/tools/diggthis/submit?url=" + encodeURIComponent("" !== a.buttons.digg.url ? a.buttons.digg.url: a.url) + "&title=" + a.text + "&related=true&style=true", "", "toolbar=0, status=0, width=650, height=360")
        },
        delicious: function(a) {
            b.open("http://www.delicious.com/save?v=5&noui&jump=close&url=" + encodeURIComponent("" !== a.buttons.delicious.url ? a.buttons.delicious.url: a.url) + "&title=" + a.text, "delicious", "toolbar=no,width=550,height=550")
        },
        stumbleupon: function(a) {
            b.open("http://www.stumbleupon.com/badge/?url=" + encodeURIComponent("" !== a.buttons.stumbleupon.url ? a.buttons.stumbleupon.url: a.url), "stumbleupon", "toolbar=no,width=550,height=550")
        },
        linkedin: function(a) {
            b.open("https://www.linkedin.com/cws/share?url=" + encodeURIComponent("" !== a.buttons.linkedin.url ? a.buttons.linkedin.url: a.url) + "&token=&isFramed=true", "linkedin", "toolbar=no,width=550,height=550")
        },
        pinterest: function(a) {
            b.open("http://pinterest.com/pin/create/button/?url=" + encodeURIComponent("" !== a.buttons.pinterest.url ? a.buttons.pinterest.url: a.url) + "&media=" + encodeURIComponent(a.buttons.pinterest.media) + "&description=" + a.buttons.pinterest.description, "pinterest", "toolbar=no,width=700,height=300")
        }
    };
    f.prototype.init = function() {
        var b = this;
        "" !== this.options.urlCurl && (k.googlePlus = this.options.urlCurl + "?url={url}&type=googlePlus", k.stumbleupon = this.options.urlCurl + "?url={url}&type=stumbleupon");
        a(this.element).addClass(this.options.className);
        "undefined" !== typeof a(this.element).data("title") && (this.options.title = a(this.element).attr("data-title"));
        "undefined" !== typeof a(this.element).data("url") && (this.options.url = a(this.element).data("url"));
        "undefined" !== typeof a(this.element).data("text") && (this.options.text = a(this.element).data("text"));
        a.each(this.options.share,
        function(a, f) { ! 0 === f && b.options.shareTotal++
        }); ! 0 === b.options.enableCounter ? a.each(this.options.share,
        function(a, f) {
            if (!0 === f) try {
                b.getSocialJson(a)
            } catch(c) {}
        }) : "" !== b.options.template ? this.options.render(this, this.options) : this.loadButtons();
        a(this.element).hover(function() {
            0 === a(this).find(".buttons").length && !0 === b.options.enableHover && b.loadButtons();
            b.options.hover(b, b.options)
        },
        function() {
            b.options.hide(b, b.options)
        });
        a(this.element).click(function() {
            b.options.click(b, b.options);
            return ! 1
        })
    };
    f.prototype.loadButtons = function() {
        var b = this;
        a(this.element).append('<div class="buttons"></div>');
        a.each(b.options.share,
        function(a, f) {
            if (!0 == f && (m[a](b), !0 === b.options.enableTracking)) q[a]()
        })
    };
    f.prototype.getSocialJson = function(b) {
        var f = this,
        c = 0,
        g = k[b].replace("{url}", encodeURIComponent(this.options.url)); ! 0 === this.options.buttons[b].urlCount && "" !== this.options.buttons[b].url && (g = k[b].replace("{url}", this.options.buttons[b].url));
        "" != g && "" !== f.options.urlCurl ? a.getJSON(g,
        function(a) {
            "undefined" !== typeof a.count ? (a = a.count + "", a = a.replace("\u00c2\u00a0", ""), c += parseInt(a, 10)) : a.data && 0 < a.data.length && "undefined" !== typeof a.data[0].total_count ? c += parseInt(a.data[0].total_count, 10) : "undefined" !== typeof a[0] && (c += parseInt(a[0].total_posts, 10));
            f.options.count[b] = c;
            f.options.total += c;
            f.renderer();
            f.rendererPerso()
        }).error(function() {
            f.options.count[b] = 0;
            f.rendererPerso()
        }) : (f.renderer(), f.options.count[b] = 0, f.rendererPerso())
    };
    f.prototype.rendererPerso = function() {
        var a = 0;
        for (e in this.options.count) a++;
        a === this.options.shareTotal && this.options.render(this, this.options)
    };
    f.prototype.renderer = function() {
        var b = this.options.total,
        f = this.options.template; ! 0 === this.options.shorterTotal && (b = this.shorterTotal(b));
        "" !== f ? (f = f.replace("{total}", b), a(this.element).html(f)) : a(this.element).html('<div class="box"><a class="count" href="#">' + b + "</a>" + ("" !== this.options.title ? '<a class="share" href="#">' + this.options.title + "</a>": "") + "</div>")
    };
    f.prototype.shorterTotal = function(a) {
        1E6 <= a ? a = (a / 1E6).toFixed(2) + "M": 1E3 <= a && (a = (a / 1E3).toFixed(1) + "k");
        return a
    };
    f.prototype.openPopup = function(a) {
        r[a](this.options);
        if (!0 === this.options.enableTracking) {
            var b = {
                googlePlus: {
                    site: "Google",
                    action: "+1"
                },
                facebook: {
                    site: "facebook",
                    action: "like"
                },
                twitter: {
                    site: "twitter",
                    action: "tweet"
                },
                digg: {
                    site: "digg",
                    action: "add"
                },
                delicious: {
                    site: "delicious",
                    action: "add"
                },
                stumbleupon: {
                    site: "stumbleupon",
                    action: "add"
                },
                linkedin: {
                    site: "linkedin",
                    action: "share"
                },
                pinterest: {
                    site: "pinterest",
                    action: "pin"
                }
            };
            _gaq.push(["_trackSocial", b[a].site, b[a].action])
        }
    };
    f.prototype.simulateClick = function() {
        var b = a(this.element).html();
        a(this.element).html(b.replace(this.options.total, this.options.total + 1))
    };
    f.prototype.update = function(a, b) {
        "" !== a && (this.options.url = a);
        "" !== b && (this.options.text = b)
    };
    a.fn[h] = function(b) {
        var c = arguments;
        if (b === g || "object" === typeof b) return this.each(function() {
            a.data(this, "plugin_" + h) || a.data(this, "plugin_" + h, new f(this, b))
        });
        if ("string" === typeof b && "_" !== b[0] && "init" !== b) return this.each(function() {
            var g = a.data(this, "plugin_" + h);
            g instanceof f && "function" === typeof g[b] && g[b].apply(g, Array.prototype.slice.call(c, 1))
        })
    }
})(jQuery, window, document); (function(a) {
    "function" === typeof define && define.amd ? define(["jquery"], a) : a(jQuery)
})(function(a) {
    function b(a) {
        if (g[a]) return g[a].apply(this, Array.prototype.slice.call(arguments, 1));
        if ("object" === typeof a || !a) return g.bind.apply(this, arguments);
        c.error("Method " + a + " does not exist on jQuery.regula")
    }
    var c = a,
    g = {
        bind: function(b) {
            this instanceof a && (b || (b = {}), 0 < this.get().length && c.extend(!0, b, {
                elements: this.get()
            }));
            regula.bind(b);
            return this
        },
        unbind: function(b) {
            this instanceof a && (b || (b = {}), 0 < this.get().length && c.extend(!0, b, {
                elements: this.get()
            }));
            regula.unbind(b);
            return this
        },
        isBound: function(b) {
            this instanceof a && (b || (b = {}), 0 < this.get().length && c.extend(!0, b, {
                element: this.get(0)
            }));
            regula.isBound(b);
            return this
        },
        validate: function(b) {
            this instanceof a && (b || (b = {}), 0 < this.get().length && c.extend(!0, b, {
                elements: this.get()
            }));
            return regula.validate(b)
        },
        custom: function(a) {
            regula.custom(a);
            return this
        },
        compound: function(a) {
            regula.compound(a);
            return this
        },
        override: function(a) {
            regula.override(a);
            return this
        }
    };
    g.on = g.bind;
    g.off = g.unbind;
    c.fn.regula = b;
    c.regula = b
}); (function(a) {
    a.fn.extend({
        leanModal: function(b) {
            function c(b) {
                a(b).css({
                    display: "none"
                }).removeClass("visible-modal");
                0 === a(".visible-modal").length ? a("#lean_overlay").fadeOut(200) : a(".visible-modal").css({
                    zIndex: 11E3
                })
            }
            var g = a("<div id='lean_overlay'></div>");
            a("body").append(g);
            b = a.extend({
                top: 100,
                overlay: 0.3,
                closeButton: null
            },
            b);
            return this.each(function() {
                var f = b;
                a(this).click(function(b) {
                    var g = a(this).attr("href");
                    a("#lean_overlay").click(function() {
                        c(g)
                    });
                    a(f.closeButton).click(function() {
                        c(g)
                    });
                    a(g).outerHeight();
                    var k = a(g).outerWidth();
                    a("#lean_overlay").css({
                        display: "block",
                        opacity: 0
                    });
                    a("#lean_overlay").fadeTo(200, f.overlay);
                    a(g).css({
                        display: "block",
                        position: "scroll" === f.top ? "absolute": "fixed",
                        opacity: 0,
                        "z-index": 11E3,
                        left: "50%",
                        "margin-left": -(k / 2) + "px",
                        top: ("scroll" === f.top && a.fn._scrollable ? a(window)._scrollable().prop("scrollTop") : f.top) + "px"
                    });
                    a(".visible-modal").css({
                        zIndex: 9999
                    });
                    a(g).fadeTo(200, 1).addClass("visible-modal");
                    b.preventDefault()
                })
            })
        }
    })
})(jQuery); (function(a) {
    function b() {
        f = !1;
        for (var b = 0; b < c.length; b++) {
            var g = a(c[b]).filter(function() {
                return a(this).is(":appeared")
            });
            g.trigger("appear", [g]);
            if (k) {
                var h = k.not(g);
                h.trigger("disappear", [h])
            }
            k = g
        }
    }
    var c = [],
    g = !1,
    f = !1,
    h = {
        interval: 250,
        force_process: !1
    },
    j = a(window),
    k;
    a.expr[":"].appeared = function(b) {
        b = a(b);
        if (!b.is(":visible")) return ! 1;
        var f = j.scrollLeft(),
        c = j.scrollTop(),
        g = b.offset(),
        h = g.left,
        g = g.top;
        return g + b.height() >= c && g - (b.data("appear-top-offset") || 0) <= c + j.height() && h + b.width() >= f && h - (b.data("appear-left-offset") || 0) <= f + j.width() ? !0 : !1
    };
    a.fn.extend({
        appear: function(j) {
            var k = a.extend({},
            h, j || {}),
            j = this.selector || this;
            if (!g) {
                var r = function() {
                    f || (f = !0, setTimeout(b, k.interval))
                };
                a(window).scroll(r).resize(r);
                g = !0
            }
            k.force_process && setTimeout(b, k.interval);
            c.push(j);
            return a(j)
        }
    });
    a.extend({
        force_appear: function() {
            return g ? (b(), !0) : !1
        }
    })
})(jQuery);
later = function() {
    var a = {
        version: "1.1.9"
    };
    return Array.prototype.indexOf || (Array.prototype.indexOf = function(a) {
        if (null == this) throw new TypeError;
        var c = Object(this),
        g = c.length >>> 0;
        if (0 === g) return - 1;
        var f = 0;
        if (1 < arguments.length && (f = Number(arguments[1]), f != f ? f = 0 : 0 != f && f != 1 / 0 && f != -(1 / 0) && (f = (0 < f || -1) * Math.floor(Math.abs(f)))), f >= g) return - 1;
        for (f = 0 <= f ? f: Math.max(g - Math.abs(f), 0); g > f; f++) if (f in c && c[f] === a) return f;
        return - 1
    }),
    String.prototype.trim || (String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, "")
    }),
    a.array = {},
    a.array.sort = function(a, c) {
        a.sort(function(a, b) {
            return + a - +b
        });
        c && 0 === a[0] && a.push(a.shift())
    },
    a.array.next = function(a, c, g) {
        for (var f, h = 0 !== g[0], j = 0, k = c.length - 1; - 1 < k; --k) {
            if (f = c[k], f === a) return f;
            if (! (f > a || 0 === f && h && g[1] > a)) break;
            j = k
        }
        return c[j]
    },
    a.array.nextInvalid = function(a, c, g) {
        for (var f = g[0], g = g[1], h = c.length, j = 0 === c[h - 1] && 0 !== f ? g: 0, k = a, a = c.indexOf(a), m = k; k === (c[a] || j);) if (k++, k > g && (k = f), a++, a === h && (a = 0), k === m) return;
        return k
    },
    a.array.prev = function(a, c, g) {
        for (var f, h = c.length,
        j = 0 !== g[0], k = h - 1, m = 0; h > m; m++) {
            if (f = c[m], f === a) return f;
            if (! (a > f || 0 === f && j && g[1] < a)) break;
            k = m
        }
        return c[k]
    },
    a.array.prevInvalid = function(a, c, g) {
        for (var f = g[0], g = g[1], h = c.length, j = 0 === c[h - 1] && 0 !== f ? g: 0, k = a, a = c.indexOf(a), m = k; k === (c[a] || j);) if (k--, f > k && (k = g), a--, -1 === a && (a = h - 1), k === m) return;
        return k
    },
    a.day = a.D = {
        name: "day",
        range: 86400,
        val: function(b) {
            return b.D || (b.D = a.date.getDate.call(b))
        },
        isValid: function(b, c) {
            return a.D.val(b) === (c || a.D.extent(b)[1])
        },
        extent: function(b) {
            if (b.DExtent) return b.DExtent;
            var c = a.M.val(b),
            g = a.DAYS_IN_MONTH[c - 1];
            return 2 === c && 366 === a.dy.extent(b)[1] && (g += 1),
            b.DExtent = [1, g]
        },
        start: function(b) {
            return b.DStart || (b.DStart = a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b)))
        },
        end: function(b) {
            return b.DEnd || (b.DEnd = a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b)))
        },
        next: function(b, c) {
            var c = c > a.D.extent(b)[1] ? 1 : c,
            g = a.date.nextRollover(b, c, a.D, a.M),
            f = a.D.extent(g)[1];
            return c = c > f ? 1 : c || f,
            a.date.next(a.Y.val(g), a.M.val(g), c)
        },
        prev: function(b, c) {
            var g = a.date.prevRollover(b, c, a.D, a.M),
            f = a.D.extent(g)[1];
            return a.date.prev(a.Y.val(g), a.M.val(g), c > f ? f: c || f)
        }
    },
    a.dayOfWeekCount = a.dc = {
        name: "day of week count",
        range: 604800,
        val: function(b) {
            return b.dc || (b.dc = Math.floor((a.D.val(b) - 1) / 7) + 1)
        },
        isValid: function(b, c) {
            return a.dc.val(b) === c || 0 === c && a.D.val(b) > a.D.extent(b)[1] - 7
        },
        extent: function(b) {
            return b.dcExtent || (b.dcExtent = [1, Math.ceil(a.D.extent(b)[1] / 7)])
        },
        start: function(b) {
            return b.dcStart || (b.dcStart = a.date.next(a.Y.val(b), a.M.val(b), Math.max(1, 7 * (a.dc.val(b) - 1) + 1 || 1)))
        },
        end: function(b) {
            return b.dcEnd || (b.dcEnd = a.date.prev(a.Y.val(b), a.M.val(b), Math.min(7 * a.dc.val(b), a.D.extent(b)[1])))
        },
        next: function(b, c) {
            var c = c > a.dc.extent(b)[1] ? 1 : c,
            g = a.date.nextRollover(b, c, a.dc, a.M),
            f = a.dc.extent(g)[1],
            c = c > f ? 1 : c,
            f = a.date.next(a.Y.val(g), a.M.val(g), 0 === c ? a.D.extent(g)[1] - 6 : 1 + 7 * (c - 1));
            return f.getTime() <= b.getTime() ? (g = a.M.next(b, a.M.val(b) + 1), a.date.next(a.Y.val(g), a.M.val(g), 0 === c ? a.D.extent(g)[1] - 6 : 1 + 7 * (c - 1))) : f
        },
        prev: function(b, c) {
            var g = a.date.prevRollover(b, c, a.dc, a.M),
            f = a.dc.extent(g)[1];
            return c = c > f ? f: c || f,
            a.dc.end(a.date.prev(a.Y.val(g), a.M.val(g), 1 + 7 * (c - 1)))
        }
    },
    a.dayOfWeek = a.dw = a.d = {
        name: "day of week",
        range: 86400,
        val: function(b) {
            return b.dw || (b.dw = a.date.getDay.call(b) + 1)
        },
        isValid: function(b, c) {
            return a.dw.val(b) === (c || 7)
        },
        extent: function() {
            return [1, 7]
        },
        start: function(b) {
            return a.D.start(b)
        },
        end: function(b) {
            return a.D.end(b)
        },
        next: function(b, c) {
            return c = 7 < c ? 1 : c || 7,
            a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b) + (c - a.dw.val(b)) + (c <= a.dw.val(b) ? 7 : 0))
        },
        prev: function(b, c) {
            return c = 7 < c ? 7 : c || 7,
            a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b) + (c - a.dw.val(b)) + (c >= a.dw.val(b) ? -7 : 0))
        }
    },
    a.dayOfYear = a.dy = {
        name: "day of year",
        range: 86400,
        val: function(b) {
            return b.dy || (b.dy = Math.ceil(1 + (a.D.start(b).getTime() - a.Y.start(b).getTime()) / a.DAY))
        },
        isValid: function(b, c) {
            return a.dy.val(b) === (c || a.dy.extent(b)[1])
        },
        extent: function(b) {
            var c = a.Y.val(b);
            return b.dyExtent || (b.dyExtent = [1, c % 4 ? 365 : 366])
        },
        start: function(b) {
            return a.D.start(b)
        },
        end: function(b) {
            return a.D.end(b)
        },
        next: function(b, c) {
            var c = c > a.dy.extent(b)[1] ? 1 : c,
            g = a.date.nextRollover(b, c, a.dy, a.Y),
            f = a.dy.extent(g)[1];
            return c = c > f ? 1 : c || f,
            a.date.next(a.Y.val(g), a.M.val(g), c)
        },
        prev: function(b, c) {
            var g = a.date.prevRollover(b, c, a.dy, a.Y),
            f = a.dy.extent(g)[1];
            return c = c > f ? f: c || f,
            a.date.prev(a.Y.val(g), a.M.val(g), c)
        }
    },
    a.hour = a.h = {
        name: "hour",
        range: 3600,
        val: function(b) {
            return b.h || (b.h = a.date.getHour.call(b))
        },
        isValid: function(b, c) {
            return a.h.val(b) === c
        },
        extent: function() {
            return [0, 23]
        },
        start: function(b) {
            return b.hStart || (b.hStart = a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b), a.h.val(b)))
        },
        end: function(b) {
            return b.hEnd || (b.hEnd = a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b), a.h.val(b)))
        },
        next: function(b, c) {
            var c = 23 < c ? 0 : c,
            g = a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b) + (c <= a.h.val(b) ? 1 : 0), c);
            return ! a.date.isUTC && g.getTime() <= b.getTime() && (g = a.date.next(a.Y.val(g), a.M.val(g), a.D.val(g), c + 1)),
            g
        },
        prev: function(b, c) {
            return c = 23 < c ? 23 : c,
            a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b) + (c >= a.h.val(b) ? -1 : 0), c)
        }
    },
    a.minute = a.m = {
        name: "minute",
        range: 60,
        val: function(b) {
            return b.m || (b.m = a.date.getMin.call(b))
        },
        isValid: function(b, c) {
            return a.m.val(b) === c
        },
        extent: function() {
            return [0, 59]
        },
        start: function(b) {
            return b.mStart || (b.mStart = a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b), a.h.val(b), a.m.val(b)))
        },
        end: function(b) {
            return b.mEnd || (b.mEnd = a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b), a.h.val(b), a.m.val(b)))
        },
        next: function(b, c) {
            var g = a.m.val(b),
            f = a.s.val(b),
            g = 59 < c ? 60 - g: g >= c ? 60 - g + c: c - g,
            h = new Date(b.getTime() + g * a.MIN - f * a.SEC);
            return ! a.date.isUTC && h.getTime() <= b.getTime() && (h = new Date(b.getTime() + (g + 120) * a.MIN - f * a.SEC)),
            h
        },
        prev: function(b, c) {
            return c = 59 < c ? 59 : c,
            a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b), a.h.val(b) + (c >= a.m.val(b) ? -1 : 0), c)
        }
    },
    a.month = a.M = {
        name: "month",
        range: 2629740,
        val: function(b) {
            return b.M || (b.M = a.date.getMonth.call(b) + 1)
        },
        isValid: function(b, c) {
            return a.M.val(b) === (c || 12)
        },
        extent: function() {
            return [1, 12]
        },
        start: function(b) {
            return b.MStart || (b.MStart = a.date.next(a.Y.val(b), a.M.val(b)))
        },
        end: function(b) {
            return b.MEnd || (b.MEnd = a.date.prev(a.Y.val(b), a.M.val(b)))
        },
        next: function(b, c) {
            return c = 12 < c ? 1 : c || 12,
            a.date.next(a.Y.val(b) + (c > a.M.val(b) ? 0 : 1), c)
        },
        prev: function(b, c) {
            return c = 12 < c ? 12 : c || 12,
            a.date.prev(a.Y.val(b) - (c >= a.M.val(b) ? 1 : 0), c)
        }
    },
    a.second = a.s = {
        name: "second",
        range: 1,
        val: function(b) {
            return b.s || (b.s = a.date.getSec.call(b))
        },
        isValid: function(b, c) {
            return a.s.val(b) === c
        },
        extent: function() {
            return [0, 59]
        },
        start: function(a) {
            return a
        },
        end: function(a) {
            return a
        },
        next: function(b, c) {
            var g = a.s.val(b),
            g = 59 < c ? 60 - g: g >= c ? 60 - g + c: c - g,
            f = new Date(b.getTime() + g * a.SEC);
            return ! a.date.isUTC && f.getTime() <= b.getTime() && (f = new Date(b.getTime() + (g + 7200) * a.SEC)),
            f
        },
        prev: function(b, c) {
            return c = 59 < c ? 59 : c,
            a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b), a.h.val(b), a.m.val(b) + (c >= a.s.val(b) ? -1 : 0), c)
        }
    },
    a.time = a.t = {
        name: "time",
        range: 1,
        val: function(b) {
            return b.t || (b.t = 3600 * a.h.val(b) + 60 * a.m.val(b) + a.s.val(b))
        },
        isValid: function(b, c) {
            return a.t.val(b) === c
        },
        extent: function() {
            return [0, 86399]
        },
        start: function(a) {
            return a
        },
        end: function(a) {
            return a
        },
        next: function(b, c) {
            var c = 86399 < c ? 0 : c,
            g = a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b) + (c <= a.t.val(b) ? 1 : 0), 0, 0, c);
            return ! a.date.isUTC && g.getTime() < b.getTime() && (g = a.date.next(a.Y.val(g), a.M.val(g), a.D.val(g), a.h.val(g), a.m.val(g), c + 7200)),
            g
        },
        prev: function(b, c) {
            return c = 86399 < c ? 86399 : c,
            a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b) + (c >= a.t.val(b) ? -1 : 0), 0, 0, c)
        }
    },
    a.weekOfMonth = a.wm = {
        name: "week of month",
        range: 604800,
        val: function(b) {
            return b.wm || (b.wm = (a.D.val(b) + (a.dw.val(a.M.start(b)) - 1) + (7 - a.dw.val(b))) / 7)
        },
        isValid: function(b, c) {
            return a.wm.val(b) === (c || a.wm.extent(b)[1])
        },
        extent: function(b) {
            return b.wmExtent || (b.wmExtent = [1, (a.D.extent(b)[1] + (a.dw.val(a.M.start(b)) - 1) + (7 - a.dw.val(a.M.end(b)))) / 7])
        },
        start: function(b) {
            return b.wmStart || (b.wmStart = a.date.next(a.Y.val(b), a.M.val(b), Math.max(a.D.val(b) - a.dw.val(b) + 1, 1)))
        },
        end: function(b) {
            return b.wmEnd || (b.wmEnd = a.date.prev(a.Y.val(b), a.M.val(b), Math.min(a.D.val(b) + (7 - a.dw.val(b)), a.D.extent(b)[1])))
        },
        next: function(b, c) {
            var c = c > a.wm.extent(b)[1] ? 1 : c,
            g = a.date.nextRollover(b, c, a.wm, a.M),
            f = a.wm.extent(g)[1];
            return c = c > f ? 1 : c || f,
            a.date.next(a.Y.val(g), a.M.val(g), Math.max(1, 7 * (c - 1) - (a.dw.val(g) - 2)))
        },
        prev: function(b, c) {
            var g = a.date.prevRollover(b, c, a.wm, a.M),
            f = a.wm.extent(g)[1];
            return c = c > f ? f: c || f,
            a.wm.end(a.date.next(a.Y.val(g), a.M.val(g), Math.max(1, 7 * (c - 1) - (a.dw.val(g) - 2))))
        }
    },
    a.weekOfYear = a.wy = {
        name: "week of year (ISO)",
        range: 604800,
        val: function(b) {
            if (b.wy) return b.wy;
            var c = a.dw.next(a.wy.start(b), 5),
            g = a.dw.next(a.Y.prev(c, a.Y.val(c) - 1), 5);
            return b.wy = 1 + Math.ceil((c.getTime() - g.getTime()) / a.WEEK)
        },
        isValid: function(b, c) {
            return a.wy.val(b) === (c || a.wy.extent(b)[1])
        },
        extent: function(b) {
            if (b.wyExtent) return b.wyExtent;
            var c = a.dw.next(a.wy.start(b), 5),
            g = a.dw.val(a.Y.start(c)),
            c = a.dw.val(a.Y.end(c));
            return b.wyExtent = [1, 5 === g || 5 === c ? 53 : 52]
        },
        start: function(b) {
            return b.wyStart || (b.wyStart = a.date.next(a.Y.val(b), a.M.val(b), a.D.val(b) - (1 < a.dw.val(b) ? a.dw.val(b) - 2 : 6)))
        },
        end: function(b) {
            return b.wyEnd || (b.wyEnd = a.date.prev(a.Y.val(b), a.M.val(b), a.D.val(b) + (1 < a.dw.val(b) ? 8 - a.dw.val(b) : 0)))
        },
        next: function(b, c) {
            var c = c > a.wy.extent(b)[1] ? 1 : c,
            g = a.dw.next(a.wy.start(b), 5),
            f = a.date.nextRollover(g, c, a.wy, a.Y);
            1 !== a.wy.val(f) && (f = a.dw.next(f, 2));
            g = a.wy.extent(f)[1];
            f = a.wy.start(f);
            return c = c > g ? 1 : c || g,
            a.date.next(a.Y.val(f), a.M.val(f), a.D.val(f) + 7 * (c - 1))
        },
        prev: function(b, c) {
            var g = a.dw.next(a.wy.start(b), 5),
            f = a.date.prevRollover(g, c, a.wy, a.Y);
            1 !== a.wy.val(f) && (f = a.dw.next(f, 2));
            g = a.wy.extent(f)[1];
            f = a.wy.end(f);
            return c = c > g ? g: c || g,
            a.wy.end(a.date.next(a.Y.val(f), a.M.val(f), a.D.val(f) + 7 * (c - 1)))
        }
    },
    a.year = a.Y = {
        name: "year",
        range: 31556900,
        val: function(b) {
            return b.Y || (b.Y = a.date.getYear.call(b))
        },
        isValid: function(b, c) {
            return a.Y.val(b) === c
        },
        extent: function() {
            return [1970, 2099]
        },
        start: function(b) {
            return b.YStart || (b.YStart = a.date.next(a.Y.val(b)))
        },
        end: function(b) {
            return b.YEnd || (b.YEnd = a.date.prev(a.Y.val(b)))
        },
        next: function(b, c) {
            return c > a.Y.val(b) && c <= a.Y.extent()[1] ? a.date.next(c) : a.NEVER
        },
        prev: function(b, c) {
            return c < a.Y.val(b) && c >= a.Y.extent()[0] ? a.date.prev(c) : a.NEVER
        }
    },
    a.fullDate = a.fd = {
        name: "full date",
        range: 1,
        val: function(a) {
            return a.fd || (a.fd = a.getTime())
        },
        isValid: function(b, c) {
            return a.fd.val(b) === c
        },
        extent: function() {
            return [0, 3250368E7]
        },
        start: function(a) {
            return a
        },
        end: function(a) {
            return a
        },
        next: function(b, c) {
            return a.fd.val(b) < c ? new Date(c) : a.NEVER
        },
        prev: function(b, c) {
            return a.fd.val(b) > c ? new Date(c) : a.NEVER
        }
    },
    a.modifier = {},
    a.modifier.after = a.modifier.a = function(a, c) {
        var g = c[0];
        return {
            name: "after " + a.name,
            range: (a.extent(new Date)[1] - g) * a.range,
            val: a.val,
            isValid: function(a) {
                return this.val(a) >= g
            },
            extent: a.extent,
            start: a.start,
            end: a.end,
            next: function(f, c) {
                return c != g && (c = a.extent(f)[0]),
                a.next(f, c)
            },
            prev: function(f, c) {
                return c = c === g ? a.extent(f)[1] : g - 1,
                a.prev(f, c)
            }
        }
    },
    a.modifier.before = a.modifier.b = function(a, c) {
        var g = c[c.length - 1];
        return {
            name: "before " + a.name,
            range: a.range * (g - 1),
            val: a.val,
            isValid: function(a) {
                return this.val(a) < g
            },
            extent: a.extent,
            start: a.start,
            end: a.end,
            next: function(f, c) {
                return c = c === g ? a.extent(f)[0] : g,
                a.next(f, c)
            },
            prev: function(f, c) {
                return c = c === g ? g - 1 : a.extent(f)[1],
                a.prev(f, c)
            }
        }
    },
    a.compile = function(b) {
        var c, g = [],
        f = 0,
        h;
        for (h in b) {
            var j = h.split("_"),
            k = j[0],
            m = j[1],
            j = b[h],
            k = m ? a.modifier[m](a[k], j) : a[k];
            g.push({
                constraint: k,
                vals: j
            });
            f++
        }
        return g.sort(function(a, b) {
            var f = a.constraint.range,
            c = b.constraint.range;
            return f > c ? -1 : c > f ? 1 : 0
        }),
        c = g[f - 1].constraint,
        {
            start: function(b, h) {
                for (var j, k = h,
                m = a.array[b], F = 1E3; F--&&!j && k;) {
                    j = !0;
                    for (var w = 0; f > w; w++) {
                        var J = g[w].constraint,
                        u = J.val(k),
                        C = J.extent(k),
                        u = m(u, g[w].vals, C);
                        if (!J.isValid(k, u)) {
                            k = J[b](k, u);
                            j = !1;
                            break
                        }
                    }
                }
                return k !== a.NEVER && (k = "next" === b ? c.start(k) : c.end(k)),
                k
            },
            end: function(b, c) {
                for (var h, j = a.array[b + "Invalid"], k = "next" === b ?
                function(a, b) {
                    return a.getTime() > b.getTime()
                }: function(a, b) {
                    return b.getTime() > a.getTime()
                },
                m = f - 1; 0 <= m; m--) {
                    var w, J = g[m].constraint,
                    u = J.val(c),
                    C = J.extent(c),
                    u = j(u, g[m].vals, C);
                    void 0 !== u && (w = J[b](c, u), !w || h && !k(h, w) || (h = w))
                }
                return h
            },
            tick: function(b, f) {
                return new Date("next" === b ? c.end(f).getTime() + a.SEC: c.start(f).getTime() - a.SEC)
            },
            tickStart: function(a) {
                return c.start(a)
            }
        }
    },
    a.schedule = function(b) {
        function c(b, c, l, q, u) {
            var C, D, E, y = j(b),
            I = c,
            K = 1E3,
            x = [],
            N = [],
            H = [],
            A = "next" === b,
            B = A ? 0 : 1,
            v = A ? 1 : 0;
            if (l = l ? new Date(l) : new Date, !l || !l.getTime()) throw Error("Invalid start date.");
            for (var L = m,
            G = l,
            S = 0,
            Q = L.length; Q > S; S++) x[S] = L[S].start(b, G);
            L = r;
            G = l;
            S = (j(b), 0);
            for (Q = L.length; Q > S; S++) {
                var O = L[S].start(b, G);
                O ? N[S] = [O, L[S].end(b, O)] : N[S] = a.NEVER
            }
            for (; K--&&I && (C = k(x, y)) && (!q || !y(C, q));) {
                if (L = p) {
                    D = b;
                    for (var L = r,
                    G = N,
                    S = C,
                    Q = j(D), O = 0, M = L.length; M > O; O++) if (G[O] && !Q(G[O][0], S)) {
                        var W = L[O].start(D, S);
                        W ? G[O] = [W, L[O].end(D, W)] : G[O] = a.NEVER
                    }
                    D = N;
                    L = C;
                    G = void 0;
                    S = j(b);
                    Q = 0;
                    for (O = D.length; O > Q; Q++) M = D[Q],
                    !M || S(M[0], L) || M[1] && !S(M[1], L) || (!G || S(M[1], G)) && (G = M[1]);
                    L = D = G
                }
                if (L) f(b, m, x, D);
                else {
                    if (u) {
                        D = N;
                        L = y;
                        Q = void 0;
                        G = 0;
                        for (S = D.length; S > G; G++) ! D[G] || Q && !L(Q, D[G][0]) || (Q = D[G][0]);
                        a: {
                            D = b;
                            for (var L = m,
                            G = x,
                            S = C,
                            O = void 0,
                            M = j(D), W = 0, la = L.length; la > W; W++) {
                                var ia = G[W];
                                if (ia && ia.getTime() === S.getTime()) {
                                    ia = L[W].end(D, ia);
                                    if (Q && (!ia || M(ia, Q))) {
                                        D = Q;
                                        break a
                                    } (!O || M(ia, O)) && (O = ia)
                                }
                            }
                            D = O
                        }
                        L = A ? [new Date(Math.max(l, C)), D ? new Date(q ? Math.min(D, q) : D) : void 0] : [D ? new Date(q ? Math.max(q, D.getTime() + a.SEC) : D.getTime() + a.SEC) : void 0, new Date(Math.min(l, C.getTime() + a.SEC))];
                        if (E && L[B].getTime() === E[v].getTime() ? (E[v] = L[v], I++) : (E = L, H.push(E)), !D) break;
                        f(b, m, x, D)
                    } else {
                        H.push(A ? new Date(Math.max(l, C)) : h(m, x, C, q));
                        L = b;
                        G = m;
                        S = x;
                        Q = C;
                        O = 0;
                        for (M = G.length; M > O; O++) S[O] && S[O].getTime() === Q.getTime() && (S[O] = G[O].start(L, G[O].tick(L, Q)))
                    }
                    I--
                }
            }
            b = 0;
            for (l = H.length; l > b; b++) q = H[b],
            H[b] = "[object Array]" === Object.prototype.toString.call(q) ? [g(q[0]), g(q[1])] : g(q);
            return 0 === H.length ? a.NEVER: 1 === c ? H[0] : H
        }
        function g(a) {
            return a instanceof Date && !isNaN(a.valueOf()) ? new Date(a) : void 0
        }
        function f(a, b, f, c) {
            for (var g = j(a), h = 0, k = b.length; k > h; h++) f[h] && !g(f[h], c) && (f[h] = b[h].start(a, c))
        }
        function h(a, b, f, c) {
            for (var g, h = 0,
            j = b.length; j > h; h++) if (b[h] && b[h].getTime() === f.getTime()) {
                var k = a[h].tickStart(f);
                if (c && c > k) return c; (!g || k > g) && (g = k)
            }
            return g
        }
        function j(a) {
            return "next" === a ?
            function(a, b) {
                return ! b || a.getTime() > b.getTime()
            }: function(a, b) {
                return ! a || b.getTime() > a.getTime()
            }
        }
        function k(a, b) {
            for (var f = a[0], c = 1, g = a.length; g > c; c++) a[c] && b(f, a[c]) && (f = a[c]);
            return f
        }
        if (!b) throw Error("Missing schedule definition.");
        if (!b.schedules) throw Error("Definition must include at least one schedule.");
        for (var m = [], q = b.schedules.length, r = [], p = b.exceptions ? b.exceptions.length: 0, l = 0; q > l; l++) m.push(a.compile(b.schedules[l]));
        for (q = 0; p > q; q++) r.push(a.compile(b.exceptions[q]));
        return {
            isValid: function(b) {
                return c("next", 1, b, b) !== a.NEVER
            },
            next: function(a, b, f) {
                return c("next", a || 1, b, f)
            },
            prev: function(a, b, f) {
                return c("prev", a || 1, b, f)
            },
            nextRange: function(a, b, f) {
                return c("next", a || 1, b, f, !0)
            },
            prevRange: function(a, b, f) {
                return c("prev", a || 1, b, f, !0)
            }
        }
    },
    a.setTimeout = function(b, c) {
        function g() {
            var a = Date.now(),
            c = h.next(2, a);
            if (!c[0] || !c[1]) return void(f = void 0);
            var m = c[0].getTime() - a;
            1E3 > m && (m = c[1].getTime() - a);
            f = 2147483647 > m ? setTimeout(b, m) : setTimeout(g, 2147483647)
        }
        var f, h = a.schedule(c);
        return b && g(),
        {
            isDone: function() {
                return ! f
            },
            clear: function() {
                clearTimeout(f)
            }
        }
    },
    a.setInterval = function(b, c) {
        function g() {
            h || (b(), f = a.setTimeout(g, c))
        }
        if (b) {
            var f = a.setTimeout(g, c),
            h = f.isDone();
            return {
                isDone: function() {
                    return f.isDone()
                },
                clear: function() {
                    h = !0;
                    f.clear()
                }
            }
        }
    },
    a.date = {},
    a.date.timezone = function(b) {
        a.date.build = b ?
        function(a, b, c, g, m, q) {
            return new Date(a, b, c, g, m, q)
        }: function(a, b, c, g, m, q) {
            return new Date(Date.UTC(a, b, c, g, m, q))
        };
        var c = b ? "get": "getUTC",
        g = Date.prototype;
        a.date.getYear = g[c + "FullYear"];
        a.date.getMonth = g[c + "Month"];
        a.date.getDate = g[c + "Date"];
        a.date.getDay = g[c + "Day"];
        a.date.getHour = g[c + "Hours"];
        a.date.getMin = g[c + "Minutes"];
        a.date.getSec = g[c + "Seconds"];
        a.date.isUTC = !b
    },
    a.date.UTC = function() {
        a.date.timezone(!1)
    },
    a.date.localTime = function() {
        a.date.timezone(!0)
    },
    a.date.UTC(),
    a.SEC = 1E3,
    a.MIN = 60 * a.SEC,
    a.HOUR = 60 * a.MIN,
    a.DAY = 24 * a.HOUR,
    a.WEEK = 7 * a.DAY,
    a.DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
    a.NEVER = 0,
    a.date.next = function(b, c, g, f, h, j) {
        return a.date.build(b, void 0 !== c ? c - 1 : 0, void 0 !== g ? g: 1, f || 0, h || 0, j || 0)
    },
    a.date.nextRollover = function(b, c, g, f) {
        var h = g.val(b),
        g = g.extent(b)[1];
        return h >= (c || g) || c > g ? new Date(f.end(b).getTime() + a.SEC) : f.start(b)
    },
    a.date.prev = function(b, c, g, f, h, j) {
        var k = arguments.length;
        return c = 2 > k ? 11 : c - 1,
        g = 3 > k ? a.D.extent(a.date.next(b, c + 1))[1] : g,
        f = 4 > k ? 23 : f,
        h = 5 > k ? 59 : h,
        j = 6 > k ? 59 : j,
        a.date.build(b, c, g, f, h, j)
    },
    a.date.prevRollover = function(a, c, g, f) {
        g = g.val(a);
        return c >= g || !c ? f.start(f.prev(a, f.val(a) - 1)) : f.start(a)
    },
    a.parse = {},
    a.parse.cron = function(a, c) {
        function g(a, b, f) {
            return isNaN(a) ? m[a] || null: Math.min( + a + (b || 0), f || 9999)
        }
        function f(a) {
            var b, f = {};
            for (b in a)"dc" !== b && "d" !== b && (f[b] = a[b].slice(0));
            return f
        }
        function h(a, b, f, c, g) {
            for (a[b] || (a[b] = []); c >= f;) 0 > a[b].indexOf(f) && a[b].push(f),
            f += g || 1;
            a[b].sort(function(a, b) {
                return a - b
            })
        }
        function j(a, b, c, g) { (b.d && !b.dc || b.dc && 0 > b.dc.indexOf(g)) && (a.push(f(b)), b = a[a.length - 1]);
            h(b, "d", c, c);
            h(b, "dc", g, g)
        }
        function k(a, b) {
            return ( - 1 < a.indexOf("#") || 0 < a.indexOf("L")) && !( - 1 < b.indexOf("#") || 0 < b.indexOf("L")) ? 1 : a - b
        }
        var m = {
            JAN: 1,
            FEB: 2,
            MAR: 3,
            APR: 4,
            MAY: 5,
            JUN: 6,
            JUL: 7,
            AUG: 8,
            SEP: 9,
            OCT: 10,
            NOV: 11,
            DEC: 12,
            SUN: 1,
            MON: 2,
            TUE: 3,
            WED: 4,
            THU: 5,
            FRI: 6,
            SAT: 7
        },
        q = {
            s: [0, 0, 59],
            m: [1, 0, 59],
            h: [2, 0, 23],
            D: [3, 1, 31],
            M: [4, 1, 12],
            Y: [6, 1970, 2099],
            d: [5, 1, 7, 1]
        },
        r = a.toUpperCase(),
        p = c ? r: "0 " + r;
        "* * * * * *" === p && (p = "0/1 * * * * *");
        var l, z, F, r = {
            schedules: [{}],
            exceptions: []
        },
        w = p.replace(/(\s)+/g, " ").split(" ");
        for (l in q) if (z = q[l], F = w[z[0]], F && "*" !== F && "?" !== F) {
            var p = F.split(",").sort(k),
            J,
            u = p.length;
            for (J = 0; u > J; J++) {
                var C = p[J],
                D = r,
                E = l,
                y = z[1],
                I = z[2],
                K = z[3],
                x = void 0,
                N = void 0,
                H = D.schedules,
                A = H[H.length - 1];
                "L" === C && (C = y - 1);
                null !== (x = g(C, K, I)) ? h(A, E, x, x) : null !== (x = g(C.replace("W", ""), K, I)) ? (C = D, K = A, I = {},
                E = {},
                1 === x ? (h(K, "D", 1, 3), h(K, "d", m.MON, m.FRI), h(I, "D", 2, 2), h(I, "d", m.TUE, m.FRI), h(E, "D", 3, 3), h(E, "d", m.TUE, m.FRI)) : (h(K, "D", x - 1, x + 1), h(K, "d", m.MON, m.FRI), h(I, "D", x - 1, x - 1), h(I, "d", m.MON, m.THU), h(E, "D", x + 1, x + 1), h(E, "d", m.TUE, m.FRI)), C.exceptions.push(I), C.exceptions.push(E)) : null !== (x = g(C.replace("L", ""), K, I)) ? j(H, A, x, y - 1) : 2 === (N = C.split("#")).length ? (x = g(N[0], K, I), j(H, A, x, g(N[1]))) : (x = A, A = C.split("/"), C = +A[1], A = A[0], "*" !== A && "0" !== A && (A = A.split("-"), y = g(A[0], K, I), I = g(A[1], K, I) || I), h(x, E, y, I, C))
            }
        }
        return r
    },
    a.parse.recur = function() {
        var b, c, g, f;
        function h(a, h, w) {
            if (a = r ? a + "_" + r: a, j || (J.push({}), j = J[0]), j[a] || (j[a] = []), k = j[a], q) {
                m = [];
                for (z = h; w >= z; z += q) m.push(z);
                b = a;
                c = q;
                g = k.length;
                f = w
            }
            m = p ? [h] : l ? [w] : m;
            a = m.length;
            for (z = 0; a > z; z += 1) h = m[z],
            0 > k.indexOf(h) && k.push(h);
            m = q = r = p = l = 0
        }
        var j, k, m, q, r, p, l, z, F = [],
        w = [],
        J = F;
        return {
            schedules: F,
            exceptions: w,
            on: function() {
                return m = arguments[0] instanceof Array ? arguments[0] : arguments,
                this
            },
            every: function(a) {
                return q = a || 1,
                this
            },
            after: function(a) {
                return r = "a",
                m = [a],
                this
            },
            before: function(a) {
                return r = "b",
                m = [a],
                this
            },
            first: function() {
                return p = 1,
                this
            },
            last: function() {
                return l = 1,
                this
            },
            time: function() {
                for (var a = 0,
                b = m.length; b > a; a++) {
                    var f = m[a].split(":");
                    3 > f.length && f.push(0);
                    m[a] = 3600 * +f[0] + 60 * +f[1] + +f[2]
                }
                return h("t"),
                this
            },
            second: function() {
                return h("s", 0, 59),
                this
            },
            minute: function() {
                return h("m", 0, 59),
                this
            },
            hour: function() {
                return h("h", 0, 23),
                this
            },
            dayOfMonth: function() {
                return h("D", 1, l ? 0 : 31),
                this
            },
            dayOfWeek: function() {
                return h("d", 1, 7),
                this
            },
            onWeekend: function() {
                return m = [1, 7],
                this.dayOfWeek()
            },
            onWeekday: function() {
                return m = [2, 3, 4, 5, 6],
                this.dayOfWeek()
            },
            dayOfWeekCount: function() {
                return h("dc", 1, l ? 0 : 5),
                this
            },
            dayOfYear: function() {
                return h("dy", 1, l ? 0 : 366),
                this
            },
            weekOfMonth: function() {
                return h("wm", 1, l ? 0 : 5),
                this
            },
            weekOfYear: function() {
                return h("wy", 1, l ? 0 : 53),
                this
            },
            month: function() {
                return h("M", 1, 12),
                this
            },
            year: function() {
                return h("Y", 1970, 2450),
                this
            },
            fullDate: function() {
                for (var a = 0,
                b = m.length; b > a; a++) m[a] = m[a].getTime();
                return h("fd"),
                this
            },
            customModifier: function(b, f) {
                if (!a.modifier[b]) throw Error("Custom modifier " + b + " not recognized!");
                return r = b,
                m = f instanceof Array ? f: [f],
                this
            },
            customPeriod: function(b) {
                var f = a[b];
                if (!f) throw Error("Custom time period " + b + " not recognized!");
                return h(b, f.extent(new Date)[0], f.extent(new Date)[1]),
                this
            },
            startingOn: function(a) {
                return this.between(a, f)
            },
            between: function(a, f) {
                return j[b] = j[b].splice(0, g),
                q = c,
                h(b, a, f),
                this
            },
            and: function() {
                return j = J[J.push({}) - 1],
                this
            },
            except: function() {
                return J = w,
                j = null,
                this
            }
        }
    },
    a.parse.text = function(b) {
        function c(a, b, f, c) {
            return {
                startPos: a,
                endPos: b,
                text: f,
                type: c
            }
        }
        function g(a) {
            var b, f, g, h, j, k = a instanceof Array ? a: [a],
            l = /\s+/;
            k.push(l);
            for (h = z; ! b || b.type === l;) {
                j = -1;
                a = F.substring(h);
                b = c(h, h, F.split(l)[0]);
                var m, u = k.length;
                for (m = 0; u > m; m++) g = k[m],
                (f = g.exec(a)) && 0 === f.index && f[0].length > j && (j = f[0].length, b = c(h, h + j, a.substring(0, j), g));
                b.type === l && (h = b.endPos)
            }
            return b
        }
        function f(a) {
            a = g(a);
            return z = a.endPos,
            a
        }
        function h(a) {
            for (var b = +r(a), a = m(w.through) ? +r(a) : b, f = []; a >= b; b++) f.push(b);
            return f
        }
        function j(a) {
            for (var b = h(a); m(w.and);) b = b.concat(h(a));
            return b
        }
        function k(a) {
            var b = q([w.second, w.minute, w.hour, w.dayOfYear, w.dayOfWeek, w.dayInstance, w.day, w.month, w.year, w.weekOfMonth, w.weekOfYear]);
            switch (b.type) {
            case w.second:
                a.second();
                break;
            case w.minute:
                a.minute();
                break;
            case w.hour:
                a.hour();
                break;
            case w.dayOfYear:
                a.dayOfYear();
                break;
            case w.dayOfWeek:
                a.dayOfWeek();
                break;
            case w.dayInstance:
                a.dayOfWeekCount();
                break;
            case w.day:
                a.dayOfMonth();
                break;
            case w.weekOfMonth:
                a.weekOfMonth();
                break;
            case w.weekOfYear:
                a.weekOfYear();
                break;
            case w.month:
                a.month();
                break;
            case w.year:
                a.year();
                break;
            default:
                p = z
            }
            return b
        }
        function m(a) {
            var b = g(a).type === a;
            return b && f(a),
            b
        }
        function q(a) {
            var b = f(a);
            if (b.type) {
                var c = b.text,
                g = c;
                switch (a) {
                case w.time:
                    c = c.split(/(:|am|pm)/);
                    a = "pm" === c[3] && 12 > c[0] ? parseInt(c[0], 10) + 12 : c[0];
                    c = c[2].trim();
                    g = (1 === a.length ? "0": "") + a + ":" + c;
                    break;
                case w.rank:
                    g = parseInt(/^\d+/.exec(c)[0], 10);
                    break;
                case w.monthName:
                case w.dayName:
                    g = J[c.substring(0, 3)]
                }
                b.text = g
            } else p = z;
            return b
        }
        function r(a) {
            return q(a).text
        }
        var p, l = a.parse.recur,
        z = 0,
        F = "",
        w = {
            eof: /^$/,
            rank: /^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,
            time: /^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,
            dayName: /^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,
            monthName: /^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,
            yearIndex: /^(\d\d\d\d)\b/,
            every: /^every\b/,
            after: /^after\b/,
            before: /^before\b/,
            second: /^(s|sec(ond)?(s)?)\b/,
            minute: /^(m|min(ute)?(s)?)\b/,
            hour: /^(h|hour(s)?)\b/,
            day: /^(day(s)?( of the month)?)\b/,
            dayInstance: /^day instance\b/,
            dayOfWeek: /^day(s)? of the week\b/,
            dayOfYear: /^day(s)? of the year\b/,
            weekOfYear: /^week(s)?( of the year)?\b/,
            weekOfMonth: /^week(s)? of the month\b/,
            weekday: /^weekday\b/,
            weekend: /^weekend\b/,
            month: /^month(s)?\b/,
            year: /^year(s)?\b/,
            between: /^between (the)?\b/,
            start: /^(start(ing)? (at|on( the)?)?)\b/,
            at: /^(at|@)\b/,
            and: /^(,|and\b)/,
            except: /^(except\b)/,
            also: /(also)\b/,
            first: /^(first)\b/,
            last: /^last\b/,
            "in": /^in\b/,
            of: /^of\b/,
            onthe: /^on the\b/,
            on: /^on\b/,
            through: /(-|^(to|through)\b)/
        },
        J = {
            jan: 1,
            feb: 2,
            mar: 3,
            apr: 4,
            may: 5,
            jun: 6,
            jul: 7,
            aug: 8,
            sep: 9,
            oct: 10,
            nov: 11,
            dec: 12,
            sun: 1,
            mon: 2,
            tue: 3,
            wed: 4,
            thu: 5,
            fri: 6,
            sat: 7,
            "1st": 1,
            fir: 1,
            "2nd": 2,
            sec: 2,
            "3rd": 3,
            thi: 3,
            "4th": 4,
            "for": 4
        },
        b = b.toLowerCase(),
        z = 0,
        F = b;
        p = -1;
        for (l = l(); z < F.length && 0 > p;) switch (q([w.every, w.after, w.before, w.onthe, w.on, w.of, w["in"], w.at, w.and, w.except, w.also]).type) {
        case w.every:
            var b = l,
            u = void 0,
            C = void 0,
            D = void 0,
            E = void 0;
            m(w.weekend) ? b.on(J.sun, J.sat).dayOfWeek() : m(w.weekday) ? b.on(J.mon, J.tue, J.wed, J.thu, J.fri).dayOfWeek() : (u = r(w.rank), b.every(u), C = k(b), m(w.start) ? (u = r(w.rank), b.startingOn(u), q(C.type)) : m(w.between) && (D = r(w.rank), m(w.and) && (E = r(w.rank), b.between(D, E))));
            break;
        case w.after:
            void 0 !== g(w.time).type ? (l.after(r(w.time)), l.time()) : (l.after(r(w.rank)), k(l));
            break;
        case w.before:
            void 0 !== g(w.time).type ? (l.before(r(w.time)), l.time()) : (l.before(r(w.rank)), k(l));
            break;
        case w.onthe:
            b = l;
            m(w.first) ? b.first() : m(w.last) ? b.last() : b.on(j(w.rank));
            k(b);
            break;
        case w.on:
            l.on(j(w.dayName)).dayOfWeek();
            break;
        case w.of:
            l.on(j(w.monthName)).month();
            break;
        case w["in"]:
            l.on(j(w.yearIndex)).year();
            break;
        case w.at:
            for (l.on(r(w.time)).time(); m(w.and);) l.on(r(w.time)).time();
            break;
        case w.and:
            break;
        case w.also:
            l.and();
            break;
        case w.except:
            l.except();
            break;
        default:
            p = z
        }
        return {
            schedules: l.schedules,
            exceptions: l.exceptions,
            error: p
        }
    },
    a
} ();
/*
 New BSD License <http://creativecommons.org/licenses/BSD/>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 @author James Padolsey <https://gist.github.com/527683>
 Public Domain
 @author Benjamin Arthur Lupton <contact@balupton.com>
 New BSD License <http://creativecommons.org/licenses/BSD/>
*/
(function(a, b) {
    var c = a.History = a.History || {},
    g = a.jQuery;
    if ("undefined" !== typeof c.Adapter) throw Error("History.js Adapter has already been loaded...");
    c.Adapter = {
        bind: function(a, b, c) {
            g(a).bind(b, c)
        },
        trigger: function(a, b, c) {
            g(a).trigger(b, c)
        },
        extractEventData: function(a, c, g) {
            return c && c.originalEvent && c.originalEvent[a] || g && g[a] || b
        },
        onDomLoad: function(a) {
            g(a)
        }
    };
    "undefined" !== typeof c.init && c.init()
})(window); (function(a, b) {
    var c = a.console || b,
    g = a.document,
    f = a.navigator,
    h = a.sessionStorage || !1,
    j = a.setTimeout,
    k = a.clearTimeout,
    m = a.setInterval,
    q = a.clearInterval,
    r = a.JSON,
    p = a.alert,
    l = a.History = a.History || {},
    z = a.history;
    try {
        h.setItem("TEST", "1"),
        h.removeItem("TEST")
    } catch(F) {
        h = !1
    }
    r.stringify = r.stringify || r.encode;
    r.parse = r.parse || r.decode;
    if ("undefined" !== typeof l.init) throw Error("History.js Core has already been loaded...");
    l.init = function() {
        if ("undefined" === typeof l.Adapter) return ! 1;
        "undefined" !== typeof l.initCore && l.initCore();
        "undefined" !== typeof l.initHtml4 && l.initHtml4();
        return ! 0
    };
    l.initCore = function() {
        if ("undefined" !== typeof l.initCore.initialized) return ! 1;
        l.initCore.initialized = !0;
        l.options = l.options || {};
        l.options.hashChangeInterval = l.options.hashChangeInterval || 100;
        l.options.safariPollInterval = l.options.safariPollInterval || 500;
        l.options.doubleCheckInterval = l.options.doubleCheckInterval || 500;
        l.options.disableSuid = l.options.disableSuid || !1;
        l.options.storeInterval = l.options.storeInterval || 1E3;
        l.options.busyDelay = l.options.busyDelay || 250;
        l.options.debug = l.options.debug || !1;
        l.options.initialTitle = l.options.initialTitle || g.title;
        l.options.html4Mode = l.options.html4Mode || !1;
        l.options.delayInit = l.options.delayInit || !1;
        l.intervalList = [];
        l.clearAllIntervals = function() {
            var a, b = l.intervalList;
            if ("undefined" !== typeof b && null !== b) {
                for (a = 0; a < b.length; a++) q(b[a]);
                l.intervalList = null
            }
        };
        l.debug = function() {
            l.options.debug && l.log.apply(l, arguments)
        };
        l.log = function() {
            var a = !("undefined" === typeof c || "undefined" === typeof c.log || "undefined" === typeof c.log.apply),
            b = g.getElementById("log"),
            f,
            h,
            j,
            k;
            a ? (h = Array.prototype.slice.call(arguments), f = h.shift(), "undefined" !== typeof c.debug ? c.debug.apply(c, [f, h]) : c.log.apply(c, [f, h])) : f = "\n" + arguments[0] + "\n";
            h = 1;
            for (j = arguments.length; h < j; ++h) {
                k = arguments[h];
                if ("object" === typeof k && "undefined" !== typeof r) try {
                    k = r.stringify(k)
                } catch(l) {}
                f += "\n" + k + "\n"
            }
            b ? (b.value += f + "\n-----\n", b.scrollTop = b.scrollHeight - b.clientHeight) : a || p(f);
            return ! 0
        };
        l.getInternetExplorerMajorVersion = function() {
            var a = l.getInternetExplorerMajorVersion,
            b;
            if ("undefined" !== typeof l.getInternetExplorerMajorVersion.cached) b = l.getInternetExplorerMajorVersion.cached;
            else {
                b = 3;
                for (var f = g.createElement("div"), c = f.getElementsByTagName("i"); (f.innerHTML = "<\!--[if gt IE " + ++b + "]><i></i><![endif]--\>") && c[0];);
                b = 4 < b ? b: !1
            }
            return a.cached = b
        };
        l.isInternetExplorer = function() {
            return l.isInternetExplorer.cached = "undefined" !== typeof l.isInternetExplorer.cached ? l.isInternetExplorer.cached: Boolean(l.getInternetExplorerMajorVersion())
        };
        l.emulated = l.options.html4Mode ? {
            pushState: !0,
            hashChange: !0
        }: {
            pushState: !Boolean(a.history && a.history.pushState && a.history.replaceState && !(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(f.userAgent) || /AppleWebKit\/5([0-2]|3[0-2])/i.test(f.userAgent))),
            hashChange: Boolean(!("onhashchange" in a || "onhashchange" in g) || l.isInternetExplorer() && 8 > l.getInternetExplorerMajorVersion())
        };
        l.enabled = !l.emulated.pushState;
        l.bugs = {
            setHash: Boolean(!l.emulated.pushState && "Apple Computer, Inc." === f.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),
            safariPoll: Boolean(!l.emulated.pushState && "Apple Computer, Inc." === f.vendor && /AppleWebKit\/5([0-2]|3[0-3])/.test(f.userAgent)),
            ieDoubleCheck: Boolean(l.isInternetExplorer() && 8 > l.getInternetExplorerMajorVersion()),
            hashEscape: Boolean(l.isInternetExplorer() && 7 > l.getInternetExplorerMajorVersion())
        };
        l.isEmptyObject = function(a) {
            for (var b in a) if (a.hasOwnProperty(b)) return ! 1;
            return ! 0
        };
        l.cloneObject = function(a) {
            a ? (a = r.stringify(a), a = r.parse(a)) : a = {};
            return a
        };
        l.getRootUrl = function() {
            var a = g.location.protocol + "//" + (g.location.hostname || g.location.host);
            g.location.port && (a += ":" + g.location.port);
            return a + "/"
        };
        l.getBaseHref = function() {
            var a = g.getElementsByTagName("base"),
            b = null,
            b = "";
            1 === a.length && (b = a[0], b = b.href.replace(/[^\/]+$/, "")); (b = b.replace(/\/+$/, "")) && (b += "/");
            return b
        };
        l.getBaseUrl = function() {
            return l.getBaseHref() || l.getBasePageUrl() || l.getRootUrl()
        };
        l.getPageUrl = function() {
            return ((l.getState(!1, !1) || {}).url || l.getLocationHref()).replace(/\/+$/, "").replace(/[^\/]+$/,
            function(a) {
                return /\./.test(a) ? a: a + "/"
            })
        };
        l.getBasePageUrl = function() {
            return l.getLocationHref().replace(/[#\?].*/, "").replace(/[^\/]+$/,
            function(a) {
                return /[^\/]$/.test(a) ? "": a
            }).replace(/\/+$/, "") + "/"
        };
        l.getFullUrl = function(a, b) {
            var f = a,
            c = a.substring(0, 1),
            b = "undefined" === typeof b ? !0 : b;
            /[a-z]+\:\/\//.test(a) || (f = "/" === c ? l.getRootUrl() + a.replace(/^\/+/, "") : "#" === c ? l.getPageUrl().replace(/#.*/, "") + a: "?" === c ? l.getPageUrl().replace(/[\?#].*/, "") + a: b ? l.getBaseUrl() + a.replace(/^(\.\/)+/, "") : l.getBasePageUrl() + a.replace(/^(\.\/)+/, ""));
            return f.replace(/\#$/, "")
        };
        l.getShortUrl = function(a) {
            var b = l.getBaseUrl(),
            f = l.getRootUrl();
            l.emulated.pushState && (a = a.replace(b, ""));
            a = a.replace(f, "/");
            l.isTraditionalAnchor(a) && (a = "./" + a);
            return a = a.replace(/^(\.\/)+/g, "./").replace(/\#$/, "")
        };
        l.getLocationHref = function(a) {
            a = a || g;
            return a.URL === a.location.href ? a.location.href: a.location.href === decodeURIComponent(a.URL) ? a.URL: a.location.hash && decodeURIComponent(a.location.href.replace(/^[^#]+/, "")) === a.location.hash || -1 == a.URL.indexOf("#") && -1 != a.location.href.indexOf("#") ? a.location.href: a.URL || a.location.href
        };
        l.store = {};
        l.idToState = l.idToState || {};
        l.stateToId = l.stateToId || {};
        l.urlToId = l.urlToId || {};
        l.storedStates = l.storedStates || [];
        l.savedStates = l.savedStates || [];
        l.normalizeStore = function() {
            l.store.idToState = l.store.idToState || {};
            l.store.urlToId = l.store.urlToId || {};
            l.store.stateToId = l.store.stateToId || {}
        };
        l.getState = function(a, b) {
            "undefined" === typeof a && (a = !0);
            "undefined" === typeof b && (b = !0);
            var f = l.getLastSavedState(); ! f && b && (f = l.createStateObject());
            a && (f = l.cloneObject(f), f.url = f.cleanUrl || f.url);
            return f
        };
        l.getIdByState = function(a) {
            var b = l.extractId(a.url),
            f;
            if (!b) if (f = l.getStateString(a), "undefined" !== typeof l.stateToId[f]) b = l.stateToId[f];
            else if ("undefined" !== typeof l.store.stateToId[f]) b = l.store.stateToId[f];
            else {
                for (; ! (b = (new Date).getTime() + String(Math.random()).replace(/\D/g, ""), "undefined" === typeof l.idToState[b] && "undefined" === typeof l.store.idToState[b]););
                l.stateToId[f] = b;
                l.idToState[b] = a
            }
            return b
        };
        l.normalizeState = function(a) {
            var b;
            if (!a || "object" !== typeof a) a = {};
            if ("undefined" !== typeof a.normalized) return a;
            if (!a.data || "object" !== typeof a.data) a.data = {};
            b = {
                normalized: !0
            };
            b.title = a.title || "";
            b.url = l.getFullUrl(a.url ? a.url: l.getLocationHref());
            b.hash = l.getShortUrl(b.url);
            b.data = l.cloneObject(a.data);
            b.id = l.getIdByState(b);
            b.cleanUrl = b.url.replace(/\??\&_suid.*/, "");
            b.url = b.cleanUrl;
            a = !l.isEmptyObject(b.data);
            if ((b.title || a) && !0 !== l.options.disableSuid) b.hash = l.getShortUrl(b.url).replace(/\??\&_suid.*/, ""),
            /\?/.test(b.hash) || (b.hash += "?"),
            b.hash += "&_suid=" + b.id;
            b.hashedUrl = l.getFullUrl(b.hash);
            if ((l.emulated.pushState || l.bugs.safariPoll) && l.hasUrlDuplicate(b)) b.url = b.hashedUrl;
            return b
        };
        l.createStateObject = function(a, b, f) {
            a = {
                data: a,
                title: b,
                url: f
            };
            return a = l.normalizeState(a)
        };
        l.getStateById = function(a) {
            a = String(a);
            return l.idToState[a] || l.store.idToState[a] || b
        };
        l.getStateString = function(a) {
            a = {
                data: l.normalizeState(a).data,
                title: a.title,
                url: a.url
            };
            return r.stringify(a)
        };
        l.getStateId = function(a) {
            return l.normalizeState(a).id
        };
        l.getHashByState = function(a) {
            return l.normalizeState(a).hash
        };
        l.extractId = function(a) {
            a = -1 != a.indexOf("#") ? a.split("#")[0] : a;
            return ((a = /(.*)\&_suid=([0-9]+)$/.exec(a)) ? String(a[2] || "") : "") || !1
        };
        l.isTraditionalAnchor = function(a) {
            return ! /[\/\?\.]/.test(a)
        };
        l.extractState = function(a, b) {
            var f = null,
            c, g, b = b || !1; (c = l.extractId(a)) && (f = l.getStateById(c));
            f || (g = l.getFullUrl(a), (c = l.getIdByUrl(g) || !1) && (f = l.getStateById(c)), !f && (b && !l.isTraditionalAnchor(a)) && (f = l.createStateObject(null, null, g)));
            return f
        };
        l.getIdByUrl = function(a) {
            return l.urlToId[a] || l.store.urlToId[a] || b
        };
        l.getLastSavedState = function() {
            return l.savedStates[l.savedStates.length - 1] || b
        };
        l.getLastStoredState = function() {
            return l.storedStates[l.storedStates.length - 1] || b
        };
        l.hasUrlDuplicate = function(a) {
            var b = !1;
            return b = (b = l.extractState(a.url)) && b.id !== a.id
        };
        l.storeState = function(a) {
            l.urlToId[a.url] = a.id;
            l.storedStates.push(l.cloneObject(a));
            return a
        };
        l.isLastSavedState = function(a) {
            var b = !1;
            l.savedStates.length && (a = a.id, b = l.getLastSavedState(), b = b.id, b = a === b);
            return b
        };
        l.saveState = function(a) {
            if (l.isLastSavedState(a)) return ! 1;
            l.savedStates.push(l.cloneObject(a));
            return ! 0
        };
        l.getStateByIndex = function(a) {
            var b = null;
            return b = "undefined" === typeof a ? l.savedStates[l.savedStates.length - 1] : 0 > a ? l.savedStates[l.savedStates.length + a] : l.savedStates[a]
        };
        l.getCurrentIndex = function() {
            var a = null;
            return a = 1 > l.savedStates.length ? 0 : l.savedStates.length - 1
        };
        l.getHash = function(a) {
            a = l.getLocationHref(a);
            return l.getHashByUrl(a)
        };
        l.unescapeHash = function(a) {
            a = l.normalizeHash(a);
            return a = decodeURIComponent(a)
        };
        l.normalizeHash = function(a) {
            return a.replace(/[^#]*#/, "").replace(/#.*/, "")
        };
        l.setHash = function(a, b) {
            var f;
            if (!1 !== b && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.setHash,
                args: arguments,
                queue: b
            }),
            !1;
            l.busy(!0); (f = l.extractState(a, !0)) && !l.emulated.pushState ? l.pushState(f.data, f.title, f.url, !1) : l.getHash() !== a && (l.bugs.setHash ? (f = l.getPageUrl(), l.pushState(null, null, f + "#" + a, !1)) : g.location.hash = a);
            return l
        };
        l.escapeHash = function(b) {
            b = l.normalizeHash(b);
            b = a.encodeURIComponent(b);
            l.bugs.hashEscape || (b = b.replace(/\%21/g, "!").replace(/\%26/g, "&").replace(/\%3D/g, "=").replace(/\%3F/g, "?"));
            return b
        };
        l.getHashByUrl = function(a) {
            a = String(a).replace(/([^#]*)#?([^#]*)#?(.*)/, "$2");
            return a = l.unescapeHash(a)
        };
        l.setTitle = function(a) {
            var b = a.title,
            f;
            b || (f = l.getStateByIndex(0)) && f.url === a.url && (b = f.title || l.options.initialTitle);
            try {
                g.getElementsByTagName("title")[0].innerHTML = b.replace("<", "&lt;").replace(">", "&gt;").replace(" & ", " &amp; ")
            } catch(c) {}
            g.title = b;
            return l
        };
        l.queues = [];
        l.busy = function(a) {
            "undefined" !== typeof a ? l.busy.flag = a: "undefined" === typeof l.busy.flag && (l.busy.flag = !1);
            if (!l.busy.flag) {
                k(l.busy.timeout);
                var b = function() {
                    var a, f;
                    if (!l.busy.flag) for (a = l.queues.length - 1; 0 <= a; --a) f = l.queues[a],
                    0 !== f.length && (f = f.shift(), l.fireQueueItem(f), l.busy.timeout = j(b, l.options.busyDelay))
                };
                l.busy.timeout = j(b, l.options.busyDelay)
            }
            return l.busy.flag
        };
        l.busy.flag = !1;
        l.fireQueueItem = function(a) {
            return a.callback.apply(a.scope || l, a.args || [])
        };
        l.pushQueue = function(a) {
            l.queues[a.queue || 0] = l.queues[a.queue || 0] || [];
            l.queues[a.queue || 0].push(a);
            return l
        };
        l.queue = function(a, b) {
            "function" === typeof a && (a = {
                callback: a
            });
            "undefined" !== typeof b && (a.queue = b);
            l.busy() ? l.pushQueue(a) : l.fireQueueItem(a);
            return l
        };
        l.clearQueue = function() {
            l.busy.flag = !1;
            l.queues = [];
            return l
        };
        l.stateChanged = !1;
        l.doubleChecker = !1;
        l.doubleCheckComplete = function() {
            l.stateChanged = !0;
            l.doubleCheckClear();
            return l
        };
        l.doubleCheckClear = function() {
            l.doubleChecker && (k(l.doubleChecker), l.doubleChecker = !1);
            return l
        };
        l.doubleCheck = function(a) {
            l.stateChanged = !1;
            l.doubleCheckClear();
            l.bugs.ieDoubleCheck && (l.doubleChecker = j(function() {
                l.doubleCheckClear();
                l.stateChanged || a();
                return ! 0
            },
            l.options.doubleCheckInterval));
            return l
        };
        l.safariStatePoll = function() {
            var b = l.extractState(l.getLocationHref());
            if (!l.isLastSavedState(b)) return b || l.createStateObject(),
            l.Adapter.trigger(a, "popstate"),
            l
        };
        l.back = function(a) {
            if (!1 !== a && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.back,
                args: arguments,
                queue: a
            }),
            !1;
            l.busy(!0);
            l.doubleCheck(function() {
                l.back(!1)
            });
            z.go( - 1);
            return ! 0
        };
        l.forward = function(a) {
            if (!1 !== a && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.forward,
                args: arguments,
                queue: a
            }),
            !1;
            l.busy(!0);
            l.doubleCheck(function() {
                l.forward(!1)
            });
            z.go(1);
            return ! 0
        };
        l.go = function(a, b) {
            var f;
            if (0 < a) for (f = 1; f <= a; ++f) l.forward(b);
            else if (0 > a) for (f = -1; f >= a; --f) l.back(b);
            else throw Error("History.go: History.go requires a positive or negative integer passed.");
            return l
        };
        if (l.emulated.pushState) {
            var w = function() {};
            l.pushState = l.pushState || w;
            l.replaceState = l.replaceState || w
        } else l.onPopState = function(b, f) {
            var c = !1,
            c = !1;
            l.doubleCheckComplete();
            if (c = l.getHash()) return (c = l.extractState(c || l.getLocationHref(), !0)) ? l.replaceState(c.data, c.title, c.url, !1) : (l.Adapter.trigger(a, "anchorchange"), l.busy(!1)),
            l.expectedStateId = !1; (c = (c = l.Adapter.extractEventData("state", b, f) || !1) ? l.getStateById(c) : l.expectedStateId ? l.getStateById(l.expectedStateId) : l.extractState(l.getLocationHref())) || (c = l.createStateObject(null, null, l.getLocationHref()));
            l.expectedStateId = !1;
            if (l.isLastSavedState(c)) return l.busy(!1),
            !1;
            l.storeState(c);
            l.saveState(c);
            l.setTitle(c);
            l.Adapter.trigger(a, "statechange");
            l.busy(!1);
            return ! 0
        },
        l.Adapter.bind(a, "popstate", l.onPopState),
        l.pushState = function(b, f, c, g) {
            if (l.getHashByUrl(c) && l.emulated.pushState) throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
            if (!1 !== g && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.pushState,
                args: arguments,
                queue: g
            }),
            !1;
            l.busy(!0);
            var h = l.createStateObject(b, f, c);
            l.isLastSavedState(h) ? l.busy(!1) : (l.storeState(h), l.expectedStateId = h.id, z.pushState(h.id, h.title, h.url), l.Adapter.trigger(a, "popstate"));
            return ! 0
        },
        l.replaceState = function(b, f, c, g) {
            if (l.getHashByUrl(c) && l.emulated.pushState) throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
            if (!1 !== g && l.busy()) return l.pushQueue({
                scope: l,
                callback: l.replaceState,
                args: arguments,
                queue: g
            }),
            !1;
            l.busy(!0);
            var h = l.createStateObject(b, f, c);
            l.isLastSavedState(h) ? l.busy(!1) : (l.storeState(h), l.expectedStateId = h.id, z.replaceState(h.id, h.title, h.url), l.Adapter.trigger(a, "popstate"));
            return ! 0
        };
        if (h) try {
            l.store = r.parse(h.getItem("History.store")) || {}
        } catch(F) {
            l.store = {}
        } else l.store = {};
        l.normalizeStore();
        l.Adapter.bind(a, "unload", l.clearAllIntervals);
        l.saveState(l.storeState(l.extractState(l.getLocationHref(), !0)));
        h && (l.onUnload = function() {
            var a, b;
            try {
                a = r.parse(h.getItem("History.store")) || {}
            } catch(f) {
                a = {}
            }
            a.idToState = a.idToState || {};
            a.urlToId = a.urlToId || {};
            a.stateToId = a.stateToId || {};
            for (b in l.idToState) l.idToState.hasOwnProperty(b) && (a.idToState[b] = l.idToState[b]);
            for (b in l.urlToId) l.urlToId.hasOwnProperty(b) && (a.urlToId[b] = l.urlToId[b]);
            for (b in l.stateToId) l.stateToId.hasOwnProperty(b) && (a.stateToId[b] = l.stateToId[b]);
            l.store = a;
            l.normalizeStore();
            a = r.stringify(a);
            try {
                h.setItem("History.store", a)
            } catch(c) {
                if (c.code === DOMException.QUOTA_EXCEEDED_ERR) h.length && (h.removeItem("History.store"), h.setItem("History.store", a));
                else throw c;
            }
        },
        l.intervalList.push(m(l.onUnload, l.options.storeInterval)), l.Adapter.bind(a, "beforeunload", l.onUnload), l.Adapter.bind(a, "unload", l.onUnload));
        if (!l.emulated.pushState && (l.bugs.safariPoll && l.intervalList.push(m(l.safariStatePoll, l.options.safariPollInterval)), "Apple Computer, Inc." === f.vendor || "Mozilla" === (f.appCodeName || ""))) if (l.Adapter.bind(a, "hashchange",
        function() {
            l.Adapter.trigger(a, "popstate")
        }), l.getHash()) l.Adapter.onDomLoad(function() {
            l.Adapter.trigger(a, "hashchange")
        })
    }; (!l.options || !l.options.delayInit) && l.init()
})(window); (function(a, b, c, g) {
    var f = a(b);
    a.fn.lazyload = function(h) {
        function j() {
            var b = 0;
            k.each(function() {
                var f = a(this);
                if ((!m.skip_invisible || f.is(":visible")) && !a.abovethetop(this, m) && !a.leftofbegin(this, m)) if (!a.belowthefold(this, m) && !a.rightoffold(this, m)) f.trigger("appear"),
                b = 0;
                else if (++b > m.failure_limit) return ! 1
            })
        }
        var k = this,
        m = {
            threshold: 0,
            failure_limit: 0,
            event: "scroll",
            effect: "show",
            container: b,
            data_attribute: "original",
            skip_invisible: !0,
            appear: null,
            load: null,
            placeholder: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"
        };
        h && (g !== h.failurelimit && (h.failure_limit = h.failurelimit, delete h.failurelimit), g !== h.effectspeed && (h.effect_speed = h.effectspeed, delete h.effectspeed), a.extend(m, h));
        h = m.container === g || m.container === b ? f: a(m.container);
        0 === m.event.indexOf("scroll") && h.bind(m.event,
        function() {
            return j()
        });
        this.each(function() {
            var b = this,
            f = a(b);
            b.loaded = !1; (f.attr("src") === g || !1 === f.attr("src")) && f.is("img") && f.attr("src", m.placeholder);
            f.one("appear",
            function() {
                this.loaded || (m.appear && m.appear.call(b, k.length, m), a("<img />").bind("load",
                function() {
                    var c = f.attr("data-" + m.data_attribute);
                    f.hide();
                    f.is("img") ? f.attr("src", c) : f.css("background-image", "url('" + c + "')");
                    f[m.effect](m.effect_speed);
                    b.loaded = !0;
                    c = a.grep(k,
                    function(a) {
                        return ! a.loaded
                    });
                    k = a(c);
                    m.load && m.load.call(b, k.length, m)
                }).attr("src", f.attr("data-" + m.data_attribute)))
            });
            0 !== m.event.indexOf("scroll") && f.bind(m.event,
            function() {
                b.loaded || f.trigger("appear")
            })
        });
        f.bind("resize",
        function() {
            j()
        });
        /(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion) && f.bind("pageshow",
        function(b) {
            b.originalEvent && b.originalEvent.persisted && k.each(function() {
                a(this).trigger("appear")
            })
        });
        a(c).ready(function() {
            j()
        });
        return this
    };
    a.belowthefold = function(c, j) {
        return (j.container === g || j.container === b ? (b.innerHeight ? b.innerHeight: f.height()) + f.scrollTop() : a(j.container).offset().top + a(j.container).height()) <= a(c).offset().top - j.threshold
    };
    a.rightoffold = function(c, j) {
        return (j.container === g || j.container === b ? f.width() + f.scrollLeft() : a(j.container).offset().left + a(j.container).width()) <= a(c).offset().left - j.threshold
    };
    a.abovethetop = function(c, j) {
        return (j.container === g || j.container === b ? f.scrollTop() : a(j.container).offset().top) >= a(c).offset().top + j.threshold + a(c).height()
    };
    a.leftofbegin = function(c, j) {
        return (j.container === g || j.container === b ? f.scrollLeft() : a(j.container).offset().left) >= a(c).offset().left + j.threshold + a(c).width()
    };
    a.inviewport = function(b, f) {
        return ! a.rightoffold(b, f) && !a.leftofbegin(b, f) && !a.belowthefold(b, f) && !a.abovethetop(b, f)
    };
    a.extend(a.expr[":"], {
        "below-the-fold": function(b) {
            return a.belowthefold(b, {
                threshold: 0
            })
        },
        "above-the-top": function(b) {
            return ! a.belowthefold(b, {
                threshold: 0
            })
        },
        "right-of-screen": function(b) {
            return a.rightoffold(b, {
                threshold: 0
            })
        },
        "left-of-screen": function(b) {
            return ! a.rightoffold(b, {
                threshold: 0
            })
        },
        "in-viewport": function(b) {
            return a.inviewport(b, {
                threshold: 0
            })
        },
        "above-the-fold": function(b) {
            return ! a.belowthefold(b, {
                threshold: 0
            })
        },
        "right-of-fold": function(b) {
            return a.rightoffold(b, {
                threshold: 0
            })
        },
        "left-of-fold": function(b) {
            return ! a.rightoffold(b, {
                threshold: 0
            })
        }
    })
})(jQuery, window, document); (function(a) {
    function b(a) {
        return "object" == typeof a ? a: {
            top: a,
            left: a
        }
    }
    var c = a.scrollTo = function(b, f, c) {
        a(window).scrollTo(b, f, c)
    };
    c.defaults = {
        axis: "xy",
        duration: 1.3 <= parseFloat(a.fn.jquery) ? 0 : 1,
        limit: !0
    };
    c.window = function() {
        return a(window)._scrollable()
    };
    a.fn._scrollable = function() {
        return this.map(function() {
            if (this.nodeName && -1 == a.inArray(this.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"])) return this;
            var b = (this.contentWindow || this).document || this.ownerDocument || this;
            return /webkit/i.test(navigator.userAgent) || "BackCompat" == b.compatMode ? b.body: b.documentElement
        })
    };
    a.fn.scrollTo = function(g, f, h) {
        "object" == typeof f && (h = f, f = 0);
        "function" == typeof h && (h = {
            onAfter: h
        });
        "max" == g && (g = 9E9);
        h = a.extend({},
        c.defaults, h);
        f = f || h.duration;
        h.queue = h.queue && 1 < h.axis.length;
        h.queue && (f /= 2);
        h.offset = b(h.offset);
        h.over = b(h.over);
        return this._scrollable().each(function() {
            function j(a) {
                m.animate(p, f, h.easing, a &&
                function() {
                    a.call(this, q, h)
                })
            }
            if (null != g) {
                var k = this,
                m = a(k),
                q = g,
                r,
                p = {},
                l = m.is("html,body");
                switch (typeof q) {
                case "number":
                case "string":
                    if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(q)) {
                        q = b(q);
                        break
                    }
                    q = a(q, this);
                    if (!q.length) return;
                case "object":
                    if (q.is || q.style) r = (q = a(q)).offset()
                }
                a.each(h.axis.split(""),
                function(a, b) {
                    var f = "x" == b ? "Left": "Top",
                    g = f.toLowerCase(),
                    u = "scroll" + f,
                    C = k[u],
                    D = c.max(k, b);
                    r ? (p[u] = r[g] + (l ? 0 : C - m.offset()[g]), h.margin && (p[u] -= parseInt(q.css("margin" + f)) || 0, p[u] -= parseInt(q.css("border" + f + "Width")) || 0), p[u] += h.offset[g] || 0, h.over[g] && (p[u] += q["x" == b ? "width": "height"]() * h.over[g])) : (f = q[g], p[u] = f.slice && "%" == f.slice( - 1) ? parseFloat(f) / 100 * D: f);
                    h.limit && /^\d+$/.test(p[u]) && (p[u] = 0 >= p[u] ? 0 : Math.min(p[u], D)); ! a && h.queue && (C != p[u] && j(h.onAfterFirst), delete p[u])
                });
                j(h.onAfter)
            }
        }).end()
    };
    c.max = function(b, f) {
        var c = "x" == f ? "Width": "Height",
        j = "scroll" + c;
        if (!a(b).is("html,body")) return b[j] - a(b)[c.toLowerCase()]();
        var c = "client" + c,
        k = b.ownerDocument.documentElement,
        m = b.ownerDocument.body;
        return Math.max(k[j], m[j]) - Math.min(k[c], m[c])
    }
})(jQuery);
var base64 = {
    PADCHAR: "=",
    ALPHA: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
    makeDOMException: function() {
        try {
            return new DOMException(DOMException.INVALID_CHARACTER_ERR)
        } catch(a) {
            var b = Error("DOM Exception 5");
            b.code = b.number = 5;
            b.name = b.description = "INVALID_CHARACTER_ERR";
            b.toString = function() {
                return "Error: " + b.name + ": " + b.message
            };
            return b
        }
    },
    getbyte64: function(a, b) {
        var c = base64.ALPHA.indexOf(a.charAt(b));
        if ( - 1 === c) throw base64.makeDOMException();
        return c
    },
    decode: function(a) {
        var a = "" + a,
        b = base64.getbyte64,
        c, g, f, h = a.length;
        if (0 === h) return a;
        if (0 !== h % 4) throw base64.makeDOMException();
        c = 0;
        a.charAt(h - 1) === base64.PADCHAR && (c = 1, a.charAt(h - 2) === base64.PADCHAR && (c = 2), h -= 4);
        var j = [];
        for (g = 0; g < h; g += 4) f = b(a, g) << 18 | b(a, g + 1) << 12 | b(a, g + 2) << 6 | b(a, g + 3),
        j.push(String.fromCharCode(f >> 16, f >> 8 & 255, f & 255));
        switch (c) {
        case 1:
            f = b(a, g) << 18 | b(a, g + 1) << 12 | b(a, g + 2) << 6;
            j.push(String.fromCharCode(f >> 16, f >> 8 & 255));
            break;
        case 2:
            f = b(a, g) << 18 | b(a, g + 1) << 12,
            j.push(String.fromCharCode(f >> 16))
        }
        return j.join("")
    },
    getbyte: function(a, b) {
        var c = a.charCodeAt(b);
        if (255 < c) throw base64.makeDOMException();
        return c
    },
    encode: function(a) {
        if (1 !== arguments.length) throw new SyntaxError("Not enough arguments");
        var b = base64.PADCHAR,
        c = base64.ALPHA,
        g = base64.getbyte,
        f, h, j = [],
        a = "" + a,
        k = a.length - a.length % 3;
        if (0 === a.length) return a;
        for (f = 0; f < k; f += 3) h = g(a, f) << 16 | g(a, f + 1) << 8 | g(a, f + 2),
        j.push(c.charAt(h >> 18)),
        j.push(c.charAt(h >> 12 & 63)),
        j.push(c.charAt(h >> 6 & 63)),
        j.push(c.charAt(h & 63));
        switch (a.length - k) {
        case 1:
            h = g(a, f) << 16;
            j.push(c.charAt(h >> 18) + c.charAt(h >> 12 & 63) + b + b);
            break;
        case 2:
            h = g(a, f) << 16 | g(a, f + 1) << 8,
            j.push(c.charAt(h >> 18) + c.charAt(h >> 12 & 63) + c.charAt(h >> 6 & 63) + b)
        }
        return j.join("")
    }
};
serialize = function(a, b) {
    var c = [],
    g;
    for (g in a) if (!goog.isString(a[g]) || !goog.string.isEmpty(a[g])) if (!goog.isArray(a[g]) || !goog.array.isEmpty(a[g])) {
        var f = b ? b + "[" + g + "]": g,
        h = a[g];
        c.push("object" == typeof h ? serialize(h, f) : encodeURIComponent(f) + "=" + encodeURIComponent(h))
    }
    return c.join("&")
};
function unserialize_param(a, b) {
    var b = b.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"),
    c = RegExp("[\\?&]" + b + "=([^&#]*)").exec(a);
    return null !== c ? decodeURIComponent(c[1].replace(/\+/g, " ")) : !1
}
function _normalizeQuery(a) {
    a = a.replace(/&$/, "").replace(/^&/, "");
    return a.length ? "?" + a: ""
}
function _paramToUrl(a) {
    goog.array.forEach(["pr", "xpr", "category"],
    function(b) {
        goog.isDef(a[b]) && goog.isArray(a[b]) && (a[b] = a[b].join("-"))
    });
    return _normalizeQuery(serialize(a))
} (function(a) {
    a.getQueryParam = function(a) {
        return unserialize_param(window.location.href, a)
    }
})(jQuery);
window.Modernizr = function(a, b, c) {
    var g = {},
    f = b.documentElement,
    h = b.createElement("modernizr"),
    h = h.style,
    j = " -webkit- -moz- -o- -ms- ".split(" "),
    k = {},
    m = [],
    q = m.slice,
    r,
    p = function(a, c, g, h) {
        var j, k, l, m, p = b.createElement("div"),
        v = b.body,
        u = v || b.createElement("body");
        if (parseInt(g, 10)) for (; g--;) l = b.createElement("div"),
        l.id = h ? h[g] : "modernizr" + (g + 1),
        p.appendChild(l);
        return j = ['&#173;<style id="smodernizr">', a, "</style>"].join(""),
        p.id = "modernizr",
        (v ? p: u).innerHTML += j,
        u.appendChild(p),
        v || (u.style.background = "", u.style.overflow = "hidden", m = f.style.overflow, f.style.overflow = "hidden", f.appendChild(u)),
        k = c(p, a),
        v ? p.parentNode.removeChild(p) : (u.parentNode.removeChild(u), f.style.overflow = m),
        !!k
    },
    l = {}.hasOwnProperty,
    z;
    "undefined" !== typeof l && "undefined" !== typeof l.call ? z = function(a, b) {
        return l.call(a, b)
    }: z = function(a, b) {
        return b in a && "undefined" === typeof a.constructor.prototype[b]
    };
    Function.prototype.bind || (Function.prototype.bind = function(a) {
        var b = this;
        if ("function" != typeof b) throw new TypeError;
        var f = q.call(arguments, 1),
        c = function() {
            if (this instanceof c) {
                var g = function() {};
                g.prototype = b.prototype;
                var g = new g,
                h = b.apply(g, f.concat(q.call(arguments)));
                return Object(h) === h ? h: g
            }
            return b.apply(a, f.concat(q.call(arguments)))
        };
        return c
    });
    k.touch = function() {
        var f;
        return "ontouchstart" in a || a.DocumentTouch && b instanceof DocumentTouch ? f = !0 : p(["@media (", j.join("touch-enabled),("), "modernizr){#modernizr{top:9px;position:absolute}}"].join(""),
        function(a) {
            f = 9 === a.offsetTop
        }),
        f
    };
    k.svg = function() {
        return !! b.createElementNS && !!b.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect
    };
    for (var F in k) z(k, F) && (r = F.toLowerCase(), g[r] = k[F](), m.push((g[r] ? "": "no-") + r));
    g.addTest = function(a, b) {
        if ("object" == typeof a) for (var h in a) z(a, h) && g.addTest(h, a[h]);
        else {
            a = a.toLowerCase();
            if (g[a] !== c) return g;
            b = "function" == typeof b ? b() : b;
            f.className += " " + (b ? "": "no-") + a;
            g[a] = b
        }
        return g
    };
    h.cssText = "";
    var h = null,
    w = function() {
        var a = v.elements;
        return "string" == typeof a ? a.split(" ") : a
    },
    J = function(a) {
        var b = K[a[y]];
        return b || (b = {},
        I++, a[y] = I, K[I] = b),
        b
    },
    u = function(a, f, c) {
        f || (f = b);
        if (x) return f.createElement(a);
        c || (c = J(f));
        var g;
        return c.cache[a] ? g = c.cache[a].cloneNode() : D.test(a) ? g = (c.cache[a] = c.createElem(a)).cloneNode() : g = c.createElem(a),
        g.canHaveChildren && !C.test(a) && !g.tagUrn ? c.frag.appendChild(g) : g
    };
    r = function(a) {
        a || (a = b);
        var f = J(a);
        if (v.shivCSS && !E && !f.hasCSS) {
            var c, g = a;
            c = g.createElement("p");
            g = g.getElementsByTagName("head")[0] || g.documentElement;
            c = (c.innerHTML = "x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>", g.insertBefore(c.lastChild, g.firstChild));
            f.hasCSS = !!c
        }
        if (!x) {
            var h = a;
            f.cache || (f.cache = {},
            f.createElem = h.createElement, f.createFrag = h.createDocumentFragment, f.frag = f.createFrag());
            h.createElement = function(a) {
                return v.shivMethods ? u(a, h, f) : f.createElem(a)
            };
            h.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + w().join().replace(/[\w\-]+/g,
            function(a) {
                return f.createElem(a),
                f.frag.createElement(a),
                'c("' + a + '")'
            }) + ");return n}")(v, f.frag)
        }
        return a
    };
    F = this.html5 || {};
    var C = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
    D = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
    E, y = "_html5shiv",
    I = 0,
    K = {},
    x;
    try {
        var N = b.createElement("a");
        N.innerHTML = "<xyz></xyz>";
        E = "hidden" in N;
        var H;
        if (! (H = 1 == N.childNodes.length)) {
            b.createElement("a");
            var A = b.createDocumentFragment();
            H = "undefined" == typeof A.cloneNode || "undefined" == typeof A.createDocumentFragment || "undefined" == typeof A.createElement
        }
        x = H
    } catch(B) {
        x = E = !0
    }
    var v = {
        elements: F.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
        version: "3.7.0",
        shivCSS: !1 !== F.shivCSS,
        supportsUnknownElements: x,
        shivMethods: !1 !== F.shivMethods,
        type: "default",
        shivDocument: r,
        createElement: u,
        createDocumentFragment: function(a, f) {
            a || (a = b);
            if (x) return a.createDocumentFragment();
            for (var f = f || J(a), c = f.frag.cloneNode(), g = 0, h = w(), j = h.length; g < j; g++) c.createElement(h[g]);
            return c
        }
    };
    this.html5 = v;
    r(b);
    return g._version = "2.7.1",
    g._prefixes = j,
    g.testStyles = p,
    f.className = f.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (" js " + m.join(" ")),
    g
} (this, this.document); (function(a, b, c) {
    function g(a) {
        return "[object Function]" == z.call(a)
    }
    function f(a) {
        return "string" == typeof a
    }
    function h() {}
    function j(a) {
        return ! a || "loaded" == a || "complete" == a || "uninitialized" == a
    }
    function k() {
        var a = F.shift();
        w = 1;
        a ? a.t ? p(function() { ("c" == a.t ? H.injectCss: H.injectJs)(a.s, 0, a.a, a.x, a.e, 1)
        },
        0) : (a(), k()) : w = 0
    }
    function m(a, c, g, h, m) {
        w = 0;
        c = c || "j";
        if (f(a)) {
            var q = "c" == c ? E: D,
            r = this.i++,
            z = function(b) {
                if (!y && j(M.readyState) && (I.r = y = 1, !w && k(), M.onload = M.onreadystatechange = null, b)) {
                    "img" != q && p(function() {
                        C.removeChild(M)
                    },
                    50);
                    for (var f in K[a]) K[a].hasOwnProperty(f) && K[a][f].onload()
                }
            },
            m = m || H.errorTimeout,
            M = b.createElement(q),
            y = 0,
            x = 0,
            I = {
                t: c,
                s: a,
                e: g,
                a: h,
                x: m
            };
            1 === K[a] && (x = 1, K[a] = []);
            "object" == q ? M.data = a: (M.src = a, M.type = q);
            M.width = M.height = "0";
            M.onerror = M.onload = M.onreadystatechange = function() {
                z.call(this, x)
            };
            F.splice(r, 0, I);
            "img" != q && (x || 2 === K[a] ? (C.insertBefore(M, u ? null: l), p(z, m)) : K[a].push(M))
        } else F.splice(this.i++, 0, a),
        1 == F.length && k();
        return this
    }
    function q() {
        var a = H;
        return a.loader = {
            load: m,
            i: 0
        },
        a
    }
    var r = b.documentElement,
    p = a.setTimeout,
    l = b.getElementsByTagName("script")[0],
    z = {}.toString,
    F = [],
    w = 0,
    J = "MozAppearance" in r.style,
    u = J && !!b.createRange().compareNode,
    C = u ? r: l.parentNode,
    r = a.opera && "[object Opera]" == z.call(a.opera),
    r = !!b.attachEvent && !r,
    D = J ? "object": r ? "script": "img",
    E = r ? "script": D,
    y = Array.isArray ||
    function(a) {
        return "[object Array]" == z.call(a)
    },
    I = [],
    K = {},
    x = {
        timeout: function(a, b) {
            return b.length && (a.timeout = b[0]),
            a
        }
    },
    N,
    H;
    H = function(a) {
        function b(a, f, h, j, k) {
            var l, m;
            m = a.split("!");
            var p = I.length,
            v = m.pop(),
            u = m.length,
            v = {
                url: v,
                origUrl: v,
                prefixes: m
            },
            B,
            G,
            r;
            for (G = 0; G < u; G++) r = m[G].split("="),
            (B = x[r.shift()]) && (v = B(v, r));
            for (G = 0; G < p; G++) v = I[G](v);
            l = v;
            var w = l.autoCallback;
            l.url.split(".").pop().split("?").shift();
            l.bypass || (f && (f = g(f) ? f: f[a] || f[j] || f[a.split("/").pop().split("?")[0]]), l.instead ? l.instead(a, f, h, j, k) : (K[l.url] ? l.noexec = !0 : K[l.url] = 1, h.load(l.url, l.forceCSS || !l.forceJS && "css" == l.url.split(".").pop().split("?").shift() ? "c": c, l.noexec, l.attrs, l.timeout), (g(f) || g(w)) && h.load(function() {
                q();
                f && f(l.origUrl, k, j);
                w && w(l.origUrl, k, j);
                K[l.url] = 2
            })))
        }
        function j(a, c) {
            function k(a, h) {
                if (a) if (f(a)) h || (p = function() {
                    var a = [].slice.call(arguments);
                    v.apply(this, a);
                    u()
                }),
                b(a, p, c, 0, l);
                else {
                    if (Object(a) === a) for (G in q = function() {
                        var b = 0,
                        f;
                        for (f in a) a.hasOwnProperty(f) && b++;
                        return b
                    } (), a) a.hasOwnProperty(G) && (!h && !--q && (g(p) ? p = function() {
                        var a = [].slice.call(arguments);
                        v.apply(this, a);
                        u()
                    }: p[G] = function(a) {
                        return function() {
                            var b = [].slice.call(arguments);
                            a && a.apply(this, b);
                            u()
                        }
                    } (v[G])), b(a[G], p, c, G, l))
                } else ! h && u()
            }
            var l = !!a.test,
            m = a.load || a.both,
            p = a.callback || h,
            v = p,
            u = a.complete || h,
            q, G;
            k(l ? a.yep: a.nope, !!m);
            m && k(m)
        }
        var k, l, m = this.yepnope.loader;
        if (f(a)) b(a, 0, m, 0);
        else if (y(a)) for (k = 0; k < a.length; k++) l = a[k],
        f(l) ? b(l, 0, m, 0) : y(l) ? H(l) : Object(l) === l && j(l, m);
        else Object(a) === a && j(a, m)
    };
    H.addPrefix = function(a, b) {
        x[a] = b
    };
    H.addFilter = function(a) {
        I.push(a)
    };
    H.errorTimeout = 1E4;
    null == b.readyState && b.addEventListener && (b.readyState = "loading", b.addEventListener("DOMContentLoaded", N = function() {
        b.removeEventListener("DOMContentLoaded", N, 0);
        b.readyState = "complete"
    },
    0));
    a.yepnope = q();
    a.yepnope.executeStack = k;
    a.yepnope.injectJs = function(a, f, c, g, m, u) {
        var q = b.createElement("script"),
        r,
        w,
        g = g || H.errorTimeout;
        q.src = a;
        for (w in c) q.setAttribute(w, c[w]);
        f = u ? k: f || h;
        q.onreadystatechange = q.onload = function() { ! r && j(q.readyState) && (r = 1, f(), q.onload = q.onreadystatechange = null)
        };
        p(function() {
            r || (r = 1, f(1))
        },
        g);
        m ? q.onload() : l.parentNode.insertBefore(q, l)
    };
    a.yepnope.injectCss = function(a, f, c, g, j, m) {
        var g = b.createElement("link"),
        u,
        f = m ? k: f || h;
        g.href = a;
        g.rel = "stylesheet";
        g.type = "text/css";
        for (u in c) g.setAttribute(u, c[u]);
        j || (l.parentNode.insertBefore(g, l), p(f, 0))
    }
})(this, document);
Modernizr.load = function() {
    yepnope.apply(window, [].slice.call(arguments, 0))
}; (function(a) {
    var b, c, g, f, h, j, k, m = function() {},
    q = !!window.jQuery,
    r = a(window),
    p = function(a, f) {
        b.ev.on("mfp" + a + ".mfp", f)
    },
    l = function(b, f, c, g) {
        var h = document.createElement("div");
        return h.className = "mfp-" + b,
        c && (h.innerHTML = c),
        g ? f && f.appendChild(h) : (h = a(h), f && h.appendTo(f)),
        h
    },
    z = function(f, c) {
        b.ev.triggerHandler("mfp" + f, c);
        b.st.callbacks && (f = f.charAt(0).toLowerCase() + f.slice(1), b.st.callbacks[f] && b.st.callbacks[f].apply(b, a.isArray(c) ? c: [c]))
    },
    F = function(f) {
        return f === k && b.currTemplate.closeBtn || (b.currTemplate.closeBtn = a(b.st.closeMarkup.replace("%title%", b.st.tClose)), k = f),
        b.currTemplate.closeBtn
    },
    w = function() {
        a.magnificPopup.instance || (b = new m, b.init(), a.magnificPopup.instance = b)
    },
    J = function() {
        var a = document.createElement("p").style,
        b = ["ms", "O", "Moz", "Webkit"];
        if (void 0 !== a.transition) return ! 0;
        for (; b.length;) if (b.pop() + "Transition" in a) return ! 0;
        return ! 1
    };
    m.prototype = {
        constructor: m,
        init: function() {
            var c = navigator.appVersion;
            b.isIE7 = -1 !== c.indexOf("MSIE 7.");
            b.isIE8 = -1 !== c.indexOf("MSIE 8.");
            b.isLowIE = b.isIE7 || b.isIE8;
            b.isAndroid = /android/gi.test(c);
            b.isIOS = /iphone|ipad|ipod/gi.test(c);
            b.supportsTransition = J();
            b.probablyMobile = b.isAndroid || b.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);
            g = a(document.body);
            f = a(document);
            b.popupsCache = {}
        },
        open: function(c) {
            var g;
            if (!1 === c.isObj) {
                b.items = c.items.toArray();
                b.index = 0;
                var h, k = c.items;
                for (g = 0; k.length > g; g++) if (h = k[g], h.parsed && (h = h.el[0]), h === c.el[0]) {
                    b.index = g;
                    break
                }
            } else b.items = a.isArray(c.items) ? c.items: [c.items],
            b.index = c.index || 0;
            if (b.isOpen) return b.updateItemHTML(),
            void 0;
            b.types = [];
            j = "";
            b.ev = c.mainEl && c.mainEl.length ? c.mainEl.eq(0) : f;
            c.key ? (b.popupsCache[c.key] || (b.popupsCache[c.key] = {}), b.currTemplate = b.popupsCache[c.key]) : b.currTemplate = {};
            b.st = a.extend(!0, {},
            a.magnificPopup.defaults, c);
            b.fixedContentPos = "auto" === b.st.fixedContentPos ? !b.probablyMobile: b.st.fixedContentPos;
            b.st.modal && (b.st.closeOnContentClick = !1, b.st.closeOnBgClick = !1, b.st.showCloseBtn = !1, b.st.enableEscapeKey = !1);
            b.bgOverlay || (b.bgOverlay = l("bg").on("click.mfp",
            function() {
                b.close()
            }), b.wrap = l("wrap").attr("tabindex", -1).on("click.mfp",
            function(a) {
                b._checkIfClose(a.target) && b.close()
            }), b.container = l("container", b.wrap));
            b.contentContainer = l("content");
            b.st.preloader && (b.preloader = l("preloader", b.container, b.st.tLoading));
            h = a.magnificPopup.modules;
            for (g = 0; h.length > g; g++) k = h[g],
            k = k.charAt(0).toUpperCase() + k.slice(1),
            b["init" + k].call(b);
            z("BeforeOpen");
            b.st.showCloseBtn && (b.st.closeBtnInside ? (p("MarkupParse",
            function(a, b, f, c) {
                f.close_replaceWith = F(c.type)
            }), j += " mfp-close-btn-in") : b.wrap.append(F()));
            b.st.alignTop && (j += " mfp-align-top");
            b.fixedContentPos ? b.wrap.css({
                overflow: b.st.overflowY,
                overflowX: "hidden",
                overflowY: b.st.overflowY
            }) : b.wrap.css({
                top: r.scrollTop(),
                position: "absolute"
            }); (!1 === b.st.fixedBgPos || "auto" === b.st.fixedBgPos && !b.fixedContentPos) && b.bgOverlay.css({
                height: f.height(),
                position: "absolute"
            });
            b.st.enableEscapeKey && f.on("keyup.mfp",
            function(a) {
                27 === a.keyCode && b.close()
            });
            r.on("resize.mfp",
            function() {
                b.updateSize()
            });
            b.st.closeOnContentClick || (j += " mfp-auto-cursor");
            j && b.wrap.addClass(j);
            g = b.wH = r.height();
            h = {};
            b.fixedContentPos && b._hasScrollBar(g) && (k = b._getScrollbarSize()) && (h.marginRight = k);
            b.fixedContentPos && (b.isIE7 ? a("body, html").css("overflow", "hidden") : h.overflow = "hidden");
            k = b.st.mainClass;
            return b.isIE7 && (k += " mfp-ie7"),
            k && b._addClassToMFP(k),
            b.updateItemHTML(),
            z("BuildControls"),
            a("html").css(h),
            b.bgOverlay.add(b.wrap).prependTo(document.body),
            b._lastFocusedEl = document.activeElement,
            setTimeout(function() {
                b.content ? (b._addClassToMFP("mfp-ready"), b._setFocus()) : b.bgOverlay.addClass("mfp-ready");
                f.on("focusin.mfp", b._onFocusIn)
            },
            16),
            b.isOpen = !0,
            b.updateSize(g),
            z("Open"),
            c
        },
        close: function() {
            b.isOpen && (z("BeforeClose"), b.isOpen = !1, b.st.removalDelay && !b.isLowIE && b.supportsTransition ? (b._addClassToMFP("mfp-removing"), setTimeout(function() {
                b._close()
            },
            b.st.removalDelay)) : b._close())
        },
        _close: function() {
            z("Close");
            var c = "mfp-removing mfp-ready ";
            if (b.bgOverlay.detach(), b.wrap.detach(), b.container.empty(), b.st.mainClass && (c += b.st.mainClass + " "), b._removeClassFromMFP(c), b.fixedContentPos) c = {
                marginRight: ""
            },
            b.isIE7 ? a("body, html").css("overflow", "") : c.overflow = "",
            a("html").css(c);
            f.off("keyup.mfp focusin.mfp");
            b.ev.off(".mfp");
            b.wrap.attr("class", "mfp-wrap").removeAttr("style");
            b.bgOverlay.attr("class", "mfp-bg");
            b.container.attr("class", "mfp-container"); ! b.st.showCloseBtn || b.st.closeBtnInside && !0 !== b.currTemplate[b.currItem.type] || b.currTemplate.closeBtn && b.currTemplate.closeBtn.detach();
            b._lastFocusedEl && a(b._lastFocusedEl).focus();
            b.currItem = null;
            b.content = null;
            b.currTemplate = null;
            b.prevHeight = 0;
            z("AfterClose")
        },
        updateSize: function(a) {
            b.isIOS ? (a = window.innerHeight * (document.documentElement.clientWidth / window.innerWidth), b.wrap.css("height", a), b.wH = a) : b.wH = a || r.height();
            b.fixedContentPos || b.wrap.css("height", b.wH);
            z("Resize")
        },
        updateItemHTML: function() {
            var f = b.items[b.index];
            b.contentContainer.detach();
            b.content && b.content.detach();
            f.parsed || (f = b.parseEl(b.index));
            var c = f.type;
            if (z("BeforeChange", [b.currItem ? b.currItem.type: "", c]), b.currItem = f, !b.currTemplate[c]) {
                var g = b.st[c] ? b.st[c].markup: !1;
                z("FirstMarkupParse", g);
                b.currTemplate[c] = g ? a(g) : !0
            }
            h && h !== f.type && b.container.removeClass("mfp-" + h + "-holder");
            g = b["get" + c.charAt(0).toUpperCase() + c.slice(1)](f, b.currTemplate[c]);
            b.appendContent(g, c);
            f.preloaded = !0;
            z("Change", f);
            h = f.type;
            b.container.prepend(b.contentContainer);
            z("AfterChange")
        },
        appendContent: function(a, f) { (b.content = a) ? b.st.showCloseBtn && b.st.closeBtnInside && !0 === b.currTemplate[f] ? b.content.find(".mfp-close").length || b.content.append(F()) : b.content = a: b.content = "";
            z("BeforeAppend");
            b.container.addClass("mfp-" + f + "-holder");
            b.contentContainer.append(b.content)
        },
        parseEl: function(f) {
            var c = b.items[f],
            g = c.type;
            if (c = c.tagName ? {
                el: a(c)
            }: {
                data: c,
                src: c.src
            },
            c.el) {
                for (var h = b.types,
                j = 0; h.length > j; j++) if (c.el.hasClass("mfp-" + h[j])) {
                    g = h[j];
                    break
                }
                c.src = c.el.attr("data-mfp-src");
                c.src || (c.src = c.el.attr("href"))
            }
            return c.type = g || b.st.type || "inline",
            c.index = f,
            c.parsed = !0,
            b.items[f] = c,
            z("ElementParse", c),
            b.items[f]
        },
        addGroup: function(a, f) {
            var c = function(c) {
                c.mfpEl = this;
                b._openClick(c, a, f)
            };
            f || (f = {});
            f.mainEl = a;
            f.items ? (f.isObj = !0, a.off("click.magnificPopup").on("click.magnificPopup", c)) : (f.isObj = !1, f.delegate ? a.off("click.magnificPopup").on("click.magnificPopup", f.delegate, c) : (f.items = a, a.off("click.magnificPopup").on("click.magnificPopup", c)))
        },
        _openClick: function(f, c, g) {
            if ((void 0 !== g.midClick ? g.midClick: a.magnificPopup.defaults.midClick) || 2 !== f.which && !f.ctrlKey && !f.metaKey) {
                var h = void 0 !== g.disableOn ? g.disableOn: a.magnificPopup.defaults.disableOn;
                if (h) if (a.isFunction(h)) {
                    if (!h.call(b)) return ! 0
                } else if (h > r.width()) return ! 0;
                f.type && (f.preventDefault(), b.isOpen && f.stopPropagation());
                g.el = a(f.mfpEl);
                g.delegate && (g.items = c.find(g.delegate));
                b.open(g)
            }
        },
        updateStatus: function(a, f) {
            if (b.preloader) {
                c !== a && b.container.removeClass("mfp-s-" + c);
                f || "loading" !== a || (f = b.st.tLoading);
                var g = {
                    status: a,
                    text: f
                };
                z("UpdateStatus", g);
                a = g.status;
                f = g.text;
                b.preloader.html(f);
                b.preloader.find("a").on("click",
                function(a) {
                    a.stopImmediatePropagation()
                });
                b.container.addClass("mfp-s-" + a);
                c = a
            }
        },
        _checkIfClose: function(f) {
            if (!a(f).hasClass("mfp-prevent-close")) {
                var c = b.st.closeOnContentClick,
                g = b.st.closeOnBgClick;
                if (c && g || !b.content || a(f).hasClass("mfp-close") || b.preloader && f === b.preloader[0]) return ! 0;
                if (f === b.content[0] || a.contains(b.content[0], f)) {
                    if (c) return ! 0
                } else if (g && a.contains(document, f)) return ! 0;
                return ! 1
            }
        },
        _addClassToMFP: function(a) {
            b.bgOverlay.addClass(a);
            b.wrap.addClass(a)
        },
        _removeClassFromMFP: function(a) {
            this.bgOverlay.removeClass(a);
            b.wrap.removeClass(a)
        },
        _hasScrollBar: function(a) {
            return (b.isIE7 ? f.height() : document.body.scrollHeight) > (a || r.height())
        },
        _setFocus: function() { (b.st.focus ? b.content.find(b.st.focus).eq(0) : b.wrap).focus()
        },
        _onFocusIn: function(f) {
            return f.target === b.wrap[0] || a.contains(b.wrap[0], f.target) ? void 0 : (b._setFocus(), !1)
        },
        _parseMarkup: function(b, f, c) {
            var g;
            c.data && (f = a.extend(c.data, f));
            z("MarkupParse", [b, f, c]);
            a.each(f,
            function(a, f) {
                if (void 0 === f || !1 === f) return ! 0;
                if (g = a.split("_"), 1 < g.length) {
                    var c = b.find(".mfp-" + g[0]);
                    if (0 < c.length) {
                        var h = g[1];
                        "replaceWith" === h ? c[0] !== f[0] && c.replaceWith(f) : "img" === h ? c.is("img") ? c.attr("src", f) : c.replaceWith('<img src="' + f + '" class="' + c.attr("class") + '" />') : c.attr(g[1], f)
                    }
                } else b.find(".mfp-" + a).html(f)
            })
        },
        _getScrollbarSize: function() {
            if (void 0 === b.scrollbarSize) {
                var a = document.createElement("div");
                a.id = "mfp-sbm";
                a.style.cssText = "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";
                document.body.appendChild(a);
                b.scrollbarSize = a.offsetWidth - a.clientWidth;
                document.body.removeChild(a)
            }
            return b.scrollbarSize
        }
    };
    a.magnificPopup = {
        instance: null,
        proto: m.prototype,
        modules: [],
        open: function(b, f) {
            return w(),
            b = b ? a.extend(!0, {},
            b) : {},
            b.isObj = !0,
            b.index = f || 0,
            this.instance.open(b)
        },
        close: function() {
            return a.magnificPopup.instance && a.magnificPopup.instance.close()
        },
        registerModule: function(b, f) {
            f.options && (a.magnificPopup.defaults[b] = f.options);
            a.extend(this.proto, f.proto);
            this.modules.push(b)
        },
        defaults: {
            disableOn: 0,
            key: null,
            midClick: !1,
            mainClass: "",
            preloader: !0,
            focus: "",
            closeOnContentClick: !1,
            closeOnBgClick: !0,
            closeBtnInside: !0,
            showCloseBtn: !0,
            enableEscapeKey: !0,
            modal: !1,
            alignTop: !1,
            removalDelay: 0,
            fixedContentPos: "auto",
            fixedBgPos: "auto",
            overflowY: "auto",
            closeMarkup: '<button title="%title%" type="button" class="mfp-close">&times;</button>',
            tClose: "Close (Esc)",
            tLoading: "Loading..."
        }
    };
    a.fn.magnificPopup = function(f) {
        w();
        var c = a(this);
        if ("string" == typeof f) if ("open" === f) {
            var g, h = q ? c.data("magnificPopup") : c[0].magnificPopup,
            j = parseInt(arguments[1], 10) || 0;
            h.items ? g = h.items[j] : (g = c, h.delegate && (g = g.find(h.delegate)), g = g.eq(j));
            b._openClick({
                mfpEl: g
            },
            c, h)
        } else b.isOpen && b[f].apply(b, Array.prototype.slice.call(arguments, 1));
        else f = a.extend(!0, {},
        f),
        q ? c.data("magnificPopup", f) : c[0].magnificPopup = f,
        b.addGroup(c, f);
        return c
    };
    var u, C, D, E = function() {
        D && (C.after(D.addClass(u)).detach(), D = null)
    };
    a.magnificPopup.registerModule("inline", {
        options: {
            hiddenClass: "hide",
            markup: "",
            tNotFound: "Content not found"
        },
        proto: {
            initInline: function() {
                b.types.push("inline");
                p("Close.inline",
                function() {
                    E()
                })
            },
            getInline: function(f, c) {
                if (E(), f.src) {
                    var g = b.st.inline,
                    h = a(f.src);
                    if (h.length) {
                        var j = h[0].parentNode;
                        j && j.tagName && (C || (u = g.hiddenClass, C = l(u), u = "mfp-" + u), D = h.after(C).detach().removeClass(u));
                        b.updateStatus("ready")
                    } else b.updateStatus("error", g.tNotFound),
                    h = a("<div>");
                    return f.inlineElement = h,
                    h
                }
                return b.updateStatus("ready"),
                b._parseMarkup(c, {},
                f),
                c
            }
        }
    });
    var y, I = function() {
        y && g.removeClass(y);
        b.req && b.req.abort()
    };
    a.magnificPopup.registerModule("ajax", {
        options: {
            settings: null,
            cursor: "mfp-ajax-cur",
            tError: '<a href="%url%">The content</a> could not be loaded.'
        },
        proto: {
            initAjax: function() {
                b.types.push("ajax");
                y = b.st.ajax.cursor;
                p("Close.ajax", I);
                p("BeforeChange.ajax", I)
            },
            getAjax: function(f) {
                y && g.addClass(y);
                b.updateStatus("loading");
                var c = a.extend({
                    url: f.src,
                    success: function(c, h, j) {
                        c = {
                            data: c,
                            xhr: j
                        };
                        z("ParseAjax", c);
                        b.appendContent(a(c.data), "ajax");
                        f.finished = !0;
                        y && g.removeClass(y);
                        b._setFocus();
                        setTimeout(function() {
                            b.wrap.addClass("mfp-ready")
                        },
                        16);
                        b.updateStatus("ready");
                        z("AjaxContentAdded")
                    },
                    error: function() {
                        y && g.removeClass(y);
                        f.finished = f.loadError = !0;
                        b.updateStatus("error", b.st.ajax.tError.replace("%url%", f.src))
                    }
                },
                b.st.ajax.settings);
                return b.req = a.ajax(c),
                ""
            }
        }
    });
    var K, x = function(f) {
        if (f.data && void 0 !== f.data.title) return f.data.title;
        var c = b.st.image.titleSrc;
        if (c) {
            if (a.isFunction(c)) return c.call(b, f);
            if (f.el) return f.el.attr(c) || ""
        }
        return ""
    };
    a.magnificPopup.registerModule("image", {
        options: {
            markup: '<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
            cursor: "mfp-zoom-out-cur",
            titleSrc: "title",
            verticalFit: !0,
            tError: '<a href="%url%">The image</a> could not be loaded.'
        },
        proto: {
            initImage: function() {
                var a = b.st.image;
                b.types.push("image");
                p("Open.image",
                function() {
                    "image" === b.currItem.type && a.cursor && g.addClass(a.cursor)
                });
                p("Close.image",
                function() {
                    a.cursor && g.removeClass(a.cursor);
                    r.off("resize.mfp")
                });
                p("Resize.image", b.resizeImage);
                b.isLowIE && p("AfterChange", b.resizeImage)
            },
            resizeImage: function() {
                var a = b.currItem;
                if (a && a.img && b.st.image.verticalFit) {
                    var f = 0;
                    b.isLowIE && (f = parseInt(a.img.css("padding-top"), 10) + parseInt(a.img.css("padding-bottom"), 10));
                    a.img.css("", b.wH - f)
                }
            },
            _onImageHasSize: function(a) {
                a.img && (a.hasSize = !0, K && clearInterval(K), a.isCheckingImgSize = !1, z("ImageHasSize", a), a.imgHidden && (b.content && b.content.removeClass("mfp-loading"), a.imgHidden = !1))
            },
            findImageSize: function(a) {
                var f = 0,
                c = a.img[0],
                g = function(h) {
                    K && clearInterval(K);
                    K = setInterval(function() {
                        return 0 < c.naturalWidth ? (b._onImageHasSize(a), void 0) : (200 < f && clearInterval(K), f++, 3 === f ? g(10) : 40 === f ? g(50) : 100 === f && g(500), void 0)
                    },
                    h)
                };
                g(1)
            },
            getImage: function(f, c) {
                var g = 0,
                h = function() {
                    f && (f.img[0].complete ? (f.img.off(".mfploader"), f === b.currItem && (b._onImageHasSize(f), b.updateStatus("ready")), f.hasSize = !0, f.loaded = !0, z("ImageLoadComplete")) : (g++, 200 > g ? setTimeout(h, 100) : j()))
                },
                j = function() {
                    f && (f.img.off(".mfploader"), f === b.currItem && (b._onImageHasSize(f), b.updateStatus("error", k.tError.replace("%url%", f.src))), f.hasSize = !0, f.loaded = !0, f.loadError = !0)
                },
                k = b.st.image,
                l = c.find(".mfp-img");
                if (l.length) {
                    var m = document.createElement("img");
                    m.className = "mfp-img";
                    f.img = a(m).on("load.mfploader", h).on("error.mfploader", j);
                    m.src = f.src;
                    l.is("img") && (f.img = f.img.clone());
                    m = f.img[0];
                    0 < m.naturalWidth ? f.hasSize = !0 : m.width || (f.hasSize = !1)
                }
                return b._parseMarkup(c, {
                    title: x(f),
                    img_replaceWith: f.img
                },
                f),
                b.resizeImage(),
                f.hasSize ? (K && clearInterval(K), f.loadError ? (c.addClass("mfp-loading"), b.updateStatus("error", k.tError.replace("%url%", f.src))) : (c.removeClass("mfp-loading"), b.updateStatus("ready")), c) : (b.updateStatus("loading"), f.loading = !0, f.hasSize || (f.imgHidden = !0, c.addClass("mfp-loading"), b.findImageSize(f)), c)
            }
        }
    });
    var N;
    a.magnificPopup.registerModule("zoom", {
        options: {
            enabled: !1,
            easing: "ease-in-out",
            duration: 300,
            opener: function(a) {
                return a.is("img") ? a: a.find("img")
            }
        },
        proto: {
            initZoom: function() {
                var a, f = b.st.zoom;
                if (f.enabled && b.supportsTransition) {
                    var c, g, h = f.duration,
                    j = function(a) {
                        var a = a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),
                        b = {
                            position: "fixed",
                            zIndex: 9999,
                            left: 0,
                            top: 0,
                            "-webkit-backface-visibility": "hidden"
                        };
                        return b["-webkit-transition"] = b["-moz-transition"] = b["-o-transition"] = b.transition = "all " + f.duration / 1E3 + "s " + f.easing,
                        a.css(b),
                        a
                    },
                    k = function() {
                        b.content.css("visibility", "visible")
                    };
                    p("BuildControls.zoom",
                    function() {
                        if (b._allowZoom()) {
                            if (clearTimeout(c), b.content.css("visibility", "hidden"), a = b._getItemToZoom(), !a) return k(),
                            void 0;
                            g = j(a);
                            g.css(b._getOffset());
                            b.wrap.append(g);
                            c = setTimeout(function() {
                                g.css(b._getOffset(!0));
                                c = setTimeout(function() {
                                    k();
                                    setTimeout(function() {
                                        g.remove();
                                        a = g = null;
                                        z("ZoomAnimationEnded")
                                    },
                                    16)
                                },
                                h)
                            },
                            16)
                        }
                    });
                    p("BeforeClose.zoom",
                    function() {
                        if (b._allowZoom()) {
                            if (clearTimeout(c), b.st.removalDelay = h, !a) {
                                if (a = b._getItemToZoom(), !a) return;
                                g = j(a)
                            }
                            g.css(b._getOffset(!0));
                            b.wrap.append(g);
                            b.content.css("visibility", "hidden");
                            setTimeout(function() {
                                g.css(b._getOffset())
                            },
                            16)
                        }
                    });
                    p("Close.zoom",
                    function() {
                        b._allowZoom() && (k(), g && g.remove(), a = null)
                    })
                }
            },
            _allowZoom: function() {
                return "image" === b.currItem.type
            },
            _getItemToZoom: function() {
                return b.currItem.hasSize ? b.currItem.img: !1
            },
            _getOffset: function(f) {
                var c;
                c = f ? b.currItem.img: b.st.zoom.opener(b.currItem.el || b.currItem);
                var f = c.offset(),
                g = parseInt(c.css("padding-top"), 10),
                h = parseInt(c.css("padding-bottom"), 10);
                f.top -= a(window).scrollTop() - g;
                c = {
                    width: c.width(),
                    height: (q ? c.innerHeight() : c[0].offsetHeight) - h - g
                };
                return (void 0 === N && (N = void 0 !== document.createElement("p").style.MozTransform), N) ? c["-moz-transform"] = c.transform = "translate(" + f.left + "px," + f.top + "px)": (c.left = f.left, c.top = f.top),
                c
            }
        }
    });
    var H = function(a) {
        if (b.currTemplate.iframe) {
            var f = b.currTemplate.iframe.find("iframe");
            f.length && (a || (f[0].src = "//about:blank"), b.isIE8 && f.css("display", a ? "block": "none"))
        }
    };
    a.magnificPopup.registerModule("iframe", {
        options: {
            markup: '<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',
            srcAction: "iframe_src",
            patterns: {
                youtube: {
                    index: "youtube.com",
                    id: "v=",
                    src: "//www.youtube.com/embed/%id%?autoplay=1"
                },
                vimeo: {
                    index: "vimeo.com/",
                    id: "/",
                    src: "//player.vimeo.com/video/%id%?autoplay=1"
                },
                gmaps: {
                    index: "//maps.google.",
                    src: "%id%&output=embed"
                }
            }
        },
        proto: {
            initIframe: function() {
                b.types.push("iframe");
                p("BeforeChange",
                function(a, b, f) {
                    b !== f && ("iframe" === b ? H() : "iframe" === f && H(!0))
                });
                p("Close.iframe",
                function() {
                    H()
                })
            },
            getIframe: function(f, c) {
                var g = f.src,
                h = b.st.iframe;
                a.each(h.patterns,
                function() {
                    return - 1 < g.indexOf(this.index) ? (this.id && (g = "string" == typeof this.id ? g.substr(g.lastIndexOf(this.id) + this.id.length, g.length) : this.id.call(this, g)), g = this.src.replace("%id%", g), !1) : void 0
                });
                var j = {};
                return h.srcAction && (j[h.srcAction] = g),
                b._parseMarkup(c, j, f),
                b.updateStatus("ready"),
                c
            }
        }
    });
    var A = function(a) {
        var f = b.items.length;
        return a > f - 1 ? a - f: 0 > a ? f + a: a
    };
    a.magnificPopup.registerModule("gallery", {
        options: {
            enabled: !1,
            arrowMarkup: '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
            preload: [0, 2],
            navigateByImgClick: !0,
            arrows: !0,
            tPrev: "Previous (Left arrow key)",
            tNext: "Next (Right arrow key)",
            tCounter: "%curr% of %total%"
        },
        proto: {
            initGallery: function() {
                var c = b.st.gallery,
                g = Boolean(a.fn.mfpFastClick);
                return b.direction = !0,
                c && c.enabled ? (j += " mfp-gallery", p("Open.mfp-gallery",
                function() {
                    c.navigateByImgClick && b.wrap.on("click.mfp-gallery", ".mfp-img",
                    function() {
                        return 1 < b.items.length ? (b.next(), !1) : void 0
                    });
                    f.on("keydown.mfp-gallery",
                    function(a) {
                        37 === a.keyCode ? b.prev() : 39 === a.keyCode && b.next()
                    })
                }), p("UpdateStatus.mfp-gallery",
                function(a, f) {
                    f.text && (f.text = f.text.replace(/%curr%/gi, b.currItem.index + 1).replace(/%total%/gi, b.items.length))
                }), p("MarkupParse.mfp-gallery",
                function(a, f, g, h) {
                    a = b.items.length;
                    g.counter = 1 < a ? c.tCounter.replace(/%curr%/gi, h.index + 1).replace(/%total%/gi, a) : ""
                }), p("BuildControls.mfp-gallery",
                function() {
                    if (1 < b.items.length && c.arrows && !b.arrowLeft) {
                        var f = c.arrowMarkup,
                        h = b.arrowLeft = a(f.replace(/%title%/gi, c.tPrev).replace(/%dir%/gi, "left")).addClass("mfp-prevent-close"),
                        f = b.arrowRight = a(f.replace(/%title%/gi, c.tNext).replace(/%dir%/gi, "right")).addClass("mfp-prevent-close"),
                        j = g ? "mfpFastClick": "click";
                        h[j](function() {
                            b.prev()
                        });
                        f[j](function() {
                            b.next()
                        });
                        b.isIE7 && (l("b", h[0], !1, !0), l("a", h[0], !1, !0), l("b", f[0], !1, !0), l("a", f[0], !1, !0));
                        b.container.append(h.add(f))
                    }
                }), p("Change.mfp-gallery",
                function() {
                    b._preloadTimeout && clearTimeout(b._preloadTimeout);
                    b._preloadTimeout = setTimeout(function() {
                        b.preloadNearbyImages();
                        b._preloadTimeout = null
                    },
                    16)
                }), p("Close.mfp-gallery",
                function() {
                    f.off(".mfp-gallery");
                    b.wrap.off("click.mfp-gallery");
                    b.arrowLeft && g && b.arrowLeft.add(b.arrowRight).destroyMfpFastClick();
                    b.arrowRight = b.arrowLeft = null
                }), void 0) : !1
            },
            next: function() {
                b.direction = !0;
                b.index = A(b.index + 1);
                b.updateItemHTML()
            },
            prev: function() {
                b.direction = !1;
                b.index = A(b.index - 1);
                b.updateItemHTML()
            },
            goTo: function(a) {
                b.direction = a >= b.index;
                b.index = a;
                b.updateItemHTML()
            },
            preloadNearbyImages: function() {
                var a;
                a = b.st.gallery.preload;
                var f = Math.min(a[0], b.items.length),
                c = Math.min(a[1], b.items.length);
                for (a = 1; (b.direction ? c: f) >= a; a++) b._preloadItem(b.index + a);
                for (a = 1; (b.direction ? f: c) >= a; a++) b._preloadItem(b.index - a)
            },
            _preloadItem: function(f) {
                if (f = A(f), !b.items[f].preloaded) {
                    var c = b.items[f];
                    c.parsed || (c = b.parseEl(f));
                    z("LazyLoad", c);
                    "image" === c.type && (c.img = a('<img class="mfp-img" />').on("load.mfploader",
                    function() {
                        c.hasSize = !0
                    }).on("error.mfploader",
                    function() {
                        c.hasSize = !0;
                        c.loadError = !0;
                        z("LazyLoadError", c)
                    }).attr("src", c.src));
                    c.preloaded = !0
                }
            }
        }
    });
    a.magnificPopup.registerModule("retina", {
        options: {
            replaceSrc: function(a) {
                return a.src.replace(/\.\w+$/,
                function(a) {
                    return "@2x" + a
                })
            },
            ratio: 1
        },
        proto: {
            initRetina: function() {
                if (1 < window.devicePixelRatio) {
                    var a = b.st.retina,
                    f = a.ratio,
                    f = isNaN(f) ? f() : f;
                    1 < f && (p("ImageHasSize.retina",
                    function(a, b) {
                        b.img.css({
                            "max-width": b.img[0].naturalWidth / f,
                            width: "100%"
                        })
                    }), p("ElementParse.retina",
                    function(b, c) {
                        c.src = a.replaceSrc(c, f)
                    }))
                }
            }
        }
    });
    var B = "ontouchstart" in window,
    v = function() {
        r.off("touchmove" + L + " touchend" + L)
    },
    L = ".mfpFastClick";
    a.fn.mfpFastClick = function(b) {
        return a(this).each(function() {
            var f, c = a(this);
            if (B) {
                var g, h, j, k, l, m;
                c.on("touchstart" + L,
                function(a) {
                    k = !1;
                    m = 1;
                    l = a.originalEvent ? a.originalEvent.touches[0] : a.touches[0];
                    h = l.clientX;
                    j = l.clientY;
                    r.on("touchmove" + L,
                    function(a) {
                        l = a.originalEvent ? a.originalEvent.touches: a.touches;
                        m = l.length;
                        l = l[0]; (10 < Math.abs(l.clientX - h) || 10 < Math.abs(l.clientY - j)) && (k = !0, v())
                    }).on("touchend" + L,
                    function(a) {
                        v();
                        k || 1 < m || (f = !0, a.preventDefault(), clearTimeout(g), g = setTimeout(function() {
                            f = !1
                        },
                        1E3), b())
                    })
                })
            }
            c.on("click" + L,
            function() {
                f || b()
            })
        })
    };
    a.fn.destroyMfpFastClick = function() {
        a(this).off("touchstart" + L + " click" + L);
        B && r.off("touchmove" + L + " touchend" + L)
    };
    w()
})(window.jQuery || window.Zepto);
"function" !== typeof Object.create && (Object.create = function(a) {
    function b() {}
    b.prototype = a;
    return new b
}); (function(a, b, c) {
    var g = {
        init: function(b, c) {
            this.$elem = a(c);
            this.options = a.extend({},
            a.fn.owlCarousel.options, this.$elem.data(), b);
            this.userOptions = b;
            this.loadContent()
        },
        loadContent: function() {
            function b(a) {
                var f, g = "";
                if ("function" === typeof c.options.jsonSuccess) c.options.jsonSuccess.apply(this, [a]);
                else {
                    for (f in a.owl) a.owl.hasOwnProperty(f) && (g += a.owl[f].item);
                    c.$elem.html(g)
                }
                c.logIn()
            }
            var c = this,
            g;
            "function" === typeof c.options.beforeInit && c.options.beforeInit.apply(this, [c.$elem]);
            "string" === typeof c.options.jsonPath ? (g = c.options.jsonPath, a.getJSON(g, b)) : c.logIn()
        },
        logIn: function() {
            this.$elem.data("owl-originalStyles", this.$elem.attr("style"));
            this.$elem.data("owl-originalClasses", this.$elem.attr("class"));
            this.$elem.css({
                opacity: 0
            });
            this.orignalItems = this.options.items;
            this.checkBrowser();
            this.wrapperWidth = 0;
            this.checkVisible = null;
            this.setVars()
        },
        setVars: function() {
            if (0 === this.$elem.children().length) return ! 1;
            this.baseClass();
            this.eventTypes();
            this.$userItems = this.$elem.children();
            this.itemsAmount = this.$userItems.length;
            this.wrapItems();
            this.$owlItems = this.$elem.find(".owl-item");
            this.$owlWrapper = this.$elem.find(".owl-wrapper");
            this.playDirection = "next";
            this.prevItem = 0;
            this.prevArr = [0];
            this.currentItem = 0;
            this.customEvents();
            this.onStartup()
        },
        onStartup: function() {
            this.updateItems();
            this.calculateAll();
            this.buildControls();
            this.updateControls();
            this.response();
            this.moveEvents();
            this.stopOnHover();
            this.owlStatus(); ! 1 !== this.options.transitionStyle && this.transitionTypes(this.options.transitionStyle); ! 0 === this.options.autoPlay && (this.options.autoPlay = 5E3);
            this.play();
            this.$elem.find(".owl-wrapper").css("display", "block");
            this.$elem.is(":visible") ? this.$elem.css("opacity", 1) : this.watchVisibility();
            this.onstartup = !1;
            this.eachMoveUpdate();
            "function" === typeof this.options.afterInit && this.options.afterInit.apply(this, [this.$elem])
        },
        eachMoveUpdate: function() { ! 0 === this.options.lazyLoad && this.lazyLoad(); ! 0 === this.options.autoHeight && this.autoHeight();
            this.onVisibleItems();
            "function" === typeof this.options.afterAction && this.options.afterAction.apply(this, [this.$elem])
        },
        updateVars: function() {
            "function" === typeof this.options.beforeUpdate && this.options.beforeUpdate.apply(this, [this.$elem]);
            this.watchVisibility();
            this.updateItems();
            this.calculateAll();
            this.updatePosition();
            this.updateControls();
            this.eachMoveUpdate();
            "function" === typeof this.options.afterUpdate && this.options.afterUpdate.apply(this, [this.$elem])
        },
        reload: function() {
            var a = this;
            b.setTimeout(function() {
                a.updateVars()
            },
            0)
        },
        watchVisibility: function() {
            var a = this;
            if (!1 === a.$elem.is(":visible")) a.$elem.css({
                opacity: 0
            }),
            b.clearInterval(a.autoPlayInterval),
            b.clearInterval(a.checkVisible);
            else return ! 1;
            a.checkVisible = b.setInterval(function() {
                a.$elem.is(":visible") && (a.reload(), a.$elem.animate({
                    opacity: 1
                },
                200), b.clearInterval(a.checkVisible))
            },
            500)
        },
        wrapItems: function() {
            this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');
            this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');
            this.wrapperOuter = this.$elem.find(".owl-wrapper-outer");
            this.$elem.css("display", "block")
        },
        baseClass: function() {
            var a = this.$elem.hasClass(this.options.baseClass),
            b = this.$elem.hasClass(this.options.theme);
            a || this.$elem.addClass(this.options.baseClass);
            b || this.$elem.addClass(this.options.theme)
        },
        updateItems: function() {
            var b, c;
            if (!1 === this.options.responsive) return ! 1;
            if (!0 === this.options.singleItem) return this.options.items = this.orignalItems = 1,
            this.options.itemsCustom = !1,
            this.options.itemsDesktop = !1,
            this.options.itemsDesktopSmall = !1,
            this.options.itemsTablet = !1,
            this.options.itemsTabletSmall = !1,
            this.options.itemsMobile = !1;
            b = a(this.options.responsiveBaseWidth).width();
            if (b > (this.options.itemsDesktop[0] || this.orignalItems)) this.options.items = this.orignalItems;
            if (!1 !== this.options.itemsCustom) {
                this.options.itemsCustom.sort(function(a, b) {
                    return a[0] - b[0]
                });
                for (c = 0; c < this.options.itemsCustom.length; c += 1) this.options.itemsCustom[c][0] <= b && (this.options.items = this.options.itemsCustom[c][1])
            } else b <= this.options.itemsDesktop[0] && !1 !== this.options.itemsDesktop && (this.options.items = this.options.itemsDesktop[1]),
            b <= this.options.itemsDesktopSmall[0] && !1 !== this.options.itemsDesktopSmall && (this.options.items = this.options.itemsDesktopSmall[1]),
            b <= this.options.itemsTablet[0] && !1 !== this.options.itemsTablet && (this.options.items = this.options.itemsTablet[1]),
            b <= this.options.itemsTabletSmall[0] && !1 !== this.options.itemsTabletSmall && (this.options.items = this.options.itemsTabletSmall[1]),
            b <= this.options.itemsMobile[0] && !1 !== this.options.itemsMobile && (this.options.items = this.options.itemsMobile[1]);
            this.options.items > this.itemsAmount && !0 === this.options.itemsScaleUp && (this.options.items = this.itemsAmount)
        },
        response: function() {
            var f = this,
            c, g;
            if (!0 !== f.options.responsive) return ! 1;
            g = a(b).width();
            f.resizer = function() {
                a(b).width() !== g && (!1 !== f.options.autoPlay && b.clearInterval(f.autoPlayInterval), b.clearTimeout(c), c = b.setTimeout(function() {
                    g = a(b).width();
                    f.updateVars()
                },
                f.options.responsiveRefreshRate))
            };
            a(b).resize(f.resizer)
        },
        updatePosition: function() {
            this.jumpTo(this.currentItem); ! 1 !== this.options.autoPlay && this.checkAp()
        },
        appendItemsSizes: function() {
            var b = this,
            c = 0,
            g = b.itemsAmount - b.options.items;
            b.$owlItems.each(function(k) {
                var m = a(this);
                m.css({
                    width: b.itemWidth
                }).data("owl-item", Number(k));
                if (0 === k % b.options.items || k === g) k > g || (c += 1);
                m.data("owl-roundPages", c)
            })
        },
        appendWrapperSizes: function() {
            this.$owlWrapper.css({
                width: 2 * this.$owlItems.length * this.itemWidth,
                left: 0
            });
            this.appendItemsSizes()
        },
        calculateAll: function() {
            this.calculateWidth();
            this.appendWrapperSizes();
            this.loops();
            this.max()
        },
        calculateWidth: function() {
            this.itemWidth = Math.round(this.$elem.width() / this.options.items)
        },
        max: function() {
            var a = -1 * (this.itemsAmount * this.itemWidth - this.options.items * this.itemWidth);
            this.options.items > this.itemsAmount ? this.maximumPixels = a = this.maximumItem = 0 : (this.maximumItem = this.itemsAmount - this.options.items, this.maximumPixels = a);
            return a
        },
        min: function() {
            return 0
        },
        loops: function() {
            var b = 0,
            c = 0,
            g, k;
            this.positionsInArray = [0];
            this.pagesInArray = [];
            for (g = 0; g < this.itemsAmount; g += 1) c += this.itemWidth,
            this.positionsInArray.push( - c),
            !0 === this.options.scrollPerPage && (k = a(this.$owlItems[g]), k = k.data("owl-roundPages"), k !== b && (this.pagesInArray[b] = this.positionsInArray[g], b = k))
        },
        buildControls: function() {
            if (!0 === this.options.navigation || !0 === this.options.pagination) this.owlControls = a('<div class="owl-controls"/>').toggleClass("clickable", !this.browser.isTouch).appendTo(this.$elem); ! 0 === this.options.pagination && this.buildPagination(); ! 0 === this.options.navigation && this.buildButtons()
        },
        buildButtons: function() {
            var b = this,
            c = a('<div class="owl-buttons"/>');
            b.owlControls.append(c);
            b.buttonPrev = a("<div/>", {
                "class": "owl-prev",
                html: b.options.navigationText[0] || ""
            });
            b.buttonNext = a("<div/>", {
                "class": "owl-next",
                html: b.options.navigationText[1] || ""
            });
            c.append(b.buttonPrev).append(b.buttonNext);
            c.on("touchstart.owlControls mousedown.owlControls", 'div[class^="owl"]',
            function(a) {
                a.preventDefault()
            });
            c.on("touchend.owlControls mouseup.owlControls", 'div[class^="owl"]',
            function(c) {
                c.preventDefault();
                a(this).hasClass("owl-next") ? b.next() : b.prev()
            })
        },
        buildPagination: function() {
            var b = this;
            b.paginationWrapper = a('<div class="owl-pagination"/>');
            b.owlControls.append(b.paginationWrapper);
            b.paginationWrapper.on("touchend.owlControls mouseup.owlControls", ".owl-page",
            function(c) {
                c.preventDefault();
                Number(a(this).data("owl-page")) !== b.currentItem && b.goTo(Number(a(this).data("owl-page")), !0)
            })
        },
        updatePagination: function() {
            var b, c, g, k, m, q;
            if (!1 === this.options.pagination) return ! 1;
            this.paginationWrapper.html("");
            b = 0;
            c = this.itemsAmount - this.itemsAmount % this.options.items;
            for (k = 0; k < this.itemsAmount; k += 1) 0 === k % this.options.items && (b += 1, c === k && (g = this.itemsAmount - this.options.items), m = a("<div/>", {
                "class": "owl-page"
            }), q = a("<span></span>", {
                text: !0 === this.options.paginationNumbers ? b: "",
                "class": !0 === this.options.paginationNumbers ? "owl-numbers": ""
            }), m.append(q), m.data("owl-page", c === k ? g: k), m.data("owl-roundPages", b), this.paginationWrapper.append(m));
            this.checkPagination()
        },
        checkPagination: function() {
            var b = this;
            if (!1 === b.options.pagination) return ! 1;
            b.paginationWrapper.find(".owl-page").each(function() {
                a(this).data("owl-roundPages") === a(b.$owlItems[b.currentItem]).data("owl-roundPages") && (b.paginationWrapper.find(".owl-page").removeClass("active"), a(this).addClass("active"))
            })
        },
        checkNavigation: function() {
            if (!1 === this.options.navigation) return ! 1; ! 1 === this.options.rewindNav && (0 === this.currentItem && 0 === this.maximumItem ? (this.buttonPrev.addClass("disabled"), this.buttonNext.addClass("disabled")) : 0 === this.currentItem && 0 !== this.maximumItem ? (this.buttonPrev.addClass("disabled"), this.buttonNext.removeClass("disabled")) : this.currentItem === this.maximumItem ? (this.buttonPrev.removeClass("disabled"), this.buttonNext.addClass("disabled")) : 0 !== this.currentItem && this.currentItem !== this.maximumItem && (this.buttonPrev.removeClass("disabled"), this.buttonNext.removeClass("disabled")))
        },
        updateControls: function() {
            this.updatePagination();
            this.checkNavigation();
            this.owlControls && (this.options.items >= this.itemsAmount ? this.owlControls.hide() : this.owlControls.show())
        },
        destroyControls: function() {
            this.owlControls && this.owlControls.remove()
        },
        next: function(a) {
            if (this.isTransition) return ! 1;
            this.currentItem += !0 === this.options.scrollPerPage ? this.options.items: 1;
            if (this.currentItem > this.maximumItem + (!0 === this.options.scrollPerPage ? this.options.items - 1 : 0)) if (!0 === this.options.rewindNav) this.currentItem = 0,
            a = "rewind";
            else return this.currentItem = this.maximumItem,
            !1;
            this.goTo(this.currentItem, a)
        },
        prev: function(a) {
            if (this.isTransition) return ! 1;
            this.currentItem = !0 === this.options.scrollPerPage && 0 < this.currentItem && this.currentItem < this.options.items ? 0 : this.currentItem - (!0 === this.options.scrollPerPage ? this.options.items: 1);
            if (0 > this.currentItem) if (!0 === this.options.rewindNav) this.currentItem = this.maximumItem,
            a = "rewind";
            else return this.currentItem = 0,
            !1;
            this.goTo(this.currentItem, a)
        },
        goTo: function(a, c, g) {
            var k = this;
            if (k.isTransition) return ! 1;
            "function" === typeof k.options.beforeMove && k.options.beforeMove.apply(this, [k.$elem]);
            a >= k.maximumItem ? a = k.maximumItem: 0 >= a && (a = 0);
            k.currentItem = k.owl.currentItem = a;
            if (!1 !== k.options.transitionStyle && "drag" !== g && 1 === k.options.items && !0 === k.browser.support3d) return k.swapSpeed(0),
            !0 === k.browser.support3d ? k.transition3d(k.positionsInArray[a]) : k.css2slide(k.positionsInArray[a], 1),
            k.afterGo(),
            k.singleItemTransition(),
            !1;
            a = k.positionsInArray[a]; ! 0 === k.browser.support3d ? (k.isCss3Finish = !1, !0 === c ? (k.swapSpeed("paginationSpeed"), b.setTimeout(function() {
                k.isCss3Finish = !0
            },
            k.options.paginationSpeed)) : "rewind" === c ? (k.swapSpeed(k.options.rewindSpeed), b.setTimeout(function() {
                k.isCss3Finish = !0
            },
            k.options.rewindSpeed)) : (k.swapSpeed("slideSpeed"), b.setTimeout(function() {
                k.isCss3Finish = !0
            },
            k.options.slideSpeed)), k.transition3d(a)) : !0 === c ? k.css2slide(a, k.options.paginationSpeed) : "rewind" === c ? k.css2slide(a, k.options.rewindSpeed) : k.css2slide(a, k.options.slideSpeed);
            k.afterGo()
        },
        jumpTo: function(a) {
            "function" === typeof this.options.beforeMove && this.options.beforeMove.apply(this, [this.$elem]);
            a >= this.maximumItem || -1 === a ? a = this.maximumItem: 0 >= a && (a = 0);
            this.swapSpeed(0); ! 0 === this.browser.support3d ? this.transition3d(this.positionsInArray[a]) : this.css2slide(this.positionsInArray[a], 1);
            this.currentItem = this.owl.currentItem = a;
            this.afterGo()
        },
        afterGo: function() {
            this.prevArr.push(this.currentItem);
            this.prevItem = this.owl.prevItem = this.prevArr[this.prevArr.length - 2];
            this.prevArr.shift(0);
            this.prevItem !== this.currentItem && (this.checkPagination(), this.checkNavigation(), this.eachMoveUpdate(), !1 !== this.options.autoPlay && this.checkAp());
            "function" === typeof this.options.afterMove && this.prevItem !== this.currentItem && this.options.afterMove.apply(this, [this.$elem])
        },
        stop: function() {
            this.apStatus = "stop";
            b.clearInterval(this.autoPlayInterval)
        },
        checkAp: function() {
            "stop" !== this.apStatus && this.play()
        },
        play: function() {
            var a = this;
            a.apStatus = "play";
            if (!1 === a.options.autoPlay) return ! 1;
            b.clearInterval(a.autoPlayInterval);
            a.autoPlayInterval = b.setInterval(function() {
                a.next(!0)
            },
            a.options.autoPlay)
        },
        swapSpeed: function(a) {
            "slideSpeed" === a ? this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)) : "paginationSpeed" === a ? this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)) : "string" !== typeof a && this.$owlWrapper.css(this.addCssSpeed(a))
        },
        addCssSpeed: function(a) {
            return {
                "-webkit-transition": "all " + a + "ms ease",
                "-moz-transition": "all " + a + "ms ease",
                "-o-transition": "all " + a + "ms ease",
                transition: "all " + a + "ms ease"
            }
        },
        removeTransition: function() {
            return {
                "-webkit-transition": "",
                "-moz-transition": "",
                "-o-transition": "",
                transition: ""
            }
        },
        doTranslate: function(a) {
            return {
                "-webkit-transform": "translate3d(" + a + "px, 0px, 0px)",
                "-moz-transform": "translate3d(" + a + "px, 0px, 0px)",
                "-o-transform": "translate3d(" + a + "px, 0px, 0px)",
                "-ms-transform": "translate3d(" + a + "px, 0px, 0px)",
                transform: "translate3d(" + a + "px, 0px,0px)"
            }
        },
        transition3d: function(a) {
            this.$owlWrapper.css(this.doTranslate(a))
        },
        css2move: function(a) {
            this.$owlWrapper.css({
                left: a
            })
        },
        css2slide: function(a, b) {
            var c = this;
            c.isCssFinish = !1;
            c.$owlWrapper.stop(!0, !0).animate({
                left: a
            },
            {
                duration: b || c.options.slideSpeed,
                complete: function() {
                    c.isCssFinish = !0
                }
            })
        },
        checkBrowser: function() {
            var a = c.createElement("div");
            a.style.cssText = "  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";
            a = a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);
            this.browser = {
                support3d: null !== a && 1 === a.length,
                isTouch: "ontouchstart" in b || b.navigator.msMaxTouchPoints
            }
        },
        moveEvents: function() {
            if (!1 !== this.options.mouseDrag || !1 !== this.options.touchDrag) this.gestures(),
            this.disabledEvents()
        },
        eventTypes: function() {
            var a = ["s", "e", "x"];
            this.ev_types = {}; ! 0 === this.options.mouseDrag && !0 === this.options.touchDrag ? a = ["touchstart.owl mousedown.owl", "touchmove.owl mousemove.owl", "touchend.owl touchcancel.owl mouseup.owl"] : !1 === this.options.mouseDrag && !0 === this.options.touchDrag ? a = ["touchstart.owl", "touchmove.owl", "touchend.owl touchcancel.owl"] : !0 === this.options.mouseDrag && !1 === this.options.touchDrag && (a = ["mousedown.owl", "mousemove.owl", "mouseup.owl"]);
            this.ev_types.start = a[0];
            this.ev_types.move = a[1];
            this.ev_types.end = a[2]
        },
        disabledEvents: function() {
            this.$elem.on("dragstart.owl",
            function(a) {
                a.preventDefault()
            });
            this.$elem.on("mousedown.disableTextSelect",
            function(b) {
                return a(b.target).is("input, textarea, select, option")
            })
        },
        gestures: function() {
            function f(a) {
                if (void 0 !== a.touches) return {
                    x: a.touches[0].pageX,
                    y: a.touches[0].pageY
                };
                if (void 0 === a.touches) {
                    if (void 0 !== a.pageX) return {
                        x: a.pageX,
                        y: a.pageY
                    };
                    if (void 0 === a.pageX) return {
                        x: a.clientX,
                        y: a.clientY
                    }
                }
            }
            function g(b) {
                "on" === b ? (a(c).on(m.ev_types.move, j), a(c).on(m.ev_types.end, k)) : "off" === b && (a(c).off(m.ev_types.move), a(c).off(m.ev_types.end))
            }
            function j(g) {
                g = g.originalEvent || g || b.event;
                m.newPosX = f(g).x - q.offsetX;
                m.newPosY = f(g).y - q.offsetY;
                m.newRelativeX = m.newPosX - q.relativePos;
                "function" === typeof m.options.startDragging && (!0 !== q.dragging && 0 !== m.newRelativeX) && (q.dragging = !0, m.options.startDragging.apply(m, [m.$elem]));
                if ((8 < m.newRelativeX || -8 > m.newRelativeX) && !0 === m.browser.isTouch) void 0 !== g.preventDefault ? g.preventDefault() : g.returnValue = !1,
                q.sliding = !0; (10 < m.newPosY || -10 > m.newPosY) && !1 === q.sliding && a(c).off("touchmove.owl");
                m.newPosX = Math.max(Math.min(m.newPosX, m.newRelativeX / 5), m.maximumPixels + m.newRelativeX / 5); ! 0 === m.browser.support3d ? m.transition3d(m.newPosX) : m.css2move(m.newPosX)
            }
            function k(f) {
                var f = f.originalEvent || f || b.event,
                c;
                f.target = f.target || f.srcElement;
                q.dragging = !1; ! 0 !== m.browser.isTouch && m.$owlWrapper.removeClass("grabbing");
                m.dragDirection = 0 > m.newRelativeX ? m.owl.dragDirection = "left": m.owl.dragDirection = "right";
                0 !== m.newRelativeX && (c = m.getNewPosition(), m.goTo(c, !1, "drag"), q.targetElement === f.target && !0 !== m.browser.isTouch && (a(f.target).on("click.disable",
                function(b) {
                    b.stopImmediatePropagation();
                    b.stopPropagation();
                    b.preventDefault();
                    a(b.target).off("click.disable")
                }), f = a._data(f.target, "events").click, c = f.pop(), f.splice(0, 0, c)));
                g("off")
            }
            var m = this,
            q = {
                offsetX: 0,
                offsetY: 0,
                baseElWidth: 0,
                relativePos: 0,
                position: null,
                minSwipe: null,
                maxSwipe: null,
                sliding: null,
                dargging: null,
                targetElement: null
            };
            m.isCssFinish = !0;
            m.$elem.on(m.ev_types.start, ".owl-wrapper",
            function(c) {
                var c = c.originalEvent || c || b.event,
                j;
                if (3 === c.which) return ! 1;
                if (! (m.itemsAmount <= m.options.items)) {
                    if (!1 === m.isCssFinish && !m.options.dragBeforeAnimFinish || !1 === m.isCss3Finish && !m.options.dragBeforeAnimFinish) return ! 1; ! 1 !== m.options.autoPlay && b.clearInterval(m.autoPlayInterval); ! 0 !== m.browser.isTouch && !m.$owlWrapper.hasClass("grabbing") && m.$owlWrapper.addClass("grabbing");
                    m.newPosX = 0;
                    m.newRelativeX = 0;
                    a(this).css(m.removeTransition());
                    j = a(this).position();
                    q.relativePos = j.left;
                    q.offsetX = f(c).x - j.left;
                    q.offsetY = f(c).y - j.top;
                    g("on");
                    q.sliding = !1;
                    q.targetElement = c.target || c.srcElement
                }
            })
        },
        getNewPosition: function() {
            var a = this.closestItem();
            a > this.maximumItem ? a = this.currentItem = this.maximumItem: 0 <= this.newPosX && (this.currentItem = a = 0);
            return a
        },
        closestItem: function() {
            var b = this,
            c = !0 === b.options.scrollPerPage ? b.pagesInArray: b.positionsInArray,
            g = b.newPosX,
            k = null;
            a.each(c,
            function(m, q) {
                if (g - b.itemWidth / 20 > c[m + 1] && g - b.itemWidth / 20 < q && "left" === b.moveDirection()) k = q,
                b.currentItem = !0 === b.options.scrollPerPage ? a.inArray(k, b.positionsInArray) : m;
                else if (g + b.itemWidth / 20 < q && g + b.itemWidth / 20 > (c[m + 1] || c[m] - b.itemWidth) && "right" === b.moveDirection()) ! 0 === b.options.scrollPerPage ? (k = c[m + 1] || c[c.length - 1], b.currentItem = a.inArray(k, b.positionsInArray)) : (k = c[m + 1], b.currentItem = m + 1)
            });
            return b.currentItem
        },
        moveDirection: function() {
            var a;
            0 > this.newRelativeX ? (a = "right", this.playDirection = "next") : (a = "left", this.playDirection = "prev");
            return a
        },
        customEvents: function() {
            var a = this;
            a.$elem.on("owl.next",
            function() {
                a.next()
            });
            a.$elem.on("owl.prev",
            function() {
                a.prev()
            });
            a.$elem.on("owl.play",
            function(b, c) {
                a.options.autoPlay = c;
                a.play();
                a.hoverStatus = "play"
            });
            a.$elem.on("owl.stop",
            function() {
                a.stop();
                a.hoverStatus = "stop"
            });
            a.$elem.on("owl.goTo",
            function(b, c) {
                a.goTo(c)
            });
            a.$elem.on("owl.jumpTo",
            function(b, c) {
                a.jumpTo(c)
            })
        },
        stopOnHover: function() {
            var a = this; ! 0 === a.options.stopOnHover && (!0 !== a.browser.isTouch && !1 !== a.options.autoPlay) && (a.$elem.on("mouseover",
            function() {
                a.stop()
            }), a.$elem.on("mouseout",
            function() {
                "stop" !== a.hoverStatus && a.play()
            }))
        },
        lazyLoad: function() {
            var b = this,
            c, g, k, m;
            if (!1 === b.options.lazyLoad) return ! 1;
            for (c = 0; c < b.itemsAmount; c += 1) g = a(b.$owlItems[c]),
            "loaded" !== g.data("owl-loaded") && (k = g.data("owl-item"), $lazyOwls = g.find(".lazyOwl"), $lazyOwls.each(function(c, h) {
                var p = a(h);
                "string" !== typeof p.data("src") ? g.data("owl-loaded", "loaded") : (void 0 === g.data("owl-loaded") && (p.hide(), g.addClass("loading").data("owl-loaded", "checked")), (m = !0 === b.options.lazyFollow ? k >= b.currentItem: !0) && (k < b.currentItem + b.options.items && p.length) && b.lazyPreload(g, p))
            }))
        },
        lazyPreload: function(a, c) {
            function g() {
                a.data("owl-loaded", "loaded").removeClass("loading");
                c.removeAttr("data-src");
                "fade" === m.options.lazyEffect ? c.fadeIn(400) : c.show();
                "function" === typeof m.options.afterLazyLoad && m.options.afterLazyLoad.apply(this, [m.$elem])
            }
            function k() {
                q += 1;
                m.completeImg(c.get(0)) || !0 === r ? g() : 100 >= q ? b.setTimeout(k, 100) : g()
            }
            var m = this,
            q = 0,
            r;
            "DIV" === c.prop("tagName") ? (c.css("background-image", "url(" + c.data("src") + ")"), r = !0) : c[0].src = c.data("src");
            k()
        },
        autoHeight: function() {
            function f() {
                var f = a(g.$owlItems[g.currentItem]).height();
                g.wrapperOuter.css("height", f + "px");
                g.wrapperOuter.hasClass("autoHeight") || b.setTimeout(function() {
                    g.wrapperOuter.addClass("autoHeight")
                },
                0)
            }
            function c() {
                m += 1;
                g.completeImg(k.get(0)) ? f() : 100 >= m ? b.setTimeout(c, 100) : g.wrapperOuter.css("height", "")
            }
            var g = this,
            k = a(g.$owlItems[g.currentItem]).find("img"),
            m;
            void 0 !== k.get(0) ? (m = 0, c()) : f()
        },
        completeImg: function(a) {
            return ! a.complete || "undefined" !== typeof a.naturalWidth && 0 === a.naturalWidth ? !1 : !0
        },
        onVisibleItems: function() {
            var b; ! 0 === this.options.addClassActive && this.$owlItems.removeClass("active");
            this.visibleItems = [];
            for (b = this.currentItem; b < this.currentItem + this.options.items; b += 1) this.visibleItems.push(b),
            !0 === this.options.addClassActive && a(this.$owlItems[b]).addClass("active");
            this.owl.visibleItems = this.visibleItems
        },
        transitionTypes: function(a) {
            this.outClass = "owl-" + a + "-out";
            this.inClass = "owl-" + a + "-in"
        },
        singleItemTransition: function() {
            var a = this,
            b = a.outClass,
            c = a.inClass,
            g = a.$owlItems.eq(a.currentItem),
            m = a.$owlItems.eq(a.prevItem),
            q = Math.abs(a.positionsInArray[a.currentItem]) + a.positionsInArray[a.prevItem],
            r = Math.abs(a.positionsInArray[a.currentItem]) + a.itemWidth / 2;
            a.isTransition = !0;
            a.$owlWrapper.addClass("owl-origin").css({
                "-webkit-transform-origin": r + "px",
                "-moz-perspective-origin": r + "px",
                "perspective-origin": r + "px"
            });
            m.css({
                position: "relative",
                left: q + "px"
            }).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",
            function() {
                a.endPrev = !0;
                m.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");
                a.clearTransStyle(m, b)
            });
            g.addClass(c).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",
            function() {
                a.endCurrent = !0;
                g.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");
                a.clearTransStyle(g, c)
            })
        },
        clearTransStyle: function(a, b) {
            a.css({
                position: "",
                left: ""
            }).removeClass(b);
            this.endPrev && this.endCurrent && (this.$owlWrapper.removeClass("owl-origin"), this.isTransition = this.endCurrent = this.endPrev = !1)
        },
        owlStatus: function() {
            this.owl = {
                userOptions: this.userOptions,
                baseElement: this.$elem,
                userItems: this.$userItems,
                owlItems: this.$owlItems,
                currentItem: this.currentItem,
                prevItem: this.prevItem,
                visibleItems: this.visibleItems,
                isTouch: this.browser.isTouch,
                browser: this.browser,
                dragDirection: this.dragDirection
            }
        },
        clearEvents: function() {
            this.$elem.off(".owl owl mousedown.disableTextSelect");
            a(c).off(".owl owl");
            a(b).off("resize", this.resizer)
        },
        unWrap: function() {
            0 !== this.$elem.children().length && (this.$owlWrapper.unwrap(), this.$userItems.unwrap().unwrap(), this.owlControls && this.owlControls.remove());
            this.clearEvents();
            this.$elem.attr("style", this.$elem.data("owl-originalStyles") || "").attr("class", this.$elem.data("owl-originalClasses"))
        },
        destroy: function() {
            this.stop();
            b.clearInterval(this.checkVisible);
            this.unWrap();
            this.$elem.removeData()
        },
        reinit: function(b) {
            b = a.extend({},
            this.userOptions, b);
            this.unWrap();
            this.init(b, this.$elem)
        },
        addItem: function(a, b) {
            var c;
            if (!a) return ! 1;
            if (0 === this.$elem.children().length) return this.$elem.append(a),
            this.setVars(),
            !1;
            this.unWrap();
            c = void 0 === b || -1 === b ? -1 : b;
            c >= this.$userItems.length || -1 === c ? this.$userItems.eq( - 1).after(a) : this.$userItems.eq(c).before(a);
            this.setVars()
        },
        removeItem: function(a) {
            if (0 === this.$elem.children().length) return ! 1;
            a = void 0 === a || -1 === a ? -1 : a;
            this.unWrap();
            this.$userItems.eq(a).remove();
            this.setVars()
        }
    };
    a.fn.owlCarousel = function(b) {
        return this.each(function() {
            if (!0 === a(this).data("owl-init")) return ! 1;
            a(this).data("owl-init", !0);
            var c = Object.create(g);
            c.init(b, this);
            a.data(this, "owlCarousel", c)
        })
    };
    a.fn.owlCarousel.options = {
        items: 5,
        itemsCustom: !1,
        itemsDesktop: [1199, 4],
        itemsDesktopSmall: [979, 3],
        itemsTablet: [768, 2],
        itemsTabletSmall: !1,
        itemsMobile: [479, 1],
        singleItem: !1,
        itemsScaleUp: !1,
        slideSpeed: 200,
        paginationSpeed: 800,
        rewindSpeed: 1E3,
        autoPlay: !1,
        stopOnHover: !1,
        navigation: !1,
        navigationText: ["prev", "next"],
        rewindNav: !0,
        scrollPerPage: !1,
        pagination: !0,
        paginationNumbers: !1,
        responsive: !0,
        responsiveRefreshRate: 200,
        responsiveBaseWidth: b,
        baseClass: "owl-carousel",
        theme: "owl-theme",
        lazyLoad: !1,
        lazyFollow: !0,
        lazyEffect: "fade",
        autoHeight: !1,
        jsonPath: !1,
        jsonSuccess: !1,
        dragBeforeAnimFinish: !0,
        mouseDrag: !0,
        touchDrag: !0,
        addClassActive: !1,
        transitionStyle: !1,
        beforeUpdate: !1,
        afterUpdate: !1,
        beforeInit: !1,
        afterInit: !1,
        beforeMove: !1,
        afterMove: !1,
        afterAction: !1,
        startDragging: !1,
        afterLazyLoad: !1
    }
})(jQuery, window, document); (function(a) {
    "function" === typeof define && define.amd ? "undefined" !== typeof jQuery ? define(["jquery"], a) : define([], a) : "undefined" !== typeof jQuery ? a(jQuery) : a()
})(function(a, b) {
    function c(a) {
        a = a.tagName;
        return "undefined" !== typeof a ? k[a.toLowerCase()] : a
    }
    function g(a, b, f, c) {
        var j = a.shift();
        if (j) {
            var k = b[f] = b[f] || [];
            if ("]" == j) if (h(k))"" != c && k.push(c);
            else if ("object" == typeof k) {
                b = a = k;
                f = [];
                for (prop in b) b.hasOwnProperty(prop) && f.push(prop);
                a[f.length] = c
            } else b[f] = [b[f], c];
            else {~j.indexOf("]") && (j = j.substr(0, j.length - 1));
                if (!p.test(j) && h(k)) if (0 == b[f].length) k = b[f] = {};
                else {
                    var k = {},
                    m;
                    for (m in b[f]) k[m] = b[f][m];
                    b[f] = k
                }
                g(a, k, j, c)
            }
        } else h(b[f]) ? b[f].push(c) : b[f] = "object" == typeof b[f] ? c: "undefined" == typeof b[f] ? c: [b[f], c]
    }
    function f(a) {
        for (var a = String(a).split(/&|;/), f = function(a, f) {
            try {
                f = decodeURIComponent(f.replace(/\+/g, " "))
            } catch(c) {}
            var j = f.indexOf("="),
            k;
            a: {
                for (var l = f.length,
                m, q = 0; q < l; ++q) if (m = f[q], "]" == m && (k = !1), "[" == m && (k = !0), "=" == m && !k) {
                    k = q;
                    break a
                }
                k = void 0
            }
            l = f.substr(0, k || j);
            k = f.substr(k || j, f.length);
            k = k.substr(k.indexOf("=") + 1, k.length);
            "" == l && (l = f, k = "");
            j = l;
            l = k;
            if (~j.indexOf("]")) {
                var r = j.split("[");
                g(r, a, "base", l)
            } else {
                if (!p.test(j) && h(a.base)) {
                    k = {};
                    for (r in a.base) k[r] = a.base[r];
                    a.base = k
                }
                r = a.base;
                k = r[j];
                b === k ? r[j] = l: h(k) ? k.push(l) : r[j] = [k, l]
            }
            return a
        },
        c = 0, j = a.length >> 0, k = {
            base: {}
        }; c < j;) c in a && (k = f.call(b, k, a[c], c, a)),
        ++c;
        return k.base
    }
    function h(a) {
        return "[object Array]" === Object.prototype.toString.call(a)
    }
    function j(a, c) {
        1 === arguments.length && !0 === a && (c = !0, a = b);
        for (var a = a || window.location.toString(), g = c || !1, h = decodeURI(a), g = r[g ? "strict": "loose"].exec(h), h = {
            attr: {},
            param: {},
            seg: {}
        },
        j = 14; j--;) h.attr[m[j]] = g[j] || "";
        h.param.query = f(h.attr.query);
        h.param.fragment = f(h.attr.fragment);
        h.seg.path = h.attr.path.replace(/^\/+|\/+$/g, "").split("/");
        h.seg.fragment = h.attr.fragment.replace(/^\/+|\/+$/g, "").split("/");
        h.attr.base = h.attr.host ? (h.attr.protocol ? h.attr.protocol + "://" + h.attr.host: h.attr.host) + (h.attr.port ? ":" + h.attr.port: "") : "";
        return {
            data: h,
            attr: function(a) {
                a = q[a] || a;
                return "undefined" !== typeof a ? this.data.attr[a] : this.data.attr
            },
            param: function(a) {
                return "undefined" !== typeof a ? this.data.param.query[a] : this.data.param.query
            },
            fparam: function(a) {
                return "undefined" !== typeof a ? this.data.param.fragment[a] : this.data.param.fragment
            },
            segment: function(a) {
                if ("undefined" === typeof a) return this.data.seg.path;
                a = 0 > a ? this.data.seg.path.length + a: a - 1;
                return this.data.seg.path[a]
            },
            fsegment: function(a) {
                if ("undefined" === typeof a) return this.data.seg.fragment;
                a = 0 > a ? this.data.seg.fragment.length + a: a - 1;
                return this.data.seg.fragment[a]
            }
        }
    }
    var k = {
        a: "href",
        img: "src",
        form: "action",
        base: "href",
        script: "src",
        iframe: "src",
        link: "href"
    },
    m = "source protocol authority userInfo user password host port relative path directory file query fragment".split(" "),
    q = {
        anchor: "fragment"
    },
    r = {
        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
    },
    p = /^[0-9]+$/;
    "undefined" !== typeof a ? (a.fn.url = function(b) {
        var f = "";
        this.length && (f = a(this).attr(c(this[0])) || "");
        return j(f, b)
    },
    a.url = j) : window.purl = j
});
/*
 jQuery DateTimePicker plugin v2.3.4
 @homepage http://xdsoft.net/jqplugins/datetimepicker/
 (c) 2014, Chupurnov Valeriy.
*/
(function(a) {
    var b = {
        i18n: {
            ar: {
                months: "\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a;\u0634\u0628\u0627\u0637;\u0622\u0630\u0627\u0631;\u0646\u064a\u0633\u0627\u0646;\u0645\u0627\u064a\u0648;\u062d\u0632\u064a\u0631\u0627\u0646;\u062a\u0645\u0648\u0632;\u0622\u0628;\u0623\u064a\u0644\u0648\u0644;\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644;\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a;\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644".split(";"),
                dayOfWeek: "\u0646\u062b\u0639\u062e\u062c\u0633\u062d".split("")
            },
            ro: {
                months: "ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),
                dayOfWeek: "l ma mi j v s d".split(" ")
            },
            id: {
                months: "Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),
                dayOfWeek: "Sen Sel Rab Kam Jum Sab Min".split(" ")
            },
            bg: {
                months: "\u042f\u043d\u0443\u0430\u0440\u0438 \u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438 \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0438\u043b \u041c\u0430\u0439 \u042e\u043d\u0438 \u042e\u043b\u0438 \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438 \u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438 \u041d\u043e\u0435\u043c\u0432\u0440\u0438 \u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split(" "),
                dayOfWeek: "\u041d\u0434 \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")
            },
            fa: {
                months: "\u0641\u0631\u0648\u0631\u062f\u06cc\u0646 \u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a \u062e\u0631\u062f\u0627\u062f \u062a\u06cc\u0631 \u0645\u0631\u062f\u0627\u062f \u0634\u0647\u0631\u06cc\u0648\u0631 \u0645\u0647\u0631 \u0622\u0628\u0627\u0646 \u0622\u0630\u0631 \u062f\u06cc \u0628\u0647\u0645\u0646 \u0627\u0633\u0641\u0646\u062f".split(" "),
                dayOfWeek: "\u06cc\u06a9\u0634\u0646\u0628\u0647;\u062f\u0648\u0634\u0646\u0628\u0647;\u0633\u0647 \u0634\u0646\u0628\u0647;\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647;\u067e\u0646\u062c\u0634\u0646\u0628\u0647;\u062c\u0645\u0639\u0647;\u0634\u0646\u0628\u0647".split(";")
            },
            ru: {
                months: "\u042f\u043d\u0432\u0430\u0440\u044c \u0424\u0435\u0432\u0440\u0430\u043b\u044c \u041c\u0430\u0440\u0442 \u0410\u043f\u0440\u0435\u043b\u044c \u041c\u0430\u0439 \u0418\u044e\u043d\u044c \u0418\u044e\u043b\u044c \u0410\u0432\u0433\u0443\u0441\u0442 \u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c \u041e\u043a\u0442\u044f\u0431\u0440\u044c \u041d\u043e\u044f\u0431\u0440\u044c \u0414\u0435\u043a\u0430\u0431\u0440\u044c".split(" "),
                dayOfWeek: "\u0412\u0441\u043a \u041f\u043d \u0412\u0442 \u0421\u0440 \u0427\u0442 \u041f\u0442 \u0421\u0431".split(" ")
            },
            uk: {
                months: "\u0421\u0456\u0447\u0435\u043d\u044c \u041b\u044e\u0442\u0438\u0439 \u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c \u041a\u0432\u0456\u0442\u0435\u043d\u044c \u0422\u0440\u0430\u0432\u0435\u043d\u044c \u0427\u0435\u0440\u0432\u0435\u043d\u044c \u041b\u0438\u043f\u0435\u043d\u044c \u0421\u0435\u0440\u043f\u0435\u043d\u044c \u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c \u0416\u043e\u0432\u0442\u0435\u043d\u044c \u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434 \u0413\u0440\u0443\u0434\u0435\u043d\u044c".split(" "),
                dayOfWeek: "\u041d\u0434\u043b \u041f\u043d\u0434 \u0412\u0442\u0440 \u0421\u0440\u0434 \u0427\u0442\u0432 \u041f\u0442\u043d \u0421\u0431\u0442".split(" ")
            },
            en: {
                months: "January February March April May June July August September October November December".split(" "),
                dayOfWeek: "Sun Mon Tue Wed Thu Fri Sat".split(" ")
            },
            el: {
                months: "\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2 \u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2 \u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2 \u039c\u03ac\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2 \u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2 \u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2 \u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2 \u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2 \u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split(" "),
                dayOfWeek: "\u039a\u03c5\u03c1 \u0394\u03b5\u03c5 \u03a4\u03c1\u03b9 \u03a4\u03b5\u03c4 \u03a0\u03b5\u03bc \u03a0\u03b1\u03c1 \u03a3\u03b1\u03b2".split(" ")
            },
            de: {
                months: "Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),
                dayOfWeek: "So Mo Di Mi Do Fr Sa".split(" ")
            },
            nl: {
                months: "januari februari maart april mei juni juli augustus september oktober november december".split(" "),
                dayOfWeek: "zo ma di wo do vr za".split(" ")
            },
            tr: {
                months: "Ocak \u015eubat Mart Nisan May\u0131s Haziran Temmuz A\u011fustos Eyl\u00fcl Ekim Kas\u0131m Aral\u0131k".split(" "),
                dayOfWeek: "Paz Pts Sal \u00c7ar Per Cum Cts".split(" ")
            },
            fr: {
                months: "Janvier F\u00e9vrier Mars Avril Mai Juin Juillet Ao\u00fbt Septembre Octobre Novembre D\u00e9cembre".split(" "),
                dayOfWeek: "Dim Lun Mar Mer Jeu Ven Sam".split(" ")
            },
            es: {
                months: "Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),
                dayOfWeek: "Dom Lun Mar Mi\u00e9 Jue Vie S\u00e1b".split(" ")
            },
            th: {
                months: "\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21 \u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c \u0e21\u0e35\u0e19\u0e32\u0e04\u0e21 \u0e40\u0e21\u0e29\u0e32\u0e22\u0e19 \u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21 \u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19 \u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21 \u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21 \u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19 \u0e15\u0e38\u0e25\u0e32\u0e04\u0e21 \u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19 \u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split(" "),
                dayOfWeek: "\u0e2d\u0e32. \u0e08. \u0e2d. \u0e1e. \u0e1e\u0e24. \u0e28. \u0e2a.".split(" ")
            },
            pl: {
                months: "stycze\u0144 luty marzec kwiecie\u0144 maj czerwiec lipiec sierpie\u0144 wrzesie\u0144 pa\u017adziernik listopad grudzie\u0144".split(" "),
                dayOfWeek: "nd pn wt \u015br cz pt sb".split(" ")
            },
            pt: {
                months: "Janeiro Fevereiro Mar\u00e7o Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),
                dayOfWeek: "Dom Seg Ter Qua Qui Sex Sab".split(" ")
            },
            ch: {
                months: "\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),
                dayOfWeek: "\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")
            },
            se: {
                months: "Januari Februari Mars April Maj Juni Juli Augusti September Oktober November December".split(" "),
                dayOfWeek: "S\u00f6n M\u00e5n Tis Ons Tor Fre L\u00f6r".split(" ")
            },
            kr: {
                months: "1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),
                dayOfWeek: "\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("")
            },
            it: {
                months: "Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),
                dayOfWeek: "Dom Lun Mar Mer Gio Ven Sab".split(" ")
            },
            da: {
                months: "January Februar Marts April Maj Juni July August September Oktober November December".split(" "),
                dayOfWeek: "S\u00f8n Man Tir Ons Tor Fre L\u00f8r".split(" ")
            },
            no: {
                months: "Januar Februar Mars April Mai Juni Juli August September Oktober November Desember".split(" "),
                dayOfWeek: "S\u00f8n Man Tir Ons Tor Fre L\u00f8r".split(" ")
            },
            ja: {
                months: "1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
                dayOfWeek: "\u65e5\u6708\u706b\u6c34\u6728\u91d1\u571f".split("")
            },
            vi: {
                months: "Th\u00e1ng 1;Th\u00e1ng 2;Th\u00e1ng 3;Th\u00e1ng 4;Th\u00e1ng 5;Th\u00e1ng 6;Th\u00e1ng 7;Th\u00e1ng 8;Th\u00e1ng 9;Th\u00e1ng 10;Th\u00e1ng 11;Th\u00e1ng 12".split(";"),
                dayOfWeek: "CN T2 T3 T4 T5 T6 T7".split(" ")
            },
            sl: {
                months: "Januar Februar Marec April Maj Junij Julij Avgust September Oktober November December".split(" "),
                dayOfWeek: "Ned Pon Tor Sre \u010cet Pet Sob".split(" ")
            },
            cs: {
                months: "Leden \u00danor B\u0159ezen Duben Kv\u011bten \u010cerven \u010cervenec Srpen Z\u00e1\u0159\u00ed \u0158\u00edjen Listopad Prosinec".split(" "),
                dayOfWeek: "Ne Po \u00dat St \u010ct P\u00e1 So".split(" ")
            },
            hu: {
                months: "Janu\u00e1r Febru\u00e1r M\u00e1rcius \u00c1prilis M\u00e1jus J\u00fanius J\u00falius Augusztus Szeptember Okt\u00f3ber November December".split(" "),
                dayOfWeek: "Va H\u00e9 Ke Sze Cs P\u00e9 Szo".split(" ")
            }
        },
        value: "",
        lang: "en",
        format: "Y/m/d H:i",
        formatTime: "H:i",
        formatDate: "Y/m/d",
        startDate: !1,
        step: 60,
        monthChangeSpinner: !0,
        closeOnDateSelect: !1,
        closeOnWithoutClick: !0,
        closeOnInputClick: !0,
        timepicker: !0,
        datepicker: !0,
        weeks: !1,
        defaultTime: !1,
        defaultDate: !1,
        minDate: !1,
        maxDate: !1,
        minTime: !1,
        maxTime: !1,
        allowTimes: [],
        opened: !1,
        initTime: !0,
        inline: !1,
        onSelectDate: function() {},
        onSelectTime: function() {},
        onChangeMonth: function() {},
        onChangeDateTime: function() {},
        onShow: function() {},
        onClose: function() {},
        onGenerate: function() {},
        withoutCopyright: !0,
        inverseButton: !1,
        hours12: !1,
        next: "xdsoft_next",
        prev: "xdsoft_prev",
        dayOfWeekStart: 0,
        timeHeightInTimePicker: 25,
        timepickerScrollbar: !0,
        todayButton: !0,
        defaultSelect: !0,
        scrollMonth: !0,
        scrollTime: !0,
        scrollInput: !0,
        lazyInit: !1,
        mask: !1,
        validateOnBlur: !0,
        allowBlank: !0,
        yearStart: 1950,
        yearEnd: 2050,
        style: "",
        id: "",
        fixed: !1,
        roundTime: "round",
        className: "",
        weekends: [],
        yearOffset: 0,
        beforeShowDay: null
    };
    Array.prototype.indexOf || (Array.prototype.indexOf = function(a, b) {
        for (var f = b || 0,
        h = this.length; f < h; f++) if (this[f] === a) return f;
        return - 1
    });
    Date.prototype.countDaysInMonth = function() {
        return (new Date(this.getFullYear(), this.getMonth() + 1, 0)).getDate()
    };
    a.fn.xdsoftScroller = function(b) {
        return this.each(function() {
            var g = a(this);
            if (!a(this).hasClass("xdsoft_scroller_box")) {
                var f = function(a) {
                    var b = {
                        x: 0,
                        y: 0
                    };
                    if ("touchstart" == a.type || "touchmove" == a.type || "touchend" == a.type || "touchcancel" == a.type) a = a.originalEvent.touches[0] || a.originalEvent.changedTouches[0],
                    b.x = a.pageX,
                    b.y = a.pageY;
                    else if ("mousedown" == a.type || "mouseup" == a.type || "mousemove" == a.type || "mouseover" == a.type || "mouseout" == a.type || "mouseenter" == a.type || "mouseleave" == a.type) b.x = a.pageX,
                    b.y = a.pageY;
                    return b
                },
                h = 0,
                j = g.children().eq(0),
                k = g[0].clientHeight,
                m = j[0].offsetHeight,
                q = a('<div class="xdsoft_scrollbar"></div>'),
                r = a('<div class="xdsoft_scroller"></div>'),
                p = 100,
                l = !1;
                q.append(r);
                g.addClass("xdsoft_scroller_box").append(q);
                r.on("mousedown.xdsoft_scroller",
                function(f) {
                    k || g.trigger("resize_scroll.xdsoft_scroller", [b]);
                    var j = f.pageY,
                    l = parseInt(r.css("margin-top")),
                    m = q[0].offsetHeight;
                    a(document.body).addClass("xdsoft_noselect");
                    a([document.body, window]).on("mouseup.xdsoft_scroller",
                    function C() {
                        a([document.body, window]).off("mouseup.xdsoft_scroller", C).off("mousemove.xdsoft_scroller", h).removeClass("xdsoft_noselect")
                    });
                    a(document.body).on("mousemove.xdsoft_scroller", h = function(a) {
                        a = a.pageY - j + l;
                        0 > a && (a = 0);
                        a + r[0].offsetHeight > m && (a = m - r[0].offsetHeight);
                        g.trigger("scroll_element.xdsoft_scroller", [p ? a / p: 0])
                    })
                });
                g.on("scroll_element.xdsoft_scroller",
                function(a, b) {
                    k || g.trigger("resize_scroll.xdsoft_scroller", [b, !0]);
                    b = 1 < b ? 1 : 0 > b || isNaN(b) ? 0 : b;
                    r.css("margin-top", p * b);
                    j.css("marginTop", -parseInt((m - k) * b))
                }).on("resize_scroll.xdsoft_scroller",
                function(a, b, f) {
                    k = g[0].clientHeight;
                    m = j[0].offsetHeight;
                    var a = k / m,
                    c = a * q[0].offsetHeight;
                    1 < a ? r.hide() : (r.show(), r.css("height", parseInt(10 < c ? c: 10)), p = q[0].offsetHeight - r[0].offsetHeight, !0 !== f && g.trigger("scroll_element.xdsoft_scroller", [b ? b: Math.abs(parseInt(j.css("marginTop"))) / (m - k)]))
                });
                g.mousewheel && g.mousewheel(function(a, b) {
                    var f = Math.abs(parseInt(j.css("marginTop")));
                    g.trigger("scroll_element.xdsoft_scroller", [(f - 20 * b) / (m - k)]);
                    a.stopPropagation();
                    return ! 1
                });
                g.on("touchstart",
                function(a) {
                    l = f(a)
                });
                g.on("touchmove",
                function(a) {
                    if (l) {
                        var b = f(a),
                        c = Math.abs(parseInt(j.css("marginTop")));
                        g.trigger("scroll_element.xdsoft_scroller", [(c - (b.y - l.y)) / (m - k)]);
                        a.stopPropagation();
                        a.preventDefault();
                        l = f(a)
                    }
                });
                g.on("touchend touchcancel",
                function() {
                    l = !1
                })
            }
            g.trigger("resize_scroll.xdsoft_scroller", [b])
        })
    };
    a.fn.datetimepicker = function(c) {
        var g = !1,
        f = a.isPlainObject(c) || !c ? a.extend(!0, {},
        b, c) : a.extend({},
        b),
        h = 0,
        j = function(b) {
            function c() {
                var a = !1;
                f.startDate ? a = y.strToDate(f.startDate) : (a = f.value ? f.value: b && b.val && b.val() ? b.val() : "") ? a = y.strToDateTime(a) : f.defaultDate && (a = y.strToDate(f.defaultDate));
                a && y.isValidDate(a) ? h.data("changed", !0) : a = "";
                return a ? a: 0
            }
            var h = a("<div " + (f.id ? 'id="' + f.id + '"': "") + " " + (f.style ? 'style="' + f.style + '"': "") + ' class="xdsoft_datetimepicker xdsoft_noselect ' + (f.weeks ? " xdsoft_showweeks": "") + f.className + '"></div>'),
            j = a('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),
            p = a('<div class="xdsoft_datepicker active"></div>'),
            l = a('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),
            z = a('<div class="xdsoft_calendar"></div>'),
            F = a('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),
            w = F.find(".xdsoft_time_box").eq(0),
            J = a('<div class="xdsoft_time_variant"></div>'),
            u = a('<div class="xdsoft_scrollbar"></div>');
            a('<div class="xdsoft_scroller"></div>');
            var C = a('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),
            D = a('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');
            l.find(".xdsoft_month span").after(C);
            l.find(".xdsoft_year span").after(D);
            l.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",
            function(b) {
                l.find(".xdsoft_select").hide();
                var f = a(this).find(".xdsoft_select").eq(0),
                c = 0,
                g = 0;
                y.currentTime && (c = y.currentTime[a(this).hasClass("xdsoft_month") ? "getMonth": "getFullYear"]());
                f.show();
                for (var h = f.find("div.xdsoft_option"), j = 0; j < h.length && h.eq(j).data("value") != c; j++) g += h[0].offsetHeight;
                f.xdsoftScroller(g / (f.children()[0].offsetHeight - f[0].clientHeight));
                b.stopPropagation();
                return ! 1
            });
            l.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",
            function(a) {
                a.stopPropagation();
                a.preventDefault()
            }).on("mousedown.xdsoft", ".xdsoft_option",
            function() {
                if (y && y.currentTime) y.currentTime[a(this).parent().parent().hasClass("xdsoft_monthselect") ? "setMonth": "setFullYear"](a(this).data("value"));
                a(this).parent().parent().hide();
                h.trigger("xchange.xdsoft");
                f.onChangeMonth && f.onChangeMonth.call && f.onChangeMonth.call(h, y.currentTime, h.data("input"))
            });
            h.setOptions = function(c) {
                f = a.extend(!0, {},
                f, c);
                c.allowTimes && (a.isArray(c.allowTimes) && c.allowTimes.length) && (f.allowTimes = a.extend(!0, [], c.allowTimes));
                c.weekends && (a.isArray(c.weekends) && c.weekends.length) && (f.weekends = a.extend(!0, [], c.weekends)); (f.open || f.opened) && !f.inline && b.trigger("open.xdsoft");
                f.inline && (x = !0, h.addClass("xdsoft_inline"), b.after(h).hide());
                f.inverseButton && (f.next = "xdsoft_prev", f.prev = "xdsoft_next");
                f.datepicker ? p.addClass("active") : p.removeClass("active");
                f.timepicker ? F.addClass("active") : F.removeClass("active");
                f.value && (b && b.val && b.val(f.value), y.setCurrentTime(f.value));
                f.dayOfWeekStart = isNaN(f.dayOfWeekStart) ? 0 : parseInt(f.dayOfWeekStart) % 7;
                f.timepickerScrollbar || u.hide();
                f.minDate && /^-(.*)$/.test(f.minDate) && (f.minDate = y.strToDateTime(f.minDate).dateFormat(f.formatDate));
                f.maxDate && /^\+(.*)$/.test(f.maxDate) && (f.maxDate = y.strToDateTime(f.maxDate).dateFormat(f.formatDate));
                l.find(".xdsoft_today_button").css("visibility", !f.todayButton ? "hidden": "visible");
                if (f.mask) {
                    var j = function(a, b) {
                        var f = a.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g, "\\$1").replace(/_/g, "{digit+}").replace(/([0-9]{1})/g, "{digit$1}").replace(/\{digit([0-9]{1})\}/g, "[0-$1_]{1}").replace(/\{digit[\+]\}/g, "[0-9_]{1}");
                        return RegExp(f).test(b)
                    };
                    b.off("keydown.xdsoft");
                    switch (!0) {
                    case ! 0 === f.mask: f.mask = f.format.replace(/Y/g, "9999").replace(/F/g, "9999").replace(/m/g, "19").replace(/d/g, "39").replace(/H/g, "29").replace(/i/g, "59").replace(/s/g, "59");
                    case "string" == a.type(f.mask) : j(f.mask, b.val()) || b.val(f.mask.replace(/[0-9]/g, "_")),
                        b.on("keydown.xdsoft",
                        function(c) {
                            var h = this.value,
                            l = c.which;
                            switch (!0) {
                            case 48 <= l && 57 >= l || 96 <= l && 105 >= l || 8 == l || 46 == l: var m;
                                a: {
                                    try {
                                        if (document.selection && document.selection.createRange) {
                                            m = document.selection.createRange().getBookmark().charCodeAt(2) - 2;
                                            break a
                                        } else if (this.setSelectionRange) {
                                            m = this.selectionStart;
                                            break a
                                        }
                                    } catch(p) {
                                        m = 0;
                                        break a
                                    }
                                    m = void 0
                                }
                                var u = 8 != l && 46 != l ? String.fromCharCode(96 <= l && 105 >= l ? l - 48 : l) : "_";
                                if ((8 == l || 46 == l) && m) m--,
                                u = "_";
                                for (;
                                /[^0-9_]/.test(f.mask.substr(m, 1)) && m < f.mask.length && 0 < m;) m += 8 == l || 46 == l ? -1 : 1;
                                h = h.substr(0, m) + u + h.substr(m + 1);
                                if ("" == a.trim(h)) h = f.mask.replace(/[0-9]/g, "_");
                                else if (m == f.mask.length) break;
                                for (m += 8 == l || 46 == l ? 0 : 1;
                                /[^0-9_]/.test(f.mask.substr(m, 1)) && m < f.mask.length && 0 < m;) m += 8 == l || 46 == l ? -1 : 1;
                                if (j(f.mask, h)) {
                                    if (this.value = h, h = this, h = "string" == typeof h || h instanceof String ? document.getElementById(h) : h) h.createTextRange ? (h = h.createTextRange(), h.collapse(!0), h.moveEnd(m), h.moveStart(m), h.select()) : h.setSelectionRange && h.setSelectionRange(m, m)
                                } else "" == a.trim(h) ? this.value = f.mask.replace(/[0-9]/g, "_") : b.trigger("error_input.xdsoft");
                                break;
                            case !! ~ [65, 67, 86, 90, 89].indexOf(l) && g: case !! ~ [27, 38, 40, 37, 39, 116, 17, 9, 13].indexOf(l) : return ! 0
                            }
                            c.preventDefault();
                            return ! 1
                        })
                    }
                }
                if (f.validateOnBlur) b.off("blur.xdsoft").on("blur.xdsoft",
                function() {
                    f.allowBlank && !a.trim(a(this).val()).length ? (a(this).val(null), h.data("xdsoft_datetime").empty()) : (Date.parseDate(a(this).val(), f.format) || a(this).val(y.now().dateFormat(f.format)), h.data("xdsoft_datetime").setCurrentTime(a(this).val()));
                    h.trigger("changedatetime.xdsoft")
                });
                f.dayOfWeekStartPrev = 0 == f.dayOfWeekStart ? 6 : f.dayOfWeekStart - 1;
                h.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")
            };
            h.data("options", f).on("mousedown.xdsoft",
            function(a) {
                a.stopPropagation();
                a.preventDefault();
                D.hide();
                C.hide();
                return ! 1
            });
            var E = F.find(".xdsoft_time_box");
            E.append(J);
            E.xdsoftScroller();
            h.on("afterOpen.xdsoft",
            function() {
                E.xdsoftScroller()
            });
            h.append(p).append(F); ! 0 !== f.withoutCopyright && h.append(j);
            p.append(l).append(z);
            a("body").append(h);
            var y = new
            function() {
                var a = this;
                a.now = function(b) {
                    var c = new Date;
                    if (!b && f.defaultDate) {
                        var g = a.strToDate(f.defaultDate);
                        c.setFullYear(g.getFullYear());
                        c.setMonth(g.getMonth());
                        c.setDate(g.getDate())
                    }
                    f.yearOffset && c.setFullYear(c.getFullYear() + f.yearOffset); ! b && f.defaultTime && (b = a.strtotime(f.defaultTime), c.setHours(b.getHours()), c.setMinutes(b.getMinutes()));
                    return c
                };
                a.isValidDate = function(a) {
                    return "[object Date]" !== Object.prototype.toString.call(a) ? !1 : !isNaN(a.getTime())
                };
                a.setCurrentTime = function(b) {
                    a.currentTime = "string" == typeof b ? a.strToDateTime(b) : a.isValidDate(b) ? b: a.now();
                    h.trigger("xchange.xdsoft")
                };
                a.empty = function() {
                    a.currentTime = null
                };
                a.getCurrentTime = function() {
                    return a.currentTime
                };
                a.nextMonth = function() {
                    var b = a.currentTime.getMonth() + 1;
                    12 == b && (a.currentTime.setFullYear(a.currentTime.getFullYear() + 1), b = 0);
                    a.currentTime.setDate(Math.min((new Date(a.currentTime.getFullYear(), b + 1, 0)).getDate(), a.currentTime.getDate()));
                    a.currentTime.setMonth(b);
                    f.onChangeMonth && f.onChangeMonth.call && f.onChangeMonth.call(h, y.currentTime, h.data("input"));
                    h.trigger("xchange.xdsoft");
                    return b
                };
                a.prevMonth = function() {
                    var b = a.currentTime.getMonth() - 1; - 1 == b && (a.currentTime.setFullYear(a.currentTime.getFullYear() - 1), b = 11);
                    a.currentTime.setDate(Math.min((new Date(a.currentTime.getFullYear(), b + 1, 0)).getDate(), a.currentTime.getDate()));
                    a.currentTime.setMonth(b);
                    f.onChangeMonth && f.onChangeMonth.call && f.onChangeMonth.call(h, y.currentTime, h.data("input"));
                    h.trigger("xchange.xdsoft");
                    return b
                };
                a.strToDateTime = function(b) {
                    if (b && b instanceof Date && a.isValidDate(b)) return b;
                    var c = []; (c = /^(\+|\-)(.*)$/.exec(b)) && (c[2] = Date.parseDate(c[2], f.formatDate)) ? (b = c[2].getTime() - 6E4 * c[2].getTimezoneOffset(), c = new Date(y.now().getTime() + parseInt(c[1] + "1") * b)) : c = b ? Date.parseDate(b, f.format) : a.now();
                    a.isValidDate(c) || (c = a.now());
                    return c
                };
                a.strToDate = function(b) {
                    if (b && b instanceof Date && a.isValidDate(b)) return b;
                    b = b ? Date.parseDate(b, f.formatDate) : a.now(!0);
                    a.isValidDate(b) || (b = a.now(!0));
                    return b
                };
                a.strtotime = function(b) {
                    if (b && b instanceof Date && a.isValidDate(b)) return b;
                    b = b ? Date.parseDate(b, f.formatTime) : a.now();
                    a.isValidDate(b) || (b = a.now(!0));
                    return b
                };
                a.str = function() {
                    return a.currentTime.dateFormat(f.format)
                };
                a.currentTime = this.now()
            };
            l.find(".xdsoft_today_button").on("mousedown.xdsoft",
            function() {
                h.data("changed", !0);
                y.setCurrentTime(0);
                h.trigger("afterOpen.xdsoft")
            }).on("dblclick.xdsoft",
            function() {
                b.val(y.str());
                h.trigger("close.xdsoft")
            });
            l.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",
            function() {
                var b = a(this),
                c = 0,
                g = !1; (function S(a) {
                    y.currentTime.getMonth();
                    b.hasClass(f.next) ? y.nextMonth() : b.hasClass(f.prev) && y.prevMonth();
                    f.monthChangeSpinner && !g && (c = setTimeout(S, a ? a: 100))
                })(500);
                a([document.body, window]).on("mouseup.xdsoft",
                function Q() {
                    clearTimeout(c);
                    g = !0;
                    a([document.body, window]).off("mouseup.xdsoft", Q)
                })
            });
            F.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",
            function() {
                var b = a(this),
                c = 0,
                g = !1,
                h = 110; (function Q(a) {
                    var j = w[0].clientHeight,
                    k = J[0].offsetHeight,
                    l = Math.abs(parseInt(J.css("marginTop")));
                    b.hasClass(f.next) && k - j - f.timeHeightInTimePicker >= l ? J.css("marginTop", "-" + (l + f.timeHeightInTimePicker) + "px") : b.hasClass(f.prev) && 0 <= l - f.timeHeightInTimePicker && J.css("marginTop", "-" + (l - f.timeHeightInTimePicker) + "px");
                    w.trigger("scroll_element.xdsoft_scroller", [Math.abs(parseInt(J.css("marginTop")) / (k - j))]);
                    h = 10 < h ? 10 : h - 10; ! g && (c = setTimeout(Q, a ? a: h))
                })(500);
                a([document.body, window]).on("mouseup.xdsoft",
                function O() {
                    clearTimeout(c);
                    g = !0;
                    a([document.body, window]).off("mouseup.xdsoft", O)
                })
            });
            var I = 0;
            h.on("xchange.xdsoft",
            function(b) {
                clearTimeout(I);
                I = setTimeout(function() {
                    for (var b = "",
                    c = new Date(y.currentTime.getFullYear(), y.currentTime.getMonth(), 1, 12, 0, 0), g = 0, j = y.now(); c.getDay() != f.dayOfWeekStart;) c.setDate(c.getDate() - 1);
                    b += "<table><thead><tr>";
                    f.weeks && (b += "<th></th>");
                    for (var k = 0; 7 > k; k++) b += "<th>" + f.i18n[f.lang].dayOfWeek[(k + f.dayOfWeekStart) % 7] + "</th>";
                    var b = b + "</tr></thead><tbody>",
                    m = k = !1; ! 1 !== f.maxDate && (k = y.strToDate(f.maxDate), k = new Date(k.getFullYear(), k.getMonth(), k.getDate(), 23, 59, 59, 999)); ! 1 !== f.minDate && (m = y.strToDate(f.minDate), m = new Date(m.getFullYear(), m.getMonth(), m.getDate()));
                    for (var p, u, r, B, w = [], A, x = !0; g < y.currentTime.countDaysInMonth() || c.getDay() != f.dayOfWeekStart || y.currentTime.getMonth() == c.getMonth();) w = [],
                    g++,
                    p = c.getDate(),
                    u = c.getFullYear(),
                    r = c.getMonth(),
                    B = c.getWeekOfYear(),
                    w.push("xdsoft_date"),
                    A = f.beforeShowDay && f.beforeShowDay.call ? f.beforeShowDay.call(h, c) : null,
                    (!1 !== k && c > k || !1 !== m && c < m || A && !1 === A[0]) && w.push("xdsoft_disabled"),
                    A && "" != A[1] && w.push(A[1]),
                    y.currentTime.getMonth() != r && w.push("xdsoft_other_month"),
                    (f.defaultSelect || h.data("changed")) && y.currentTime.dateFormat(f.formatDate) == c.dateFormat(f.formatDate) && w.push("xdsoft_current"),
                    j.dateFormat(f.formatDate) == c.dateFormat(f.formatDate) && w.push("xdsoft_today"),
                    (0 == c.getDay() || 6 == c.getDay() || ~f.weekends.indexOf(c.dateFormat(f.formatDate))) && w.push("xdsoft_weekend"),
                    f.beforeShowDay && "function" == typeof f.beforeShowDay && w.push(f.beforeShowDay(c)),
                    x && (b += "<tr>", x = !1, f.weeks && (b += "<th>" + B + "</th>")),
                    b += '<td data-date="' + p + '" data-month="' + r + '" data-year="' + u + '" class="xdsoft_date xdsoft_day_of_week' + c.getDay() + " " + w.join(" ") + '"><div>' + p + "</div></td>",
                    c.getDay() == f.dayOfWeekStartPrev && (b += "</tr>", x = !0),
                    c.setDate(p + 1);
                    b += "</tbody></table>";
                    z.html(b);
                    l.find(".xdsoft_label span").eq(0).text(f.i18n[f.lang].months[y.currentTime.getMonth()]);
                    l.find(".xdsoft_label span").eq(1).text(y.currentTime.getFullYear());
                    var F = "";
                    r = b = "";
                    c = function(a, b) {
                        var c = y.now();
                        c.setHours(a);
                        a = parseInt(c.getHours());
                        c.setMinutes(b);
                        b = parseInt(c.getMinutes());
                        w = []; (!1 !== f.maxTime && y.strtotime(f.maxTime).getTime() < c.getTime() || !1 !== f.minTime && y.strtotime(f.minTime).getTime() > c.getTime()) && w.push("xdsoft_disabled");
                        if ((f.initTime || f.defaultSelect || h.data("changed")) && parseInt(y.currentTime.getHours()) == parseInt(a) && (59 < f.step || Math[f.roundTime](y.currentTime.getMinutes() / f.step) * f.step == parseInt(b))) f.defaultSelect || h.data("changed") ? w.push("xdsoft_current") : f.initTime && w.push("xdsoft_init_time");
                        parseInt(j.getHours()) == parseInt(a) && parseInt(j.getMinutes()) == parseInt(b) && w.push("xdsoft_today");
                        F += '<div class="xdsoft_time ' + w.join(" ") + '" data-hour="' + a + '" data-minute="' + b + '">' + c.dateFormat(f.formatTime) + "</div>"
                    };
                    if (!f.allowTimes || !a.isArray(f.allowTimes) || !f.allowTimes.length) for (k = g = 0; g < (f.hours12 ? 12 : 24); g++) for (k = 0; 60 > k; k += f.step) b = (10 > g ? "0": "") + g,
                    r = (10 > k ? "0": "") + k,
                    c(b, r);
                    else for (g = 0; g < f.allowTimes.length; g++) b = y.strtotime(f.allowTimes[g]).getHours(),
                    r = y.strtotime(f.allowTimes[g]).getMinutes(),
                    c(b, r);
                    J.html(F);
                    r = "";
                    g = 0;
                    for (g = parseInt(f.yearStart, 10) + f.yearOffset; g <= parseInt(f.yearEnd, 10) + f.yearOffset; g++) r += '<div class="xdsoft_option ' + (y.currentTime.getFullYear() == g ? "xdsoft_current": "") + '" data-value="' + g + '">' + g + "</div>";
                    D.children().eq(0).html(r);
                    g = 0;
                    for (r = ""; 11 >= g; g++) r += '<div class="xdsoft_option ' + (y.currentTime.getMonth() == g ? "xdsoft_current": "") + '" data-value="' + g + '">' + f.i18n[f.lang].months[g] + "</div>";
                    C.children().eq(0).html(r);
                    a(h).trigger("generate.xdsoft")
                },
                10);
                b.stopPropagation()
            }).on("afterOpen.xdsoft",
            function() {
                if (f.timepicker) {
                    var a;
                    J.find(".xdsoft_current").length ? a = ".xdsoft_current": J.find(".xdsoft_init_time").length && (a = ".xdsoft_init_time");
                    if (a) {
                        var b = w[0].clientHeight,
                        c = J[0].offsetHeight;
                        a = J.find(a).index() * f.timeHeightInTimePicker + 1;
                        c - b < a && (a = c - b);
                        w.trigger("scroll_element.xdsoft_scroller", [parseInt(a) / (c - b)])
                    } else w.trigger("scroll_element.xdsoft_scroller", [0])
                }
            });
            var K = 0;
            z.on("click.xdsoft", "td",
            function(c) {
                c.stopPropagation();
                K++;
                var c = a(this),
                g = y.currentTime;
                if (void 0 === g || null === g) y.currentTime = y.now(),
                g = y.currentTime;
                if (c.hasClass("xdsoft_disabled")) return ! 1;
                g.setDate(1);
                g.setFullYear(c.data("year"));
                g.setMonth(c.data("month"));
                g.setDate(c.data("date"));
                h.trigger("select.xdsoft", [g]);
                b.val(y.str()); (1 < K || !0 === f.closeOnDateSelect || 0 === f.closeOnDateSelect && !f.timepicker) && !f.inline && h.trigger("close.xdsoft");
                f.onSelectDate && f.onSelectDate.call && f.onSelectDate.call(h, y.currentTime, h.data("input"));
                h.data("changed", !0);
                h.trigger("xchange.xdsoft");
                h.trigger("changedatetime.xdsoft");
                setTimeout(function() {
                    K = 0
                },
                200)
            });
            J.on("click.xdsoft", "div",
            function(b) {
                b.stopPropagation();
                var b = a(this),
                c = y.currentTime;
                if (void 0 === c || null === c) y.currentTime = y.now(),
                c = y.currentTime;
                if (b.hasClass("xdsoft_disabled")) return ! 1;
                c.setHours(b.data("hour"));
                c.setMinutes(b.data("minute"));
                h.trigger("select.xdsoft", [c]);
                h.data("input").val(y.str()); ! f.inline && h.trigger("close.xdsoft");
                f.onSelectTime && f.onSelectTime.call && f.onSelectTime.call(h, y.currentTime, h.data("input"));
                h.data("changed", !0);
                h.trigger("xchange.xdsoft");
                h.trigger("changedatetime.xdsoft")
            });
            h.mousewheel && p.mousewheel(function(a, b) {
                if (!f.scrollMonth) return ! 0;
                0 > b ? y.nextMonth() : y.prevMonth();
                return ! 1
            });
            h.mousewheel && w.unmousewheel().mousewheel(function(a, b) {
                if (!f.scrollTime) return ! 0;
                var c = w[0].clientHeight,
                g = J[0].offsetHeight,
                h = Math.abs(parseInt(J.css("marginTop"))),
                j = !0;
                0 > b && g - c - f.timeHeightInTimePicker >= h ? (J.css("marginTop", "-" + (h + f.timeHeightInTimePicker) + "px"), j = !1) : 0 < b && 0 <= h - f.timeHeightInTimePicker && (J.css("marginTop", "-" + (h - f.timeHeightInTimePicker) + "px"), j = !1);
                w.trigger("scroll_element.xdsoft_scroller", [Math.abs(parseInt(J.css("marginTop")) / (g - c))]);
                a.stopPropagation();
                return j
            });
            var x = !1;
            h.on("changedatetime.xdsoft",
            function() {
                if (f.onChangeDateTime && f.onChangeDateTime.call) {
                    var a = h.data("input");
                    f.onChangeDateTime.call(h, y.currentTime, a);
                    delete f.value;
                    a.trigger("change")
                }
            }).on("generate.xdsoft",
            function() {
                f.onGenerate && f.onGenerate.call && f.onGenerate.call(h, y.currentTime, h.data("input"));
                x && (h.trigger("afterOpen.xdsoft"), x = !1)
            }).on("click.xdsoft",
            function(a) {
                a.stopPropagation()
            });
            var N = 0;
            b.mousewheel && b.mousewheel(function(a, c, g, j) {
                if (!f.scrollInput) return ! 0;
                if (!f.datepicker && f.timepicker) return N = J.find(".xdsoft_current").length ? J.find(".xdsoft_current").eq(0).index() : 0,
                0 <= N + c && N + c < J.children().length && (N += c),
                J.children().eq(N).length && J.children().eq(N).trigger("mousedown"),
                !1;
                if (f.datepicker && !f.timepicker) return p.trigger(a, [c, g, j]),
                b.val && b.val(y.str()),
                h.trigger("changedatetime.xdsoft"),
                !1
            });
            var H = function() {
                var b = h.data("input").offset(),
                c = b.top + h.data("input")[0].offsetHeight - 1,
                g = b.left,
                j = "absolute";
                f.fixed ? (c -= a(window).scrollTop(), g -= a(window).scrollLeft(), j = "fixed") : (c + h[0].offsetHeight > a(window).height() + a(window).scrollTop() && (c = b.top - h[0].offsetHeight + 1), 0 > c && (c = 0), g + h[0].offsetWidth > a(window).width() && (g = b.left - h[0].offsetWidth + h.data("input")[0].offsetWidth));
                h.css({
                    left: g,
                    top: c,
                    position: j
                })
            };
            h.on("open.xdsoft",
            function() {
                var b = !0;
                f.onShow && f.onShow.call && (b = f.onShow.call(h, y.currentTime, h.data("input")));
                if (!1 !== b && (h.show(), H(), a(window).off("resize.xdsoft", H).on("resize.xdsoft", H), f.closeOnWithoutClick)) a([document.body, window]).on("mousedown.xdsoft",
                function L() {
                    h.trigger("close.xdsoft");
                    a([document.body, window]).off("mousedown.xdsoft", L)
                })
            }).on("close.xdsoft",
            function(a) {
                var b = !0;
                f.onClose && f.onClose.call && (b = f.onClose.call(h, y.currentTime, h.data("input"))); ! 1 !== b && (!f.opened && !f.inline) && h.hide();
                a.stopPropagation()
            }).data("input", b);
            var A = 0;
            h.data("xdsoft_datetime", y);
            h.setOptions(f);
            y.setCurrentTime(c());
            b.data("xdsoft_datetimepicker", h).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",
            function() {
                if (!b.is(":disabled") && !b.is(":hidden") && b.is(":visible") && (!b.data("xdsoft_datetimepicker").is(":visible") || !f.closeOnInputClick)) clearTimeout(A),
                A = setTimeout(function() { ! b.is(":disabled") && (!b.is(":hidden") && b.is(":visible")) && (x = !0, y.setCurrentTime(c()), h.trigger("open.xdsoft"))
                },
                100)
            }).on("keydown.xdsoft",
            function(b) {
                b = b.which;
                switch (!0) {
                case !! ~ [13].indexOf(b) : return b = a("input:visible,textarea:visible"),
                    h.trigger("close.xdsoft"),
                    b.eq(b.index(this) + 1).focus(),
                    !1;
                case !! ~ [9].indexOf(b) : return h.trigger("close.xdsoft"),
                    !0
                }
            })
        };
        a(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",
        function(a) {
            17 == a.keyCode && (g = !0)
        }).on("keyup.xdsoftctrl",
        function(a) {
            17 == a.keyCode && (g = !1)
        });
        return this.each(function() {
            var b;
            if (b = a(this).data("xdsoft_datetimepicker")) {
                if ("string" === a.type(c)) switch (c) {
                case "show":
                    a(this).select().focus();
                    b.trigger("open.xdsoft");
                    break;
                case "hide":
                    b.trigger("close.xdsoft");
                    break;
                case "destroy":
                    b = a(this);
                    var g = b.data("xdsoft_datetimepicker");
                    g && (g.data("xdsoft_datetime", null), g.remove(), b.data("xdsoft_datetimepicker", null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"), a(window).off("resize.xdsoft"), a([window, document.body]).off("mousedown.xdsoft"), b.unmousewheel && b.unmousewheel());
                    break;
                case "reset":
                    this.value = this.defaultValue,
                    (!this.value || !b.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value, f.format))) && b.data("changed", !1),
                    b.data("xdsoft_datetime").setCurrentTime(this.value)
                } else b.setOptions(c);
                return 0
            }
            if ("string" !== a.type(c)) if (!f.lazyInit || f.open || f.inline) j(a(this));
            else {
                var q = a(this);
                q.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",
                function p() { ! q.is(":disabled") && (!q.is(":hidden") && q.is(":visible") && !q.data("xdsoft_datetimepicker")) && (clearTimeout(h), h = setTimeout(function() {
                        q.data("xdsoft_datetimepicker") || j(q);
                        q.off("open.xdsoft focusin.xdsoft mousedown.xdsoft", p).trigger("open.xdsoft")
                    },
                    100))
                })
            }
        })
    };
    a.fn.datetimepicker.defaults = b
})(jQuery); (function(a) {
    "function" === typeof define && define.amd ? define(["jquery"], a) : "object" === typeof exports ? module.exports = a: a(jQuery)
})(function(a) {
    function b(b) {
        var c = b || window.event,
        g = [].slice.call(arguments, 1),
        j = 0,
        p = 0,
        l = 0,
        z = 0,
        z = 0,
        b = a.event.fix(c);
        b.type = "mousewheel";
        c.wheelDelta && (j = c.wheelDelta);
        c.detail && (j = -1 * c.detail);
        c.deltaY && (j = l = -1 * c.deltaY);
        c.deltaX && (p = c.deltaX, j = -1 * p);
        void 0 !== c.wheelDeltaY && (l = c.wheelDeltaY);
        void 0 !== c.wheelDeltaX && (p = -1 * c.wheelDeltaX);
        z = Math.abs(j);
        if (!f || z < f) f = z;
        z = Math.max(Math.abs(l), Math.abs(p));
        if (!h || z < h) h = z;
        c = 0 < j ? "floor": "ceil";
        j = Math[c](j / f);
        p = Math[c](p / h);
        l = Math[c](l / h);
        g.unshift(b, j, p, l);
        return (a.event.dispatch || a.event.handle).apply(this, g)
    }
    var c = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"],
    g = "onwheel" in document || 9 <= document.documentMode ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"],
    f,
    h;
    if (a.event.fixHooks) for (var j = c.length; j;) a.event.fixHooks[c[--j]] = a.event.mouseHooks;
    a.event.special.mousewheel = {
        setup: function() {
            if (this.addEventListener) for (var a = g.length; a;) this.addEventListener(g[--a], b, !1);
            else this.onmousewheel = b
        },
        teardown: function() {
            if (this.removeEventListener) for (var a = g.length; a;) this.removeEventListener(g[--a], b, !1);
            else this.onmousewheel = null
        }
    };
    a.fn.extend({
        mousewheel: function(a) {
            return a ? this.bind("mousewheel", a) : this.trigger("mousewheel")
        },
        unmousewheel: function(a) {
            return this.unbind("mousewheel", a)
        }
    })
});
Date.parseFunctions = {
    count: 0
};
Date.parseRegexes = [];
Date.formatFunctions = {
    count: 0
};
Date.prototype.dateFormat = function(a) {
    if ("unixtime" == a) return parseInt(this.getTime() / 1E3);
    null == Date.formatFunctions[a] && Date.createNewFormat(a);
    return this[Date.formatFunctions[a]]()
};
Date.createNewFormat = function(a) {
    var b = "format" + Date.formatFunctions.count++;
    Date.formatFunctions[a] = b;
    for (var b = "Date.prototype." + b + " = function() {return ",
    c = !1,
    g = "",
    f = 0; f < a.length; ++f) g = a.charAt(f),
    !c && "\\" == g ? c = !0 : c ? (c = !1, b += "'" + String.escape(g) + "' + ") : b += Date.getFormatCode(g);
    eval(b.substring(0, b.length - 3) + ";}")
};
Date.getFormatCode = function(a) {
    switch (a) {
    case "d":
        return "String.leftPad(this.getDate(), 2, '0') + ";
    case "D":
        return "Date.dayNames[this.getDay()].substring(0, 3) + ";
    case "j":
        return "this.getDate() + ";
    case "l":
        return "Date.dayNames[this.getDay()] + ";
    case "S":
        return "this.getSuffix() + ";
    case "w":
        return "this.getDay() + ";
    case "z":
        return "this.getDayOfYear() + ";
    case "W":
        return "this.getWeekOfYear() + ";
    case "F":
        return "Date.monthNames[this.getMonth()] + ";
    case "m":
        return "String.leftPad(this.getMonth() + 1, 2, '0') + ";
    case "M":
        return "Date.monthNames[this.getMonth()].substring(0, 3) + ";
    case "n":
        return "(this.getMonth() + 1) + ";
    case "t":
        return "this.getDaysInMonth() + ";
    case "L":
        return "(this.isLeapYear() ? 1 : 0) + ";
    case "Y":
        return "this.getFullYear() + ";
    case "y":
        return "('' + this.getFullYear()).substring(2, 4) + ";
    case "a":
        return "(this.getHours() < 12 ? 'am' : 'pm') + ";
    case "A":
        return "(this.getHours() < 12 ? 'AM' : 'PM') + ";
    case "g":
        return "((this.getHours() %12) ? this.getHours() % 12 : 12) + ";
    case "G":
        return "this.getHours() + ";
    case "h":
        return "String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";
    case "H":
        return "String.leftPad(this.getHours(), 2, '0') + ";
    case "i":
        return "String.leftPad(this.getMinutes(), 2, '0') + ";
    case "s":
        return "String.leftPad(this.getSeconds(), 2, '0') + ";
    case "O":
        return "this.getGMTOffset() + ";
    case "T":
        return "this.getTimezone() + ";
    case "Z":
        return "(this.getTimezoneOffset() * -60) + ";
    default:
        return "'" + String.escape(a) + "' + "
    }
};
Date.parseDate = function(a, b) {
    if ("unixtime" == b) return new Date(!isNaN(parseInt(a)) ? 1E3 * parseInt(a) : 0);
    null == Date.parseFunctions[b] && Date.createParser(b);
    return Date[Date.parseFunctions[b]](a)
};
Date.createParser = function(a) {
    var b = "parse" + Date.parseFunctions.count++,
    c = Date.parseRegexes.length,
    g = 1;
    Date.parseFunctions[a] = b;
    for (var b = "Date." + b + " = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes[" + c + "]);\nif (results && results.length > 0) {",
    f = "",
    h = !1,
    j = "",
    k = 0; k < a.length; ++k) j = a.charAt(k),
    !h && "\\" == j ? h = !0 : h ? (h = !1, f += String.escape(j)) : (obj = Date.formatCodeToRegex(j, g), g += obj.g, f += obj.s, obj.g && obj.c && (b += obj.c));
    b += "if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}";
    Date.parseRegexes[c] = RegExp("^" + f + "$");
    eval(b)
};
Date.formatCodeToRegex = function(a, b) {
    switch (a) {
    case "D":
        return {
            g:
            0,
            c: null,
            s: "(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"
        };
    case "j":
    case "d":
        return {
            g:
            1,
            c: "d = parseInt(results[" + b + "], 10);\n",
            s: "(\\d{1,2})"
        };
    case "l":
        return {
            g:
            0,
            c: null,
            s: "(?:" + Date.dayNames.join("|") + ")"
        };
    case "S":
        return {
            g:
            0,
            c: null,
            s: "(?:st|nd|rd|th)"
        };
    case "w":
        return {
            g:
            0,
            c: null,
            s: "\\d"
        };
    case "z":
        return {
            g:
            1,
            c: "z = parseInt(results[" + b + "], 10);\n",
            s: "(\\d{1,3})"
        };
    case "W":
        return {
            g:
            0,
            c: null,
            s: "(?:\\d{2})"
        };
    case "F":
        return {
            g:
            1,
            c: "m = parseInt(Date.monthNumbers[results[" + b + "].substring(0, 3)], 10);\n",
            s: "(" + Date.monthNames.join("|") + ")"
        };
    case "M":
        return {
            g:
            1,
            c: "m = parseInt(Date.monthNumbers[results[" + b + "]], 10);\n",
            s: "(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"
        };
    case "n":
    case "m":
        return {
            g:
            1,
            c: "m = parseInt(results[" + b + "], 10) - 1;\n",
            s: "(\\d{1,2})"
        };
    case "t":
        return {
            g:
            0,
            c: null,
            s: "\\d{1,2}"
        };
    case "L":
        return {
            g:
            0,
            c: null,
            s: "(?:1|0)"
        };
    case "Y":
        return {
            g:
            1,
            c: "y = parseInt(results[" + b + "], 10);\n",
            s: "(\\d{4})"
        };
    case "y":
        return {
            g:
            1,
            c: "var ty = parseInt(results[" + b + "], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",
            s: "(\\d{1,2})"
        };
    case "a":
        return {
            g:
            1,
            c: "if (results[" + b + "] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",
            s: "(am|pm)"
        };
    case "A":
        return {
            g:
            1,
            c: "if (results[" + b + "] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",
            s: "(AM|PM)"
        };
    case "g":
    case "G":
    case "h":
    case "H":
        return {
            g:
            1,
            c: "h = parseInt(results[" + b + "], 10);\n",
            s: "(\\d{1,2})"
        };
    case "i":
        return {
            g:
            1,
            c: "i = parseInt(results[" + b + "], 10);\n",
            s: "(\\d{2})"
        };
    case "s":
        return {
            g:
            1,
            c: "s = parseInt(results[" + b + "], 10);\n",
            s: "(\\d{2})"
        };
    case "O":
        return {
            g:
            0,
            c: null,
            s: "[+-]\\d{4}"
        };
    case "T":
        return {
            g:
            0,
            c: null,
            s: "[A-Z]{3}"
        };
    case "Z":
        return {
            g:
            0,
            c: null,
            s: "[+-]\\d{1,5}"
        };
    default:
        return {
            g:
            0,
            c: null,
            s: String.escape(a)
        }
    }
};
Date.prototype.getTimezone = function() {
    return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/, "$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/, "$1$2$3")
};
Date.prototype.getGMTOffset = function() {
    return (0 < this.getTimezoneOffset() ? "-": "+") + String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset()) / 60), 2, "0") + String.leftPad(Math.abs(this.getTimezoneOffset()) % 60, 2, "0")
};
Date.prototype.getDayOfYear = function() {
    var a = 0;
    Date.daysInMonth[1] = this.isLeapYear() ? 29 : 28;
    for (var b = 0; b < this.getMonth(); ++b) a += Date.daysInMonth[b];
    return a + this.getDate()
};
Date.prototype.getWeekOfYear = function() {
    var a = this.getDayOfYear() + (4 - this.getDay()),
    b = 7 - (new Date(this.getFullYear(), 0, 1)).getDay() + 4;
    return String.leftPad(Math.ceil((a - b) / 7) + 1, 2, "0")
};
Date.prototype.isLeapYear = function() {
    var a = this.getFullYear();
    return 0 == (a & 3) && (a % 100 || 0 == a % 400 && a)
};
Date.prototype.getFirstDayOfMonth = function() {
    var a = (this.getDay() - (this.getDate() - 1)) % 7;
    return 0 > a ? a + 7 : a
};
Date.prototype.getLastDayOfMonth = function() {
    var a = (this.getDay() + (Date.daysInMonth[this.getMonth()] - this.getDate())) % 7;
    return 0 > a ? a + 7 : a
};
Date.prototype.getDaysInMonth = function() {
    Date.daysInMonth[1] = this.isLeapYear() ? 29 : 28;
    return Date.daysInMonth[this.getMonth()]
};
Date.prototype.getSuffix = function() {
    switch (this.getDate()) {
    case 1:
    case 21:
    case 31:
        return "st";
    case 2:
    case 22:
        return "nd";
    case 3:
    case 23:
        return "rd";
    default:
        return "th"
    }
};
String.escape = function(a) {
    return a.replace(/('|\\)/g, "\\$1")
};
String.leftPad = function(a, b, c) {
    a = new String(a);
    for (null == c && (c = " "); a.length < b;) a = c + a;
    return a
};
Date.daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
Date.monthNames = "January February March April May June July August September October November December".split(" ");
Date.dayNames = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");
Date.y2kYear = 50;
Date.monthNumbers = {
    Jan: 0,
    Feb: 1,
    Mar: 2,
    Apr: 3,
    May: 4,
    Jun: 5,
    Jul: 6,
    Aug: 7,
    Sep: 8,
    Oct: 9,
    Nov: 10,
    Dec: 11
};
Date.patterns = {
    ISO8601LongPattern: "Y-m-d H:i:s",
    ISO8601ShortPattern: "Y-m-d",
    ShortDatePattern: "n/j/Y",
    LongDatePattern: "l, F d, Y",
    FullDateTimePattern: "l, F d, Y g:i:s A",
    MonthDayPattern: "F d",
    ShortTimePattern: "g:i A",
    LongTimePattern: "g:i:s A",
    SortableDateTimePattern: "Y-m-d\\TH:i:s",
    UniversalSortableDateTimePattern: "Y-m-d H:i:sO",
    YearMonthPattern: "F, Y"
};
function defineService(a, b) {
    if ("function" === typeof a) {
        b = a;
        if ("undefined" !== typeof b.dependencyIdentities) return b;
        a = []
    } else "string" === typeof a && (a = [a]);
    if (!Array.isArray(a)) throw Error("identitiesOrConstructor must be an array.");
    if ("function" !== typeof b) throw Error("serviceConstructor must be a function.");
    b.dependencyIdentities = a;
    return b
}
function ServiceKernel() {
    function a(b) {
        if (! (b in h)) {
            if (b in g) return g[b];
            if (b in f) {
                if (b in h) throw Error("resolveInstance is already being called for the service '" + b + "'.");
                var c;
                try {
                    h[b] = !0;
                    var k = f[b],
                    p = [];
                    if (k.dependencyIdentities && Array.isArray(k.dependencyIdentities)) for (var l = 0; l < k.dependencyIdentities.length; l++) c = a(k.dependencyIdentities[l]),
                    p.push(c);
                    l = function(a) {
                        return k.apply(this, a)
                    };
                    l.prototype = k.prototype;
                    c = new l(p);
                    g[b] = c
                } finally {
                    delete h[b]
                }
                p = c;
                if (0 !== j.length) {
                    for (var z, l = 0; l < j.length; l++) j[l].resolve(b, p) && (z = z || [], z.push(l));
                    if (z) for (l = 0; l < z.length; l++) j.splice(z[l], 1)
                }
                return c
            }
            throw Error("The service '" + b + "' has not been defined.", "identity");
        }
    }
    function b(a, b, c, f) {
        if (!Array.isArray(a)) throw Error("identities must be an array.");
        if (!Array.isArray(b)) throw Error("dependencies must be an array.");
        if ("number" !== typeof c) throw Error("pending must be a number.");
        if ("function" !== typeof f) throw Error("callback must be a function.");
        if (0 >= c) throw Error("pending must be positive.");
        return {
            resolve: function(g, h) {
                var j = a.indexOf(g);
                if ( - 1 === j) return ! 1;
                b[j] = h;
                return 0 === --c ? (f.apply({},
                b), !0) : !1
            }
        }
    }
    function c(c, f) {
        if ("undefined" === typeof f) {
            if ("string" !== typeof c) throw Error("identities must be a string when no callback is specified.");
            var g = a(c);
            if ("undefined" === typeof g) throw Error("The service '" + c + "' has not been defined.");
            return g
        }
        "string" === typeof c && (c = [c]);
        if (!Array.isArray(c)) throw Error("identities must be an array.");
        if ("function" !== typeof f) throw Error("callback must be a function.");
        for (var h = [], k = 0, z = 0; z < c.length; z++) g = a(c[z]),
        h.push(g),
        "undefined" === typeof g && k++;
        0 < k ? j.push(b(c, h, k, f)) : f.apply({},
        h)
    }
    var g = {},
    f = {},
    h = {},
    j = [],
    k = {
        define: function(a, b, c) {
            if ("string" !== typeof a) throw Error("identity must be a string.");
            if (0 === a.length) throw Error("The identity string may not be empty.");
            if (a in f) throw Error("The service '" + a + "' has already been defined.");
            b = defineService(b, c);
            f[a] = b
        },
        defineInstance: function(a, b) {
            this.define(a,
            function() {
                return b
            })
        },
        undefine: function(a) {
            if ("string" !== typeof a) throw Error("identity must be a string.");
            return a in f ? (delete f[a], a in g && delete g[a], !0) : !1
        },
        require: c
    };
    k.defineInstance("kernel", k);
    k.defineInstance("require", c.bind(this));
    return k
}; (function(a) {
    "function" === typeof define && define.amd ? define(["jquery"], a) : "object" === typeof module && module.exports ? module.exports = a(require("jquery")) : a(jQuery)
})(function(a) {
    var b = Array.prototype.slice,
    c = Array.prototype.splice,
    g = {
        topSpacing: 0,
        bottomSpacing: 0,
        className: "is-sticky",
        wrapperClassName: "sticky-wrapper",
        center: !1,
        getWidthFrom: "",
        widthFromWrapper: !0,
        responsiveWidth: !1
    },
    f = a(window),
    h = a(document),
    j = [],
    k = f.height(),
    m = function() {
        for (var b = f.scrollTop(), c = h.height(), g = c - k, g = b > g ? g - b: 0, m = 0, q = j.length; m < q; m++) {
            var r = j[m],
            u = r.stickyWrapper.offset().top - r.topSpacing - g;
            r.stickyWrapper.css("height", r.stickyElement.outerHeight());
            if (b <= u) null !== r.currentTop && (r.stickyElement.css({
                width: "",
                position: "",
                top: ""
            }), r.stickyElement.parent().removeClass(r.className), r.stickyElement.trigger("sticky-end", [r]), r.currentTop = null);
            else {
                u = c - r.stickyElement.outerHeight() - r.topSpacing - r.bottomSpacing - b - g;
                u = 0 > u ? u + r.topSpacing: r.topSpacing;
                if (r.currentTop !== u) {
                    var C;
                    r.getWidthFrom ? C = a(r.getWidthFrom).width() || null: r.widthFromWrapper && (C = r.stickyWrapper.width());
                    null == C && (C = r.stickyElement.width());
                    r.stickyElement.css("width", C).css("position", "fixed").css("top", u);
                    r.stickyElement.parent().addClass(r.className);
                    null === r.currentTop ? r.stickyElement.trigger("sticky-start", [r]) : r.stickyElement.trigger("sticky-update", [r]);
                    r.currentTop === r.topSpacing && r.currentTop > u || null === r.currentTop && u < r.topSpacing ? r.stickyElement.trigger("sticky-bottom-reached", [r]) : null !== r.currentTop && (u === r.topSpacing && r.currentTop < u) && r.stickyElement.trigger("sticky-bottom-unreached", [r]);
                    r.currentTop = u
                }
                var D = r.stickyWrapper.parent();
                r.stickyElement.offset().top + r.stickyElement.outerHeight() >= D.offset().top + D.outerHeight() && r.stickyElement.offset().top <= r.topSpacing ? r.stickyElement.css("position", "absolute").css("top", "").css("bottom", 0) : r.stickyElement.css("position", "fixed").css("top", u).css("bottom", "")
            }
        }
    },
    q = function() {
        k = f.height();
        for (var b = 0,
        c = j.length; b < c; b++) {
            var g = j[b],
            h = null;
            g.getWidthFrom ? g.responsiveWidth && (h = a(g.getWidthFrom).width()) : g.widthFromWrapper && (h = g.stickyWrapper.width());
            null != h && g.stickyElement.css("width", h)
        }
    },
    r = {
        init: function(b) {
            var c = a.extend({},
            g, b);
            return this.each(function() {
                var b = a(this),
                f = b.attr("id"),
                h = b.outerHeight(),
                f = f ? f + "-" + g.wrapperClassName: g.wrapperClassName,
                f = a("<div></div>").attr("id", f).addClass(c.wrapperClassName);
                b.wrapAll(f);
                f = b.parent();
                c.center && f.css({
                    width: b.outerWidth(),
                    marginLeft: "auto",
                    marginRight: "auto"
                });
                "right" === b.css("float") && b.css({
                    "float": "none"
                }).parent().css({
                    "float": "right"
                });
                f.css("height", h);
                c.stickyElement = b;
                c.stickyWrapper = f;
                c.currentTop = null;
                j.push(c)
            })
        },
        update: m,
        unstick: function() {
            return this.each(function() {
                for (var b = a(this), f = -1, g = j.length; 0 < g--;) j[g].stickyElement.get(0) === this && (c.call(j, g, 1), f = g); - 1 !== f && (b.unwrap(), b.css({
                    width: "",
                    position: "",
                    top: "",
                    "float": ""
                }))
            })
        }
    };
    window.addEventListener ? (window.addEventListener("scroll", m, !1), window.addEventListener("resize", q, !1)) : window.attachEvent && (window.attachEvent("onscroll", m), window.attachEvent("onresize", q));
    a.fn.sticky = function(c) {
        if (r[c]) return r[c].apply(this, b.call(arguments, 1));
        if ("object" === typeof c || !c) return r.init.apply(this, arguments);
        a.error("Method " + c + " does not exist on jQuery.sticky")
    };
    a.fn.unstick = function(c) {
        if (r[c]) return r[c].apply(this, b.call(arguments, 1));
        if ("object" === typeof c || !c) return r.unstick.apply(this, arguments);
        a.error("Method " + c + " does not exist on jQuery.sticky")
    };
    a(function() {
        setTimeout(m, 0)
    })
}); (function(a) {
    function b() {
        var b = [],
        m,
        l = 0;
        a.each(c,
        function(a, c) {
            var f = c.data.selector,
            g = c.$element;
            b.push(f ? g.find(f) : g)
        });
        if (m = b.length) {
            var q;
            if (! (q = g)) {
                var F = {
                    height: j.innerHeight,
                    width: j.innerWidth
                };
                if (!F.height && ((q = h.compatMode) || !a.support.boxModel)) q = "CSS1Compat" === q ? k: h.body,
                F = {
                    height: q.clientHeight,
                    width: q.clientWidth
                };
                q = F
            }
            g = q;
            for (f = f || {
                top: j.pageYOffset || k.scrollTop || h.body.scrollTop,
                left: j.pageXOffset || k.scrollLeft || h.body.scrollLeft
            }; l < m; l++) if (a.contains(k, b[l][0])) {
                q = a(b[l]);
                var w = q.height(),
                J = q.width(),
                u = q.offset(),
                F = q.data("inview");
                if (!f || !g) break;
                u.top + w > f.top && u.top < f.top + g.height && u.left + J > f.left && u.left < f.left + g.width ? (J = f.left > u.left ? "right": f.left + g.width < u.left + J ? "left": "both", w = f.top > u.top ? "bottom": f.top + g.height < u.top + w ? "top": "both", u = J + "-" + w, (!F || F !== u) && q.data("inview", u).trigger("inview", [!0, J, w])) : F && q.data("inview", !1).trigger("inview", [!1])
            }
        }
    }
    var c = {},
    g, f, h = document,
    j = window,
    k = h.documentElement,
    m = a.expando,
    q;
    a.event.special.inview = {
        add: function(f) {
            c[f.guid + "-" + this[m]] = {
                data: f,
                $element: a(this)
            }; ! q && !a.isEmptyObject(c) && (q = setInterval(b, 250))
        },
        remove: function(b) {
            try {
                delete c[b.guid + "-" + this[m]]
            } catch(f) {}
            a.isEmptyObject(c) && (clearInterval(q), q = null)
        }
    };
    a(j).bind("scroll resize scrollstop",
    function() {
        g = f = null
    }); ! k.addEventListener && k.attachEvent && k.attachEvent("onfocusin",
    function() {
        f = null
    })
})(jQuery); !
function(a) {
    function b() {
        var a = arguments[0],
        c = b.cache;
        return c[a] && c.hasOwnProperty(a) || (c[a] = b.parse(a)),
        b.format.call(null, c[a], arguments)
    }
    function c(a) {
        return Object.prototype.toString.call(a).slice(8, -1).toLowerCase()
    }
    var g = /[^s]/,
    f = /[dief]/,
    h = /[j]/,
    j = /[^j]/,
    k = /^[^\x25]+/,
    m = /^\x25{2}/,
    q = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fijosuxX])/,
    r = /^([a-z_][a-z_\d]*)/i,
    p = /^\.([a-z_][a-z_\d]*)/i,
    l = /^\[(\d+)\]/,
    z = /^[\+\-]/;
    b.format = function(a, k) {
        var l, m, p, q, r, I, F, x = 1,
        N = a.length,
        H = "",
        A = [],
        B = !0,
        v = "";
        for (m = 0; N > m; m++) if (H = c(a[m]), "string" === H) A[A.length] = a[m];
        else if ("array" === H) {
            if (q = a[m], q[2]) {
                l = k[x];
                for (p = 0; p < q[2].length; p++) {
                    if (!l.hasOwnProperty(q[2][p])) throw Error(b("[sprintf] property '%s' does not exist", q[2][p]));
                    l = l[q[2][p]]
                }
            } else l = q[1] ? k[q[1]] : k[x++];
            if ("function" == c(l) && (l = l()), g.test(q[8]) && j.test(q[8]) && "number" != c(l) && isNaN(l)) throw new TypeError(b("[sprintf] expecting number but found %s", c(l)));
            switch (f.test(q[8]) && (B = 0 <= l), q[8]) {
            case "b":
                l = l.toString(2);
                break;
            case "c":
                l = String.fromCharCode(l);
                break;
            case "d":
            case "i":
                l = parseInt(l, 10);
                break;
            case "j":
                l = JSON.stringify(l, null, q[6] ? parseInt(q[6]) : 0);
                break;
            case "e":
                l = q[7] ? l.toExponential(q[7]) : l.toExponential();
                break;
            case "f":
                l = q[7] ? parseFloat(l).toFixed(q[7]) : parseFloat(l);
                break;
            case "o":
                l = l.toString(8);
                break;
            case "s":
                l = (l = String(l)) && q[7] ? l.substring(0, q[7]) : l;
                break;
            case "u":
                l >>>= 0;
                break;
            case "x":
                l = l.toString(16);
                break;
            case "X":
                l = l.toString(16).toUpperCase()
            }
            h.test(q[8]) ? A[A.length] = l: (!f.test(q[8]) || B && !q[3] ? v = "": (v = B ? "+": "-", l = l.toString().replace(z, "")), I = q[4] ? "0" === q[4] ? "0": q[4].charAt(1) : " ", F = q[6] - (v + l).length, r = q[6] && 0 < F ? Array(F + 1).join(I) : "", A[A.length] = q[5] ? v + l + r: "0" === I ? v + r + l: r + v + l)
        }
        return A.join("")
    };
    b.cache = {};
    b.parse = function(a) {
        for (var b = [], c = [], f = 0; a;) {
            if (null !== (b = k.exec(a))) c[c.length] = b[0];
            else if (null !== (b = m.exec(a))) c[c.length] = "%";
            else {
                if (null === (b = q.exec(a))) throw new SyntaxError("[sprintf] unexpected placeholder");
                if (b[2]) {
                    var f = f | 1,
                    g = [],
                    h = b[2],
                    j = [];
                    if (null === (j = r.exec(h))) throw new SyntaxError("[sprintf] failed to parse named argument key");
                    for (g[g.length] = j[1];
                    "" !== (h = h.substring(j[0].length));) {
                        if (null === (j = p.exec(h))) if (null === (j = l.exec(h))) throw new SyntaxError("[sprintf] failed to parse named argument key");
                        g[g.length] = j[1]
                    }
                    b[2] = g
                } else f |= 2;
                if (3 === f) throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");
                c[c.length] = b
            }
            a = a.substring(b[0].length)
        }
        return c
    };
    var F = function(a, c, f) {
        return f = (c || []).slice(0),
        f.splice(0, 0, a),
        b.apply(null, f)
    };
    "undefined" != typeof exports ? (exports.sprintf = b, exports.vsprintf = F) : (a.sprintf = b, a.vsprintf = F, "function" == typeof define && define.amd && define(function() {
        return {
            sprintf: b,
            vsprintf: F
        }
    }))
} ("undefined" == typeof window ? this: window); !
function(a, b, c, g) {
    function f(b, c) {
        this.element = b;
        this.options = a.extend({},
        j, c);
        this._defaults = j;
        this._name = h;
        this.init()
    }
    var h = "stellar",
    j = {
        scrollProperty: "scroll",
        positionProperty: "position",
        horizontalScrolling: !0,
        verticalScrolling: !0,
        horizontalOffset: 0,
        verticalOffset: 0,
        responsive: !1,
        parallaxBackgrounds: !0,
        parallaxElements: !0,
        hideDistantElements: !0,
        hideElement: function(a) {
            a.hide()
        },
        showElement: function(a) {
            a.show()
        }
    },
    k = {
        scroll: {
            getLeft: function(a) {
                return a.scrollLeft()
            },
            setLeft: function(a, b) {
                a.scrollLeft(b)
            },
            getTop: function(a) {
                return a.scrollTop()
            },
            setTop: function(a, b) {
                a.scrollTop(b)
            }
        },
        position: {
            getLeft: function(a) {
                return - 1 * parseInt(a.css("left"), 10)
            },
            getTop: function(a) {
                return - 1 * parseInt(a.css("top"), 10)
            }
        },
        margin: {
            getLeft: function(a) {
                return - 1 * parseInt(a.css("margin-left"), 10)
            },
            getTop: function(a) {
                return - 1 * parseInt(a.css("margin-top"), 10)
            }
        },
        transform: {
            getLeft: function(a) {
                a = getComputedStyle(a[0])[z];
                return "none" !== a ? -1 * parseInt(a.match(/(-?[0-9]+)/g)[4], 10) : 0
            },
            getTop: function(a) {
                a = getComputedStyle(a[0])[z];
                return "none" !== a ? -1 * parseInt(a.match(/(-?[0-9]+)/g)[5], 10) : 0
            }
        }
    },
    m = {
        position: {
            setLeft: function(a, b) {
                a.css("left", b)
            },
            setTop: function(a, b) {
                a.css("top", b)
            }
        },
        transform: {
            setPosition: function(a, b, c, f, g) {
                a[0].style[z] = "translate3d(" + (b - c) + "px, " + (f - g) + "px, 0)"
            }
        }
    },
    q,
    r = /^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,
    p = a("script")[0].style,
    l = "";
    for (q in p) if (r.test(q)) {
        l = q.match(r)[0];
        break
    }
    var z = ("WebkitOpacity" in p && (l = "Webkit"), "KhtmlOpacity" in p && (l = "Khtml"),
    function(a) {
        return l + (0 < l.length ? a.charAt(0).toUpperCase() + a.slice(1) : a)
    })("transform"),
    F = (q = a("<div />", {
        style: "background:#fff"
    }).css("background-position-x") !== g) ?
    function(a, b, c) {
        a.css({
            "background-position-x": b,
            "background-position-y": c
        })
    }: function(a, b, c) {
        a.css("background-position", b + " " + c)
    },
    w = q ?
    function(a) {
        return [a.css("background-position-x"), a.css("background-position-y")]
    }: function(a) {
        return a.css("background-position").split(" ")
    },
    J = b.requestAnimationFrame || b.webkitRequestAnimationFrame || b.mozRequestAnimationFrame || b.oRequestAnimationFrame || b.msRequestAnimationFrame ||
    function(a) {
        setTimeout(a, 1E3 / 60)
    };
    f.prototype = {
        init: function() {
            this.options.name = h + "_" + Math.floor(1E9 * Math.random());
            this._defineElements();
            this._defineGetters();
            this._defineSetters();
            this._handleWindowLoadAndResize();
            this._detectViewport();
            this.refresh({
                firstLoad: !0
            });
            "scroll" === this.options.scrollProperty ? this._handleScrollEvent() : this._startAnimationLoop()
        },
        _defineElements: function() {
            this.element === c.body && (this.element = b);
            this.$scrollElement = a(this.element);
            this.$element = this.element === b ? a("body") : this.$scrollElement;
            this.$viewportElement = this.options.viewportElement !== g ? a(this.options.viewportElement) : this.$scrollElement[0] === b || "scroll" === this.options.scrollProperty ? this.$scrollElement: this.$scrollElement.parent()
        },
        _defineGetters: function() {
            var a = this,
            b = k[a.options.scrollProperty];
            this._getScrollLeft = function() {
                return b.getLeft(a.$scrollElement)
            };
            this._getScrollTop = function() {
                return b.getTop(a.$scrollElement)
            }
        },
        _defineSetters: function() {
            var b = this,
            c = k[b.options.scrollProperty],
            f = m[b.options.positionProperty],
            g = c.setLeft,
            h = c.setTop;
            this._setScrollLeft = "function" == typeof g ?
            function(a) {
                g(b.$scrollElement, a)
            }: a.noop;
            this._setScrollTop = "function" == typeof h ?
            function(a) {
                h(b.$scrollElement, a)
            }: a.noop;
            this._setPosition = f.setPosition ||
            function(a, c, g, h, j) {
                b.options.horizontalScrolling && f.setLeft(a, c, g);
                b.options.verticalScrolling && f.setTop(a, h, j)
            }
        },
        _handleWindowLoadAndResize: function() {
            var c = this,
            f = a(b);
            c.options.responsive && f.bind("load." + this.name,
            function() {
                c.refresh()
            });
            f.bind("resize." + this.name,
            function() {
                c._detectViewport();
                c.options.responsive && c.refresh()
            })
        },
        refresh: function(c) {
            var f = this,
            g = f._getScrollLeft(),
            h = f._getScrollTop();
            c && c.firstLoad || this._reset();
            this._setScrollLeft(0);
            this._setScrollTop(0);
            this._setOffsets();
            this._findParticles();
            this._findBackgrounds();
            c && c.firstLoad && /WebKit/.test(navigator.userAgent) && a(b).load(function() {
                var a = f._getScrollLeft(),
                b = f._getScrollTop();
                f._setScrollLeft(a + 1);
                f._setScrollTop(b + 1);
                f._setScrollLeft(a);
                f._setScrollTop(b)
            });
            this._setScrollLeft(g);
            this._setScrollTop(h)
        },
        _detectViewport: function() {
            var a = this.$viewportElement.offset(),
            b = null !== a && a !== g;
            this.viewportWidth = this.$viewportElement.width();
            this.viewportHeight = this.$viewportElement.height();
            this.viewportOffsetTop = b ? a.top: 0;
            this.viewportOffsetLeft = b ? a.left: 0
        },
        _findParticles: function() {
            var b = this;
            this._getScrollLeft();
            this._getScrollTop();
            if (this.particles !== g) for (var c = this.particles.length - 1; 0 <= c; c--) this.particles[c].$element.data("stellar-elementIsActive", g);
            this.particles = [];
            this.options.parallaxElements && this.$element.find("[data-stellar-ratio]").each(function() {
                var c, f, h, j, k, l, m, p = a(this),
                q = 0,
                r = 0,
                v = 0,
                w = 0;
                if (p.data("stellar-elementIsActive")) {
                    if (p.data("stellar-elementIsActive") !== this) return
                } else p.data("stellar-elementIsActive", this);
                b.options.showElement(p);
                p.data("stellar-startingLeft") ? (p.css("left", p.data("stellar-startingLeft")), p.css("top", p.data("stellar-startingTop"))) : (p.data("stellar-startingLeft", p.css("left")), p.data("stellar-startingTop", p.css("top")));
                h = p.position().left;
                j = p.position().top;
                k = "auto" === p.css("margin-left") ? 0 : parseInt(p.css("margin-left"), 10);
                c = "auto" === p.css("margin-top") ? 0 : parseInt(p.css("margin-top"), 10);
                k = p.offset().left - k;
                m = p.offset().top - c;
                p.parents().each(function() {
                    var b = a(this);
                    return ! 0 === b.data("stellar-offset-parent") ? (q = v, r = w, l = b, !1) : (v += b.position().left, void(w += b.position().top))
                });
                c = p.data("stellar-horizontal-offset") !== g ? p.data("stellar-horizontal-offset") : l !== g && l.data("stellar-horizontal-offset") !== g ? l.data("stellar-horizontal-offset") : b.horizontalOffset;
                f = p.data("stellar-vertical-offset") !== g ? p.data("stellar-vertical-offset") : l !== g && l.data("stellar-vertical-offset") !== g ? l.data("stellar-vertical-offset") : b.verticalOffset;
                b.particles.push({
                    $element: p,
                    $offsetParent: l,
                    isFixed: "fixed" === p.css("position"),
                    horizontalOffset: c,
                    verticalOffset: f,
                    startingPositionLeft: h,
                    startingPositionTop: j,
                    startingOffsetLeft: k,
                    startingOffsetTop: m,
                    parentOffsetLeft: q,
                    parentOffsetTop: r,
                    stellarRatio: p.data("stellar-ratio") !== g ? p.data("stellar-ratio") : 1,
                    width: p.outerWidth(!0),
                    height: p.outerHeight(!0),
                    isHidden: !1
                })
            })
        },
        _findBackgrounds: function() {
            var b, c = this,
            f = this._getScrollLeft(),
            h = this._getScrollTop();
            this.backgrounds = [];
            this.options.parallaxBackgrounds && (b = this.$element.find("[data-stellar-background-ratio]"), this.$element.data("stellar-background-ratio") && (b = b.add(this.$element)), b.each(function() {
                var b, j, k, l, m, p = a(this),
                q = w(p),
                r = 0,
                v = 0,
                u = 0,
                z = 0;
                if (p.data("stellar-backgroundIsActive")) {
                    if (p.data("stellar-backgroundIsActive") !== this) return
                } else p.data("stellar-backgroundIsActive", this);
                p.data("stellar-backgroundStartingLeft") ? F(p, p.data("stellar-backgroundStartingLeft"), p.data("stellar-backgroundStartingTop")) : (p.data("stellar-backgroundStartingLeft", q[0]), p.data("stellar-backgroundStartingTop", q[1]));
                k = "auto" === p.css("margin-left") ? 0 : parseInt(p.css("margin-left"), 10);
                b = "auto" === p.css("margin-top") ? 0 : parseInt(p.css("margin-top"), 10);
                k = p.offset().left - k - f;
                l = p.offset().top - b - h;
                p.parents().each(function() {
                    var b = a(this);
                    return ! 0 === b.data("stellar-offset-parent") ? (r = u, v = z, m = b, !1) : (u += b.position().left, void(z += b.position().top))
                });
                b = p.data("stellar-horizontal-offset") !== g ? p.data("stellar-horizontal-offset") : m !== g && m.data("stellar-horizontal-offset") !== g ? m.data("stellar-horizontal-offset") : c.horizontalOffset;
                j = p.data("stellar-vertical-offset") !== g ? p.data("stellar-vertical-offset") : m !== g && m.data("stellar-vertical-offset") !== g ? m.data("stellar-vertical-offset") : c.verticalOffset;
                c.backgrounds.push({
                    $element: p,
                    $offsetParent: m,
                    isFixed: "fixed" === p.css("background-attachment"),
                    horizontalOffset: b,
                    verticalOffset: j,
                    startingValueLeft: q[0],
                    startingValueTop: q[1],
                    startingBackgroundPositionLeft: isNaN(parseInt(q[0], 10)) ? 0 : parseInt(q[0], 10),
                    startingBackgroundPositionTop: isNaN(parseInt(q[1], 10)) ? 0 : parseInt(q[1], 10),
                    startingPositionLeft: p.position().left,
                    startingPositionTop: p.position().top,
                    startingOffsetLeft: k,
                    startingOffsetTop: l,
                    parentOffsetLeft: r,
                    parentOffsetTop: v,
                    stellarRatio: p.data("stellar-background-ratio") === g ? 1 : p.data("stellar-background-ratio")
                })
            }))
        },
        _reset: function() {
            var a, b, c, f;
            for (f = this.particles.length - 1; 0 <= f; f--) a = this.particles[f],
            b = a.$element.data("stellar-startingLeft"),
            c = a.$element.data("stellar-startingTop"),
            this._setPosition(a.$element, b, b, c, c),
            this.options.showElement(a.$element),
            a.$element.data("stellar-startingLeft", null).data("stellar-elementIsActive", null).data("stellar-backgroundIsActive", null);
            for (f = this.backgrounds.length - 1; 0 <= f; f--) a = this.backgrounds[f],
            a.$element.data("stellar-backgroundStartingLeft", null).data("stellar-backgroundStartingTop", null),
            F(a.$element, a.startingValueLeft, a.startingValueTop)
        },
        destroy: function() {
            this._reset();
            this.$scrollElement.unbind("resize." + this.name).unbind("scroll." + this.name);
            this._animationLoop = a.noop;
            a(b).unbind("load." + this.name).unbind("resize." + this.name)
        },
        _setOffsets: function() {
            var c = this,
            f = a(b);
            f.unbind("resize.horizontal-" + this.name).unbind("resize.vertical-" + this.name);
            "function" == typeof this.options.horizontalOffset ? (this.horizontalOffset = this.options.horizontalOffset(), f.bind("resize.horizontal-" + this.name,
            function() {
                c.horizontalOffset = c.options.horizontalOffset()
            })) : this.horizontalOffset = this.options.horizontalOffset;
            "function" == typeof this.options.verticalOffset ? (this.verticalOffset = this.options.verticalOffset(), f.bind("resize.vertical-" + this.name,
            function() {
                c.verticalOffset = c.options.verticalOffset()
            })) : this.verticalOffset = this.options.verticalOffset
        },
        _repositionElements: function() {
            var a, b, c, f, g, h, j, k = this._getScrollLeft(),
            l = this._getScrollTop(),
            m = !0,
            p = !0;
            if (this.currentScrollLeft !== k || this.currentScrollTop !== l || this.currentWidth !== this.viewportWidth || this.currentHeight !== this.viewportHeight) {
                this.currentScrollLeft = k;
                this.currentScrollTop = l;
                this.currentWidth = this.viewportWidth;
                this.currentHeight = this.viewportHeight;
                for (j = this.particles.length - 1; 0 <= j; j--) a = this.particles[j],
                b = a.isFixed ? 1 : 0,
                this.options.horizontalScrolling ? (c = (k + a.horizontalOffset + this.viewportOffsetLeft + a.startingPositionLeft - a.startingOffsetLeft + a.parentOffsetLeft) * -(a.stellarRatio + b - 1) + a.startingPositionLeft, g = c - a.startingPositionLeft + a.startingOffsetLeft) : (c = a.startingPositionLeft, g = a.startingOffsetLeft),
                this.options.verticalScrolling ? (f = (l + a.verticalOffset + this.viewportOffsetTop + a.startingPositionTop - a.startingOffsetTop + a.parentOffsetTop) * -(a.stellarRatio + b - 1) + a.startingPositionTop, h = f - a.startingPositionTop + a.startingOffsetTop) : (f = a.startingPositionTop, h = a.startingOffsetTop),
                this.options.hideDistantElements && (p = !this.options.horizontalScrolling || g + a.width > (a.isFixed ? 0 : k) && g < (a.isFixed ? 0 : k) + this.viewportWidth + this.viewportOffsetLeft, m = !this.options.verticalScrolling || h + a.height > (a.isFixed ? 0 : l) && h < (a.isFixed ? 0 : l) + this.viewportHeight + this.viewportOffsetTop),
                p && m ? (a.isHidden && (this.options.showElement(a.$element), a.isHidden = !1), this._setPosition(a.$element, c, a.startingPositionLeft, f, a.startingPositionTop)) : a.isHidden || (this.options.hideElement(a.$element), a.isHidden = !0);
                for (j = this.backgrounds.length - 1; 0 <= j; j--) a = this.backgrounds[j],
                b = a.isFixed ? 0 : 1,
                c = this.options.horizontalScrolling ? (k + a.horizontalOffset - this.viewportOffsetLeft - a.startingOffsetLeft + a.parentOffsetLeft - a.startingBackgroundPositionLeft) * (b - a.stellarRatio) + "px": a.startingValueLeft,
                b = this.options.verticalScrolling ? (l + a.verticalOffset - this.viewportOffsetTop - a.startingOffsetTop + a.parentOffsetTop - a.startingBackgroundPositionTop) * (b - a.stellarRatio) + "px": a.startingValueTop,
                F(a.$element, c, b)
            }
        },
        _handleScrollEvent: function() {
            var a = this,
            b = !1,
            c = function() {
                a._repositionElements();
                b = !1
            },
            f = function() {
                b || (J(c), b = !0)
            };
            this.$scrollElement.bind("scroll." + this.name, f);
            f()
        },
        _startAnimationLoop: function() {
            var a = this;
            this._animationLoop = function() {
                J(a._animationLoop);
                a._repositionElements()
            };
            this._animationLoop()
        }
    };
    a.fn[h] = function(b) {
        var c = arguments;
        return b === g || "object" == typeof b ? this.each(function() {
            a.data(this, "plugin_" + h) || a.data(this, "plugin_" + h, new f(this, b))
        }) : "string" == typeof b && "_" !== b[0] && "init" !== b ? this.each(function() {
            var g = a.data(this, "plugin_" + h);
            g instanceof f && "function" == typeof g[b] && g[b].apply(g, Array.prototype.slice.call(c, 1));
            "destroy" === b && a.data(this, "plugin_" + h, null)
        }) : void 0
    };
    a[h] = function() {
        var c = a(b);
        return c.stellar.apply(c, Array.prototype.slice.call(arguments, 0))
    };
    a[h].scrollProperty = k;
    a[h].positionProperty = m;
    b.Stellar = f
} (jQuery, this, document); (function(a, b) {
    "$:nomunge";
    var c = {
        delay: 100,
        batch: 1,
        queue: []
    };
    a.jqmq = function(g) {
        function f() {
            r && clearTimeout(r);
            r = b
        }
        var h = {},
        j = a.extend(!0, {},
        c, g),
        k = j.queue,
        m = j.paused,
        q = [],
        r,
        p,
        l,
        z,
        F;
        h.add = function(a, b) {
            return l([a], b)
        };
        h.addEach = l = function(a, b) {
            a && (p = !1, k = b ? a.concat(k) : k.concat(a), m || F());
            return z()
        };
        h.start = F = function() {
            m = !1;
            z() && (!r && !q.length) &&
            function J() {
                var a = j.delay,
                b = j.batch,
                c = j.complete,
                g = j.callback;
                f();
                if (z()) {
                    q = k.splice(0, b);
                    if (g && !0 === g.call(h, 1 === b ? q[0] : q)) k = q.concat(k),
                    q = [];
                    "number" === typeof a && 0 <= a && (q = [], r = setTimeout(J, a))
                } else p = !0,
                c && c.call(h)
            } ()
        };
        h.next = function(a) {
            var b = j.complete;
            a && (k = q.concat(k));
            q = [];
            z() ? m || F() : p || (p = !0, b && b.call(h))
        };
        h.clear = function() {
            var a = k;
            f();
            k = [];
            p = !0;
            q = [];
            return a
        };
        h.pause = function() {
            f();
            m = !0
        };
        h.update = function(b) {
            a.extend(j, b)
        };
        h.size = z = function() {
            return k.length
        };
        h.indexOf = function(b) {
            return a.inArray(b, k)
        };
        m || F();
        return h
    };
    a.fn.jqmqAdd = function(a, b) {
        a.add(this.get(), b);
        return this
    };
    a.fn.jqmqAddEach = function(a, b) {
        a.addEach(this.get(), b);
        return this
    }
})(jQuery); (function(a) {
    "undefined" !== typeof module && module.exports ? module.exports = a: a(jQuery, window, document)
})(function(a) {
    var b = "undefined" !== typeof module && module.exports,
    c = "https:" == document.location.protocol ? "https:": "http:";
    "function" === typeof define && define.amd || (b ? require("jquery-mousewheel")(a) : a.event.special.mousewheel || a("head").append(decodeURI("%3Cscript src=" + c + "//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E")));
    var g = "mCS",
    f = {
        setTop: 0,
        setLeft: 0,
        axis: "y",
        scrollbarPosition: "inside",
        scrollInertia: 950,
        autoDraggerLength: !0,
        alwaysShowScrollbar: 0,
        snapOffset: 0,
        mouseWheel: {
            enable: !0,
            scrollAmount: "auto",
            axis: "y",
            deltaFactor: "auto",
            disableOver: ["select", "option", "keygen", "datalist", "textarea"]
        },
        scrollButtons: {
            scrollType: "stepless",
            scrollAmount: "auto"
        },
        keyboard: {
            enable: !0,
            scrollType: "stepless",
            scrollAmount: "auto"
        },
        contentTouchScroll: 25,
        documentTouchScroll: !0,
        advanced: {
            autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
            updateOnContentResize: !0,
            updateOnImageLoad: "auto",
            autoUpdateTimeout: 60
        },
        theme: "light",
        callbacks: {
            onTotalScrollOffset: 0,
            onTotalScrollBackOffset: 0,
            alwaysTriggerOffsets: !0
        }
    },
    h = 0,
    j = {},
    k = window.attachEvent && !window.addEventListener ? 1 : 0,
    m = !1,
    q,
    r = "mCSB_dragger_onDrag mCSB_scrollTools_onDrag mCS_img_loaded mCS_disabled mCS_destroyed mCS_no_scrollbar mCS-autoHide mCS-dir-rtl mCS_no_scrollbar_y mCS_no_scrollbar_x mCS_y_hidden mCS_x_hidden mCSB_draggerContainer mCSB_buttonUp mCSB_buttonDown mCSB_buttonLeft mCSB_buttonRight".split(" "),
    p = {
        init: function(b) {
            var b = a.extend(!0, {},
            f, b),
            c = l.call(this);
            if (b.live) {
                var k = b.liveSelector || this.selector || ".mCustomScrollbar",
                m = a(k);
                if ("off" === b.live) {
                    F(k);
                    return
                }
                j[k] = setTimeout(function() {
                    m.mCustomScrollbar(b);
                    "once" === b.live && m.length && F(k)
                },
                500)
            } else F(k);
            b.setWidth = b.set_width ? b.set_width: b.setWidth;
            b.setHeight = b.set_height ? b.set_height: b.setHeight;
            b.axis = b.horizontalScroll ? "x": "yx" === b.axis || "xy" === b.axis || "auto" === b.axis ? "yx": "x" === b.axis || "horizontal" === b.axis ? "x": "y";
            b.scrollInertia = 0 < b.scrollInertia && 17 > b.scrollInertia ? 17 : b.scrollInertia;
            "object" !== typeof b.mouseWheel && !0 == b.mouseWheel && (b.mouseWheel = {
                enable: !0,
                scrollAmount: "auto",
                axis: "y",
                preventDefault: !1,
                deltaFactor: "auto",
                normalizeDelta: !1,
                invert: !1
            });
            b.mouseWheel.scrollAmount = !b.mouseWheelPixels ? b.mouseWheel.scrollAmount: b.mouseWheelPixels;
            b.mouseWheel.normalizeDelta = !b.advanced.normalizeMouseWheelDelta ? b.mouseWheel.normalizeDelta: b.advanced.normalizeMouseWheelDelta;
            b.scrollButtons.scrollType = "stepped" === b.scrollButtons.scrollType || "pixels" === b.scrollButtons.scrollType || "step" === b.scrollButtons.scrollType || "click" === b.scrollButtons.scrollType ? "stepped": "stepless";
            z(b);
            return a(c).each(function() {
                var c = a(this);
                if (!c.data(g)) {
                    c.data(g, {
                        idx: ++h,
                        opt: b,
                        scrollRatio: {
                            y: null,
                            x: null
                        },
                        overflowed: null,
                        contentReset: {
                            y: null,
                            x: null
                        },
                        bindEvents: !1,
                        tweenRunning: !1,
                        sequential: {},
                        langDir: c.css("direction"),
                        cbOffsets: null,
                        trigger: null,
                        poll: {
                            size: {
                                o: 0,
                                n: 0
                            },
                            img: {
                                o: 0,
                                n: 0
                            },
                            change: {
                                o: 0,
                                n: 0
                            }
                        }
                    });
                    var f = c.data(g),
                    j = f.opt,
                    k = c.data("mcs-axis"),
                    l = c.data("mcs-scrollbar-position"),
                    m = c.data("mcs-theme");
                    k && (j.axis = k);
                    l && (j.scrollbarPosition = l);
                    m && (j.theme = m, z(j));
                    var l = a(this),
                    k = l.data(g),
                    m = k.opt,
                    q = m.autoExpandScrollbar ? " " + r[1] + "_expand": "",
                    q = ["<div id='mCSB_" + k.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + k.idx + "_scrollbar mCS-" + m.theme + " mCSB_scrollTools_vertical" + q + "'><div class='" + r[12] + "'><div id='mCSB_" + k.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + k.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + k.idx + "_scrollbar mCS-" + m.theme + " mCSB_scrollTools_horizontal" + q + "'><div class='" + r[12] + "'><div id='mCSB_" + k.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                    v = "yx" === m.axis ? "mCSB_vertical_horizontal": "x" === m.axis ? "mCSB_horizontal": "mCSB_vertical",
                    q = "yx" === m.axis ? q[0] + q[1] : "x" === m.axis ? q[1] : q[0],
                    B = "yx" === m.axis ? "<div id='mCSB_" + k.idx + "_container_wrapper' class='mCSB_container_wrapper' />": "",
                    u = m.autoHideScrollbar ? " " + r[6] : "",
                    y = "x" !== m.axis && "rtl" === k.langDir ? " " + r[7] : "";
                    m.setWidth && l.css("width", m.setWidth);
                    m.setHeight && l.css("height", m.setHeight);
                    m.setLeft = "y" !== m.axis && "rtl" === k.langDir ? "989999px": m.setLeft;
                    l.addClass("mCustomScrollbar _" + g + "_" + k.idx + u + y).wrapInner("<div id='mCSB_" + k.idx + "' class='mCustomScrollBox mCS-" + m.theme + " " + v + "'><div id='mCSB_" + k.idx + "_container' class='mCSB_container' style='position:relative; top:" + m.setTop + "; left:" + m.setLeft + ";' dir=" + k.langDir + " /></div>");
                    v = a("#mCSB_" + k.idx);
                    u = a("#mCSB_" + k.idx + "_container");
                    "y" !== m.axis && !m.advanced.autoExpandHorizontalScroll && u.css("width", w(u));
                    "outside" === m.scrollbarPosition ? ("static" === l.css("position") && l.css("position", "relative"), l.css("overflow", "visible"), v.addClass("mCSB_outside").after(q)) : (v.addClass("mCSB_inside").append(q), u.wrap(B));
                    m = a(this).data(g);
                    l = m.opt;
                    m = a(".mCSB_" + m.idx + "_scrollbar:first");
                    q = !Q(l.scrollButtons.tabindex) ? "": "tabindex='" + l.scrollButtons.tabindex + "'";
                    q = ["<a href='#' class='" + r[13] + "' oncontextmenu='return false;' " + q + " />", "<a href='#' class='" + r[14] + "' oncontextmenu='return false;' " + q + " />", "<a href='#' class='" + r[15] + "' oncontextmenu='return false;' " + q + " />", "<a href='#' class='" + r[16] + "' oncontextmenu='return false;' " + q + " />"];
                    q = ["x" === l.axis ? q[2] : q[0], "x" === l.axis ? q[3] : q[1], q[2], q[3]];
                    l.scrollButtons.enable && m.prepend(q[0]).append(q[1]).next(".mCSB_scrollTools").prepend(q[2]).append(q[3]);
                    k = [a("#mCSB_" + k.idx + "_dragger_vertical"), a("#mCSB_" + k.idx + "_dragger_horizontal")];
                    k[0].css("min-height", k[0].height());
                    k[1].css("min-width", k[1].width());
                    f && (j.callbacks.onCreate && "function" === typeof j.callbacks.onCreate) && j.callbacks.onCreate.call(this);
                    a("#mCSB_" + f.idx + "_container img:not(." + r[2] + ")").addClass(r[2]);
                    p.update.call(null, c)
                }
            })
        },
        update: function(b, c) {
            var f = b || l.call(this);
            return a(f).each(function() {
                var b = a(this);
                if (b.data(g)) {
                    var f = b.data(g),
                    h = f.opt,
                    j = a("#mCSB_" + f.idx + "_container"),
                    l = a("#mCSB_" + f.idx),
                    p = [a("#mCSB_" + f.idx + "_dragger_vertical"), a("#mCSB_" + f.idx + "_dragger_horizontal")];
                    if (j.length) {
                        f.tweenRunning && A(b);
                        c && (f && h.callbacks.onBeforeUpdate && "function" === typeof h.callbacks.onBeforeUpdate) && h.callbacks.onBeforeUpdate.call(this);
                        b.hasClass(r[3]) && b.removeClass(r[3]);
                        b.hasClass(r[4]) && b.removeClass(r[4]);
                        l.css("max-height", "none");
                        l.height() !== b.height() && l.css("max-height", b.height());
                        var v = a(this).data(g),
                        M = v.opt,
                        z = a("#mCSB_" + v.idx + "_container");
                        if (M.advanced.autoExpandHorizontalScroll && "y" !== M.axis) {
                            z.css({
                                width: "auto",
                                "min-width": 0,
                                "overflow-x": "scroll"
                            });
                            var x = Math.ceil(z[0].scrollWidth);
                            3 === M.advanced.autoExpandHorizontalScroll || 2 !== M.advanced.autoExpandHorizontalScroll && x > z.parent().width() ? z.css({
                                width: x,
                                "min-width": "100%",
                                "overflow-x": "inherit"
                            }) : z.css({
                                "overflow-x": "inherit",
                                position: "absolute"
                            }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                                width: Math.ceil(z[0].getBoundingClientRect().right + 0.4) - Math.floor(z[0].getBoundingClientRect().left),
                                "min-width": "100%",
                                position: "relative"
                            }).unwrap()
                        }
                        "y" !== h.axis && !h.advanced.autoExpandHorizontalScroll && j.css("width", w(j));
                        var F, G = a(this).data(g),
                        la = a("#mCSB_" + G.idx),
                        N = a("#mCSB_" + G.idx + "_container"),
                        Q = null == G.overflowed ? N.height() : N.outerHeight(!1),
                        Ya = null == G.overflowed ? N.width() : N.outerWidth(!1),
                        Ca = N[0].scrollHeight,
                        Da = N[0].scrollWidth;
                        Ca > Q && (Q = Ca);
                        Da > Ya && (Ya = Da);
                        F = [Q > la.height(), Ya > la.width()];
                        f.overflowed = F;
                        D.call(this);
                        if (h.autoDraggerLength) {
                            var n = a(this).data(g),
                            ha = a("#mCSB_" + n.idx),
                            ea = a("#mCSB_" + n.idx + "_container"),
                            aa = [a("#mCSB_" + n.idx + "_dragger_vertical"), a("#mCSB_" + n.idx + "_dragger_horizontal")],
                            Ia = [ha.height() / ea.outerHeight(!1), ha.width() / ea.outerWidth(!1)],
                            pa = [parseInt(aa[0].css("min-height")), Math.round(Ia[0] * aa[0].parent().height()), parseInt(aa[1].css("min-width")), Math.round(Ia[1] * aa[1].parent().width())],
                            ya = k && pa[3] < pa[2] ? pa[2] : pa[3];
                            aa[0].css({
                                height: k && pa[1] < pa[0] ? pa[0] : pa[1],
                                "max-height": aa[0].parent().height() - 10
                            }).find(".mCSB_dragger_bar").css({
                                "line-height": pa[0] + "px"
                            });
                            aa[1].css({
                                width: ya,
                                "max-width": aa[1].parent().width() - 10
                            })
                        }
                        var ua = a(this).data(g),
                        za = a("#mCSB_" + ua.idx),
                        Za = a("#mCSB_" + ua.idx + "_container"),
                        T = [a("#mCSB_" + ua.idx + "_dragger_vertical"), a("#mCSB_" + ua.idx + "_dragger_horizontal")],
                        ca = [Za.outerHeight(!1) - za.height(), Za.outerWidth(!1) - za.width()],
                        da = [ca[0] / (T[0].parent().height() - T[0].height()), ca[1] / (T[1].parent().width() - T[1].width())];
                        ua.scrollRatio = {
                            y: da[0],
                            x: da[1]
                        };
                        var fa = a(this),
                        Na = fa.data(g),
                        wa = Na.opt;
                        if (!Na.bindEvents) {
                            var Y = function(a) {
                                var b = Nb.find("iframe");
                                b.length && b.css("pointer-events", !a ? "none": "auto")
                            },
                            Oa = function(a, b, c, f) {
                                Nb[0].idleTimer = 233 > Ka.scrollInertia ? 250 : 0;
                                if (va.attr("id") === Ib[1]) var g = "x",
                                a = (va[0].offsetLeft - b + f) * na.scrollRatio.x;
                                else g = "y",
                                a = (va[0].offsetTop - a + c) * na.scrollRatio.y;
                                B(oa, a.toString(), {
                                    dir: g,
                                    drag: !0
                                })
                            },
                            oa = a(this),
                            na = oa.data(g),
                            Ka = na.opt,
                            xa = g + "_" + na.idx,
                            Ib = ["mCSB_" + na.idx + "_dragger_vertical", "mCSB_" + na.idx + "_dragger_horizontal"],
                            Nb = a("#mCSB_" + na.idx + "_container"),
                            Pa = a("#" + Ib[0] + ",#" + Ib[1]),
                            va,
                            $a,
                            ab,
                            Jb = Ka.advanced.releaseDraggableSelectors ? Pa.add(a(Ka.advanced.releaseDraggableSelectors)) : Pa,
                            Kb = Ka.advanced.extraDraggableSelectors ? a(!I() || top.document).add(a(Ka.advanced.extraDraggableSelectors)) : a(!I() || top.document);
                            Pa.bind("mousedown." + xa + " touchstart." + xa + " pointerdown." + xa + " MSPointerDown." + xa,
                            function(b) {
                                b.stopImmediatePropagation();
                                b.preventDefault();
                                if (! (b.which && 1 !== b.which)) {
                                    m = !0;
                                    k && (document.onselectstart = function() {
                                        return ! 1
                                    });
                                    Y(!1);
                                    A(oa);
                                    va = a(this);
                                    var c = va.offset(),
                                    f = E(b)[0] - c.top,
                                    b = E(b)[1] - c.left,
                                    g = va.height() + c.top,
                                    c = va.width() + c.left;
                                    f < g && (0 < f && b < c && 0 < b) && ($a = f, ab = b);
                                    J(va, "active", Ka.autoExpandScrollbar)
                                }
                            }).bind("touchmove." + xa,
                            function(a) {
                                a.stopImmediatePropagation();
                                a.preventDefault();
                                var b = va.offset(),
                                c = E(a)[0] - b.top,
                                a = E(a)[1] - b.left;
                                Oa($a, ab, c, a)
                            });
                            a(document).add(Kb).bind("mousemove." + xa + " pointermove." + xa + " MSPointerMove." + xa,
                            function(a) {
                                if (va) {
                                    var b = va.offset(),
                                    c = E(a)[0] - b.top,
                                    a = E(a)[1] - b.left;
                                    $a === c && ab === a || Oa($a, ab, c, a)
                                }
                            }).add(Jb).bind("mouseup." + xa + " touchend." + xa + " pointerup." + xa + " MSPointerUp." + xa,
                            function() {
                                va && (J(va, "active", Ka.autoExpandScrollbar), va = null);
                                m = !1;
                                k && (document.onselectstart = null);
                                Y(!0)
                            });
                            if (wa.contentTouchScroll) {
                                var mb = function(a) {
                                    if (!S(a) || m || E(a)[2]) q = 0;
                                    else {
                                        q = 1;
                                        Wa = wb = 0;
                                        qa = 1;
                                        X.removeClass("mCS_touch_action");
                                        var b = Ba.offset();
                                        sa = E(a)[0] - b.top;
                                        R = E(a)[1] - b.left;
                                        Ua = [E(a)[0], E(a)[1]]
                                    }
                                },
                                ub = function(a) {
                                    if (S(a) && (!m && !E(a)[2]) && (Aa.documentTouchScroll || a.preventDefault(), a.stopImmediatePropagation(), (!Wa || wb) && qa)) {
                                        Ta = L();
                                        var b = cb.offset(),
                                        c = E(a)[0] - b.top,
                                        b = E(a)[1] - b.left;
                                        ba.push(c);
                                        kb.push(b);
                                        Ua[2] = Math.abs(E(a)[0] - Ua[0]);
                                        Ua[3] = Math.abs(E(a)[1] - Ua[1]);
                                        if (ra.overflowed[0]) var f = Ja[0].parent().height() - Ja[0].height(),
                                        f = 0 < sa - c && c - sa > -(f * ra.scrollRatio.y) && (2 * Ua[3] < Ua[2] || "yx" === Aa.axis);
                                        if (ra.overflowed[1]) var g = Ja[1].parent().width() - Ja[1].width(),
                                        g = 0 < R - b && b - R > -(g * ra.scrollRatio.x) && (2 * Ua[2] < Ua[3] || "yx" === Aa.axis);
                                        f || g ? (ib || a.preventDefault(), wb = 1) : (Wa = 1, X.addClass("mCS_touch_action"));
                                        ib && a.preventDefault();
                                        Va = "yx" === Aa.axis ? [sa - c, R - b] : "x" === Aa.axis ? [null, R - b] : [sa - c, null];
                                        Ba[0].idleTimer = 250;
                                        ra.overflowed[0] && bb(Va[0], $b, "mcsLinearOut", "y", "all", !0);
                                        ra.overflowed[1] && bb(Va[1], $b, "mcsLinearOut", "x", ob, !0)
                                    }
                                },
                                vb = function(a) {
                                    if (!S(a) || m || E(a)[2]) q = 0;
                                    else {
                                        q = 1;
                                        a.stopImmediatePropagation();
                                        A(X);
                                        ma = L();
                                        var b = cb.offset();
                                        P = E(a)[0] - b.top;
                                        ta = E(a)[1] - b.left;
                                        ba = [];
                                        kb = []
                                    }
                                },
                                db = function(a) {
                                    if (S(a) && !m && !E(a)[2]) {
                                        qa = 0;
                                        a.stopImmediatePropagation();
                                        Wa = wb = 0;
                                        Qa = L();
                                        var b = cb.offset(),
                                        c = E(a)[0] - b.top,
                                        b = E(a)[1] - b.left;
                                        if (! (30 < Qa - Ta)) {
                                            eb = 1E3 / (Qa - ma);
                                            var f = (a = 2.5 > eb) ? [ba[ba.length - 2], kb[kb.length - 2]] : [0, 0];
                                            tb = a ? [c - f[0], b - f[1]] : [c - P, b - ta];
                                            c = [Math.abs(tb[0]), Math.abs(tb[1])];
                                            eb = a ? [Math.abs(tb[0] / 4), Math.abs(tb[1] / 4)] : [eb, eb];
                                            a = [Math.abs(Ba[0].offsetTop) - tb[0] * ja(c[0] / eb[0], eb[0]), Math.abs(Ba[0].offsetLeft) - tb[1] * ja(c[1] / eb[1], eb[1])];
                                            Va = "yx" === Aa.axis ? [a[0], a[1]] : "x" === Aa.axis ? [null, a[1]] : [a[0], null];
                                            gb = [4 * c[0] + Aa.scrollInertia, 4 * c[1] + Aa.scrollInertia];
                                            a = parseInt(Aa.contentTouchScroll) || 0;
                                            Va[0] = c[0] > a ? Va[0] : 0;
                                            Va[1] = c[1] > a ? Va[1] : 0;
                                            ra.overflowed[0] && bb(Va[0], gb[0], "mcsEaseOut", "y", ob, !1);
                                            ra.overflowed[1] && bb(Va[1], gb[1], "mcsEaseOut", "x", ob, !1)
                                        }
                                    }
                                },
                                ja = function(a, b) {
                                    var c = [1.5 * b, 2 * b, b / 1.5, b / 2];
                                    return 90 < a ? 4 < b ? c[0] : c[3] : 60 < a ? 3 < b ? c[3] : c[2] : 30 < a ? 8 < b ? c[1] : 6 < b ? c[0] : 4 < b ? b: c[2] : 8 < b ? b: c[3]
                                },
                                bb = function(a, b, c, f, g, h) {
                                    a && B(X, a.toString(), {
                                        dur: b,
                                        scrollEasing: c,
                                        dir: f,
                                        overwrite: g,
                                        drag: h
                                    })
                                },
                                X = a(this),
                                ra = X.data(g),
                                Aa = ra.opt,
                                Ea = g + "_" + ra.idx,
                                cb = a("#mCSB_" + ra.idx),
                                Ba = a("#mCSB_" + ra.idx + "_container"),
                                Ja = [a("#mCSB_" + ra.idx + "_dragger_vertical"), a("#mCSB_" + ra.idx + "_dragger_horizontal")],
                                qa,
                                sa,
                                R,
                                P,
                                ta,
                                ba = [],
                                kb = [],
                                ma,
                                Ta,
                                Qa,
                                tb,
                                eb,
                                Va,
                                $b = 0,
                                gb,
                                ob = "yx" === Aa.axis ? "none": "all",
                                Ua = [],
                                wb,
                                Wa,
                                ic = Ba.find("iframe"),
                                xb = ["touchstart." + Ea + " pointerdown." + Ea + " MSPointerDown." + Ea, "touchmove." + Ea + " pointermove." + Ea + " MSPointerMove." + Ea, "touchend." + Ea + " pointerup." + Ea + " MSPointerUp." + Ea],
                                ib = void 0 !== document.body.style.touchAction;
                                Ba.bind(xb[0],
                                function(a) {
                                    mb(a)
                                }).bind(xb[1],
                                function(a) {
                                    ub(a)
                                });
                                cb.bind(xb[0],
                                function(a) {
                                    vb(a)
                                }).bind(xb[2],
                                function(a) {
                                    db(a)
                                });
                                ic.length && ic.each(function() {
                                    a(this).load(function() {
                                        I(this) && a(this.contentDocument || this.contentWindow.document).bind(xb[0],
                                        function(a) {
                                            mb(a);
                                            vb(a)
                                        }).bind(xb[1],
                                        function(a) {
                                            ub(a)
                                        }).bind(xb[2],
                                        function(a) {
                                            db(a)
                                        })
                                    })
                                })
                            }
                            var yb = function(a, b, c) {
                                ac.type = c && Fb ? "stepped": "stepless";
                                ac.scrollAmount = 10;
                                K(nb, a, b, "mcsLinearOut", c ? 60 : null)
                            },
                            nb = a(this),
                            ka = nb.data(g),
                            rc = ka.opt,
                            ac = ka.sequential,
                            Mb = g + "_" + ka.idx,
                            Zb = a("#mCSB_" + ka.idx + "_container"),
                            hc = Zb.parent(),
                            Fb;
                            Zb.bind("mousedown." + Mb,
                            function() { ! q && !Fb && (Fb = 1, m = !0)
                            }).add(document).bind("mousemove." + Mb,
                            function(a) {
                                if (!q && Fb && (window.getSelection ? window.getSelection().toString() : document.selection && "Control" != document.selection.type && document.selection.createRange().text)) {
                                    var b = Zb.offset(),
                                    c = E(a)[0] - b.top + Zb[0].offsetTop,
                                    a = E(a)[1] - b.left + Zb[0].offsetLeft;
                                    0 < c && c < hc.height() && 0 < a && a < hc.width() ? ac.step && yb("off", null, "stepped") : ("x" !== rc.axis && ka.overflowed[0] && (0 > c ? yb("on", 38) : c > hc.height() && yb("on", 40)), "y" !== rc.axis && ka.overflowed[1] && (0 > a ? yb("on", 37) : a > hc.width() && yb("on", 39)))
                                }
                            }).bind("mouseup." + Mb + " dragend." + Mb,
                            function() {
                                q || (Fb && (Fb = 0, yb("off", null)), m = !1)
                            });
                            if (wa.mouseWheel.enable) {
                                var yc = function() {
                                    zc = setTimeout(function() {
                                        a.event.special.mousewheel ? (clearTimeout(zc), y.call(fa[0])) : yc()
                                    },
                                    100)
                                },
                                zc;
                                yc()
                            }
                            var sc = a(this),
                            Hb = sc.data(g),
                            pb = g + "_" + Hb.idx,
                            pc = a("#mCSB_" + Hb.idx + "_container"),
                            Ac = pc.parent(),
                            tc;
                            a(".mCSB_" + Hb.idx + "_scrollbar ." + r[12]).bind("mousedown." + pb + " touchstart." + pb + " pointerdown." + pb + " MSPointerDown." + pb,
                            function(b) {
                                m = !0;
                                a(b.target).hasClass("mCSB_dragger") || (tc = 1)
                            }).bind("touchend." + pb + " pointerup." + pb + " MSPointerUp." + pb,
                            function() {
                                m = !1
                            }).bind("click." + pb,
                            function(b) {
                                if (tc && (tc = 0, a(b.target).hasClass(r[12]) || a(b.target).hasClass("mCSB_draggerRail"))) {
                                    A(sc);
                                    var c = a(this),
                                    f = c.find(".mCSB_dragger");
                                    if (0 < c.parent(".mCSB_scrollTools_horizontal").length) {
                                        if (!Hb.overflowed[1]) return;
                                        c = "x";
                                        b = b.pageX > f.offset().left ? -1 : 1;
                                        b = Math.abs(pc[0].offsetLeft) - b * 0.9 * Ac.width()
                                    } else {
                                        if (!Hb.overflowed[0]) return;
                                        c = "y";
                                        b = b.pageY > f.offset().top ? -1 : 1;
                                        b = Math.abs(pc[0].offsetTop) - b * 0.9 * Ac.height()
                                    }
                                    B(sc, b.toString(), {
                                        dir: c,
                                        scrollEasing: "mcsEaseInOut"
                                    })
                                }
                            });
                            var qc = a(this).data(g),
                            Gb = g + "_" + qc.idx,
                            lb = a("#mCSB_" + qc.idx + "_container").parent();
                            lb.bind("scroll." + Gb,
                            function() { (0 !== lb.scrollTop() || 0 !== lb.scrollLeft()) && a(".mCSB_" + qc.idx + "_scrollbar").css("visibility", "hidden")
                            });
                            if (wa.advanced.autoScrollOnFocus) {
                                var Ob = a(this),
                                jc = Ob.data(g),
                                kc = jc.opt,
                                Z = g + "_" + jc.idx,
                                Pb = a("#mCSB_" + jc.idx + "_container"),
                                zb = Pb.parent();
                                Pb.bind("focusin." + Z,
                                function() {
                                    var b = a(document.activeElement),
                                    c = Pb.find(".mCustomScrollBox").length;
                                    b.is(kc.advanced.autoScrollOnFocus) && (A(Ob), clearTimeout(Ob[0]._focusTimeout), Ob[0]._focusTimer = c ? 17 * c: 0, Ob[0]._focusTimeout = setTimeout(function() {
                                        var a = [O(b)[0], O(b)[1]],
                                        c = [Pb[0].offsetTop, Pb[0].offsetLeft],
                                        c = [0 <= c[0] + a[0] && c[0] + a[0] < zb.height() - b.outerHeight(!1), 0 <= c[1] + a[1] && c[0] + a[1] < zb.width() - b.outerWidth(!1)],
                                        f = "yx" === kc.axis && !c[0] && !c[1] ? "none": "all";
                                        "x" !== kc.axis && !c[0] && B(Ob, a[0].toString(), {
                                            dir: "y",
                                            scrollEasing: "mcsEaseInOut",
                                            overwrite: f,
                                            dur: 0
                                        });
                                        "y" !== kc.axis && !c[1] && B(Ob, a[1].toString(), {
                                            dir: "x",
                                            scrollEasing: "mcsEaseInOut",
                                            overwrite: f,
                                            dur: 0
                                        })
                                    },
                                    Ob[0]._focusTimer))
                                })
                            }
                            if (wa.scrollButtons.enable) {
                                var Fa = a(this),
                                Ab = Fa.data(g),
                                bc = Ab.opt,
                                Bb = Ab.sequential,
                                Ra = g + "_" + Ab.idx;
                                a(".mCSB_" + Ab.idx + "_scrollbar>a").bind("mousedown." + Ra + " touchstart." + Ra + " pointerdown." + Ra + " MSPointerDown." + Ra + " mouseup." + Ra + " touchend." + Ra + " pointerup." + Ra + " MSPointerUp." + Ra + " mouseout." + Ra + " pointerout." + Ra + " MSPointerOut." + Ra + " click." + Ra,
                                function(b) {
                                    function c(a, b) {
                                        Bb.scrollAmount = bc.scrollButtons.scrollAmount;
                                        K(Fa, a, b)
                                    }
                                    b.preventDefault();
                                    if (! (b.which && 1 !== b.which)) {
                                        var f = a(this).attr("class");
                                        Bb.type = bc.scrollButtons.scrollType;
                                        switch (b.type) {
                                        case "mousedown":
                                        case "touchstart":
                                        case "pointerdown":
                                        case "MSPointerDown":
                                            if ("stepped" === Bb.type) break;
                                            m = !0;
                                            Ab.tweenRunning = !1;
                                            c("on", f);
                                            break;
                                        case "mouseup":
                                        case "touchend":
                                        case "pointerup":
                                        case "MSPointerUp":
                                        case "mouseout":
                                        case "pointerout":
                                        case "MSPointerOut":
                                            if ("stepped" === Bb.type) break;
                                            m = !1;
                                            Bb.dir && c("off", f);
                                            break;
                                        case "click":
                                            if ("stepped" !== Bb.type || Ab.tweenRunning) break;
                                            c("on", f)
                                        }
                                    }
                                })
                            }
                            if (wa.keyboard.enable) {
                                var uc = function(b) {
                                    function c(a, b) {
                                        fc.type = Qb.keyboard.scrollType;
                                        fc.scrollAmount = Qb.keyboard.scrollAmount;
                                        "stepped" === fc.type && U.tweenRunning || K(Cb, a, b)
                                    }
                                    switch (b.type) {
                                    case "blur":
                                        U.tweenRunning && fc.dir && c("off", null);
                                        break;
                                    case "keydown":
                                    case "keyup":
                                        var f = b.keyCode ? b.keyCode: b.which,
                                        g = "on";
                                        if ("x" !== Qb.axis && (38 === f || 40 === f) || "y" !== Qb.axis && (37 === f || 39 === f)) {
                                            if ((38 === f || 40 === f) && !U.overflowed[0] || (37 === f || 39 === f) && !U.overflowed[1]) break;
                                            "keyup" === b.type && (g = "off");
                                            a(document.activeElement).is(Bc) || (b.preventDefault(), b.stopImmediatePropagation(), c(g, f))
                                        } else if (33 === f || 34 === f) {
                                            if (U.overflowed[0] || U.overflowed[1]) b.preventDefault(),
                                            b.stopImmediatePropagation();
                                            "keyup" === b.type && (A(Cb), f = 34 === f ? -1 : 1, "x" === Qb.axis || "yx" === Qb.axis && U.overflowed[1] && !U.overflowed[0] ? (b = "x", f = Math.abs(Rb[0].offsetLeft) - f * 0.9 * Tb.width()) : (b = "y", f = Math.abs(Rb[0].offsetTop) - f * 0.9 * Tb.height()), B(Cb, f.toString(), {
                                                dir: b,
                                                scrollEasing: "mcsEaseInOut"
                                            }))
                                        } else if ((35 === f || 36 === f) && !a(document.activeElement).is(Bc)) {
                                            if (U.overflowed[0] || U.overflowed[1]) b.preventDefault(),
                                            b.stopImmediatePropagation();
                                            "keyup" === b.type && ("x" === Qb.axis || "yx" === Qb.axis && U.overflowed[1] && !U.overflowed[0] ? (b = "x", f = 35 === f ? Math.abs(Tb.width() - Rb.outerWidth(!1)) : 0) : (b = "y", f = 35 === f ? Math.abs(Tb.height() - Rb.outerHeight(!1)) : 0), B(Cb, f.toString(), {
                                                dir: b,
                                                scrollEasing: "mcsEaseInOut"
                                            }))
                                        }
                                    }
                                },
                                Cb = a(this),
                                U = Cb.data(g),
                                Qb = U.opt,
                                fc = U.sequential,
                                mc = g + "_" + U.idx,
                                Sb = a("#mCSB_" + U.idx),
                                Rb = a("#mCSB_" + U.idx + "_container"),
                                Tb = Rb.parent(),
                                Bc = "input,textarea,select,datalist,keygen,[contenteditable='true']",
                                Cc = Rb.find("iframe"),
                                Dc = ["blur." + mc + " keydown." + mc + " keyup." + mc];
                                Cc.length && Cc.each(function() {
                                    a(this).load(function() {
                                        I(this) && a(this.contentDocument || this.contentWindow.document).bind(Dc[0],
                                        function(a) {
                                            uc(a)
                                        })
                                    })
                                });
                                Sb.attr("tabindex", "0").bind(Dc[0],
                                function(a) {
                                    uc(a)
                                })
                            }
                            Na.bindEvents = !0
                        }
                        var Ub = [Math.abs(j[0].offsetTop), Math.abs(j[0].offsetLeft)];
                        "x" !== h.axis && (f.overflowed[0] ? p[0].height() > p[0].parent().height() ? u.call(this) : (B(b, Ub[0].toString(), {
                            dir: "y",
                            dur: 0,
                            overwrite: "none"
                        }), f.contentReset.y = null) : (u.call(this), "y" === h.axis ? C.call(this) : "yx" === h.axis && f.overflowed[1] && B(b, Ub[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                        })));
                        "y" !== h.axis && (f.overflowed[1] ? p[1].width() > p[1].parent().width() ? u.call(this) : (B(b, Ub[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                        }), f.contentReset.x = null) : (u.call(this), "x" === h.axis ? C.call(this) : "yx" === h.axis && f.overflowed[0] && B(b, Ub[0].toString(), {
                            dir: "y",
                            dur: 0,
                            overwrite: "none"
                        })));
                        c && f && (2 === c && h.callbacks.onImageLoad && "function" === typeof h.callbacks.onImageLoad ? h.callbacks.onImageLoad.call(this) : 3 === c && h.callbacks.onSelectorChange && "function" === typeof h.callbacks.onSelectorChange ? h.callbacks.onSelectorChange.call(this) : h.callbacks.onUpdate && "function" === typeof h.callbacks.onUpdate && h.callbacks.onUpdate.call(this));
                        H.call(this)
                    }
                }
            })
        },
        scrollTo: function(b, c) {
            if (! ("undefined" == typeof b || null == b)) {
                var f = l.call(this);
                return a(f).each(function() {
                    var f = a(this);
                    if (f.data(g)) {
                        var h = f.data(g),
                        j = h.opt,
                        k = a.extend(!0, {},
                        {
                            trigger: "external",
                            scrollInertia: j.scrollInertia,
                            scrollEasing: "mcsEaseInOut",
                            moveDragger: !1,
                            timeout: 60,
                            callbacks: !0,
                            onStart: !0,
                            onUpdate: !0,
                            onComplete: !0
                        },
                        c),
                        l = x.call(this, b),
                        m = 0 < k.scrollInertia && 17 > k.scrollInertia ? 17 : k.scrollInertia;
                        l[0] = N.call(this, l[0], "y");
                        l[1] = N.call(this, l[1], "x");
                        k.moveDragger && (l[0] *= h.scrollRatio.y, l[1] *= h.scrollRatio.x);
                        var p;
                        p = (p = function() {
                            var a = ["webkit", "moz", "ms", "o"];
                            if ("hidden" in document) return "hidden";
                            for (var b = 0; b < a.length; b++) if (a[b] + "Hidden" in document) return a[b] + "Hidden";
                            return null
                        } ()) ? document[p] : !1;
                        k.dur = p ? 0 : m;
                        setTimeout(function() {
                            null !== l[0] && ("undefined" !== typeof l[0] && "x" !== j.axis && h.overflowed[0]) && (k.dir = "y", k.overwrite = "all", B(f, l[0].toString(), k));
                            null !== l[1] && ("undefined" !== typeof l[1] && "y" !== j.axis && h.overflowed[1]) && (k.dir = "x", k.overwrite = "none", B(f, l[1].toString(), k))
                        },
                        k.timeout)
                    }
                })
            }
        },
        stop: function() {
            var b = l.call(this);
            return a(b).each(function() {
                var b = a(this);
                b.data(g) && A(b)
            })
        },
        disable: function(b) {
            var c = l.call(this);
            return a(c).each(function() {
                var c = a(this);
                c.data(g) && (c.data(g), H.call(this, "remove"), C.call(this), b && u.call(this), D.call(this, !0), c.addClass(r[3]))
            })
        },
        destroy: function() {
            var b = l.call(this);
            return a(b).each(function() {
                var c = a(this);
                if (c.data(g)) {
                    var f = c.data(g),
                    h = f.opt,
                    j = a("#mCSB_" + f.idx),
                    k = a("#mCSB_" + f.idx + "_container"),
                    l = a(".mCSB_" + f.idx + "_scrollbar");
                    h.live && F(h.liveSelector || a(b).selector);
                    H.call(this, "remove");
                    C.call(this);
                    u.call(this);
                    c.removeData(g);
                    G(this, "mcs");
                    l.remove();
                    k.find("img." + r[2]).removeClass(r[2]);
                    j.replaceWith(k.contents());
                    c.removeClass("mCustomScrollbar _" + g + "_" + f.idx + " " + r[6] + " " + r[7] + " " + r[5] + " " + r[3]).addClass(r[4])
                }
            })
        }
    },
    l = function() {
        return "object" !== typeof a(this) || 1 > a(this).length ? ".mCustomScrollbar": this
    },
    z = function(b) {
        b.autoDraggerLength = -1 < a.inArray(b.theme, ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"]) ? !1 : b.autoDraggerLength;
        b.autoExpandScrollbar = -1 < a.inArray(b.theme, "rounded-dots rounded-dots-dark 3d 3d-dark 3d-thick 3d-thick-dark inset inset-dark inset-2 inset-2-dark inset-3 inset-3-dark".split(" ")) ? !1 : b.autoExpandScrollbar;
        b.scrollButtons.enable = -1 < a.inArray(b.theme, ["minimal", "minimal-dark"]) ? !1 : b.scrollButtons.enable;
        b.autoHideScrollbar = -1 < a.inArray(b.theme, ["minimal", "minimal-dark"]) ? !0 : b.autoHideScrollbar;
        b.scrollbarPosition = -1 < a.inArray(b.theme, ["minimal", "minimal-dark"]) ? "outside": b.scrollbarPosition
    },
    F = function(a) {
        j[a] && (clearTimeout(j[a]), G(j, a))
    },
    w = function(b) {
        var c = [b[0].scrollWidth, Math.max.apply(Math, b.children().map(function() {
            return a(this).outerWidth(!0)
        }).get())],
        b = b.parent().width();
        return c[0] > b ? c[0] : c[1] > b ? c[1] : "100%"
    },
    J = function(a, b, c) {
        var c = c ? r[0] + "_expanded": "",
        f = a.closest(".mCSB_scrollTools");
        "active" === b ? (a.toggleClass(r[0] + " " + c), f.toggleClass(r[1]), a[0]._draggable = a[0]._draggable ? 0 : 1) : a[0]._draggable || ("hide" === b ? (a.removeClass(r[0]), f.removeClass(r[1])) : (a.addClass(r[0]), f.addClass(r[1])))
    },
    u = function() {
        var b = a(this),
        c = b.data(g),
        f = c.opt,
        h = a("#mCSB_" + c.idx),
        j = a("#mCSB_" + c.idx + "_container"),
        k = [a("#mCSB_" + c.idx + "_dragger_vertical"), a("#mCSB_" + c.idx + "_dragger_horizontal")];
        A(b);
        if ("x" !== f.axis && !c.overflowed[0] || "y" === f.axis && c.overflowed[0]) k[0].add(j).css("top", 0),
        B(b, "_resetY");
        if ("y" !== f.axis && !c.overflowed[1] || "x" === f.axis && c.overflowed[1]) f = dx = 0,
        "rtl" === c.langDir && (f = h.width() - j.outerWidth(!1), dx = Math.abs(f / c.scrollRatio.x)),
        j.css("left", f),
        k[1].css("left", dx),
        B(b, "_resetX")
    },
    C = function() {
        var b = a(this),
        c = b.data(g),
        f = c.opt,
        h = g + "_" + c.idx,
        j = ".mCSB_" + c.idx + "_scrollbar",
        j = a("#mCSB_" + c.idx + ",#mCSB_" + c.idx + "_container,#mCSB_" + c.idx + "_container_wrapper," + j + " ." + r[12] + ",#mCSB_" + c.idx + "_dragger_vertical,#mCSB_" + c.idx + "_dragger_horizontal," + j + ">a"),
        k = a("#mCSB_" + c.idx + "_container");
        f.advanced.releaseDraggableSelectors && j.add(a(f.advanced.releaseDraggableSelectors));
        f.advanced.extraDraggableSelectors && j.add(a(f.advanced.extraDraggableSelectors));
        c.bindEvents && (a(document).add(a(!I() || top.document)).unbind("." + h), j.each(function() {
            a(this).unbind("." + h)
        }), clearTimeout(b[0]._focusTimeout), G(b[0], "_focusTimeout"), clearTimeout(c.sequential.step), G(c.sequential, "step"), clearTimeout(k[0].onCompleteTimeout), G(k[0], "onCompleteTimeout"), c.bindEvents = !1)
    },
    D = function(b) {
        var c = a(this),
        f = c.data(g),
        h = f.opt,
        j = a("#mCSB_" + f.idx + "_container_wrapper"),
        j = j.length ? j: a("#mCSB_" + f.idx + "_container"),
        k = [a("#mCSB_" + f.idx + "_scrollbar_vertical"), a("#mCSB_" + f.idx + "_scrollbar_horizontal")],
        l = [k[0].find(".mCSB_dragger"), k[1].find(".mCSB_dragger")];
        "x" !== h.axis && (f.overflowed[0] && !b ? (k[0].add(l[0]).add(k[0].children("a")).css("display", "block"), j.removeClass(r[8] + " " + r[10])) : (h.alwaysShowScrollbar ? (2 !== h.alwaysShowScrollbar && l[0].css("display", "none"), j.removeClass(r[10])) : (k[0].css("display", "none"), j.addClass(r[10])), j.addClass(r[8])));
        "y" !== h.axis && (f.overflowed[1] && !b ? (k[1].add(l[1]).add(k[1].children("a")).css("display", "block"), j.removeClass(r[9] + " " + r[11])) : (h.alwaysShowScrollbar ? (2 !== h.alwaysShowScrollbar && l[1].css("display", "none"), j.removeClass(r[11])) : (k[1].css("display", "none"), j.addClass(r[11])), j.addClass(r[9]))); ! f.overflowed[0] && !f.overflowed[1] ? c.addClass(r[5]) : c.removeClass(r[5])
    },
    E = function(b) {
        var c = b.type,
        f = b.target.ownerDocument !== document ? [a(frameElement).offset().top, a(frameElement).offset().left] : null,
        g = I() && b.target.ownerDocument !== top.document ? [a(b.view.frameElement).offset().top, a(b.view.frameElement).offset().left] : [0, 0];
        switch (c) {
        case "pointerdown":
        case "MSPointerDown":
        case "pointermove":
        case "MSPointerMove":
        case "pointerup":
        case "MSPointerUp":
            return f ? [b.originalEvent.pageY - f[0] + g[0], b.originalEvent.pageX - f[1] + g[1], !1] : [b.originalEvent.pageY, b.originalEvent.pageX, !1];
        case "touchstart":
        case "touchmove":
        case "touchend":
            return c = b.originalEvent.touches[0] || b.originalEvent.changedTouches[0],
            f = b.originalEvent.touches.length || b.originalEvent.changedTouches.length,
            b.target.ownerDocument !== document ? [c.screenY, c.screenX, 1 < f] : [c.pageY, c.pageX, 1 < f];
        default:
            return f ? [b.pageY - f[0] + g[0], b.pageX - f[1] + g[1], !1] : [b.pageY, b.pageX, !1]
        }
    },
    y = function() {
        function b(j, p) {
            A(c);
            var q = c,
            r = j.target,
            v = r.nodeName.toLowerCase(),
            q = q.data(g).opt.mouseWheel.disableOver,
            w = ["select", "textarea"];
            if (! ( - 1 < a.inArray(v, q) && (!( - 1 < a.inArray(v, w)) || a(r).is(":focus")))) {
                q = "auto" !== h.mouseWheel.deltaFactor ? parseInt(h.mouseWheel.deltaFactor) : k && 100 > j.deltaFactor ? 100 : j.deltaFactor || 100;
                r = h.scrollInertia;
                if ("x" === h.axis || "x" === h.mouseWheel.axis) var v = "x",
                q = [Math.round(q * f.scrollRatio.x), parseInt(h.mouseWheel.scrollAmount)],
                q = "auto" !== h.mouseWheel.scrollAmount ? q[1] : q[0] >= l.width() ? 0.9 * l.width() : q[0],
                w = Math.abs(a("#mCSB_" + f.idx + "_container")[0].offsetLeft),
                u = m[1][0].offsetLeft,
                y = m[1].parent().width() - m[1].width(),
                z = j.deltaX || j.deltaY || p;
                else v = "y",
                q = [Math.round(q * f.scrollRatio.y), parseInt(h.mouseWheel.scrollAmount)],
                q = "auto" !== h.mouseWheel.scrollAmount ? q[1] : q[0] >= l.height() ? 0.9 * l.height() : q[0],
                w = Math.abs(a("#mCSB_" + f.idx + "_container")[0].offsetTop),
                u = m[0][0].offsetTop,
                y = m[0].parent().height() - m[0].height(),
                z = j.deltaY || p;
                if (! ("y" === v && !f.overflowed[0] || "x" === v && !f.overflowed[1])) {
                    if (h.mouseWheel.invert || j.webkitDirectionInvertedFromDevice) z = -z;
                    h.mouseWheel.normalizeDelta && (z = 0 > z ? -1 : 1);
                    if (0 < z && 0 !== u || 0 > z && u !== y || h.mouseWheel.preventDefault) j.stopImmediatePropagation(),
                    j.preventDefault();
                    2 > j.deltaFactor && !h.mouseWheel.normalizeDelta && (q = j.deltaFactor, r = 17);
                    B(c, (w - z * q).toString(), {
                        dir: v,
                        dur: r
                    })
                }
            }
        }
        if (a(this).data(g)) {
            var c = a(this),
            f = c.data(g),
            h = f.opt,
            j = g + "_" + f.idx,
            l = a("#mCSB_" + f.idx),
            m = [a("#mCSB_" + f.idx + "_dragger_vertical"), a("#mCSB_" + f.idx + "_dragger_horizontal")],
            p = a("#mCSB_" + f.idx + "_container").find("iframe");
            p.length && p.each(function() {
                a(this).load(function() {
                    I(this) && a(this.contentDocument || this.contentWindow.document).bind("mousewheel." + j,
                    function(a, c) {
                        b(a, c)
                    })
                })
            });
            l.bind("mousewheel." + j,
            function(a, c) {
                b(a, c)
            })
        }
    },
    I = function(a) {
        var b = null;
        if (a) try {
            f = a.contentDocument || a.contentWindow.document,
            b = f.body.innerHTML
        } catch(c) {} else try {
            var f = top.document,
            b = f.body.innerHTML
        } catch(g) {}
        return null !== b
    },
    K = function(b, c, f, h, j) {
        function k(a) {
            m.snapAmount && (p.scrollAmount = !(m.snapAmount instanceof Array) ? m.snapAmount: "x" === p.dir[0] ? m.snapAmount[1] : m.snapAmount[0]);
            var c = "stepped" !== p.type,
            f = j ? j: !a ? 1E3 / 60 : c ? w / 1.5 : u,
            g = !a ? 2.5 : c ? 7.5 : 40,
            r = [Math.abs(q[0].offsetTop), Math.abs(q[0].offsetLeft)],
            v = [10 < l.scrollRatio.y ? 10 : l.scrollRatio.y, 10 < l.scrollRatio.x ? 10 : l.scrollRatio.x],
            g = "x" === p.dir[0] ? r[1] + p.dir[1] * v[1] * g: r[0] + p.dir[1] * v[0] * g,
            v = "x" === p.dir[0] ? r[1] + p.dir[1] * parseInt(p.scrollAmount) : r[0] + p.dir[1] * parseInt(p.scrollAmount),
            g = "auto" !== p.scrollAmount ? v: g,
            c = h ? h: !a ? "mcsLinear": c ? "mcsLinearOut": "mcsEaseInOut";
            a && 17 > f && (g = "x" === p.dir[0] ? r[1] : r[0]);
            B(b, g.toString(), {
                dir: p.dir[0],
                scrollEasing: c,
                dur: f,
                onComplete: !a ? !1 : !0
            });
            a ? p.dir = !1 : (clearTimeout(p.step), p.step = setTimeout(function() {
                k()
            },
            f))
        }
        var l = b.data(g),
        m = l.opt,
        p = l.sequential,
        q = a("#mCSB_" + l.idx + "_container"),
        v = "stepped" === p.type ? !0 : !1,
        w = 26 > m.scrollInertia ? 26 : m.scrollInertia,
        u = 1 > m.scrollInertia ? 17 : m.scrollInertia;
        switch (c) {
        case "on":
            p.dir = [f === r[16] || f === r[15] || 39 === f || 37 === f ? "x": "y", f === r[13] || f === r[15] || 38 === f || 37 === f ? -1 : 1];
            A(b);
            if (Q(f) && "stepped" === p.type) break;
            k(v);
            break;
        case "off":
            clearTimeout(p.step),
            G(p, "step"),
            A(b),
            (v || l.tweenRunning && p.dir) && k(!0)
        }
    },
    x = function(b) {
        var c = a(this).data(g).opt,
        f = [];
        "function" === typeof b && (b = b());
        b instanceof Array ? f = 1 < b.length ? [b[0], b[1]] : "x" === c.axis ? [null, b[0]] : [b[0], null] : (f[0] = b.y ? b.y: b.x || "x" === c.axis ? null: b, f[1] = b.x ? b.x: b.y || "y" === c.axis ? null: b);
        "function" === typeof f[0] && (f[0] = f[0]());
        "function" === typeof f[1] && (f[1] = f[1]());
        return f
    },
    N = function(b, c) {
        if (! (null == b || "undefined" == typeof b)) {
            var f = a(this),
            h = f.data(g),
            j = h.opt,
            h = a("#mCSB_" + h.idx + "_container"),
            k = h.parent(),
            l = typeof b;
            c || (c = "x" === j.axis ? "x": "y");
            var j = "x" === c ? h.outerWidth(!1) : h.outerHeight(!1),
            m = "x" === c ? h[0].offsetLeft: h[0].offsetTop,
            q = "x" === c ? "left": "top";
            switch (l) {
            case "function":
                return b();
            case "object":
                f = b.jquery ? b: a(b);
                if (!f.length) break;
                return "x" === c ? O(f)[1] : O(f)[0];
            case "string":
            case "number":
                if (Q(b)) return Math.abs(b);
                if ( - 1 !== b.indexOf("%")) return Math.abs(j * parseInt(b) / 100);
                if ( - 1 !== b.indexOf("-=")) return Math.abs(m - parseInt(b.split("-=")[1]));
                if ( - 1 !== b.indexOf("+=")) return f = m + parseInt(b.split("+=")[1]),
                0 <= f ? 0 : Math.abs(f);
                if ( - 1 !== b.indexOf("px") && Q(b.split("px")[0])) return Math.abs(b.split("px")[0]);
                if ("top" === b || "left" === b) return 0;
                if ("bottom" === b) return Math.abs(k.height() - h.outerHeight(!1));
                if ("right" === b) return Math.abs(k.width() - h.outerWidth(!1));
                if ("first" === b || "last" === b) return f = h.find(":" + b),
                "x" === c ? O(f)[1] : O(f)[0];
                if (a(b).length) return "x" === c ? O(a(b))[1] : O(a(b))[0];
                h.css(q, b);
                p.update.call(null, f[0])
            }
        }
    },
    H = function(b) {
        function c() {
            clearTimeout(l[0].autoUpdate);
            0 === h.parents("html").length ? h = null: l[0].autoUpdate = setTimeout(function() {
                if (k.advanced.updateOnSelectorChange) {
                    var b = j.poll.change; ! 0 === k.advanced.updateOnSelectorChange && (k.advanced.updateOnSelectorChange = "*");
                    var g = 0,
                    m = l.find(k.advanced.updateOnSelectorChange);
                    k.advanced.updateOnSelectorChange && 0 < m.length && m.each(function() {
                        g += this.offsetHeight + this.offsetWidth
                    });
                    b.n = g;
                    if (j.poll.change.n !== j.poll.change.o) {
                        j.poll.change.o = j.poll.change.n;
                        f(3);
                        return
                    }
                }
                if (k.advanced.updateOnContentResize && (j.poll.size.n = h[0].scrollHeight + h[0].scrollWidth + l[0].offsetHeight + h[0].offsetHeight + h[0].offsetWidth, j.poll.size.n !== j.poll.size.o)) {
                    j.poll.size.o = j.poll.size.n;
                    f(1);
                    return
                }
                if (k.advanced.updateOnImageLoad && !("auto" === k.advanced.updateOnImageLoad && "y" === k.axis) && (j.poll.img.n = l.find("img").length, j.poll.img.n !== j.poll.img.o)) {
                    j.poll.img.o = j.poll.img.n;
                    l.find("img").each(function() {
                        var b = this,
                        c = function() {
                            this.onload = null;
                            a(b).addClass(r[2]);
                            f(2)
                        };
                        if (a(b).hasClass(r[2])) f();
                        else {
                            var g = new Image;
                            g.onload = function() {
                                return c.apply(g, arguments)
                            };
                            g.src = b.src
                        }
                    });
                    return
                } (k.advanced.updateOnSelectorChange || k.advanced.updateOnContentResize || k.advanced.updateOnImageLoad) && c()
            },
            k.advanced.autoUpdateTimeout)
        }
        function f(a) {
            clearTimeout(l[0].autoUpdate);
            p.update.call(null, h[0], a)
        }
        var h = a(this),
        j = h.data(g),
        k = j.opt,
        l = a("#mCSB_" + j.idx + "_container");
        b ? (clearTimeout(l[0].autoUpdate), G(l[0], "autoUpdate")) : c()
    },
    A = function(b) {
        b = b.data(g);
        a("#mCSB_" + b.idx + "_container,#mCSB_" + b.idx + "_container_wrapper,#mCSB_" + b.idx + "_dragger_vertical,#mCSB_" + b.idx + "_dragger_horizontal").each(function() {
            this._mTween || (this._mTween = {
                top: {},
                left: {}
            });
            for (var a = ["top", "left"], b = 0; b < a.length; b++) {
                var c = a[b];
                this._mTween[c].id && (window.requestAnimationFrame ? window.cancelAnimationFrame(this._mTween[c].id) : clearTimeout(this._mTween[c].id), this._mTween[c].id = null, this._mTween[c].stop = 1)
            }
        })
    },
    B = function(b, c, f) {
        function h(a) {
            return k && l.callbacks[a] && "function" === typeof l.callbacks[a]
        }
        function j() {
            var a = [q[0].offsetTop, q[0].offsetLeft],
            c = [u[0].offsetTop, u[0].offsetLeft],
            g = [q.outerHeight(!1), q.outerWidth(!1)],
            h = [p.height(), p.width()];
            b[0].mcs = {
                content: q,
                top: a[0],
                left: a[1],
                draggerTop: c[0],
                draggerLeft: c[1],
                topPct: Math.round(100 * Math.abs(a[0]) / (Math.abs(g[0]) - h[0])),
                leftPct: Math.round(100 * Math.abs(a[1]) / (Math.abs(g[1]) - h[1])),
                direction: f.dir
            }
        }
        var k = b.data(g),
        l = k.opt,
        f = a.extend({
            trigger: "internal",
            dir: "y",
            scrollEasing: "mcsEaseOut",
            drag: !1,
            dur: l.scrollInertia,
            overwrite: "all",
            callbacks: !0,
            onStart: !0,
            onUpdate: !0,
            onComplete: !0
        },
        f),
        m = [f.dur, f.drag ? 0 : f.dur],
        p = a("#mCSB_" + k.idx),
        q = a("#mCSB_" + k.idx + "_container"),
        r = q.parent(),
        B = l.callbacks.onTotalScrollOffset ? x.call(b, l.callbacks.onTotalScrollOffset) : [0, 0],
        w = l.callbacks.onTotalScrollBackOffset ? x.call(b, l.callbacks.onTotalScrollBackOffset) : [0, 0];
        k.trigger = f.trigger;
        if (0 !== r.scrollTop() || 0 !== r.scrollLeft()) a(".mCSB_" + k.idx + "_scrollbar").css("visibility", "visible"),
        r.scrollTop(0).scrollLeft(0);
        "_resetY" === c && !k.contentReset.y && (h("onOverflowYNone") && l.callbacks.onOverflowYNone.call(b[0]), k.contentReset.y = 1);
        "_resetX" === c && !k.contentReset.x && (h("onOverflowXNone") && l.callbacks.onOverflowXNone.call(b[0]), k.contentReset.x = 1);
        if (! ("_resetY" === c || "_resetX" === c)) {
            if ((k.contentReset.y || !b[0].mcs) && k.overflowed[0]) h("onOverflowY") && l.callbacks.onOverflowY.call(b[0]),
            k.contentReset.x = null;
            if ((k.contentReset.x || !b[0].mcs) && k.overflowed[1]) h("onOverflowX") && l.callbacks.onOverflowX.call(b[0]),
            k.contentReset.x = null;
            l.snapAmount && (r = !(l.snapAmount instanceof Array) ? l.snapAmount: "x" === f.dir ? l.snapAmount[1] : l.snapAmount[0], c = Math.round(c / r) * r - l.snapOffset);
            switch (f.dir) {
            case "x":
                var u = a("#mCSB_" + k.idx + "_dragger_horizontal"),
                y = "left",
                A = q[0].offsetLeft,
                z = [p.width() - q.outerWidth(!1), u.parent().width() - u.width()],
                F = [c, 0 === c ? 0 : c / k.scrollRatio.x],
                G = B[1],
                I = w[1],
                L = 0 < G ? G / k.scrollRatio.x: 0,
                n = 0 < I ? I / k.scrollRatio.x: 0;
                break;
            case "y":
                u = a("#mCSB_" + k.idx + "_dragger_vertical"),
                y = "top",
                A = q[0].offsetTop,
                z = [p.height() - q.outerHeight(!1), u.parent().height() - u.height()],
                F = [c, 0 === c ? 0 : c / k.scrollRatio.y],
                G = B[0],
                I = w[0],
                L = 0 < G ? G / k.scrollRatio.y: 0,
                n = 0 < I ? I / k.scrollRatio.y: 0
            }
            0 > F[1] || 0 === F[0] && 0 === F[1] ? F = [0, 0] : F[1] >= z[1] ? F = [z[0], z[1]] : F[0] = -F[0];
            b[0].mcs || (j(), h("onInit") && l.callbacks.onInit.call(b[0]));
            clearTimeout(q[0].onCompleteTimeout);
            v(u[0], y, Math.round(F[1]), m[1], f.scrollEasing); (k.tweenRunning || !(0 === A && 0 <= F[0] || A === z[0] && F[0] <= z[0])) && v(q[0], y, Math.round(F[0]), m[0], f.scrollEasing, f.overwrite, {
                onStart: function() {
                    f.callbacks && (f.onStart && !k.tweenRunning) && (h("onScrollStart") && (j(), l.callbacks.onScrollStart.call(b[0])), k.tweenRunning = !0, J(u), k.cbOffsets = [l.callbacks.alwaysTriggerOffsets || A >= z[0] + G, l.callbacks.alwaysTriggerOffsets || A <= -I])
                },
                onUpdate: function() {
                    f.callbacks && f.onUpdate && h("whileScrolling") && (j(), l.callbacks.whileScrolling.call(b[0]))
                },
                onComplete: function() {
                    f.callbacks && f.onComplete && ("yx" === l.axis && clearTimeout(q[0].onCompleteTimeout), q[0].onCompleteTimeout = setTimeout(function() {
                        h("onScroll") && (j(), l.callbacks.onScroll.call(b[0]));
                        h("onTotalScroll") && (F[1] >= z[1] - L && k.cbOffsets[0]) && (j(), l.callbacks.onTotalScroll.call(b[0]));
                        h("onTotalScrollBack") && (F[1] <= n && k.cbOffsets[1]) && (j(), l.callbacks.onTotalScrollBack.call(b[0]));
                        k.tweenRunning = !1;
                        q[0].idleTimer = 0;
                        J(u, "hide")
                    },
                    q[0].idleTimer || 0))
                }
            })
        }
    },
    v = function(a, b, c, f, g, h, j) {
        function k() {
            A.stop || (u || p.call(), u = L() - v, l(), u >= A.time && (A.time = u > A.time ? u + B - (u - A.time) : u + B - 1, A.time < u + 1 && (A.time = u + 1)), A.time < f ? A.id = z(k) : r.call())
        }
        function l() {
            0 < f ? (A.currVal = m(A.time, w, F, f, g), y[b] = Math.round(A.currVal) + "px") : y[b] = c + "px";
            q.call()
        }
        function m(a, b, c, f, g) {
            switch (g) {
            case "linear":
            case "mcsLinear":
                return c * a / f + b;
            case "mcsLinearOut":
                return a /= f,
                a--,
                c * Math.sqrt(1 - a * a) + b;
            case "easeInOutSmooth":
                a /= f / 2;
                if (1 > a) return c / 2 * a * a + b;
                a--;
                return - c / 2 * (a * (a - 2) - 1) + b;
            case "easeInOutStrong":
                a /= f / 2;
                if (1 > a) return c / 2 * Math.pow(2, 10 * (a - 1)) + b;
                a--;
                return c / 2 * ( - Math.pow(2, -10 * a) + 2) + b;
            case "easeInOut":
            case "mcsEaseInOut":
                a /= f / 2;
                if (1 > a) return c / 2 * a * a * a + b;
                a -= 2;
                return c / 2 * (a * a * a + 2) + b;
            case "easeOutSmooth":
                return a /= f,
                a--,
                -c * (a * a * a * a - 1) + b;
            case "easeOutStrong":
                return c * ( - Math.pow(2, -10 * a / f) + 1) + b;
            default:
                return f = (a /= f) * a,
                g = f * a,
                b + c * (0.499999999999997 * g * f + -2.5 * f * f + 5.5 * g + -6.5 * f + 4 * a)
            }
        }
        a._mTween || (a._mTween = {
            top: {},
            left: {}
        });
        var j = j || {},
        p = j.onStart ||
        function() {},
        q = j.onUpdate ||
        function() {},
        r = j.onComplete ||
        function() {},
        v = L(),
        B,
        u = 0,
        w = a.offsetTop,
        y = a.style,
        z,
        A = a._mTween[b];
        "left" === b && (w = a.offsetLeft);
        var F = c - w;
        A.stop = 0;
        "none" !== h && null != A.id && (window.requestAnimationFrame ? window.cancelAnimationFrame(A.id) : clearTimeout(A.id), A.id = null);
        B = 1E3 / 60;
        A.time = u + B;
        z = !window.requestAnimationFrame ?
        function(a) {
            l();
            return setTimeout(a, 0.01)
        }: window.requestAnimationFrame;
        A.id = z(k)
    },
    L = function() {
        return window.performance && window.performance.now ? window.performance.now() : window.performance && window.performance.webkitNow ? window.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime()
    },
    G = function(a, b) {
        try {
            delete a[b]
        } catch(c) {
            a[b] = null
        }
    },
    S = function(a) {
        a = a.originalEvent.pointerType;
        return ! (a && "touch" !== a && 2 !== a)
    },
    Q = function(a) {
        return ! isNaN(parseFloat(a)) && isFinite(a)
    },
    O = function(a) {
        var b = a.parents(".mCSB_container");
        return [a.offset().top - b.offset().top, a.offset().left - b.offset().left]
    };
    a.fn.mCustomScrollbar = function(b) {
        if (p[b]) return p[b].apply(this, Array.prototype.slice.call(arguments, 1));
        if ("object" === typeof b || !b) return p.init.apply(this, arguments);
        a.error("Method " + b + " does not exist")
    };
    a.mCustomScrollbar = function(b) {
        if (p[b]) return p[b].apply(this, Array.prototype.slice.call(arguments, 1));
        if ("object" === typeof b || !b) return p.init.apply(this, arguments);
        a.error("Method " + b + " does not exist")
    };
    a.mCustomScrollbar.defaults = f;
    window.mCustomScrollbar = !0;
    a(window).load(function() {
        a(".mCustomScrollbar").mCustomScrollbar();
        a.extend(a.expr[":"], {
            mcsInView: a.expr[":"].mcsInView ||
            function(b) {
                var b = a(b),
                c = b.parents(".mCSB_container"),
                f;
                if (c.length) return f = c.parent(),
                c = [c[0].offsetTop, c[0].offsetLeft],
                0 <= c[0] + O(b)[0] && c[0] + O(b)[0] < f.height() - b.outerHeight(!1) && 0 <= c[1] + O(b)[1] && c[1] + O(b)[1] < f.width() - b.outerWidth(!1)
            },
            mcsOverflow: a.expr[":"].mcsOverflow ||
            function(b) {
                if (b = a(b).data(g)) return b.overflowed[0] || b.overflowed[1]
            }
        })
    })
});
var goog = {
    object: {},
    array: {},
    string: {}
};
goog.array.ARRAY_PROTOTYPE_ = Array.prototype;
goog.object.PROTOTYPE_FIELDS_ = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.isDef = function(a) {
    return void 0 !== a
};
goog.typeOf = function(a) {
    var b = typeof a;
    if ("object" == b) if (a) {
        if (a instanceof Array) return "array";
        if (a instanceof Object) return b;
        var c = Object.prototype.toString.call(a);
        if ("[object Window]" == c) return "object";
        if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) return "array";
        if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) return "function"
    } else return "null";
    else if ("function" == b && "undefined" == typeof a.call) return "object";
    return b
};
goog.isString = function(a) {
    return "string" == typeof a
};
goog.isArray = function(a) {
    return "array" == goog.typeOf(a)
};
goog.isArrayLike = function(a) {
    var b = goog.typeOf(a);
    return "array" == b || "object" == b && "number" == typeof a.length
};
goog.isObject = function(a) {
    var b = typeof a;
    return "object" == b && null != a || "function" == b
};
goog.object.getCount = function(a) {
    var b = 0,
    c;
    for (c in a) b++;
    return b
};
goog.object.isEmpty = function(a) {
    for (var b in a) return ! 1;
    return ! 0
};
goog.array.isEmpty = function(a) {
    return 0 == a.length
};
goog.string.makeSafe = function(a) {
    return null == a ? "": String(a)
};
goog.string.isEmptySafe = function(a) {
    return goog.string.isEmpty(goog.string.makeSafe(a))
};
goog.string.isEmpty = function(a) {
    return /^[\s\xa0]*$/.test(a)
};
goog.string.contains = function(a, b) {
    return - 1 != a.indexOf(b)
};
goog.string.subs = function(a, b) {
    for (var c = a.split("%s"), g = "", f = Array.prototype.slice.call(arguments, 1); f.length && 1 < c.length;) g += c.shift() + f.shift();
    return g + c.join("%s")
};
goog.array.forEach = function(a, b, c) {
    for (var g = a.length,
    f = goog.isString(a) ? a.split("") : a, h = 0; h < g; h++) h in f && b.call(c, f[h], h, a)
};
goog.object.forEach = function(a, b, c) {
    for (var g in a) b.call(c, a[g], g, a)
};
goog.object.getValues = function(a) {
    var b = [],
    c = 0,
    g;
    for (g in a) b[c++] = a[g];
    return b
};
goog.object.getKeys = function(a) {
    var b = [],
    c = 0,
    g;
    for (g in a) b[c++] = g;
    return b
};
goog.object.map = function(a, b, c) {
    var g = {},
    f;
    for (f in a) g[f] = b.call(c, a[f], f, a);
    return g
};
goog.object.getAnyValue = function(a) {
    for (var b in a) return a[b]
};
goog.object.createSet = function(a) {
    var b = arguments.length;
    if (1 == b && goog.isArray(arguments[0])) return goog.object.createSet.apply(null, arguments[0]);
    for (var c = {},
    g = 0; g < b; g++) c[arguments[g]] = !0;
    return c
};
goog.object.filter = function(a, b, c) {
    var g = {},
    f;
    for (f in a) b.call(c, a[f], f, a) && (g[f] = a[f]);
    return g
};
goog.isDefAndNotNull = function(a) {
    return null != a
};
goog.array.map = function(a, b, c) {
    for (var g = a.length,
    f = Array(g), h = goog.isString(a) ? a.split("") : a, j = 0; j < g; j++) j in h && (f[j] = b.call(c, h[j], j, a));
    return f
};
goog.array.filter = function(a, b, c) {
    for (var g = a.length,
    f = [], h = 0, j = goog.isString(a) ? a.split("") : a, k = 0; k < g; k++) if (k in j) {
        var m = j[k];
        b.call(c, m, k, a) && (f[h++] = m)
    }
    return f
};
goog.array.concat = function(a) {
    return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_, arguments)
};
goog.isNumber = function(a) {
    return "number" == typeof a
};
goog.array.isNumeric = function(a) {
    return goog.array.every(a,
    function(a) {
        return null !== ("" + a).match(/^[0-9]+$/)
    })
};
goog.array.every = function(a, b, c) {
    for (var g = a.length,
    f = goog.isString(a) ? a.split("") : a, h = 0; h < g; h++) if (h in f && !b.call(c, f[h], h, a)) return ! 1;
    return ! 0
};
goog.array.removeDuplicates = function(a, b, c) {
    for (var b = b || a,
    c = c ||
    function() {
        return goog.isObject(j) ? "o" + goog.getUid(j) : (typeof j).charAt(0) + j
    },
    g = {},
    f = 0, h = 0; h < a.length;) {
        var j = a[h++],
        k = c(j);
        Object.prototype.hasOwnProperty.call(g, k) || (g[k] = !0, b[f++] = j)
    }
    b.length = f
};
goog.array.some = function(a, b, c) {
    for (var g = a.length,
    f = goog.isString(a) ? a.split("") : a, h = 0; h < g; h++) if (h in f && b.call(c, f[h], h, a)) return ! 0;
    return ! 1
};
goog.array.bucket = function(a, b, c) {
    for (var g = {},
    f = 0; f < a.length; f++) {
        var h = a[f],
        j = b.call(c, h, f, a);
        goog.isDef(j) && (g[j] || (g[j] = [])).push(h)
    }
    return g
};
goog.inherits = function(a, b) {
    function c() {}
    c.prototype = b.prototype;
    a.superClass_ = b.prototype;
    a.prototype = new c;
    a.prototype.constructor = a;
    a.base = function(a, c, h) {
        var j = Array.prototype.slice.call(arguments, 2);
        return b.prototype[c].apply(a, j)
    }
};
goog.base = function(a, b, c) {
    var g = arguments.callee.caller;
    if (goog.STRICT_MODE_COMPATIBLE || goog.DEBUG && !g) throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");
    if (g.superClass_) return g.superClass_.constructor.apply(a, Array.prototype.slice.call(arguments, 1));
    for (var f = Array.prototype.slice.call(arguments, 2), h = !1, j = a.constructor; j; j = j.superClass_ && j.superClass_.constructor) if (j.prototype[b] === g) h = !0;
    else if (h) return j.prototype[b].apply(a, f);
    if (a[b] === g) return a.constructor.prototype[b].apply(a, f);
    throw Error("goog.base called from a method of one name to a method of a different name");
};
goog.object.findKey = function(a, b, c) {
    for (var g in a) if (b.call(c, a[g], g, a)) return g
};
goog.object.findValue = function(a, b, c) {
    return (b = goog.object.findKey(a, b, c)) && a[b]
};
goog.object.some = function(a, b, c) {
    for (var g in a) if (b.call(c, a[g], g, a)) return ! 0;
    return ! 1
};
goog.object.getValueByKeys = function(a, b) {
    for (var c = goog.isArrayLike(b), g = c ? b: arguments, c = c ? 0 : 1; c < g.length && !(a = a[g[c]], !goog.isDef(a)); c++);
    return a
};
goog.object.extend = function(a, b) {
    for (var c, g, f = 1; f < arguments.length; f++) {
        g = arguments[f];
        for (c in g) a[c] = g[c];
        for (var h = 0; h < goog.object.PROTOTYPE_FIELDS_.length; h++) c = goog.object.PROTOTYPE_FIELDS_[h],
        Object.prototype.hasOwnProperty.call(g, c) && (a[c] = g[c])
    }
};
goog.array.contains = function(a, b) {
    return 0 <= goog.array.indexOf(a, b)
};
goog.array.indexOf = function(a, b, c) {
    c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
    if (goog.isString(a)) return ! goog.isString(b) || 1 != b.length ? -1 : a.indexOf(b, c);
    for (; c < a.length; c++) if (c in a && a[c] === b) return c;
    return - 1
};
goog.array.remove = function(a, b) {
    var c = goog.array.indexOf(a, b),
    g; (g = 0 <= c) && goog.array.removeAt(a, c);
    return g
};
goog.array.removeAt = function(a, b) {
    return 1 == Array.prototype.splice.call(a, b, 1).length
};
goog.array.reduce = function(a, b, c, g) {
    var f = c;
    goog.array.forEach(a,
    function(c, j) {
        f = b.call(g, f, c, j, a)
    });
    return f
};
goog.object.create = function(a) {
    var b = arguments.length;
    if (1 == b && goog.isArray(arguments[0])) return goog.object.create.apply(null, arguments[0]);
    if (b % 2) throw Error("Uneven number of arguments");
    for (var c = {},
    g = 0; g < b; g += 2) c[arguments[g]] = arguments[g + 1];
    return c
};
goog.array.flatten = function(a) {
    for (var b = [], c = 0; c < arguments.length; c++) {
        var g = arguments[c];
        if (goog.isArray(g)) for (var f = 0; f < g.length; f += 8192) for (var h = goog.array.slice(g, f, f + 8192), h = goog.array.flatten.apply(null, h), j = 0; j < h.length; j++) b.push(h[j]);
        else b.push(g)
    }
    return b
};
goog.array.slice = function(a, b, c) {
    return 2 >= arguments.length ? goog.array.ARRAY_PROTOTYPE_.slice.call(a, b) : goog.array.ARRAY_PROTOTYPE_.slice.call(a, b, c)
};
goog = goog || {};
goog.crypt = {};
goog.crypt.Md5 = {};
goog.crypt.md5hash = function(a) {
    var b = new goog.crypt.Md5;
    b.update(a);
    return goog.crypt.byteArrayToHex(b.digest())
};
goog.crypt.byteArrayToHex = function(a) {
    return goog.array.map(a,
    function(a) {
        a = a.toString(16);
        return 1 < a.length ? a: "0" + a
    }).join("")
};
goog.crypt.Md5 = function() {
    this.blockSize = 64;
    this.chain_ = Array(4);
    this.block_ = Array(this.blockSize);
    this.totalLength_ = this.blockLength_ = 0;
    this.reset()
};
goog.crypt.Md5.prototype.reset = function() {
    this.chain_[0] = 1732584193;
    this.chain_[1] = 4023233417;
    this.chain_[2] = 2562383102;
    this.chain_[3] = 271733878;
    this.totalLength_ = this.blockLength_ = 0
};
goog.crypt.Md5.prototype.compress_ = function(a, b) {
    b || (b = 0);
    var c = Array(16);
    if (goog.isString(a)) for (var g = 0; 16 > g; ++g) c[g] = a.charCodeAt(b++) | a.charCodeAt(b++) << 8 | a.charCodeAt(b++) << 16 | a.charCodeAt(b++) << 24;
    else for (g = 0; 16 > g; ++g) c[g] = a[b++] | a[b++] << 8 | a[b++] << 16 | a[b++] << 24;
    var g = this.chain_[0],
    f = this.chain_[1],
    h = this.chain_[2],
    j = this.chain_[3],
    k = 0,
    k = g + (j ^ f & (h ^ j)) + c[0] + 3614090360 & 4294967295,
    g = f + (k << 7 & 4294967295 | k >>> 25),
    k = j + (h ^ g & (f ^ h)) + c[1] + 3905402710 & 4294967295,
    j = g + (k << 12 & 4294967295 | k >>> 20),
    k = h + (f ^ j & (g ^ f)) + c[2] + 606105819 & 4294967295,
    h = j + (k << 17 & 4294967295 | k >>> 15),
    k = f + (g ^ h & (j ^ g)) + c[3] + 3250441966 & 4294967295,
    f = h + (k << 22 & 4294967295 | k >>> 10),
    k = g + (j ^ f & (h ^ j)) + c[4] + 4118548399 & 4294967295,
    g = f + (k << 7 & 4294967295 | k >>> 25),
    k = j + (h ^ g & (f ^ h)) + c[5] + 1200080426 & 4294967295,
    j = g + (k << 12 & 4294967295 | k >>> 20),
    k = h + (f ^ j & (g ^ f)) + c[6] + 2821735955 & 4294967295,
    h = j + (k << 17 & 4294967295 | k >>> 15),
    k = f + (g ^ h & (j ^ g)) + c[7] + 4249261313 & 4294967295,
    f = h + (k << 22 & 4294967295 | k >>> 10),
    k = g + (j ^ f & (h ^ j)) + c[8] + 1770035416 & 4294967295,
    g = f + (k << 7 & 4294967295 | k >>> 25),
    k = j + (h ^ g & (f ^ h)) + c[9] + 2336552879 & 4294967295,
    j = g + (k << 12 & 4294967295 | k >>> 20),
    k = h + (f ^ j & (g ^ f)) + c[10] + 4294925233 & 4294967295,
    h = j + (k << 17 & 4294967295 | k >>> 15),
    k = f + (g ^ h & (j ^ g)) + c[11] + 2304563134 & 4294967295,
    f = h + (k << 22 & 4294967295 | k >>> 10),
    k = g + (j ^ f & (h ^ j)) + c[12] + 1804603682 & 4294967295,
    g = f + (k << 7 & 4294967295 | k >>> 25),
    k = j + (h ^ g & (f ^ h)) + c[13] + 4254626195 & 4294967295,
    j = g + (k << 12 & 4294967295 | k >>> 20),
    k = h + (f ^ j & (g ^ f)) + c[14] + 2792965006 & 4294967295,
    h = j + (k << 17 & 4294967295 | k >>> 15),
    k = f + (g ^ h & (j ^ g)) + c[15] + 1236535329 & 4294967295,
    f = h + (k << 22 & 4294967295 | k >>> 10),
    k = g + (h ^ j & (f ^ h)) + c[1] + 4129170786 & 4294967295,
    g = f + (k << 5 & 4294967295 | k >>> 27),
    k = j + (f ^ h & (g ^ f)) + c[6] + 3225465664 & 4294967295,
    j = g + (k << 9 & 4294967295 | k >>> 23),
    k = h + (g ^ f & (j ^ g)) + c[11] + 643717713 & 4294967295,
    h = j + (k << 14 & 4294967295 | k >>> 18),
    k = f + (j ^ g & (h ^ j)) + c[0] + 3921069994 & 4294967295,
    f = h + (k << 20 & 4294967295 | k >>> 12),
    k = g + (h ^ j & (f ^ h)) + c[5] + 3593408605 & 4294967295,
    g = f + (k << 5 & 4294967295 | k >>> 27),
    k = j + (f ^ h & (g ^ f)) + c[10] + 38016083 & 4294967295,
    j = g + (k << 9 & 4294967295 | k >>> 23),
    k = h + (g ^ f & (j ^ g)) + c[15] + 3634488961 & 4294967295,
    h = j + (k << 14 & 4294967295 | k >>> 18),
    k = f + (j ^ g & (h ^ j)) + c[4] + 3889429448 & 4294967295,
    f = h + (k << 20 & 4294967295 | k >>> 12),
    k = g + (h ^ j & (f ^ h)) + c[9] + 568446438 & 4294967295,
    g = f + (k << 5 & 4294967295 | k >>> 27),
    k = j + (f ^ h & (g ^ f)) + c[14] + 3275163606 & 4294967295,
    j = g + (k << 9 & 4294967295 | k >>> 23),
    k = h + (g ^ f & (j ^ g)) + c[3] + 4107603335 & 4294967295,
    h = j + (k << 14 & 4294967295 | k >>> 18),
    k = f + (j ^ g & (h ^ j)) + c[8] + 1163531501 & 4294967295,
    f = h + (k << 20 & 4294967295 | k >>> 12),
    k = g + (h ^ j & (f ^ h)) + c[13] + 2850285829 & 4294967295,
    g = f + (k << 5 & 4294967295 | k >>> 27),
    k = j + (f ^ h & (g ^ f)) + c[2] + 4243563512 & 4294967295,
    j = g + (k << 9 & 4294967295 | k >>> 23),
    k = h + (g ^ f & (j ^ g)) + c[7] + 1735328473 & 4294967295,
    h = j + (k << 14 & 4294967295 | k >>> 18),
    k = f + (j ^ g & (h ^ j)) + c[12] + 2368359562 & 4294967295,
    f = h + (k << 20 & 4294967295 | k >>> 12),
    k = g + (f ^ h ^ j) + c[5] + 4294588738 & 4294967295,
    g = f + (k << 4 & 4294967295 | k >>> 28),
    k = j + (g ^ f ^ h) + c[8] + 2272392833 & 4294967295,
    j = g + (k << 11 & 4294967295 | k >>> 21),
    k = h + (j ^ g ^ f) + c[11] + 1839030562 & 4294967295,
    h = j + (k << 16 & 4294967295 | k >>> 16),
    k = f + (h ^ j ^ g) + c[14] + 4259657740 & 4294967295,
    f = h + (k << 23 & 4294967295 | k >>> 9),
    k = g + (f ^ h ^ j) + c[1] + 2763975236 & 4294967295,
    g = f + (k << 4 & 4294967295 | k >>> 28),
    k = j + (g ^ f ^ h) + c[4] + 1272893353 & 4294967295,
    j = g + (k << 11 & 4294967295 | k >>> 21),
    k = h + (j ^ g ^ f) + c[7] + 4139469664 & 4294967295,
    h = j + (k << 16 & 4294967295 | k >>> 16),
    k = f + (h ^ j ^ g) + c[10] + 3200236656 & 4294967295,
    f = h + (k << 23 & 4294967295 | k >>> 9),
    k = g + (f ^ h ^ j) + c[13] + 681279174 & 4294967295,
    g = f + (k << 4 & 4294967295 | k >>> 28),
    k = j + (g ^ f ^ h) + c[0] + 3936430074 & 4294967295,
    j = g + (k << 11 & 4294967295 | k >>> 21),
    k = h + (j ^ g ^ f) + c[3] + 3572445317 & 4294967295,
    h = j + (k << 16 & 4294967295 | k >>> 16),
    k = f + (h ^ j ^ g) + c[6] + 76029189 & 4294967295,
    f = h + (k << 23 & 4294967295 | k >>> 9),
    k = g + (f ^ h ^ j) + c[9] + 3654602809 & 4294967295,
    g = f + (k << 4 & 4294967295 | k >>> 28),
    k = j + (g ^ f ^ h) + c[12] + 3873151461 & 4294967295,
    j = g + (k << 11 & 4294967295 | k >>> 21),
    k = h + (j ^ g ^ f) + c[15] + 530742520 & 4294967295,
    h = j + (k << 16 & 4294967295 | k >>> 16),
    k = f + (h ^ j ^ g) + c[2] + 3299628645 & 4294967295,
    f = h + (k << 23 & 4294967295 | k >>> 9),
    k = g + (h ^ (f | ~j)) + c[0] + 4096336452 & 4294967295,
    g = f + (k << 6 & 4294967295 | k >>> 26),
    k = j + (f ^ (g | ~h)) + c[7] + 1126891415 & 4294967295,
    j = g + (k << 10 & 4294967295 | k >>> 22),
    k = h + (g ^ (j | ~f)) + c[14] + 2878612391 & 4294967295,
    h = j + (k << 15 & 4294967295 | k >>> 17),
    k = f + (j ^ (h | ~g)) + c[5] + 4237533241 & 4294967295,
    f = h + (k << 21 & 4294967295 | k >>> 11),
    k = g + (h ^ (f | ~j)) + c[12] + 1700485571 & 4294967295,
    g = f + (k << 6 & 4294967295 | k >>> 26),
    k = j + (f ^ (g | ~h)) + c[3] + 2399980690 & 4294967295,
    j = g + (k << 10 & 4294967295 | k >>> 22),
    k = h + (g ^ (j | ~f)) + c[10] + 4293915773 & 4294967295,
    h = j + (k << 15 & 4294967295 | k >>> 17),
    k = f + (j ^ (h | ~g)) + c[1] + 2240044497 & 4294967295,
    f = h + (k << 21 & 4294967295 | k >>> 11),
    k = g + (h ^ (f | ~j)) + c[8] + 1873313359 & 4294967295,
    g = f + (k << 6 & 4294967295 | k >>> 26),
    k = j + (f ^ (g | ~h)) + c[15] + 4264355552 & 4294967295,
    j = g + (k << 10 & 4294967295 | k >>> 22),
    k = h + (g ^ (j | ~f)) + c[6] + 2734768916 & 4294967295,
    h = j + (k << 15 & 4294967295 | k >>> 17),
    k = f + (j ^ (h | ~g)) + c[13] + 1309151649 & 4294967295,
    f = h + (k << 21 & 4294967295 | k >>> 11),
    k = g + (h ^ (f | ~j)) + c[4] + 4149444226 & 4294967295,
    g = f + (k << 6 & 4294967295 | k >>> 26),
    k = j + (f ^ (g | ~h)) + c[11] + 3174756917 & 4294967295,
    j = g + (k << 10 & 4294967295 | k >>> 22),
    k = h + (g ^ (j | ~f)) + c[2] + 718787259 & 4294967295,
    h = j + (k << 15 & 4294967295 | k >>> 17),
    k = f + (j ^ (h | ~g)) + c[9] + 3951481745 & 4294967295;
    this.chain_[0] = this.chain_[0] + g & 4294967295;
    this.chain_[1] = this.chain_[1] + (h + (k << 21 & 4294967295 | k >>> 11)) & 4294967295;
    this.chain_[2] = this.chain_[2] + h & 4294967295;
    this.chain_[3] = this.chain_[3] + j & 4294967295
};
goog.crypt.Md5.prototype.update = function(a, b) {
    goog.isDef(b) || (b = a.length);
    for (var c = b - this.blockSize,
    g = this.block_,
    f = this.blockLength_,
    h = 0; h < b;) {
        if (0 == f) for (; h <= c;) this.compress_(a, h),
        h += this.blockSize;
        if (goog.isString(a)) for (; h < b;) {
            if (g[f++] = a.charCodeAt(h++), f == this.blockSize) {
                this.compress_(g);
                f = 0;
                break
            }
        } else for (; h < b;) if (g[f++] = a[h++], f == this.blockSize) {
            this.compress_(g);
            f = 0;
            break
        }
    }
    this.blockLength_ = f;
    this.totalLength_ += b
};
goog.crypt.Md5.prototype.digest = function() {
    var a = Array((56 > this.blockLength_ ? this.blockSize: 2 * this.blockSize) - this.blockLength_);
    a[0] = 128;
    for (var b = 1; b < a.length - 8; ++b) a[b] = 0;
    for (var c = 8 * this.totalLength_,
    b = a.length - 8; b < a.length; ++b) a[b] = c & 255,
    c /= 256;
    this.update(a);
    a = Array(16);
    for (b = c = 0; 4 > b; ++b) for (var g = 0; 32 > g; g += 8) a[c++] = this.chain_[b] >>> g & 255;
    return a
};
$(document).datetimepicker.defaults.lang = "en";
var tm = tm || {},
Tm = Tm || {};
tm.index = tm.index || {};
var appDic = new ServiceKernel; (function() {
    function a(a) {
        return function() {
            return this[a]
        }
    }
    function b(a) {
        return function() {
            return a
        }
    }
    function c(a, b, c) {
        a = a.split(".");
        c = c || kb; ! (a[0] in c) && c.execScript && c.execScript("var " + a[0]);
        for (var f; a.length && (f = a.shift());) ! a.length && b !== sa ? c[f] = b: c = c[f] ? c[f] : c[f] = {}
    }
    function g(a) {
        var b = typeof a;
        if ("object" == b) if (a) {
            if (a instanceof Array) return "array";
            if (a instanceof Object) return b;
            var c = Object.prototype.toString.call(a);
            if ("[object Window]" == c) return "object";
            if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) return "array";
            if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) return "function"
        } else return "null";
        else if ("function" == b && "undefined" == typeof a.call) return "object";
        return b
    }
    function f(a) {
        return "array" == g(a)
    }
    function h(a) {
        return "string" == typeof a
    }
    function j(a) {
        var b = typeof a;
        return "object" == b && a != P || "function" == b
    }
    function k(a, b, c) {
        return a.call.apply(a.bind, arguments)
    }
    function m(a, b, c) {
        if (!a) throw Error();
        if (2 < arguments.length) {
            var f = Array.prototype.slice.call(arguments, 2);
            return function() {
                var c = Array.prototype.slice.call(arguments);
                Array.prototype.unshift.apply(c, f);
                return a.apply(b, c)
            }
        }
        return function() {
            return a.apply(b, arguments)
        }
    }
    function q(a, b, c) {
        q = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? k: m;
        return q.apply(P, arguments)
    }
    function r(a, b) {
        c(a, b, sa)
    }
    function p(a, b) {
        function c() {}
        c.prototype = b.prototype;
        a.O = b.prototype;
        a.prototype = new c
    }
    function l(a, b) {
        a != P && this.append.apply(this, arguments)
    }
    function z(a, b, c) {
        for (var f in a) b.call(c, a[f], f, a)
    }
    function F(a) {
        var b = [],
        c = 0,
        f;
        for (f in a) b[c++] = a[f];
        return b
    }
    function w(a) {
        var b = [],
        c = 0,
        f;
        for (f in a) b[c++] = f;
        return b
    }
    function J(a, b) {
        for (var c, f, g = 1; g < arguments.length; g++) {
            f = arguments[g];
            for (c in f) a[c] = f[c];
            for (var h = 0; h < Ua.length; h++) c = Ua[h],
            Object.prototype.hasOwnProperty.call(f, c) && (a[c] = f[c])
        }
    }
    function u(a) {
        return P === a || ta === a || sa === a || 0 === a ? R: E(a) ? 0 === y(a) : ta
    }
    function C(a, b) {
        J.apply(P, Array.prototype.slice.call(arguments, 0));
        return a
    }
    function D(a, b, c, h, k) {
        h = h || "any";
        k = k !== sa ? k: ta;
        if (!j(a) && !f(a)) return k ? ta: P;
        if (b in a) {
            if ("array" !== h && "function" == g(a[b])) return k ? R: a[b].apply(a, c || []);
            if ("method" !== h) return k ? R: a[b]
        }
        if ("array" === h || f(a)) return k ? ta: P;
        var b = b.toLowerCase(),
        l = "get" + b,
        m = "is" + b,
        p;
        a: {
            b = function(a, b) {
                b = b.toLowerCase();
                return b === l || b === m
            };
            for (p in a) if (b.call(sa, 0, p)) break a;
            p = sa
        }
        return p && "function" == g(a[p]) ? k ? R: a[p].apply(a, c || []) : k ? ta: P
    }
    function E(a) {
        return f(a) || h(a) || j(a)
    }
    function y(a) {
        if (f(a)) a = a.length;
        else if (h(a)) a = a.length;
        else if (j(a)) {
            var b = 0,
            c;
            for (c in a) b++;
            a = b
        } else a = ("number" === typeof a ? a.toString() : "").length;
        return a
    }
    function I(a, b, c) {
        f(a) ? ic(a, b, c) : z(a, b, c)
    }
    function K(a) {
        return a.replace(/[\.\\+*?\[\]<>(){}^$=!|:-]/g, "\\$&")
    }
    function x(a) {
        this.N = a;
        this.e = [];
        this.o = {}
    }
    function N(a) {
        this.s = a
    }
    function H(a, b, c, f, g) {
        if (g && b instanceof N) return b.toString();
        b = b == P ? "": String(b);
        if (yb === c) {
            a = String(b);
            if (a.quote) b = a.quote();
            else {
                b = ['"'];
                for (c = 0; c < a.length; c++) {
                    var h = a.charAt(c),
                    j = h.charCodeAt(0),
                    f = b,
                    g = c + 1,
                    k;
                    if (! (k = gb[h])) {
                        if (! (31 < j && 127 > j)) if (h in ob) h = ob[h];
                        else if (h in gb) h = ob[h] = gb[h];
                        else {
                            k = h.charCodeAt(0);
                            if (31 < k && 127 > k) j = h;
                            else {
                                if (256 > k) {
                                    if (j = "\\x", 16 > k || 256 < k) j += "0"
                                } else j = "\\u",
                                4096 > k && (j += "0");
                                j += k.toString(16).toUpperCase()
                            }
                            h = ob[h] = j
                        }
                        k = h
                    }
                    f[g] = k
                }
                b.push('"');
                b = b.join("")
            }
            return b.substring(1, b.length - 1)
        }
        if (!c || ib === c) return a = b,
        $b.test(a) && ( - 1 != a.indexOf("&") && (a = a.replace(Qa, "&amp;")), -1 != a.indexOf("<") && (a = a.replace(tb, "&lt;")), -1 != a.indexOf(">") && (a = a.replace(eb, "&gt;")), -1 != a.indexOf('"') && (a = a.replace(Va, "&quot;"))),
        a;
        if (nb === c) return encodeURIComponent(b);
        throw Error("The type '" + c + "' is not supported.");
    }
    function A() {
        this.c = {};
        this.i = {};
        this.j = {};
        this.n = {};
        this.h = {};
        this.f = {};
        this.q = ta;
        this.M = "UTF-8"
    }
    function B(a) {
        x.call(this, a)
    }
    function v(a) {
        x.call(this, a)
    }
    function L(a) {
        x.call(this, a)
    }
    function G(a) {
        x.call(this, a)
    }
    function S(a) {
        x.call(this, a)
    }
    function Q(a) {
        x.call(this, a)
    }
    function O(a) {
        x.call(this, a)
    }
    function M(a) {
        x.call(this, a)
    }
    function W(a) {
        x.call(this, a)
    }
    function la(a) {
        x.call(this, a)
    }
    function ia(a) {
        x.call(this, a)
    }
    function Sa(a) {
        x.call(this, a)
    }
    function hb(a) {
        x.call(this, a)
    }
    function Ga(a) {
        x.call(this, a)
    }
    function Lb(a) {
        x.call(this, a)
    }
    function V(a) {
        x.call(this, a)
    }
    function Db(a) {
        x.call(this, a)
    }
    function rb(a) {
        x.call(this, a)
    }
    function Eb(a) {
        x.call(this, a)
    }
    function jb(a) {
        x.call(this, a)
    }
    function La(a) {
        x.call(this, a)
    }
    function sb(a) {
        x.call(this, a)
    }
    function Ma(a) {
        x.call(this, a)
    }
    function Ha(a) {
        x.call(this, a)
    }
    function Xa(a) {
        x.call(this, a)
    }
    function Ya(a) {
        x.call(this, a)
    }
    function Ca(a) {
        x.call(this, a)
    }
    function Da(a) {
        x.call(this, a)
    }
    function n(a) {
        x.call(this, a)
    }
    function ha(a) {
        x.call(this, a)
    }
    function ea(a) {
        x.call(this, a)
    }
    function aa(a) {
        x.call(this, a)
    }
    function Ia(a) {
        x.call(this, a)
    }
    function pa(a) {
        x.call(this, a)
    }
    function ya(a) {
        x.call(this, a)
    }
    function ua(a) {
        x.call(this, a)
    }
    function za(a) {
        x.call(this, a)
    }
    function Za(a) {
        x.call(this, a)
    }
    function T(a) {
        x.call(this, a)
    }
    function ca(a) {
        x.call(this, a)
    }
    function da(a) {
        x.call(this, a)
    }
    function fa(a) {
        x.call(this, a)
    }
    function Na(a) {
        x.call(this, a)
    }
    function wa(a) {
        x.call(this, a)
    }
    function Y(a) {
        x.call(this, a)
    }
    function Oa(a) {
        x.call(this, a)
    }
    function oa(a) {
        x.call(this, a)
    }
    function na(a) {
        x.call(this, a)
    }
    function Ka(a) {
        x.call(this, a)
    }
    function xa(a) {
        x.call(this, a)
    }
    function Ib(a) {
        x.call(this, a)
    }
    function Nb(a) {
        x.call(this, a)
    }
    function Pa(a) {
        x.call(this, a)
    }
    function va(a) {
        x.call(this, a)
    }
    function $a(a) {
        x.call(this, a)
    }
    function ab(a) {
        x.call(this, a)
    }
    function Jb(a) {
        x.call(this, a)
    }
    function Kb(a) {
        x.call(this, a)
    }
    function mb(a) {
        x.call(this, a)
    }
    function ub(a) {
        x.call(this, a)
    }
    function vb(a) {
        x.call(this, a)
    }
    function db(a) {
        x.call(this, a)
    }
    function ja(a) {
        x.call(this, a)
    }
    function bb(a) {
        x.call(this, a)
    }
    function X(a) {
        x.call(this, a)
    }
    function ra(a) {
        x.call(this, a)
    }
    function Aa(a) {
        x.call(this, a)
    }
    function Ea(a) {
        x.call(this, a)
    }
    function cb(a) {
        x.call(this, a)
    }
    function Ba(a) {
        x.call(this, a)
    }
    function Ja(a) {
        x.call(this, a)
    }
    function qa(a) {
        x.call(this, a)
    }
    var sa = void 0,
    R = !0,
    P = null,
    ta = !1,
    ba, kb = this,
    ma = "closure_uid_" + Math.floor(2147483648 * Math.random()).toString(36),
    Ta = 0,
    Qa = /&/g,
    tb = /</g,
    eb = />/g,
    Va = /\"/g,
    $b = /[&<>\"]/,
    gb = {
        "\x00": "\\0",
        "\b": "\\b",
        "\f": "\\f",
        "\n": "\\n",
        "\r": "\\r",
        "\t": "\\t",
        "\x0B": "\\x0B",
        '"': '\\"',
        "\\": "\\\\"
    },
    ob = {
        "'": "\\'"
    };
    l.prototype.d = "";
    l.prototype.append = function(a, b, c) {
        this.d += a;
        if (b != P) for (var f = 1; f < arguments.length; f++) this.d += arguments[f];
        return this
    };
    l.prototype.toString = a("d");
    var Ua = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),
    wb = Array.prototype,
    Wa = wb.indexOf ?
    function(a, b, c) {
        return wb.indexOf.call(a, b, c)
    }: function(a, b, c) {
        c = c == P ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
        if (h(a)) return ! h(b) || 1 != b.length ? -1 : a.indexOf(b, c);
        for (; c < a.length; c++) if (c in a && a[c] === b) return c;
        return - 1
    },
    ic = wb.forEach ?
    function(a, b, c) {
        wb.forEach.call(a, b, c)
    }: function(a, b, c) {
        for (var f = a.length,
        g = h(a) ? a.split("") : a, j = 0; j < f; j++) j in g && b.call(c, g[j], j, a)
    },
    xb = q,
    ma = "twig_ui_" + Math.floor(2147483648 * Math.random()).toString(36);
    ba = x.prototype;
    ba.t = a("e");
    ba.D = function(a) {
        this.e = a
    };
    ba.L = function(a) {
        this.o = a
    };
    ba.getParent = b(ta);
    ba.C = function(a, b, c) {
        if (a in this.o) {
            var f = new l;
            this.o[a](f, b, c || {});
            return f.toString()
        }
        f = this.getParent(b);
        if (ta !== f) return f.m(a, b, c);
        throw Error("The template '" + this.a() + "' has no parent, and no trait defining the block '" + a + "'.");
    };
    ba.m = function(a, b, c) {
        if (c && a in c) {
            var f = new l,
            g = c[a];
            delete c[a];
            g(f, b, c);
            return f.toString()
        }
        if (a in this.e) return f = new l,
        this.e[a](f, b, c || P),
        f.toString();
        f = this.getParent(b);
        return ta !== f ? f.m(a, b, c) : ""
    };
    ba.l = function(a, b) {
        var c = new l;
        this.b(c, a || {},
        b || {});
        return c.toString()
    };
    ba.r = function(a, b, c, f) {
        if (!a["get" + b]) throw Error("The macro " + b + " is not defined in " + a.a() + ".");
        if (f === sa) return a["get" + b].apply(a, c);
        throw Error("Positional arguments, or default values in macro arguments are not supported, yet.");
    };
    N.prototype.toString = a("s");
    var ib = "html",
    yb = "js",
    nb = "url";
    ba = A.prototype;
    ba.l = function(a, b) {
        var c = this.g(a);
        return c.l.call(c, C({},
        this.f, b || {}))
    };
    ba.filter = function(a, b, c) {
        if (! (a in this.i)) throw Error("The filter '" + a + "' does not exist.");
        return this.i[a].apply(P, Array.prototype.slice.call(arguments, 1))
    };
    ba.z = function(a, b, c) {
        if (! (a in this.j)) throw Error("The function '" + a + "' does not exist.");
        return this.j[a].apply(P, Array.prototype.slice.call(arguments, 1))
    };
    ba.test = function(a, b, c) {
        if (! (a in this.n)) throw Error("The test '" + a + "' does not exist.");
        return this.n[a].apply(P, Array.prototype.slice.call(arguments, 1))
    };
    ba.escape = function(a, b, c, f) {
        return H(0, a, b, 0, f)
    };
    ba.A = function(a, b, c) {
        var f = this.g(a),
        g = f["get" + b];
        if (!g) throw Error("The macro '" + b + "' does not exist on template '" + f.a() + "'.");
        return g.apply(f, Array.prototype.slice.call(arguments, 2)).toString()
    };
    ba.G = function(a, b) {
        this.i[a] = b
    };
    ba.H = function(a, b) {
        this.j[a] = b
    };
    ba.K = function(a, b) {
        this.n[a] = b
    };
    ba.J = function(a) {
        this.f = a
    };
    ba.I = function(a, b) {
        this.f[a] = b
    };
    ba.v = a("f");
    ba.k = function() {
        this.q = R;
        z(this.c,
        function(a) {
            a.k()
        },
        this)
    };
    ba.w = function(a) {
        return a in this.c
    };
    ba.getExtension = function(a) {
        if (! (a in this.c)) throw Error('The "' + a + '" extension is not enabled.');
        return this.c[a]
    };
    ba.p = function(a) {
        this.c[a.getName()] = a
    };
    ba.B = function(a) {
        delete this.c[a]
    };
    ba.F = function(a) {
        z(a,
        function(a) {
            this.p(a)
        })
    };
    ba.u = a("c");
    ba.g = function(a) {
        var b = a[ma] || (a[ma] = ++Ta);
        if (b in this.h) return this.h[b];
        ta === this.q && this.k();
        a = new a(this);
        return this.h[b] = a
    };
    window.Twig = new A;
    r("goog.provide",
    function(a) {
        c(a)
    });
    r("goog.require",
    function() {});
    r("twig.attr", D);
    r("twig.bind", xb);
    r("twig.inherits", p);
    r("twig.extend", C);
    r("twig.spaceless",
    function(a) {
        return a.replace(/>[\s\xa0]+</g, "><").replace(/^[\s\xa0]+|[\s\xa0]+$/g, "")
    });
    r("twig.range",
    function(a, b) {
        for (var c = []; a <= b; a += 1) c.push(a);
        return c
    });
    r("twig.contains",
    function(a, b) {
        var c;
        if (f(a)) c = 0 <= Wa(a, b);
        else if (h(a)) c = -1 != a.indexOf(b) && ("" !== b || "" === a);
        else a: {
            for (c in a) if (a[c] == b) {
                c = R;
                break a
            }
            c = ta
        }
        return c
    });
    r("twig.countable", E);
    r("twig.count", y);
    r("twig.forEach", I);
    r("twig.empty", u);
    r("twig.createObj",
    function(a) {
        for (var b = {},
        c = 0; c < arguments.length; c += 2) b[arguments[c]] = arguments[c + 1];
        return b
    });
    r("twig.pregQuote", K);
    r("twig.filter.capitalize",
    function(a, b) {
        return b.charAt(0).toUpperCase() + b.substring(1)
    });
    r("twig.filter.escape", H);
    r("twig.filter.first",
    function(a, b) {
        return f(b) ? b[0] : j(b) ? b[Object.keys(b)[0]] : h(b) ? b.charAt(0) : ""
    });
    r("twig.filter.length",
    function(a, b) {
        return y(b)
    });
    r("twig.filter.def",
    function(a, b) {
        return u(a) ? b || "": a
    });
    r("twig.filter.replace",
    function(a, b) {
        for (var c in b) {
            var f;
            f = K(c);
            a = a.replace(RegExp(f, "g"), b[c])
        }
        return a
    });
    r("twig.filter.join",
    function(a, b) {
        var c = b || "",
        f = new l,
        g = R;
        I(a,
        function(a) {
            g || f.append(c);
            g = ta;
            f.append(a)
        });
        return f.toString()
    });
    r("twig.filter.keys", w);
    r("twig.filter.upper",
    function(a, b) {
        return b.toUpperCase()
    });
    r("twig.filter.lower",
    function(a, b) {
        return b.toLowerCase()
    });
    r("twig.filter.nl2br",
    function(a) {
        return a.replace(/\n/g, "<br />")
    });
    r("twig.filter.abs",
    function(a) {
        return Math.abs(a)
    });
    r("twig.filter.title",
    function(a, b) {
        return b.split(" ").map(function(a) {
            return a.charAt(0).toUpperCase() + a.substr(1).toLowerCase()
        }).join(" ")
    });
    r("twig.filter.trim",
    function(a, b) {
        var c = "\n ";
        b && (c = K(b));
        a = a.replace(RegExp("^[" + c + "]+"), "");
        return a.replace(RegExp("[" + c + "]+$"), "")
    });
    r("twig.filter.json_encode",
    function(a) {
        return JSON.stringify(a)
    });
    r("twig.filter.last",
    function(a, b) {
        if (f(b)) return b[b.length - 1];
        if (j(b)) {
            var c = Object.keys(b);
            return b[c[c.length - 1]]
        }
        return h(b) ? b.charAt(b.length - 1) : ""
    });
    r("twig.filter.reverse",
    function(a, b) {
        if (f(b)) return b.reverse();
        if (j(b)) {
            for (var c = {},
            g = w(b).reverse(), k = 0; k < g.length; k++) c[g[k]] = b[g[k]];
            return c
        }
        return h(b) ? b.split("").reverse().join("") : b
    });
    r("twig.filter.batch",
    function(a, b, c) {
        for (var f = Array(Math.ceil(a.length / b)), g = f.length * b, j = 0; j < g; j++) {
            var k = Math.floor(j / b);
            "undefined" === typeof f[k] && (f[k] = []);
            "undefined" !== typeof a[j] ? f[k].push(a[j]) : h(c) && f[k].push(c)
        }
        return f
    });
    r("twig.filter.merge",
    function(a, b) {
        var c = [];
        if (f(a) && f(b)) {
            for (var g = c = a.concat(b), h = {},
            k = 0, l = 0; l < g.length;) {
                var m = g[l++],
                p = j(m) ? "o" + (m[ma] || (m[ma] = ++Ta)) : (typeof m).charAt(0) + m;
                Object.prototype.hasOwnProperty.call(h, p) || (h[p] = R, g[k++] = m)
            }
            g.length = k
        } else if (j(a) && j(b)) {
            g = {};
            for (h in a) g[h] = a[h];
            c = g;
            z(b,
            function(a, b) {
                c[b] = a
            })
        }
        return c
    });
    r("twig.functions.max",
    function(a) {
        return f(a) ? Math.max.apply(P, a) : j(a) ? Math.max.apply(P, F(a)) : Math.max.apply(P, arguments)
    });
    r("twig.functions.min",
    function(a) {
        return f(a) ? Math.min.apply(P, a) : j(a) ? Math.min.apply(P, F(a)) : Math.min.apply(P, arguments)
    });
    r("twig.functions.random",
    function(a, b) {
        return f(b) || h(b) ? b[Math.floor(Math.random() * b.length)] : "number" == typeof b ? Math.floor(Math.random() * b) : b === P || "undefined" === typeof b ? Math.floor(2147483647 * Math.random()) : ""
    });
    r("twig.StringBuffer", l);
    l.prototype.append = l.prototype.append;
    l.prototype.toString = l.prototype.toString;
    r("twig.Environment", A);
    A.prototype.createTemplate = A.prototype.g;
    A.prototype.filter = A.prototype.filter;
    A.prototype.invoke = A.prototype.z;
    A.prototype.test = A.prototype.test;
    A.prototype.escape = A.prototype.escape;
    A.prototype.macro = A.prototype.A;
    A.prototype.setFilter = A.prototype.G;
    A.prototype.setFunction = A.prototype.H;
    A.prototype.setTest = A.prototype.K;
    A.prototype.render = A.prototype.l;
    A.prototype.getGlobals = A.prototype.v;
    A.prototype.setGlobals = A.prototype.J;
    A.prototype.setGlobal = A.prototype.I;
    A.prototype.initRuntime = A.prototype.k;
    A.prototype.hasExtension = A.prototype.w;
    A.prototype.getExtension = A.prototype.getExtension;
    A.prototype.addExtension = A.prototype.p;
    A.prototype.removeExtension = A.prototype.B;
    A.prototype.setExtensions = A.prototype.F;
    A.prototype.getExtensions = A.prototype.u;
    r("twig.Template", x);
    x.prototype.setTraits = x.prototype.L;
    x.prototype.setBlocks = x.prototype.D;
    x.prototype.getBlocks = x.prototype.t;
    x.prototype.renderParentBlock = x.prototype.C;
    x.prototype.renderBlock = x.prototype.m;
    x.prototype.callMacro = x.prototype.r;
    r("twig.Markup", N);
    p(B, x);
    B.prototype.b = function(a, b) {
        a.append('<div class="page_divider" id="page');
        a.append(H(0, "page" in b ? b.page: P, "html", 0, R));
        a.append('"><span>Page ');
        a.append(H(0, "page" in b ? b.page: P, "html", 0, R));
        a.append("</span></div>")
    };
    B.prototype.a = b("page_divider");
    r("page_divider", B);
    p(v, x);
    v.prototype.b = function(a, b) {
        a.append('<a href="#">+ See All ');
        a.append(H(0, "count" in b ? b.count: P, "html", 0, R));
        a.append(" Categories</a>")
    };
    v.prototype.a = b("topicSeeAll");
    r("topicSeeAll", v);
    p(L, x);
    L.prototype.b = function(a) {
        a.append('<a href="#">&ndash; See Fewer Categories</a>')
    };
    L.prototype.a = b("topicSeeFewer");
    r("topicSeeFewer", L);
    p(G, x);
    G.prototype.b = function(a, b) {
        a.append('<li id="bestseller-');
        a.append(H(0, "id" in b ? b.id: P, "html", 0, R));
        a.append('">\n<ins class="jstree-icon">&nbsp;</ins>\n<a href="#" class="">\n<ins class="jstree-checkbox svg icon-checkbox">&nbsp;</ins>\n<ins class="jstree-icon">&nbsp;</ins>\n');
        a.append(H(0, "title" in b ? b.title: P, "html", 0, R));
        a.append("<span>");
        a.append(H(0, "count" in b ? b.count: P, "html", 0, R));
        a.append("</span></a></li>")
    };
    G.prototype.a = b("typeBestseller");
    r("typeBestseller", G);
    p(S, x);
    S.prototype.b = function(a, b) {
        a.append('<li id="bestseller-');
        a.append(H(0, "id" in b ? b.id: P, "html", 0, R));
        a.append('">\n<a href="#" class="">\n');
        a.append(H(0, "title" in b ? b.title: P, "html", 0, R));
        a.append("<span>");
        a.append(H(0, "count" in b ? b.count: P, "html", 0, R));
        a.append("</span></a></li>")
    };
    S.prototype.a = b("typeBestsellerNoCheckboxes");
    r("typeBestsellerNoCheckboxes", S);
    p(Q, x);
    Q.prototype.b = function(a, b) {
        if ("(0)" != ("count" in b ? b.count: P)) a.append('\t<li data-true-prop="'),
        a.append(H(0, "id" in b ? b.id: P, "html", 0, R)),
        a.append('">\n\t\t<ins class="jstree-icon">&nbsp;</ins>\n\t\t<a href="#" class="">\n\t\t\t<ins class="jstree-checkbox svg icon-checkbox">&nbsp;</ins>\n\t\t\t<ins class="jstree-icon">&nbsp;</ins>\n\t\t\t'),
        a.append(H(0, "title" in b ? b.title: P, "html", 0, R)),
        a.append("<span>"),
        a.append(H(0, "count" in b ? b.count: P, "html", 0, R)),
        a.append("</span>\n\t\t</a>\n\t</li>\n")
    };
    Q.prototype.a = b("topFeature");
    r("topFeature", Q);
    p(O, x);
    O.prototype.b = function(a) {
        a.append("Please enter %s")
    };
    O.prototype.a = b("pleaseEnter");
    r("pleaseEnter", O);
    p(M, x);
    M.prototype.b = function(a) {
        a.append("Please enter your email")
    };
    M.prototype.a = b("pleaseEnterEmail");
    r("pleaseEnterEmail", M);
    p(W, x);
    W.prototype.b = function(a) {
        a.append("Please enter your password")
    };
    W.prototype.a = b("pleaseEnterPassword");
    r("pleaseEnterPassword", W);
    p(la, x);
    la.prototype.b = function(a) {
        a.append("Server Error!")
    };
    la.prototype.a = b("serverError");
    r("serverError", la);
    p(ia, x);
    ia.prototype.b = function(a) {
        a.append("/cart.php")
    };
    ia.prototype.a = b("pageCartUrl");
    r("pageCartUrl", ia);
    p(Sa, x);
    Sa.prototype.b = function(a) {
        a.append("/templates.php")
    };
    Sa.prototype.a = b("pageSearchUrl");
    r("pageSearchUrl", Sa);
    p(hb, x);
    hb.prototype.b = function() {};
    hb.prototype.a = b("tmRoot");
    r("tmRoot", hb);
    p(Ga, x);
    Ga.prototype.b = function(a) {
        a.append("Shopping Cart Is Empty")
    };
    Ga.prototype.a = b("messageShoppingCartIsEmpty");
    r("messageShoppingCartIsEmpty", Ga);
    p(Lb, x);
    Lb.prototype.b = function(a) {
        a.append("Item")
    };
    Lb.prototype.a = b("cartItem");
    r("cartItem", Lb);
    p(V, x);
    V.prototype.b = function(a) {
        a.append("items")
    };
    V.prototype.a = b("cartItems");
    r("cartItems", V);
    p(Db, x);
    Db.prototype.b = function(a) {
        a.append("Added to Cart")
    };
    Db.prototype.a = b("messageAddedToCart");
    r("messageAddedToCart", Db);
    p(rb, x);
    rb.prototype.b = function(a) {
        a.append("Added")
    };
    rb.prototype.a = b("messageAdded");
    r("messageAdded", rb);
    p(Eb, x);
    Eb.prototype.b = function(a) {
        a.append("added")
    };
    Eb.prototype.a = b("messageAddedLC");
    r("messageAddedLC", Eb);
    p(jb, x);
    jb.prototype.b = function(a) {
        a.append("Add to Cart")
    };
    jb.prototype.a = b("messageAddToCart");
    r("messageAddToCart", jb);
    p(La, x);
    La.prototype.b = function(a) {
        a.append("add to cart")
    };
    La.prototype.a = b("messageAddToCartLC");
    r("messageAddToCartLC", La);
    p(sb, x);
    sb.prototype.b = function(a) {
        a.append("The server is temporarily unavailable")
    };
    sb.prototype.a = b("messageServerTempUnavailable");
    r("messageServerTempUnavailable", sb);
    p(Ma, x);
    Ma.prototype.b = function(a) {
        a.append("Error creating order")
    };
    Ma.prototype.a = b("messageErrorCreatingOrder");
    r("messageErrorCreatingOrder", Ma);
    p(Ha, x);
    Ha.prototype.b = function(a) {
        a.append("You are not authorized to perform the current operation.<br/>Redirecting to login page...")
    };
    Ha.prototype.a = b("accountNotAuthorized");
    r("accountNotAuthorized", Ha);
    p(Xa, x);
    Xa.prototype.b = function(a) {
        a.append("JAJAX url not set")
    };
    Xa.prototype.a = b("jajaxUrlError");
    r("jajaxUrlError", Xa);
    p(Ya, x);
    Ya.prototype.b = function(a) {
        a.append("loading")
    };
    Ya.prototype.a = b("messageLoading");
    r("messageLoading", Ya);
    p(Ca, x);
    Ca.prototype.b = function(a) {
        a.append("Method does not exist on jQuery.tooltip")
    };
    Ca.prototype.a = b("jqueryMethodNotExist");
    r("jqueryMethodNotExist", Ca);
    p(Da, x);
    Da.prototype.b = function(a) {
        a.append("No data available")
    };
    Da.prototype.a = b("noDataAvailable");
    r("noDataAvailable", Da);
    p(n, x);
    n.prototype.b = function(a) {
        a.append("Previous page")
    };
    n.prototype.a = b("messagePreviousPage");
    r("messagePreviousPage", n);
    p(ha, x);
    ha.prototype.b = function(a) {
        a.append("Page")
    };
    ha.prototype.a = b("messagePage");
    r("messagePage", ha);
    p(ea, x);
    ea.prototype.b = function(a) {
        a.append("View all %s templates")
    };
    ea.prototype.a = b("messageWizardButtonResult");
    r("messageWizardButtonResult", ea);
    p(aa, x);
    aa.prototype.b = function(a) {
        a.append("Show More")
    };
    aa.prototype.a = b("messageShowMore");
    r("messageShowMore", aa);
    p(Ia, x);
    Ia.prototype.b = function(a) {
        a.append("Show Less")
    };
    Ia.prototype.a = b("messageShowLess");
    r("messageShowLess", Ia);
    p(pa, x);
    pa.prototype.b = function(a) {
        a.append("Sale")
    };
    pa.prototype.a = b("messageBadgeSale");
    r("messageBadgeSale", pa);
    p(ya, x);
    ya.prototype.b = function(a) {
        a.append("On Facebook")
    };
    ya.prototype.a = b("messageOnFacebook");
    r("messageOnFacebook", ya);
    p(ua, x);
    ua.prototype.b = function(a) {
        a.append("On Twitter")
    };
    ua.prototype.a = b("messageOnTwitter");
    r("messageOnTwitter", ua);
    p(za, x);
    za.prototype.b = function(a) {
        a.append("On Google+")
    };
    za.prototype.a = b("messageOnGooglePlus");
    r("messageOnGooglePlus", za);
    p(Za, x);
    Za.prototype.b = function(a) {
        a.append("On Pinterest")
    };
    Za.prototype.a = b("messageOnPinterest");
    r("messageOnPinterest", Za);
    p(T, x);
    T.prototype.b = function(a) {
        a.append("Start enter country")
    };
    T.prototype.a = b("searchPhoneInputPlaceholder");
    r("searchPhoneInputPlaceholder", T);
    p(ca, x);
    ca.prototype.b = function(a) {
        a.append("Previous review")
    };
    ca.prototype.a = b("tooltipReviewsPreview");
    r("tooltipReviewsPreview", ca);
    p(da, x);
    da.prototype.b = function(a) {
        a.append("Next review")
    };
    da.prototype.a = b("tooltipReviewsNext");
    r("tooltipReviewsNext", da);
    p(fa, x);
    fa.prototype.b = function(a) {
        a.append("##%")
    };
    fa.prototype.a = b("percentLocation");
    r("percentLocation", fa);
    p(Na, x);
    Na.prototype.b = function(a) {
        a.append("Your Price")
    };
    Na.prototype.a = b("yourPrice");
    r("yourPrice", Na);
    p(wa, x);
    wa.prototype.b = function(a) {
        a.append("Old Price")
    };
    wa.prototype.a = b("oldPrice");
    r("oldPrice", wa);
    p(Y, x);
    Y.prototype.b = function(a) {
        a.append("You Save")
    };
    Y.prototype.a = b("youSave");
    r("youSave", Y);
    p(Oa, x);
    Oa.prototype.b = function(a) {
        a.append("%d% off")
    };
    Oa.prototype.a = b("discount");
    r("discount", Oa);
    p(oa, x);
    oa.prototype.b = function(a) {
        a.append("Previous product")
    };
    oa.prototype.a = b("previousProduct");
    r("previousProduct", oa);
    p(na, x);
    na.prototype.b = function(a) {
        a.append("Next product")
    };
    na.prototype.a = b("nextProduct");
    r("nextProduct", na);
    p(Ka, x);
    Ka.prototype.b = function(a) {
        a.append("hours")
    };
    Ka.prototype.a = b("hours");
    r("hours", Ka);
    p(xa, x);
    xa.prototype.b = function(a) {
        a.append("minutes")
    };
    xa.prototype.a = b("minutes");
    r("minutes", xa);
    p(Ib, x);
    Ib.prototype.b = function(a) {
        a.append("seconds")
    };
    Ib.prototype.a = b("seconds");
    r("seconds", Ib);
    p(Nb, x);
    Nb.prototype.b = function(a) {
        a.append("Go to %s")
    };
    Nb.prototype.a = b("messageGoToMail");
    r("messageGoToMail", Nb);
    p(Pa, x);
    Pa.prototype.b = function(a) {
        a.append("Hurry on! Its a limited time proposition.")
    };
    Pa.prototype.a = b("hurryOn");
    r("hurryOn", Pa);
    p(va, x);
    va.prototype.b = function(a) {
        a.append('Save <span class="highlighted"><b class="percent">%d</b>% OFF</span> on this product')
    };
    va.prototype.a = b("productOfTheDayWith");
    r("productOfTheDayWith", va);
    p($a, x);
    $a.prototype.b = function(a) {
        a.append("days")
    };
    $a.prototype.a = b("days");
    r("days", $a);
    p(ab, x);
    ab.prototype.b = function(a) {
        a.append("hrs")
    };
    ab.prototype.a = b("hrs");
    r("hrs", ab);
    p(Jb, x);
    Jb.prototype.b = function(a) {
        a.append("min")
    };
    Jb.prototype.a = b("min");
    r("min", Jb);
    p(Kb, x);
    Kb.prototype.b = function(a) {
        a.append("sec")
    };
    Kb.prototype.a = b("sec");
    r("sec", Kb);
    p(mb, x);
    mb.prototype.b = function(a) {
        a.append("Hold to show password")
    };
    mb.prototype.a = b("holdToShowPassword");
    r("holdToShowPassword", mb);
    p(ub, x);
    ub.prototype.b = function(a) {
        a.append("Please wait a few seconds,<br> we\u2019re trying to proccess your order")
    };
    ub.prototype.a = b("ocpLoaderDescription");
    r("ocpLoaderDescription", ub);
    p(vb, x);
    vb.prototype.b = function(a, b) {
        a.append('<div class="suggested-item js-suggested-item  js-btn link-click" data-href="');
        a.append(H(0, "url" in b ? b.url: P, "html", 0, R));
        a.append('" data-target="_blank">\n\t<div class="suggested-item-icon grow-2 svg tm-icon ');
        a.append(H(0, "icon" in b ? b.icon: P, "html", 0, R));
        a.append('"></div>\n\t<div class="suggested-item-info grow-1">\n\t\t<div class="suggested-item-name"><strong class="tt-highlight">');
        a.append("name" in b ? b.name: P);
        a.append('</strong></div>\n\t\t<div class="suggested-item-descr">');
        a.append("descr" in b ? b.descr: P);
        a.append('</div>\n\t</div>\n\t<div class="suggested-item-additional">\n\t\t<span class="suggestion-count">');
        a.append(H(0, "count" in b ? b.count: P, "html", 0, R));
        a.append("</span>\n\t</div>\n</div>")
    };
    vb.prototype.a = b("panel_item_search");
    r("panel_item_search", vb);
    p(db, x);
    db.prototype.b = function(a, b) {
        a.append('<div class="suggested-item js-suggested-item js-btn link-click" data-tid="');
        a.append(H(0, "model" in b ? b.model: P, "html", 0, R));
        a.append('"\n\t data-js_icon="');
        a.append(H(0, "icon" in b ? b.icon: P, "html", 0, R));
        a.append('"\n\t data-url="');
        a.append(H(0, "url" in b ? b.url: P, "html", 0, R));
        a.append('"\n\t data-name="');
        a.append(H(0, "name" in b ? b.name: P, "html", 0, R));
        a.append('"\n\t data-descr="');
        a.append(H(0, "descr" in b ? b.descr: P, "html", 0, R));
        a.append('"\n\t data-price="');
        a.append("price" in b ? b.price: P);
        a.append('"\n\t data-href="');
        a.append(H(0, "url" in b ? b.url: P, "html", 0, R));
        a.append('"\n\t data-element_id="');
        a.append(H(0, "element_id" in b ? b.element_id: P, "html", 0, R));
        a.append('"\n\t data-target="_blank"\n>\n\t<img class="suggested-item-icon grow-2" src="');
        a.append(H(0, "icon" in b ? b.icon: P, "html", 0, R));
        a.append('">\n\t<div class="suggested-item-info grow-1">\n\t\t<div class="suggested-item-name "><strong class="tt-highlight">');
        a.append("name" in b ? b.name: P);
        a.append('</strong></div>\n\t\t<div class="suggested-item-descr">');
        a.append("descr" in b ? b.descr: P);
        a.append('</div>\n\t</div>\n\t<div class="suggested-item-additional">\n\t\t<span class="new-price">');
        a.append("price" in b ? b.price: P);
        a.append('</span>\n\t\t<b id="fl-panel-preview-');
        a.append(H(0, "namespace" in b ? b.namespace: P, "html", 0, R));
        a.append("-");
        a.append(H(0, "model" in b ? b.model: P, "html", 0, R));
        a.append('" class="tm-icon icon-heart-empty js-favorite js-favorite-btn favorite-btn js-none"\n\t\t   data-tid="');
        a.append(H(0, "model" in b ? b.model: P, "html", 0, R));
        a.append('" data-item_name="template-');
        a.append(H(0, "model" in b ? b.model: P, "html", 0, R));
        a.append('"\n\t\t   data-title-favorite="Delete from Collection"\n\t\t   data-title-not-favorite="Add to Collection">\n\t\t</b>\n\t</div>\n</div>')
    };
    db.prototype.a = b("panel_item_template");
    r("panel_item_template", db);
    p(ja, x);
    ja.prototype.b = function(a) {
        a.append('<div class="float-panel empty-cart-block">\n\t<div class="wrapper-items cart-item">\n\t\t<div id="viewed-cart" data-href="/cart.php"  data-target="_blank" class="js-btn js-cart-float panel-item cart-item center">\n\t\t\t<span class="panel-inner t5">\n\t\t\t\t<span class="number js-count">0</span><span>Items in Cart</span> <span class="currency js-amount js-none">0</span><i class="tm-icon icon-arrow"></i>\n\t\t\t</span>\n\n\t\t\t<span data-href="" class="js-btn button btn-important action-button t5" id="float-panel-checkout">Checkout</span>\n\n\t\t\t<div class="popover-extended">\n\t\t\t\t<div class="wrap-panel-btn">\n\t\t\t\t\t<span data-href="/cart.php"  data-target="_blank" class="js-btn button btn-main btn-full-width">View <span class="js-count">0</span> More Item in Cart</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="wrapper-items">\n\t\t<div class="wrapper-five-item flex-row vertical-center center">\n\t\t\t<div id="viewed-items" class="panel-item viewed-item js-panel-item js-template grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>Viewed Items</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n\t\t\t\t<div class="popover-extended js-popover-with-scroll js-popover-template">\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="viewed-types" class="panel-item types-item js-panel-item js-type grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>Viewed Types</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n\t\t\t\t<div class="popover-extended   js-popover-with-scroll js-popover-type">\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="viewed-categories" class="panel-item categories-item js-panel-item js-topic grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>Viewed Categories</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n\t\t\t\t<div class="popover-extended   js-popover-with-scroll js-popover-topic" >\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="viewed-search-history" class="panel-item search-history-item  js-panel-item js-keyword grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>in Search History</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n\t\t\t\t<div class="popover-extended js-popover-with-scroll js-popover-keyword" >\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="viewed-collections" class="panel-item collection-item js-panel-item js-collection grow-1">\n\t\t\t\t<span class="panel-inner t5">\n\t\t\t\t\t<span class="number js-count-bottom">0</span><span>in Collection</span> <i class="tm-icon icon-arrow"></i>\n\t\t\t\t</span>\n\t\t\t\t<div class="popover-extended js-popover-collection">\n\t\t\t\t\t<div class="wrap-panel-btn js-popover-button-collection js-none">\n\t\t\t\t\t\t<span data-href="');
        a.append("/collection/");
        a.append('"  data-target="_blank"  class="js-btn button btn-main btn-full-width">View <span class="js-count">0</span> More Items in Collection</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n</div>')
    };
    ja.prototype.a = b("panel_bottom");
    r("panel_bottom", ja);
    p(bb, x);
    bb.prototype.b = function(a) {
        a.append("Category")
    };
    bb.prototype.a = b("categoryText");
    r("categoryText", bb);
    p(X, x);
    X.prototype.b = function(a) {
        a.append("Sub-Category")
    };
    X.prototype.a = b("subCategoryText");
    r("subCategoryText", X);
    p(ra, x);
    ra.prototype.b = function(a, b) {
        b._parent = b;
        var c = "topics" in b ? b.topics: P;
        I(c,
        function(c, f) {
            b._key = f;
            b.topic = c;
            a.append("            ");
            D("topic" in b ? b.topic: P, "href") ? (a.append('            <span class="bc-item"><a href="'), a.append(H(0, D("topic" in b ? b.topic: P, "href"), "html", 0, R)), a.append('">'), a.append(H(0, D("topic" in b ? b.topic: P, "title"), "html", 0, R)), a.append("</a>\n            ")) : (a.append('            <span class="bc-item bc-item-last">'), a.append(H(0, D("topic" in b ? b.topic: P, "title"), "html", 0, R)), a.append("\n            "));
            a.append("        ")
        },
        this);
        a.append("        ");
        b._parent = b;
        c = "topics" in b ? b.topics: P;
        I(c,
        function(c, f) {
            b._key = f;
            b.topic = c;
            a.append("            </span>\n        ")
        },
        this)
    };
    ra.prototype.a = b("topicBreadcrumbs");
    r("topicBreadcrumbs", ra);
    p(Aa, x);
    Aa.prototype.b = function(a, b) { ! ("showMore" in b) || "showMore" in b && b.showMore ? a.append('<span class="bestseller-closed">+&nbsp;</span>See All Product Types') : a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Product Types')
    };
    Aa.prototype.a = b("moreProductTypes");
    r("moreProductTypes", Aa);
    p(Ea, x);
    Ea.prototype.b = function(a, b) { ! ("showMore" in b) || "showMore" in b && b.showMore ? a.append('<span class="bestseller-closed">+&nbsp;</span>See All Features') : a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Features')
    };
    Ea.prototype.a = b("showMoreFeatures");
    r("showMoreFeatures", Ea);
    p(cb, x);
    cb.prototype.b = function(a, b) {
        "searchByKeyword" in b && b.searchByKeyword ? (a.append('                                <h1 class="search-heading js-keywords-found" itemprop="name" data-count="'), a.append(H(0, "templateTotalFound" in b ? b.templateTotalFound: P, "html", 0, R)), a.append('">We found <span class="num">'), a.append(H(0, "templateTotalFound" in b ? b.templateTotalFound: P, "html", 0, R)), a.append('</span> result(s) for "<span class="js-keywords">'), a.append(H(0, "keywords" in b ? b.keywords: P, "html", 0, R)), a.append('</span>"</h1>\n                            ')) : "needsRendering" in b && b.needsRendering || !("contentTitle" in b && b.contentTitle) ? (a.append('                                <h1 class="search-heading js-keywords-found" itemprop="name" data-count="'), a.append(H(0, "templateTotalFound" in b ? b.templateTotalFound: P, "html", 0, R)), a.append('">We found <span class="num">'), a.append(H(0, "templateTotalFound" in b ? b.templateTotalFound: P, "html", 0, R)), a.append("</span> result(s)</h1>\n                            ")) : (a.append('                                <h1 class="search-heading js-keywords-found" itemprop="name" data-count="'), a.append(H(0, "templateTotalFound" in b ? b.templateTotalFound: P, "html", 0, R)), a.append('">'), a.append(H(0, "contentTitle" in b ? b.contentTitle: P, "html", 0, R)), a.append('</h1>\n                                <span class="num">('), a.append(H(0, "templateTotalFound" in b ? b.templateTotalFound: P, "html", 0, R)), a.append(")</span>\n                            "))
    };
    cb.prototype.a = b("search_h1");
    r("search_h1", cb);
    p(Ba, x);
    Ba.prototype.b = function(a, b) {
        b._parent = b;
        var c = "topics" in b ? b.topics: P;
        I(c,
        function(c, f) {
            b._key = f;
            b.topic = c;
            a.append("        ");
            D("topic" in b ? b.topic: P, "href") ? (a.append('        <span class="bc-item"><a href="'), a.append(H(0, D("topic" in b ? b.topic: P, "href"), "html", 0, R)), a.append('">'), a.append(H(0, D("topic" in b ? b.topic: P, "title"), "html", 0, R)), a.append("</a>\n            ")) : (a.append('            <span class="bc-item bc-item-last">'), a.append(H(0, D("topic" in b ? b.topic: P, "title"), "html", 0, R)), a.append("\n                "));
            a.append("                ")
        },
        this);
        a.append("                ");
        b._parent = b;
        c = "topics" in b ? b.topics: P;
        I(c,
        function(c, f) {
            b._key = f;
            b.topic = c;
            a.append("            </span>\n            ")
        },
        this)
    };
    Ba.prototype.a = b("mobileTopicBreadcrumbs");
    r("mobileTopicBreadcrumbs", Ba);
    p(Ja, x);
    Ja.prototype.b = function(a, b) { ! ("showMore" in b) || "showMore" in b && b.showMore ? a.append('<span class="bestseller-closed">+&nbsp;</span>See All Product Types') : a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Product Types')
    };
    Ja.prototype.a = b("mobileMoreProductTypes");
    r("mobileMoreProductTypes", Ja);
    p(qa, x);
    qa.prototype.b = function(a, b) { ! ("showMore" in b) || "showMore" in b && b.showMore ? a.append('<span class="bestseller-closed">+&nbsp;</span>See All Features') : a.append('<span class="bestseller-opened">&ndash;&nbsp;</span>See Fewer Features')
    };
    qa.prototype.a = b("mobileShowMoreFeatures");
    r("mobileShowMoreFeatures", qa)
})();
CLS56 = function() {
    this.lang = "en";
    this.currency = "$###,###.##";
    this.route = "en"
};
CLS56.prototype.urlPrefix = function(a) {
    a = a || "";
    return this.isDefault() ? a: "/" + this.route + a
};
CLS56.prototype.isDefault = function() {
    return "en" == this.lang
};
CLS56.prototype.formatMoney = function(a) {
    var b = this._parseFormat(this.currency);
    d = b[1].match(/(.)##$/)[1];
    t = b[1].match(/[^#]/)[0];
    return b[0] + this._formatMoney(a, 0, d, t) + b[2]
};
CLS56.prototype._formatMoney = function(a, b, c, g) {
    var b = isNaN(b = Math.abs(b)) ? 2 : b,
    c = goog.isDef(c) ? c: ".",
    g = goog.isDef(g) ? g: ",",
    f = 0 > a ? "-": "",
    h = parseInt(a = Math.abs( + a || 0).toFixed(b)) + "",
    j = 3 < (j = h.length) ? j % 3 : 0;
    return f + (j ? h.substr(0, j) + g: "") + h.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + g) + (b ? c + Math.abs(a - h).toFixed(b).slice(2) : "")
};
CLS56.prototype._parseFormat = function(a) {
    a = a.match(/(.*?)(#.*#)(.*)/);
    a.shift();
    return a
};
var __topics = {
    state: "open",
    attr: {
        "single-select": 1
    },
    data: [{
        data: "Art & Culture",
        attr: {
            "data-topic": 51033
        },
        children: [{
            data: "Art",
            attr: {
                id: "topicart",
                "data-topic": 50233
            },
            children: [{
                data: "Art Gallery",
                attr: {
                    "data-topic": 50234
                }
            },
            {
                data: "Art School",
                attr: {
                    "data-topic": 50235
                }
            },
            {
                data: "Artist Portfolio",
                attr: {
                    "data-topic": 50236
                }
            },
            {
                data: "Art Store",
                attr: {
                    "data-topic": 50237
                }
            },
            {
                data: "Art Studio",
                attr: {
                    "data-topic": 50238
                }
            },
            {
                data: "Clip Art",
                attr: {
                    "data-topic": 50239
                }
            },
            {
                data: "Print Shop",
                attr: {
                    "data-topic": 50240
                }
            },
            {
                data: "Sculpture",
                attr: {
                    "data-topic": 50582
                }
            }]
        },
        {
            data: "Music",
            attr: {
                "data-topic": 50564
            },
            children: [{
                data: "Music Band",
                attr: {
                    "data-topic": 50423
                }
            },
            {
                data: "Music Portal",
                attr: {
                    "data-topic": 50424
                }
            },
            {
                data: "Music Store",
                attr: {
                    "data-topic": 50425
                }
            },
            {
                data: "Recording Studio",
                attr: {
                    "data-topic": 50426
                }
            },
            {
                data: "Music Festival",
                attr: {
                    "data-topic": 50427
                }
            },
            {
                data: "Music Blog",
                attr: {
                    "data-topic": 50428
                }
            },
            {
                data: "Singer",
                attr: {
                    "data-topic": 50617
                }
            },
            {
                data: "MP3 Store",
                attr: {
                    "data-topic": 50339
                }
            },
            {
                data: "DJ",
                attr: {
                    "data-topic": 50341,
                    "data-priority": 1
                }
            },
            {
                data: "Composer",
                attr: {
                    "data-topic": 170857
                }
            }]
        },
        {
            data: "Museum",
            attr: {
                "data-topic": 50468
            }
        },
        {
            data: "Movie",
            attr: {
                "data-topic": 50331,
                "data-priority": 1
            }
        },
        {
            data: "Theater",
            attr: {
                "data-topic": 50332,
                "data-priority": 1
            }
        }]
    },
    {
        data: "Animals & Pets",
        attr: {
            "data-topic": 50159
        },
        children: [{
            data: "Pets",
            attr: {
                "data-topic": 50220
            },
            children: [{
                data: "Exotic",
                attr: {
                    "data-topic": 50227
                }
            },
            {
                data: "Cat",
                attr: {
                    "data-topic": 50223
                }
            },
            {
                data: "Dog",
                attr: {
                    "data-topic": 50222
                }
            },
            {
                data: "Fish",
                attr: {
                    "data-topic": 50226
                }
            },
            {
                data: "Bird",
                attr: {
                    "data-topic": 50224
                }
            },
            {
                data: "Guinea Pigs",
                attr: {
                    "data-topic": 50229
                }
            }]
        },
        {
            data: "Wild",
            attr: {
                "data-topic": 50584
            }
        },
        {
            data: "Zoo",
            attr: {
                "data-topic": 50230
            }
        },
        {
            data: "Veterinary",
            attr: {
                "data-topic": 50221
            }
        },
        {
            data: "Horse",
            attr: {
                "data-topic": 50225
            }
        },
        {
            data: "Animal Shelter",
            attr: {
                "data-topic": 50219
            }
        },
        {
            data: "Pet Sitting",
            attr: {
                "data-topic": 50585
            }
        },
        {
            data: "Dolphin",
            attr: {
                "data-topic": 50231
            }
        },
        {
            data: "Reptile",
            attr: {
                "data-topic": 50228
            }
        }]
    },
    {
        data: "Design & Photography",
        attr: {
            "data-topic": 51034
        },
        children: [{
            data: "Design",
            attr: {
                "data-topic": 50629
            },
            children: [{
                data: "Exterior Design",
                attr: {
                    "data-topic": 50545,
                    "data-priority": 1
                },
                children: [{
                    data: "Landscape Design",
                    attr: {
                        "data-topic": 50343,
                        "data-priority": 1
                    }
                },
                {
                    data: "Garden Design",
                    attr: {
                        "data-topic": 50344,
                        "data-priority": 1
                    }
                }]
            },
            {
                data: "Interior & Furniture",
                attr: {
                    "data-topic": 50556
                },
                children: [{
                    data: "Interior Design",
                    attr: {
                        "data-topic": 50395,
                        "data-priority": 1
                    },
                    children: [{
                        data: "Feng Shui",
                        attr: {
                            "data-topic": 50396,
                            "data-priority": 1
                        }
                    },
                    {
                        data: "Home Remodeling",
                        attr: {
                            "data-topic": 50398,
                            "data-priority": 1
                        }
                    }]
                },
                {
                    data: "Furniture",
                    attr: {
                        "data-topic": 50397,
                        "data-priority": 1
                    }
                },
                {
                    data: "Decor",
                    attr: {
                        "data-topic": 88755,
                        "data-priority": 1
                    },
                    children: [{
                        data: "Window Decor",
                        attr: {
                            "data-topic": 50399,
                            "data-priority": 1
                        }
                    },
                    {
                        data: "Home Decor",
                        attr: {
                            "data-topic": 50400,
                            "data-priority": 1
                        }
                    }]
                },
                {
                    data: "Housewares",
                    attr: {
                        "data-topic": 50636,
                        "data-priority": 1
                    }
                },
                {
                    data: "Windows & Doors",
                    attr: {
                        "data-topic": 50647,
                        "data-priority": 1
                    }
                },
                {
                    data: "Flooring",
                    attr: {
                        "data-topic": 50659,
                        "data-priority": 1
                    }
                }]
            },
            {
                data: "Architecture",
                attr: {
                    "data-topic": 50160,
                    "data-priority": 1
                },
                children: [{
                    data: "Construction Company",
                    attr: {
                        "data-topic": 50232,
                        "data-priority": 1
                    }
                },
                {
                    data: "Drafting",
                    attr: {
                        "data-topic": 50583,
                        "data-priority": 1
                    }
                }]
            },
            {
                data: "Web Design",
                attr: {
                    "data-topic": 50578
                }
            },
            {
                data: "Design Portfolio",
                attr: {
                    "data-topic": 50631
                }
            },
            {
                data: "Design Studio",
                attr: {
                    "data-topic": 50630
                }
            }]
        },
        {
            data: "Photography",
            attr: {
                "data-topic": 50241
            },
            children: [{
                data: "Photo Gallery",
                attr: {
                    "data-topic": 50242
                }
            },
            {
                data: "Photographer Portfolio",
                attr: {
                    "data-topic": 50243
                }
            },
            {
                data: "Photo Lab",
                attr: {
                    "data-topic": 50244
                }
            },
            {
                data: "Photo Studio",
                attr: {
                    "data-topic": 50586
                }
            },
            {
                data: "Stock Photo",
                attr: {
                    "data-topic": 118530
                }
            }]
        }]
    },
    {
        data: "Education & Books",
        attr: {
            "data-topic": 51035
        },
        children: [{
            data: "Books",
            attr: {
                "data-topic": 50156
            },
            children: [{
                data: "Publishing Company",
                attr: {
                    "data-topic": 50255
                }
            },
            {
                data: "Book Reviews",
                attr: {
                    "data-topic": 50256
                }
            },
            {
                data: "Writer/Author",
                attr: {
                    "data-topic": 170863
                }
            },
            {
                data: "Comic Store",
                attr: {
                    "data-topic": 170881
                }
            }]
        },
        {
            data: "Education",
            attr: {
                "data-topic": 50540
            },
            children: [{
                data: "Colleges & Universities",
                attr: {
                    "data-topic": 88754
                },
                children: [{
                    data: "University",
                    attr: {
                        "data-topic": 50317
                    }
                }]
            },
            {
                data: "Library",
                attr: {
                    "data-topic": 50323
                }
            },
            {
                data: "Career & Special Education",
                attr: {
                    "data-topic": 88756
                },
                children: [{
                    data: "Traffic School",
                    attr: {
                        "data-topic": 50599
                    }
                },
                {
                    data: "Cooking School",
                    attr: {
                        "data-topic": 50324
                    }
                },
                {
                    data: "Career Education",
                    attr: {
                        "data-topic": 50322
                    }
                },
                {
                    data: "Business School",
                    attr: {
                        "data-topic": 50321
                    }
                },
                {
                    data: "Music School",
                    attr: {
                        "data-topic": 50320
                    }
                },
                {
                    data: "Flight School",
                    attr: {
                        "data-topic": 50319
                    }
                },
                {
                    data: "Dance School",
                    attr: {
                        "data-topic": 50318
                    }
                },
                {
                    data: "Language School",
                    attr: {
                        "data-topic": 50316
                    }
                },
                {
                    data: "Swimming School",
                    attr: {
                        "data-topic": 50314
                    }
                },
                {
                    data: "Religious School",
                    attr: {
                        "data-topic": 50315
                    }
                }]
            },
            {
                data: "Primary School",
                attr: {
                    "data-topic": 50603
                }
            },
            {
                data: "Elementary School",
                attr: {
                    "data-topic": 170862
                }
            },
            {
                data: "Private Teacher",
                attr: {
                    "data-topic": 170865
                }
            },
            {
                data: "Med School",
                attr: {
                    "data-topic": 170878
                }
            }]
        },
        {
            data: "Science",
            attr: {
                "data-topic": 50570
            },
            children: [{
                data: "Astronomy",
                attr: {
                    "data-topic": 50450
                }
            },
            {
                data: "Astrology",
                attr: {
                    "data-topic": 50333
                }
            },
            {
                data: "Science Lab",
                attr: {
                    "data-topic": 50654
                }
            },
            {
                data: "UFO",
                attr: {
                    "data-topic": 50452
                }
            }]
        }]
    },
    {
        data: "Business & Services",
        attr: {
            "data-topic": 51036
        },
        children: [{
            data: "IT",
            attr: {
                "data-topic": 50269
            }
        },
        {
            data: "Security",
            attr: {
                "data-topic": 50571
            },
            children: [{
                data: "Police",
                attr: {
                    "data-topic": 50455
                }
            },
            {
                data: "Fire Department",
                attr: {
                    "data-topic": 50453
                }
            },
            {
                data: "Locksmith",
                attr: {
                    "data-topic": 50456
                }
            },
            {
                data: "Private Investigator",
                attr: {
                    "data-topic": 50637
                }
            }]
        },
        {
            data: "Agriculture",
            attr: {
                "data-topic": 50524
            },
            children: [{
                data: "Gardening",
                attr: {
                    "data-topic": 50211
                }
            },
            {
                data: "Farms",
                attr: {
                    "data-topic": 50208
                },
                children: [{
                    data: "Cattle",
                    attr: {
                        "data-topic": 50209
                    }
                },
                {
                    data: "Poultry",
                    attr: {
                        "data-topic": 50212
                    }
                },
                {
                    data: "Sheep",
                    attr: {
                        "data-topic": 50213
                    }
                }]
            },
            {
                data: "Fruits & Vegetables",
                attr: {
                    "data-topic": 50210
                }
            },
            {
                data: "Winery",
                attr: {
                    "data-topic": 50215
                }
            }]
        },
        {
            data: "Environmental",
            attr: {
                "data-topic": 50639
            },
            children: [{
                data: "Alternative Power",
                attr: {
                    "data-topic": 50525
                }
            },
            {
                data: "Wind Energy",
                attr: {
                    "data-topic": 50217
                }
            },
            {
                data: "Solar Energy",
                attr: {
                    "data-topic": 50216
                }
            },
            {
                data: "Biofuel",
                attr: {
                    "data-topic": 50218
                }
            }]
        },
        {
            data: "Auction",
            attr: {
                "data-topic": 50643
            }
        },
        {
            data: "Law",
            attr: {
                "data-topic": 50559,
                "data-priority": 1
            },
            children: [{
                data: "Lawyer",
                attr: {
                    "data-topic": 50404,
                    "data-priority": 1
                }
            },
            {
                data: "Law Firm",
                attr: {
                    "data-topic": 50405,
                    "data-priority": 1
                }
            }]
        },
        {
            data: "Antique",
            attr: {
                "data-topic": 50632
            },
            children: [{
                data: "Antique Store",
                attr: {
                    "data-topic": 50633
                }
            }]
        },
        {
            data: "Transportation",
            attr: {
                "data-topic": 50576
            },
            children: [{
                data: "Moving Company",
                attr: {
                    "data-topic": 50384
                }
            },
            {
                data: "Maritime",
                attr: {
                    "data-topic": 50479
                }
            },
            {
                data: "Taxi",
                attr: {
                    "data-topic": 50480
                }
            },
            {
                data: "Private Airline",
                attr: {
                    "data-topic": 50651
                }
            },
            {
                data: "Trucking",
                attr: {
                    "data-topic": 50627
                }
            }]
        },
        {
            data: "Hotels",
            attr: {
                "data-topic": 50554,
                "data-priority": 1
            },
            children: [{
                data: "Hotel Reviews",
                attr: {
                    "data-topic": 50387,
                    "data-priority": 1
                }
            },
            {
                data: "Motel",
                attr: {
                    "data-topic": 50388,
                    "data-priority": 1
                }
            }]
        },
        {
            data: "Industrial",
            attr: {
                "data-topic": 50555
            },
            children: [{
                data: "Gas & Oil",
                attr: {
                    "data-topic": 50389
                }
            },
            {
                data: "Steelworks",
                attr: {
                    "data-topic": 50390
                }
            },
            {
                data: "Welding",
                attr: {
                    "data-topic": 50391
                }
            },
            {
                data: "Mining Company",
                attr: {
                    "data-topic": 50392
                }
            },
            {
                data: "Civil Engineering",
                attr: {
                    "data-topic": 50393
                }
            },
            {
                data: "Lighting & Electricity",
                attr: {
                    "data-topic": 50394
                }
            },
            {
                data: "Cement",
                attr: {
                    "data-topic": 50610
                }
            },
            {
                data: "Timber",
                attr: {
                    "data-topic": 50645
                }
            },
            {
                data: "Packaging",
                attr: {
                    "data-topic": 50648
                }
            },
            {
                data: "Paving",
                attr: {
                    "data-topic": 170839
                }
            },
            {
                data: "Building Materials",
                attr: {
                    "data-topic": 170842
                }
            }]
        },
        {
            data: "Maintenance Services",
            attr: {
                "data-topic": 50560
            },
            children: [{
                data: "Air Conditioning",
                attr: {
                    "data-topic": 50644
                }
            },
            {
                data: "Cleaning",
                attr: {
                    "data-topic": 50382
                }
            },
            {
                data: "Delivery Services",
                attr: {
                    "data-topic": 50383
                }
            },
            {
                data: "Dry Cleaners",
                attr: {
                    "data-topic": 50376
                }
            },
            {
                data: "Home Repairs",
                attr: {
                    "data-topic": 50380
                }
            },
            {
                data: "Laundry",
                attr: {
                    "data-topic": 50386
                }
            },
            {
                data: "Painting Company",
                attr: {
                    "data-topic": 50375
                }
            },
            {
                data: "Pest Control",
                attr: {
                    "data-topic": 50385
                }
            },
            {
                data: "Plumbing",
                attr: {
                    "data-topic": 50378
                }
            },
            {
                data: "Pool Cleaning",
                attr: {
                    "data-topic": 50379
                }
            },
            {
                data: "Roofing Company",
                attr: {
                    "data-topic": 50381
                }
            },
            {
                data: "Window Cleaning",
                attr: {
                    "data-topic": 50377
                }
            },
            {
                data: "Lawn Mowing",
                attr: {
                    "data-topic": 170859
                }
            }]
        },
        {
            data: "Media",
            attr: {
                "data-topic": 50561
            },
            children: [{
                data: "News Portal",
                attr: {
                    "data-topic": 50406
                }
            },
            {
                data: "Celebrity Website",
                attr: {
                    "data-topic": 50407
                }
            },
            {
                data: "TV Channel",
                attr: {
                    "data-topic": 50408
                }
            },
            {
                data: "Weather",
                attr: {
                    "data-topic": 50616
                }
            },
            {
                data: "Video Lab",
                attr: {
                    "data-topic": 50409
                }
            },
            {
                data: "Videographer",
                attr: {
                    "data-topic": 50589
                }
            },
            {
                data: "Video Gallery",
                attr: {
                    "data-topic": 50590
                }
            },
            {
                data: "Magazine",
                attr: {
                    "data-topic": 170867
                }
            },
            {
                data: "Movie Studio",
                attr: {
                    "data-topic": 170870
                }
            },
            {
                data: "Podcast",
                attr: {
                    "data-topic": 170868
                }
            }]
        },
        {
            data: "Tobacco",
            attr: {
                "data-topic": 50596
            }
        },
        {
            data: "Business Services",
            attr: {
                "data-topic": 88759
            },
            children: [{
                data: "SEO Website",
                attr: {
                    "data-topic": 50265
                }
            },
            {
                data: "Outsourcing Company",
                attr: {
                    "data-topic": 50266
                }
            },
            {
                data: "Translation Bureau",
                attr: {
                    "data-topic": 50270
                }
            },
            {
                data: "Consulting",
                attr: {
                    "data-topic": 50258
                }
            },
            {
                data: "Marketing",
                attr: {
                    "data-topic": 50259
                }
            },
            {
                data: "Accounting",
                attr: {
                    "data-topic": 50262
                }
            },
            {
                data: "Management",
                attr: {
                    "data-topic": 50263
                }
            },
            {
                data: "Advertising Agency",
                attr: {
                    "data-topic": 50264
                }
            },
            {
                data: "Call Center",
                attr: {
                    "data-topic": 50267
                }
            },
            {
                data: "Public Relations",
                attr: {
                    "data-topic": 50268
                }
            },
            {
                data: "Merchant",
                attr: {
                    "data-topic": 50605,
                    "data-priority": 1
                }
            },
            {
                data: "Job Portal",
                attr: {
                    "data-topic": 50635
                }
            },
            {
                data: "Stationery",
                attr: {
                    "data-topic": 50640
                }
            },
            {
                data: "Office",
                attr: {
                    "data-topic": 50646
                }
            }]
        },
        {
            data: "Finance",
            attr: {
                "data-topic": 88757
            },
            children: [{
                data: "Banking Services",
                attr: {
                    "data-topic": 50594
                }
            },
            {
                data: "Financial Advisor",
                attr: {
                    "data-topic": 50261
                }
            },
            {
                data: "Insurance",
                attr: {
                    "data-topic": 50593
                }
            },
            {
                data: "Loans",
                attr: {
                    "data-topic": 55681
                }
            },
            {
                data: "Credit and Collection",
                attr: {
                    "data-topic": 55682
                }
            },
            {
                data: "Merchant Services",
                attr: {
                    "data-topic": 50605
                }
            },
            {
                data: "Investment Company",
                attr: {
                    "data-topic": 50260
                }
            },
            {
                data: "Mortgages",
                attr: {
                    "data-topic": 50595
                }
            }]
        },
        {
            data: "Daily Deals",
            attr: {
                "data-topic": 170861
            }
        },
        {
            data: "Self Storage",
            attr: {
                "data-topic": 170869
            }
        },
        {
            data: "Wholesale Store",
            attr: {
                "data-topic": 170873
            }
        }]
    },
    {
        data: "Cars & Motorcycles",
        attr: {
            "data-topic": 51037
        },
        children: [{
            data: "Cars",
            attr: {
                "data-topic": 50535
            },
            children: [{
                data: "Car Dealer",
                attr: {
                    "data-topic": 50295
                }
            },
            {
                data: "Car Audio",
                attr: {
                    "data-topic": 50296
                }
            },
            {
                data: "Car Repair",
                attr: {
                    "data-topic": 50297
                }
            },
            {
                data: "Car Tuning",
                attr: {
                    "data-topic": 50298
                }
            },
            {
                data: "Car Rental",
                attr: {
                    "data-topic": 50299
                }
            },
            {
                data: "Car Club",
                attr: {
                    "data-topic": 50300
                }
            },
            {
                data: "Car Wash",
                attr: {
                    "data-topic": 50301
                }
            },
            {
                data: "Car Insurance",
                attr: {
                    "data-topic": 50302
                }
            },
            {
                data: "Wheels & Tires",
                attr: {
                    "data-topic": 50303
                }
            },
            {
                data: "Auto Parts",
                attr: {
                    "data-topic": 50304
                }
            },
            {
                data: "Car Racing",
                attr: {
                    "data-topic": 50305
                }
            },
            {
                data: "Limousine Services",
                attr: {
                    "data-topic": 50598
                }
            },
            {
                data: "Car Scrap Yard",
                attr: {
                    "data-topic": 50306
                }
            },
            {
                data: "Motor Homes & RVs",
                attr: {
                    "data-topic": 170835
                }
            },
            {
                data: "Auto Towing",
                attr: {
                    "data-topic": 170840
                }
            }]
        },
        {
            data: "Motorcycles",
            attr: {
                "data-topic": 162009
            },
            children: [{
                data: "Bike Shop",
                attr: {
                    "data-topic": 50307
                }
            },
            {
                data: "Biker Club",
                attr: {
                    "data-topic": 50308
                }
            }]
        }]
    },
    {
        data: "Computers & Internet",
        attr: {
            "data-topic": 51038
        },
        children: [{
            data: "Computers",
            attr: {
                "data-topic": 50538
            },
            children: [{
                data: "Computer Repair",
                attr: {
                    "data-topic": 50541
                }
            },
            {
                data: "Computer Store",
                attr: {
                    "data-topic": 50542
                }
            }]
        },
        {
            data: "Hosting",
            attr: {
                "data-topic": 50553
            }
        },
        {
            data: "Internet",
            attr: {
                "data-topic": 50557
            },
            children: [{
                data: "Domain Registrar",
                attr: {
                    "data-topic": 50401
                }
            },
            {
                data: "Email Services",
                attr: {
                    "data-topic": 50402
                }
            },
            {
                data: "Internet Cafe",
                attr: {
                    "data-topic": 50403
                }
            }]
        },
        {
            data: "Software",
            attr: {
                "data-topic": 50573
            },
            children: [{
                data: "Software Store",
                attr: {
                    "data-topic": 50652
                }
            },
            {
                data: "Web Development",
                attr: {
                    "data-topic": 50470
                }
            },
            {
                data: "Software Company",
                attr: {
                    "data-topic": 50469
                }
            }]
        },
        {
            data: "Information Security",
            attr: {
                "data-topic": 50454
            }
        },
        {
            data: "Communications",
            attr: {
                "data-topic": 50537
            },
            children: [{
                data: "Satellite TV",
                attr: {
                    "data-topic": 50312
                }
            },
            {
                data: "ISP",
                attr: {
                    "data-topic": 50311
                }
            },
            {
                data: "VOIP",
                attr: {
                    "data-topic": 50313
                }
            },
            {
                data: "Mobile Company",
                attr: {
                    "data-topic": 50601
                }
            }]
        }]
    },
    {
        data: "Electronics",
        attr: {
            "data-topic": 50543
        },
        children: [{
            data: "Mobile Store",
            attr: {
                "data-topic": 50325
            }
        },
        {
            data: "Electronics Review",
            attr: {
                "data-topic": 50326
            }
        },
        {
            data: "Video Store",
            attr: {
                "data-topic": 50327
            }
        },
        {
            data: "Audio Store",
            attr: {
                "data-topic": 50328
            }
        },
        {
            data: "Electronics Store",
            attr: {
                "data-topic": 50602
            }
        },
        {
            data: "Mobile Repair Service",
            attr: {
                "data-topic": 170843
            }
        }]
    },
    {
        data: "Entertainment, Games & Nightlife",
        attr: {
            "data-topic": 51039
        },
        children: [{
            data: "Entertainment",
            attr: {
                "data-topic": 50544
            },
            children: [{
                data: "Amusement Park",
                attr: {
                    "data-topic": 50329
                }
            },
            {
                data: "Tickets Website",
                attr: {
                    "data-topic": 50330
                }
            },
            {
                data: "Movie",
                attr: {
                    "data-topic": 50331
                }
            },
            {
                data: "Theater",
                attr: {
                    "data-topic": 50332
                }
            },
            {
                data: "Mobile",
                attr: {
                    "data-topic": 50334
                }
            },
            {
                data: "DVD Store",
                attr: {
                    "data-topic": 50335
                }
            },
            {
                data: "Event Planner",
                attr: {
                    "data-topic": 50336
                }
            },
            {
                data: "Toy Store",
                attr: {
                    "data-topic": 50337
                }
            },
            {
                data: "Flash Games",
                attr: {
                    "data-topic": 50338
                }
            },
            {
                data: "Radio Website",
                attr: {
                    "data-topic": 50340
                }
            },
            {
                data: "Fortune Teller",
                attr: {
                    "data-topic": 50451
                }
            },
            {
                data: "Anime/Manga",
                attr: {
                    "data-topic": 170838
                }
            },
            {
                data: "Circus",
                attr: {
                    "data-topic": 170856
                }
            },
            {
                data: "Magician",
                attr: {
                    "data-topic": 170860
                }
            }]
        },
        {
            data: "Games",
            attr: {
                "data-topic": 50550
            },
            children: [{
                data: "Game Portal",
                attr: {
                    "data-topic": 50656
                }
            }]
        },
        {
            data: "Night Club",
            attr: {
                "data-topic": 50565
            },
            children: [{
                data: "DJ",
                attr: {
                    "data-topic": 50341
                }
            }]
        },
        {
            data: "Online Casino (Gambling)",
            attr: {
                "data-topic": 50566
            },
            children: [{
                data: "Online Poker",
                attr: {
                    "data-topic": 50429
                }
            },
            {
                data: "Slot Machines",
                attr: {
                    "data-topic": 50430
                }
            },
            {
                data: "Online Betting",
                attr: {
                    "data-topic": 50431
                }
            }]
        },
        {
            data: "Hobbies & Crafts",
            attr: {
                "data-topic": 50612
            }
        }]
    },
    {
        data: "Home & Family",
        attr: {
            "data-topic": 51040
        },
        children: [{
            data: "Family",
            attr: {
                "data-topic": 50546
            },
            children: [{
                data: "Kids & Children",
                attr: {
                    "data-topic": 88758
                },
                children: [{
                    data: "Baby Store",
                    attr: {
                        "data-topic": 50604
                    }
                },
                {
                    data: "Day Care",
                    attr: {
                        "data-topic": 50309
                    }
                },
                {
                    data: "Babysitter",
                    attr: {
                        "data-topic": 50345
                    }
                },
                {
                    data: "Newborn",
                    attr: {
                        "data-topic": 50348
                    }
                },
                {
                    data: "Kids Center",
                    attr: {
                        "data-topic": 50350
                    }
                },
                {
                    data: "Summer Camp",
                    attr: {
                        "data-topic": 50349
                    }
                }]
            },
            {
                data: "Family Center",
                attr: {
                    "data-topic": 50346
                }
            }]
        },
        {
            data: "Exterior Design",
            attr: {
                "data-topic": 50545
            },
            children: [{
                data: "Landscape Design",
                attr: {
                    "data-topic": 50343
                }
            },
            {
                data: "Garden Design",
                attr: {
                    "data-topic": 50344
                }
            }]
        },
        {
            data: "Interior & Furniture",
            attr: {
                "data-topic": 50556,
                "data-priority": 1
            },
            children: [{
                data: "Interior Design",
                attr: {
                    "data-topic": 50395
                },
                children: [{
                    data: "Feng Shui",
                    attr: {
                        "data-topic": 50396
                    }
                },
                {
                    data: "Home Remodeling",
                    attr: {
                        "data-topic": 50398
                    }
                }]
            },
            {
                data: "Furniture",
                attr: {
                    "data-topic": 50397
                }
            },
            {
                data: "Decor",
                attr: {
                    "data-topic": 88755
                },
                children: [{
                    data: "Window Decor",
                    attr: {
                        "data-topic": 50399
                    }
                },
                {
                    data: "Home Decor",
                    attr: {
                        "data-topic": 50400
                    }
                }]
            },
            {
                data: "Housewares",
                attr: {
                    "data-topic": 50636
                }
            },
            {
                data: "Windows & Doors",
                attr: {
                    "data-topic": 50647
                }
            },
            {
                data: "Flooring",
                attr: {
                    "data-topic": 50659
                }
            }]
        },
        {
            data: "Tools & Equipment",
            attr: {
                "data-topic": 50575
            }
        },
        {
            data: "Architecture",
            attr: {
                "data-topic": 50160
            },
            children: [{
                data: "Construction Company",
                attr: {
                    "data-topic": 50232
                }
            },
            {
                data: "Drafting",
                attr: {
                    "data-topic": 50583
                }
            }]
        },
        {
            data: "Wedding",
            attr: {
                "data-topic": 50579
            },
            children: [{
                data: "Wedding Shop",
                attr: {
                    "data-topic": 50471
                }
            },
            {
                data: "Wedding Planner",
                attr: {
                    "data-topic": 50472
                }
            },
            {
                data: "Wedding Dresses",
                attr: {
                    "data-topic": 50473
                }
            },
            {
                data: "Wedding Venues",
                attr: {
                    "data-topic": 50474
                }
            },
            {
                data: "Wedding Album",
                attr: {
                    "data-topic": 50475
                }
            },
            {
                data: "Wedding Cake",
                attr: {
                    "data-topic": 50609
                }
            }]
        }]
    },
    {
        data: "Fashion & Beauty",
        attr: {
            "data-topic": 51041
        },
        children: [{
            data: "Fashion",
            attr: {
                "data-topic": 50547
            },
            children: [{
                data: "Jeans",
                attr: {
                    "data-topic": 50356
                }
            },
            {
                data: "T-shirt Shop",
                attr: {
                    "data-topic": 50354
                }
            },
            {
                data: "Fashion Blog",
                attr: {
                    "data-topic": 50357
                }
            },
            {
                data: "Fashion Store",
                attr: {
                    "data-topic": 50650
                }
            },
            {
                data: "Apparel",
                attr: {
                    "data-topic": 50355
                }
            },
            {
                data: "Kids' fashion",
                attr: {
                    "data-topic": 55680
                }
            },
            {
                data: "Shoe Store",
                attr: {
                    "data-topic": 50353
                }
            },
            {
                data: "Accessories",
                attr: {
                    "data-topic": 88760
                },
                children: [{
                    data: "Eye Glasses",
                    attr: {
                        "data-topic": 50653
                    }
                },
                {
                    data: "Watches",
                    attr: {
                        "data-topic": 50607
                    }
                },
                {
                    data: "Handbags",
                    attr: {
                        "data-topic": 50352
                    }
                }]
            },
            {
                data: "Swimwear",
                attr: {
                    "data-topic": 50358
                }
            },
            {
                data: "Men's Fashion",
                attr: {
                    "data-topic": 88761
                },
                children: [{
                    data: "Underwear",
                    attr: {
                        "data-topic": 50606
                    }
                }]
            },
            {
                data: "Model Agency",
                attr: {
                    "data-topic": 50359
                }
            },
            {
                data: "Model Portfolio",
                attr: {
                    "data-topic": 50360
                }
            },
            {
                data: "Women's Fashion",
                attr: {
                    "data-topic": 88762
                },
                children: [{
                    data: "Lingerie",
                    attr: {
                        "data-topic": 50351
                    }
                }]
            }]
        },
        {
            data: "Beauty",
            attr: {
                "data-topic": 50529
            },
            children: [{
                data: "Cosmetics Store",
                attr: {
                    "data-topic": 50246
                }
            },
            {
                data: "Spa Accessories",
                attr: {
                    "data-topic": 50247
                }
            },
            {
                data: "Piercing Shop",
                attr: {
                    "data-topic": 50253
                }
            },
            {
                data: "Salon",
                attr: {
                    "data-topic": 139083
                },
                children: [{
                    data: "Tanning Salon",
                    attr: {
                        "data-topic": 50591
                    }
                },
                {
                    data: "Beauty Salon",
                    attr: {
                        "data-topic": 50245
                    }
                },
                {
                    data: "Massage Salon",
                    attr: {
                        "data-topic": 50250
                    }
                },
                {
                    data: "Nail Salon",
                    attr: {
                        "data-topic": 50249
                    }
                },
                {
                    data: "Hair Salon",
                    attr: {
                        "data-topic": 50251
                    }
                },
                {
                    data: "Tattoo Salon",
                    attr: {
                        "data-topic": 50252
                    }
                }]
            },
            {
                data: "Beauty School",
                attr: {
                    "data-topic": 50248
                }
            },
            {
                data: "Sauna",
                attr: {
                    "data-topic": 50649
                }
            }]
        },
        {
            data: "Jewelry",
            attr: {
                "data-topic": 50558
            }
        },
        {
            data: "Wedding",
            attr: {
                "data-topic": 50579,
                "data-priority": 1
            },
            children: [{
                data: "Wedding Shop",
                attr: {
                    "data-topic": 50471,
                    "data-priority": 1
                }
            },
            {
                data: "Wedding Planner",
                attr: {
                    "data-topic": 50472,
                    "data-priority": 1
                }
            },
            {
                data: "Wedding Dresses",
                attr: {
                    "data-topic": 50473,
                    "data-priority": 1
                }
            },
            {
                data: "Wedding Venues",
                attr: {
                    "data-topic": 50474,
                    "data-priority": 1
                }
            },
            {
                data: "Wedding Album",
                attr: {
                    "data-topic": 50475,
                    "data-priority": 1
                }
            },
            {
                data: "Wedding Cake",
                attr: {
                    "data-topic": 50609,
                    "data-priority": 1
                }
            }]
        },
        {
            data: "Linen & Lace",
            attr: {
                "data-topic": 170866
            }
        },
        {
            data: "Uniform Store",
            attr: {
                "data-topic": 170875
            }
        }]
    },
    {
        data: "Food & Restaurant",
        attr: {
            "data-topic": 51042
        },
        children: [{
            data: "Cafe",
            attr: {
                "data-topic": 50271
            },
            children: [{
                data: "Coffee Shop",
                attr: {
                    "data-topic": 50292
                }
            },
            {
                data: "Cocktail Bar",
                attr: {
                    "data-topic": 50294
                }
            }]
        },
        {
            data: "Restaurant",
            attr: {
                "data-topic": 50534
            },
            children: [{
                data: "Steakhouse",
                attr: {
                    "data-topic": 50273
                }
            },
            {
                data: "BBQ",
                attr: {
                    "data-topic": 50272
                }
            },
            {
                data: "Asian",
                attr: {
                    "data-topic": 50274
                },
                children: [{
                    data: "Japanese",
                    attr: {
                        "data-topic": 50275
                    }
                },
                {
                    data: "Vietnamese",
                    attr: {
                        "data-topic": 50276
                    }
                },
                {
                    data: "Chinese",
                    attr: {
                        "data-topic": 50277
                    }
                },
                {
                    data: "Indian",
                    attr: {
                        "data-topic": 50278
                    }
                },
                {
                    data: "Sushi Bar",
                    attr: {
                        "data-topic": 50279
                    }
                }]
            },
            {
                data: "European",
                attr: {
                    "data-topic": 50280
                },
                children: [{
                    data: "Italian",
                    attr: {
                        "data-topic": 50281
                    }
                },
                {
                    data: "Greek",
                    attr: {
                        "data-topic": 50282
                    }
                },
                {
                    data: "French",
                    attr: {
                        "data-topic": 50283
                    }
                },
                {
                    data: "Spanish",
                    attr: {
                        "data-topic": 50284
                    }
                },
                {
                    data: "German",
                    attr: {
                        "data-topic": 50285
                    }
                }]
            },
            {
                data: "Seafood",
                attr: {
                    "data-topic": 50286
                }
            },
            {
                data: "Mexican",
                attr: {
                    "data-topic": 50287
                }
            },
            {
                data: "Fast Food",
                attr: {
                    "data-topic": 50288
                }
            },
            {
                data: "Vegetarian",
                attr: {
                    "data-topic": 50289
                }
            },
            {
                data: "Tapas",
                attr: {
                    "data-topic": 50290
                }
            },
            {
                data: "Restaurant Reviews",
                attr: {
                    "data-topic": 50293
                }
            },
            {
                data: "Pizza",
                attr: {
                    "data-topic": 50291
                }
            }]
        },
        {
            data: "Food",
            attr: {
                "data-topic": 50549
            },
            children: [{
                data: "Food Store",
                attr: {
                    "data-topic": 50369
                }
            },
            {
                data: "Frozen Food",
                attr: {
                    "data-topic": 50362
                }
            },
            {
                data: "Grocery Store",
                attr: {
                    "data-topic": 50363
                }
            },
            {
                data: "Spice Shop",
                attr: {
                    "data-topic": 50364
                }
            },
            {
                data: "Sweet Shop",
                attr: {
                    "data-topic": 50366
                }
            },
            {
                data: "Bakery",
                attr: {
                    "data-topic": 50367
                }
            },
            {
                data: "Ice Cream",
                attr: {
                    "data-topic": 50370
                }
            },
            {
                data: "Catering",
                attr: {
                    "data-topic": 50371
                }
            },
            {
                data: "Chef",
                attr: {
                    "data-topic": 50372
                }
            },
            {
                data: "Cooking",
                attr: {
                    "data-topic": 50373
                }
            },
            {
                data: "Honey Store",
                attr: {
                    "data-topic": 50374
                }
            }]
        },
        {
            data: "Drink",
            attr: {
                "data-topic": 88763
            },
            children: [{
                data: "Water",
                attr: {
                    "data-topic": 50608
                }
            },
            {
                data: "Wine",
                attr: {
                    "data-topic": 50368
                }
            },
            {
                data: "Tea Shop",
                attr: {
                    "data-topic": 50365
                }
            }]
        },
        {
            data: "Brewery",
            attr: {
                "data-topic": 50532
            },
            children: [{
                data: "Pub",
                attr: {
                    "data-topic": 50257
                }
            }]
        },
        {
            data: "Vending Machines",
            attr: {
                "data-topic": 170876
            }
        }]
    },
    {
        data: "Holidays, Gifts & Flowers",
        attr: {
            "data-topic": 51043
        },
        children: [{
            data: "Holiday",
            attr: {
                "data-topic": 50310
            },
            children: [{
                data: "E-cards",
                attr: {
                    "data-topic": 50342
                }
            },
            {
                data: "Christmas",
                attr: {
                    "data-topic": 50166
                }
            },
            {
                data: "Halloween",
                attr: {
                    "data-topic": 50179
                }
            },
            {
                data: "St. Valentine",
                attr: {
                    "data-topic": 50203
                }
            },
            {
                data: "St. Patrick Green",
                attr: {
                    "data-topic": 50202
                }
            }]
        },
        {
            data: "Gifts",
            attr: {
                "data-topic": 50551
            },
            children: [{
                data: "Gifts Store",
                attr: {
                    "data-topic": 50552
                }
            }]
        },
        {
            data: "Flowers",
            attr: {
                "data-topic": 50548
            },
            children: [{
                data: "Flower Shop",
                attr: {
                    "data-topic": 50361
                }
            }]
        }]
    },
    {
        data: "Medical (Healthcare)",
        attr: {
            "data-topic": 50562
        },
        children: [{
            data: "Dentistry",
            attr: {
                "data-topic": 50414
            }
        },
        {
            data: "Plastic Surgery",
            attr: {
                "data-topic": 50415
            }
        },
        {
            data: "Pediatrician",
            attr: {
                "data-topic": 50416
            }
        },
        {
            data: "Ambulance",
            attr: {
                "data-topic": 50417
            }
        },
        {
            data: "Hair Clinic",
            attr: {
                "data-topic": 50418
            }
        },
        {
            data: "Optometry",
            attr: {
                "data-topic": 50419
            }
        },
        {
            data: "Weight Loss",
            attr: {
                "data-topic": 50410
            }
        },
        {
            data: "Drug Store",
            attr: {
                "data-topic": 50411
            }
        },
        {
            data: "Medical Equipment",
            attr: {
                "data-topic": 50412
            }
        },
        {
            data: "Nutrition Store",
            attr: {
                "data-topic": 50413
            }
        },
        {
            data: "Counseling",
            attr: {
                "data-topic": 50597
            }
        },
        {
            data: "Herbal",
            attr: {
                "data-topic": 50592
            }
        },
        {
            data: "Reproduction Clinic",
            attr: {
                "data-topic": 50614
            }
        },
        {
            data: "Rehabilitation",
            attr: {
                "data-topic": 50615
            }
        },
        {
            data: "Pregnancy",
            attr: {
                "data-topic": 50613
            }
        },
        {
            data: "Psychologist",
            attr: {
                "data-topic": 50347
            }
        },
        {
            data: "Doctor",
            attr: {
                "data-topic": 170841
            }
        },
        {
            data: "Hypnosis",
            attr: {
                "data-topic": 170872
            }
        },
        {
            data: "Alternative Medicine",
            attr: {
                "data-topic": 170877
            }
        }]
    },
    {
        data: "Real Estate",
        attr: {
            "data-topic": 50568
        },
        children: [{
            data: "Real Estate Agency",
            attr: {
                "data-topic": 50437
            }
        },
        {
            data: "Land Broker",
            attr: {
                "data-topic": 50438
            }
        },
        {
            data: "Home Staging",
            attr: {
                "data-topic": 50439
            }
        },
        {
            data: "Mortgage",
            attr: {
                "data-topic": 50595,
                "data-priority": 1
            }
        },
        {
            data: "Property Management",
            attr: {
                "data-topic": 170858
            }
        },
        {
            data: "Home Inspector",
            attr: {
                "data-topic": 170871
            }
        }]
    },
    {
        data: "Society & People",
        attr: {
            "data-topic": 51044
        },
        children: [{
            data: "Police",
            attr: {
                "data-topic": 50455,
                "data-priority": 1
            }
        },
        {
            data: "Personal Pages",
            attr: {
                "data-topic": 50588
            }
        },
        {
            data: "Politics",
            attr: {
                "data-topic": 50567
            },
            children: [{
                data: "Political Candidate",
                attr: {
                    "data-topic": 50432
                }
            },
            {
                data: "Political Party",
                attr: {
                    "data-topic": 50433
                }
            },
            {
                data: "City Council",
                attr: {
                    "data-topic": 50434
                }
            },
            {
                data: "Government",
                attr: {
                    "data-topic": 50435
                }
            },
            {
                data: "Political News",
                attr: {
                    "data-topic": 50436
                }
            }]
        },
        {
            data: "Religious",
            attr: {
                "data-topic": 50569
            },
            children: [{
                data: "Christian",
                attr: {
                    "data-topic": 50440
                }
            },
            {
                data: "Presbyterian",
                attr: {
                    "data-topic": 50441
                }
            },
            {
                data: "Islam",
                attr: {
                    "data-topic": 50442
                }
            },
            {
                data: "Islamic Social Center",
                attr: {
                    "data-topic": 50465
                }
            },
            {
                data: "Jehovah",
                attr: {
                    "data-topic": 50443
                }
            },
            {
                data: "Buddhist",
                attr: {
                    "data-topic": 50444
                }
            },
            {
                data: "Hinduism",
                attr: {
                    "data-topic": 50445
                }
            },
            {
                data: "Catholic",
                attr: {
                    "data-topic": 50446
                }
            },
            {
                data: "Sinagogue",
                attr: {
                    "data-topic": 50447
                }
            },
            {
                data: "Lutheran",
                attr: {
                    "data-topic": 50448
                }
            },
            {
                data: "Easter Gifts Store",
                attr: {
                    "data-topic": 50449
                }
            }]
        },
        {
            data: "Charity",
            attr: {
                "data-topic": 50536
            },
            children: [{
                data: "Child Charity",
                attr: {
                    "data-topic": 50600
                }
            }]
        },
        {
            data: "Law",
            attr: {
                "data-topic": 50559
            },
            children: [{
                data: "Lawyer",
                attr: {
                    "data-topic": 50404
                }
            },
            {
                data: "Law Firm",
                attr: {
                    "data-topic": 50405
                }
            }]
        },
        {
            data: "Military",
            attr: {
                "data-topic": 50563
            },
            children: [{
                data: "Veterans",
                attr: {
                    "data-topic": 50420
                }
            },
            {
                data: "Army",
                attr: {
                    "data-topic": 50421
                }
            },
            {
                data: "Gun Shop",
                attr: {
                    "data-topic": 50422
                }
            },
            {
                data: "Military School",
                attr: {
                    "data-topic": 170879
                }
            }]
        },
        {
            data: "Dating",
            attr: {
                "data-topic": 50539
            }
        },
        {
            data: "Wedding",
            attr: {
                "data-topic": 50579
            },
            children: [{
                data: "Wedding Shop",
                attr: {
                    "data-topic": 50471
                }
            },
            {
                data: "Wedding Planner",
                attr: {
                    "data-topic": 50472
                }
            },
            {
                data: "Wedding Dresses",
                attr: {
                    "data-topic": 50473
                }
            },
            {
                data: "Wedding Venues",
                attr: {
                    "data-topic": 50474
                }
            },
            {
                data: "Wedding Album",
                attr: {
                    "data-topic": 50475
                }
            },
            {
                data: "Wedding Cake",
                attr: {
                    "data-topic": 50609
                }
            }]
        },
        {
            data: "Elderly Care",
            attr: {
                "data-topic": 50457
            }
        },
        {
            data: "Funeral Services",
            attr: {
                "data-topic": 50458
            }
        },
        {
            data: "Life Coach",
            attr: {
                "data-topic": 50459
            }
        },
        {
            data: "Retirement Planning",
            attr: {
                "data-topic": 50460
            }
        },
        {
            data: "Adoption Agency",
            attr: {
                "data-topic": 50461
            }
        },
        {
            data: "Boy Scout",
            attr: {
                "data-topic": 50462
            }
        },
        {
            data: "Immigration Consulting",
            attr: {
                "data-topic": 50463
            }
        },
        {
            data: "Social Foundation",
            attr: {
                "data-topic": 50467
            }
        },
        {
            data: "City Portal",
            attr: {
                "data-topic": 50466
            }
        },
        {
            data: "Teen Club",
            attr: {
                "data-topic": 50464
            }
        }]
    },
    {
        data: "Sports, Outdoors & Travel",
        attr: {
            "data-topic": 51045
        },
        children: [{
            data: "Sports",
            attr: {
                "data-topic": 50574
            },
            children: [{
                data: "Diving",
                attr: {
                    "data-topic": 50496
                }
            },
            {
                data: "Fishing",
                attr: {
                    "data-topic": 50482
                }
            },
            {
                data: "Fitness",
                attr: {
                    "data-topic": 50481
                }
            },
            {
                data: "Golf",
                attr: {
                    "data-topic": 50495
                }
            },
            {
                data: "Soccer",
                attr: {
                    "data-topic": 50498
                }
            },
            {
                data: "Sports Store",
                attr: {
                    "data-topic": 50503
                }
            },
            {
                data: "Yoga",
                attr: {
                    "data-topic": 50494
                }
            },
            {
                data: "More Sports",
                attr: {
                    "data-topic": 88764
                },
                children: [{
                    data: "BMX",
                    attr: {
                        "data-topic": 50483
                    }
                },
                {
                    data: "Boxing",
                    attr: {
                        "data-topic": 50484
                    }
                },
                {
                    data: "Martial Arts",
                    attr: {
                        "data-topic": 50485
                    }
                },
                {
                    data: "Swimming",
                    attr: {
                        "data-topic": 50486
                    }
                },
                {
                    data: "Archery",
                    attr: {
                        "data-topic": 50487
                    }
                },
                {
                    data: "Baseball",
                    attr: {
                        "data-topic": 50488
                    }
                },
                {
                    data: "Paintball",
                    attr: {
                        "data-topic": 50489
                    }
                },
                {
                    data: "Hunting",
                    attr: {
                        "data-topic": 50490
                    }
                },
                {
                    data: "Rafting",
                    attr: {
                        "data-topic": 50491
                    }
                },
                {
                    data: "Bowling",
                    attr: {
                        "data-topic": 50492
                    }
                },
                {
                    data: "Billiards",
                    attr: {
                        "data-topic": 50493
                    }
                },
                {
                    data: "Football",
                    attr: {
                        "data-topic": 50497
                    }
                },
                {
                    data: "Badminton",
                    attr: {
                        "data-topic": 50499
                    }
                },
                {
                    data: "Skydiving",
                    attr: {
                        "data-topic": 50500
                    }
                },
                {
                    data: "Surfing",
                    attr: {
                        "data-topic": 50501
                    }
                },
                {
                    data: "Rugby",
                    attr: {
                        "data-topic": 50502
                    }
                },
                {
                    data: "Hockey",
                    attr: {
                        "data-topic": 50504
                    }
                },
                {
                    data: "Wakeboarding",
                    attr: {
                        "data-topic": 50505
                    }
                },
                {
                    data: "Bodybuilding",
                    attr: {
                        "data-topic": 50506
                    }
                },
                {
                    data: "F1",
                    attr: {
                        "data-topic": 50507
                    }
                },
                {
                    data: "Field Hockey",
                    attr: {
                        "data-topic": 50508
                    }
                },
                {
                    data: "Climbing",
                    attr: {
                        "data-topic": 50509
                    }
                },
                {
                    data: "Shooting",
                    attr: {
                        "data-topic": 50510
                    }
                },
                {
                    data: "Tennis",
                    attr: {
                        "data-topic": 50511
                    }
                },
                {
                    data: "Yachting",
                    attr: {
                        "data-topic": 50512
                    }
                },
                {
                    data: "Horse Racing",
                    attr: {
                        "data-topic": 50513
                    }
                },
                {
                    data: "Squash",
                    attr: {
                        "data-topic": 50514
                    }
                },
                {
                    data: "Skiing",
                    attr: {
                        "data-topic": 50515
                    }
                },
                {
                    data: "Basketball",
                    attr: {
                        "data-topic": 50516
                    }
                },
                {
                    data: "Motor Sports",
                    attr: {
                        "data-topic": 50517
                    }
                },
                {
                    data: "Cycling",
                    attr: {
                        "data-topic": 50518
                    }
                },
                {
                    data: "Cricket",
                    attr: {
                        "data-topic": 50519
                    }
                },
                {
                    data: "Running",
                    attr: {
                        "data-topic": 50520
                    }
                },
                {
                    data: "Hiking",
                    attr: {
                        "data-topic": 50521
                    }
                },
                {
                    data: "Chess",
                    attr: {
                        "data-topic": 50522
                    }
                },
                {
                    data: "Cheerleading",
                    attr: {
                        "data-topic": 50523
                    }
                },
                {
                    data: "Skating",
                    attr: {
                        "data-topic": 50618
                    }
                },
                {
                    data: "Snowboarding",
                    attr: {
                        "data-topic": 50619
                    }
                },
                {
                    data: "Extreme Sports",
                    attr: {
                        "data-topic": 50620
                    }
                },
                {
                    data: "Karting",
                    attr: {
                        "data-topic": 50621
                    }
                },
                {
                    data: "Curling",
                    attr: {
                        "data-topic": 50622
                    }
                },
                {
                    data: "Paragliding",
                    attr: {
                        "data-topic": 50623
                    }
                },
                {
                    data: "Kitesurfing",
                    attr: {
                        "data-topic": 50624
                    }
                },
                {
                    data: "Polo",
                    attr: {
                        "data-topic": 50625
                    }
                },
                {
                    data: "Volleyball",
                    attr: {
                        "data-topic": 50641
                    }
                },
                {
                    data: "Weapons Store",
                    attr: {
                        "data-topic": 50642
                    }
                },
                {
                    data: "Online Poker",
                    attr: {
                        "data-topic": 50429,
                        "data-priority": 1
                    }
                },
                {
                    data: "Sports News",
                    attr: {
                        "data-topic": 50655
                    }
                },
                {
                    data: "Wrestling",
                    attr: {
                        "data-topic": 170864
                    }
                },
                {
                    data: "Parkour",
                    attr: {
                        "data-topic": 170874
                    }
                },
                {
                    data: "Gym",
                    attr: {
                        "data-topic": 170880
                    }
                }]
            }]
        },
        {
            data: "Travel",
            attr: {
                "data-topic": 50577
            },
            children: [{
                data: "Travel Guide",
                attr: {
                    "data-topic": 50476
                }
            },
            {
                data: "Travel Agency",
                attr: {
                    "data-topic": 50477
                }
            },
            {
                data: "Camping",
                attr: {
                    "data-topic": 50478
                }
            },
            {
                data: "Airline Tickets",
                attr: {
                    "data-topic": 50626
                }
            },
            {
                data: "Travel Store",
                attr: {
                    "data-topic": 50628
                }
            }]
        },
        {
            data: "Hotels",
            attr: {
                "data-topic": 50554
            },
            children: [{
                data: "Hotel Reviews",
                attr: {
                    "data-topic": 50387
                }
            },
            {
                data: "Motel",
                attr: {
                    "data-topic": 50388
                }
            }]
        }]
    }]
};
var __ui_types = {
    state: "open",
    data: [{
        data: "Web Templates",
        state: "open",
        attr: {
            "data-url": "web-templates.php"
        },
        children: [{
            data: "Website Templates",
            attr: {
                "data-type": 50108,
                "data-url": "website-templates.php"
            }
        },
        {
            data: "PSD Templates",
            attr: {
                "data-type": 67711,
                "data-url": "psd-templates.php"
            }
        },
        {
            data: "Landing Page Templates",
            attr: {
                "data-type": 168633,
                "data-url": "landing-page-templates.php"
            }
        },
        {
            data: "Unbounce Templates",
            attr: {
                "data-type": 168645,
                "data-url": "unbounce-templates.php"
            }
        },
        {
            data: "Photo Gallery Templates",
            attr: {
                "data-type": 50112,
                "data-url": "photo-gallery-templates.php"
            }
        },
        {
            data: "Newsletter Templates",
            attr: {
                "data-type": 109856,
                "data-url": "newsletter-email-templates.php"
            }
        },
        {
            data: "Muse Templates",
            attr: {
                "data-type": 120709,
                "data-url": "adobe-muse-templates.php"
            }
        }]
    },
    {
        data: "E-commerce Templates",
        state: "open",
        attr: {
            "data-url": "ecommerce-templates.php"
        },
        children: [{
            data: "Magento Themes",
            attr: {
                "data-type": 50115,
                "data-url": "magento-themes.php"
            }
        },
        {
            data: "PrestaShop Themes",
            attr: {
                "data-type": 50116,
                "data-url": "prestashop-themes.php"
            }
        },
        {
            data: "VirtueMart Templates",
            attr: {
                "data-type": 50118,
                "data-url": "virtuemart-templates.php"
            }
        },
        {
            data: "Jigoshop Themes",
            attr: {
                "data-type": 50119,
                "data-url": "jigoshop-themes.php"
            }
        },
        {
            data: "osCommerce Templates",
            attr: {
                "data-type": 50120,
                "data-url": "oscommerce-templates.php"
            }
        },
        {
            data: "ZenCart Templates",
            attr: {
                "data-type": 50121,
                "data-url": "zencart-templates.php"
            }
        },
        {
            data: "OpenCart Templates",
            attr: {
                "data-type": 50122,
                "data-url": "opencart-templates.php"
            }
        },
        {
            data: "WooCommerce Themes",
            attr: {
                "data-type": 61529,
                "data-url": "woocommerce-themes.php"
            }
        },
        {
            data: "Shopify Themes",
            attr: {
                "data-type": 67280,
                "data-url": "shopify-themes.php"
            }
        },
        {
            data: "Loaded7 Templates",
            attr: {
                "data-type": 89070,
                "data-url": "loaded7-templates.php"
            }
        }]
    },
    {
        data: "CMS Templates",
        state: "open",
        attr: {
            "data-url": "cms-blog-templates.php"
        },
        children: [{
            data: "WordPress Themes",
            attr: {
                "data-type": 50125,
                "data-url": "wordpress-themes.php"
            }
        },
        {
            data: "Joomla Templates",
            attr: {
                "data-type": 50126,
                "data-url": "joomla-templates.php"
            }
        },
        {
            data: "Drupal Templates",
            attr: {
                "data-type": 50127,
                "data-url": "drupal-themes.php"
            }
        },
        {
            data: "Moto CMS 3 Templates",
            attr: {
                "data-type": 168158,
                "data-url": "moto-cms-3-templates.php"
            }
        },
        {
            data: "Moto CMS HTML Templates",
            attr: {
                "data-type": 50128,
                "data-url": "moto-cms-html-templates.php"
            }
        },
        {
            data: "Flash CMS Templates",
            attr: {
                "data-type": 50110,
                "data-url": "flash-cms-templates.php"
            }
        },
        {
            data: "Wix Website Templates",
            attr: {
                "data-type": 61528,
                "data-url": "wix-website-templates.php"
            }
        },
        {
            data: "Turnkey Websites 1.0",
            attr: {
                "data-type": 50151,
                "data-url": "turnkey-websites-1-0.php"
            }
        },
        {
            data: "Turnkey Websites 2.0",
            attr: {
                "data-type": 50150,
                "data-url": "turnkey-websites-2-0.php"
            }
        }]
    },
    {
        data: "Corporate Design",
        state: "open",
        attr: {
            "data-url": "corporate-design.php"
        },
        children: [{
            data: "PowerPoint Templates",
            attr: {
                "data-type": 50132,
                "data-url": "powerpoint-templates.php"
            }
        },
        {
            data: "Logo Templates",
            attr: {
                "data-type": 50133,
                "data-url": "logo-templates.php"
            }
        },
        {
            data: "Corporate Identity",
            attr: {
                "data-type": 50134,
                "data-url": "corporate-identity.php"
            }
        },
        {
            data: "Logosets",
            attr: {
                "data-type": 50135,
                "data-url": "logosets.php"
            }
        },
        {
            data: "Icon Sets",
            attr: {
                "data-type": 50136,
                "data-url": "iconsets.php"
            }
        }]
    },
    {
        data: "Flash & Media",
        state: "open",
        children: [{
            data: "Flash Intro Templates",
            attr: {
                "data-type": 50111,
                "data-url": "flash-intro.php"
            }
        },
        {
            data: "Flash Templates",
            attr: {
                "data-type": 50109,
                "data-url": "flash-templates.php"
            }
        },
        {
            data: "SWiSH Templates",
            attr: {
                "data-type": 50113,
                "data-url": "swish-templates.php"
            }
        },
        {
            data: "After Effects Intros",
            attr: {
                "data-type": 50146,
                "data-url": "after-effects-intros.php"
            }
        },
        {
            data: "After Effects Logo Reveals",
            attr: {
                "data-type": 50147,
                "data-url": "after-effects-logo-reveals.php"
            }
        },
        {
            data: "Video Ecards",
            attr: {
                "data-type": 50148,
                "data-url": "video-ecards.php"
            }
        },
        {
            data: "HD Graphics Packages",
            attr: {
                "data-type": 50149,
                "data-url": "hd-graphics-packages.php"
            }
        },
        {
            data: "Music",
            attr: {
                "data-type": 50137,
                "data-url": "stock-music.php"
            }
        },
        {
            data: "Silverlight Templates",
            attr: {
                "data-type": 50138,
                "data-url": "silverlight-templates.php"
            }
        },
        {
            data: "Silverlight Intro Templates",
            attr: {
                "data-type": 50139,
                "data-url": "silverlight-intro-templates.php"
            }
        }]
    },
    {
        data: "Facebook Layouts",
        state: "open",
        attr: {
            "data-url": "facebook-layouts.php"
        },
        children: [{
            data: "Facebook Flash Templates",
            attr: {
                "data-type": 50141,
                "data-url": "facebook-flash-templates.php"
            }
        },
        {
            data: "Facebook Flash CMS Templates",
            attr: {
                "data-type": 50142,
                "data-url": "facebook-flash-cms-templates.php"
            }
        },
        {
            data: "Facebook Templates",
            attr: {
                "data-type": 50143,
                "data-url": "facebook-templates.php"
            }
        },
        {
            data: "Turnkey CMS Facebook Templates",
            attr: {
                "data-type": 50144,
                "data-url": "turnkey-cms-facebook-templates.php"
            }
        },
        {
            data: "Facebook HTML CMS Templates",
            attr: {
                "data-type": 50145,
                "data-url": "facebook-html-cms-templates.php"
            }
        }]
    }]
};
Tm = Tm || {};
Tm.abstractCheckout = function() {};
Tm.abstractCheckout.prototype.steps = $("#content");
Tm.abstractCheckout.prototype.checkField = function(a) {
    for (var b = [], c = regula.validate(), g = 0; g < c.length; g++) $(c[g].failingElements).hasClass(a) && -1 === $.inArray(c[g].message, b) && b.push(c[g].message);
    return b
};
Tm.abstractCheckout.prototype.signChecking = function(a) {
    var b = this.getStep(),
    c = (new Tm.Signin).getCheckOutStep(),
    g = $.getQueryParam("_force_redirect"); (a || !g && b !== b) && this.switchStep(c)
};
Tm.abstractCheckout.prototype.switchStep = function(a, b) {
    this.steps.checkoutSteps("switch", a, b)
};
Tm.abstractCheckout.prototype.getStep = function() {
    return this.steps.checkoutSteps("get-step")
};
Tm.abstractCheckout.prototype.showLoginError = function(a) {
    var b = $(".js-checkout-login-error:first");
    a ? b.html('<div class="alert" style="width: 225px;">' + a + "</div>") : b.html("")
};
Tm.abstractCheckout.prototype.goToSignin = function(a, b) {
    "undefined" == typeof a && (a = !1);
    "undefined" == typeof b && (b = "");
    this.switchStep("step1", {
        email: b
    });
    a && this.fillSigninForm(b);
    return this
};
Tm.abstractCheckout.prototype.fillSigninForm = function(a) {
    var b = document.forms.signin;
    b && ($(b).formHandler("hide-errors"), a ? ($(b.email).val(a), $(b.password).val("").focus(), $("#returning-customer-radio").click()) : ($(b.email).val("").focus(), $(b.password).val(""), $("#new-customer-radio").click()))
};
Tm.abstractCheckout.prototype.checkBillingInfoForm = function() {
    var a = document.forms.billingInfo;
    $(a).formHandler("validate");
    return $(a).formHandler("get-errors")
};
Tm.abstractCheckout.prototype.signinCallback = function(a) {
    "undefined" != typeof a.breadcrumbsHTML && this.changeBredcrumbs(a.breadcrumbsHTML);
    this.changeDetails(a);
    this.checkBillingInfoForm()
};
Tm.abstractCheckout.prototype.changeform = function() {};
Tm.abstractCheckout.prototype.changeBredcrumbs = function(a) {
    $(".js-checkout-step-links").replaceWith(a)
};
Tm.abstractCheckout.prototype.changeDetails = function(a) {
    "isZeroCart" in a && !a.isZeroCart && ($(".js-free-checkout-block").addClass("js-none"), $(".js-premium-checkout-block").removeClass("js-none"))
};
Tm.abstractCheckout.prototype.createOrder = function(a, b) {
    $.ajax({
        url: appDic.require("language").urlPrefix("/checkout-ajax/create-order.php"),
        type: "POST",
        data: a,
        datatype: "json",
        success: function(a) {
            $("input#stripeToken").val("");
            var g = new CLS30;
            goog.isDefAndNotNull(a.error) ? goog.isDefAndNotNull(a.location) ? location.href = a.location: (b.paymentSelector("show-server-error", a.error), b.paymentSelector("enable-selector"), b.paymentSelector("enable-submit-button")) : goog.isDefAndNotNull(a.paymentForm) ? (g.pushData(4), $("body:first").html(a.paymentForm), $("form:first").submit()) : goog.isDefAndNotNull(a.paymentLink) ? (g.pushData(4), location.href = a.paymentLink) : goog.isDefAndNotNull(a.redirectUrl) && (g.pushData(4), location.href = a.redirectUrl)
        },
        error: function() {
            $("input#stripeToken").val("");
            b.paymentSelector("enable-selector");
            b.paymentSelector("enable-submit-button");
            b.paymentSelector("show-server-error", Twig.render(messageServerTempUnavailable))
        }
    })
};
Tm.abstractCheckout.prototype.isFree = function() {
    return ! 1
}; (function(a) {
    function b(b) {
        var c = !1;
        h.each(function() {
            var f = a(this);
            f.is(".js-step-link-" + b) ? (c = !0, f.addClass("active")) : f.removeClass("active");
            c ? f.removeClass("step-passed") : f.addClass("step-passed")
        })
    }
    function c(c) {
        var g = f.filter(".js-step-" + c);
        f.hide();
        g.show();
        b(c);
        a(window.document).scrollTop(0)
    }
    function g(b, c) {
        if (a.isFunction(j[b])) {
            var g = f.filter(".js-step-" + c).get(0);
            return j[b](window.History, g, c)
        }
    }
    var f, h, j = {
        initial_step: "step1",
        before_tab_switching: a.noop,
        after_tab_switching: a.noop
    };
    a.fn.checkoutSteps = function(k, m, q) {
        f = a(this).find("div.js-step");
        h = a(this).find(".js-checkout-step-links .js-step-link");
        var r = window.History;
        switch (k) {
        case "switch":
            a:
            if (k = f.filter(".js-step-" + m), k.size()) {
                var p = k.data("url"),
                l = "TemplateMonster.com";
                if (p) {
                    if (r.enabled)"undefined" !== typeof k.data("title") && (l += ": " + k.data("title")),
                    r.pushState({
                        step: m
                    },
                    l, p),
                    window.location.pathname != p && (f.hide(), k.show());
                    else if (window.location.pathname != p) {
                        a.isPlainObject(q) || (q = {});
                        q._force_redirect = 1;
                        window.location.href = p + "?" + a.param(q);
                        break a
                    }
                    b(m)
                }
            }
            break;
        case "get-step":
            return h.filter(".active").data("step");
        case "redrawNavigationLinks":
            b(m);
            break;
        default:
            j = a.extend(j, a.isPlainObject(k) ? k: {}),
            m = r.enabled ? j.initial_step: a(this).checkoutSteps("get-step"),
            g("before_tab_switching", m),
            q = j.initial_step,
            r.enabled && (r.replaceState({
                step: q
            }), r.Adapter.bind(window, "statechange",
            function() {
                var a = r.getState();
                g("before_tab_switching", a.data.step);
                c(a.data.step);
                g("after_tab_switching", a.data.step)
            }), c(q)),
            g("after_tab_switching", m)
        }
        return this
    }
})(jQuery); (function(a) {
    var b = {
        status_index: "selector_status",
        item_selector: ".item.panel",
        handler_selector: ".js-radio-collapse",
        submit_button_selector: ".js-choose-payment-system",
        server_error_container: ".js-checkout3-error-block:first",
        item_input_name: "paymentCheck"
    };
    a.fn.paymentSelector = function(c, g) {
        b = a.extend(b, a.isPlainObject(c) ? c: {});
        switch (c) {
        case "show-server-error":
            a(b.server_error_container).html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>' + g + "</div>");
            break;
        case "hide-server-error":
            a(b.server_error_container).html("");
            break;
        case "enable-selector":
            var f = b;
            a(this).data(f.status_index, !0);
            break;
        case "disable-selector":
            f = b;
            a(this).data(f.status_index, !1);
            break;
        case "enable-submit-button":
            var h = a(b.submit_button_selector, this);
            a(document).trigger("stop.cart.load", {
                button: h,
                callbackFunk: function() {
                    h.prop("disabled", !1)
                }
            });
            break;
        case "disable-submit-button":
            var j = a(b.submit_button_selector, this);
            a(document).trigger("start.cart.load", {
                button: j,
                callbackFunk: function() {
                    j.prop("disabled", !0)
                }
            });
            break;
        default:
            var k = this,
            m = b;
            a(k).data(m.status_index, !0);
            a(m.handler_selector, k).attr("data-toggle", "collapse");
            a(k).on("show.bs.collapse",
            function(b) {
                if (!a(k).data(m.status_index)) return ! 1;
                a(m.item_selector, k).removeClass("selected").find('input[name="' + m.item_input_name + '"]').removeProp("checked");
                a(b.target).parents(m.item_selector + ":first").addClass("selected").find('input[name="' + m.item_input_name + '"]').prop("checked", !0);
                return ! 0
            }).on("hide.bs.collapse",
            function(b) {
                return a(b.target).parents(m.item_selector + ".selected").length ? !1 : !0
            })
        }
        return this
    }
})(jQuery);
Tm = Tm || {};
Tm.Checkout = function() {
    Tm.abstractCheckout.call(this);
    $("#checkout-payment-buy-Stripe").on("Checkout.stripe.token", $.proxy(function(a, b) {
        b.token && ($("input#stripeToken").val(b.token.id), this._sendOrder($(a.target)))
    },
    this)).on("Checkout.stripe.closed", $.proxy(function(a) {
        $("input#stripeToken").val() ? $(a.target).addClass("loading") : (this._payment_selector.paymentSelector("enable-submit-button"), this._payment_selector.paymentSelector("enable-selector"))
    },
    this)).on("Checkout.stripe.opened", $.proxy(function(a) {
        $(a.target).removeClass("loading")
    },
    this))
};
Tm.Checkout.prototype = new Tm.abstractCheckout;
Tm.Checkout.prototype.constructor = Tm.Checkout;
Tm.Checkout.prototype.countries_with_states = ["US", "CA"];
Tm.Checkout.prototype._payment_selector = null;
Tm.Checkout.prototype._order_data = null;
Tm.Checkout.prototype.fillInfoForm = function(a) {
    var b = document.forms.billingInfo;
    $(b).formHandler("disable-validation");
    $.isPlainObject(a) || (a = {});
    $("fullName email postalCode cityName address phone contactPhone".split(" ")).each(function(c, g) {
        var j = "";
        "undefined" !== typeof b[g] && "undefined" !== typeof a[g] && (j = a[g]);
        $(b[g]).val(j)
    });
    var c = $(b.contactMe).filter(":checkbox");
    $(b.phone).val() === $(b.contactPhone).val() ? c.attr("checked", "checked") : c.removeAttr("checked");
    c.trigger("change");
    var g = c = "";
    "undefined" !== typeof a.countryISO2 && (c = a.countryISO2);
    c || (c = $.cookie("country_code"));
    "undefined" !== typeof a.stateISO2 && (a.stateISO2.length && "XX" !== a.stateISO2) && (g = a.stateISO2);
    $(b.stateISO2).val(g).change();
    $(b.countryISO2).val(c).change();
    $(b).formHandler("reset-errors");
    $(b).formHandler("enable-validation")
};
Tm.Checkout.prototype.initSignInForms = function(a, b) {
    var c = new Tm.Signin;
    $(a).formHandler({
        on_submit_success: function(a, b, h) {
            $(a).formHandler("show-ajax-progress");
            c.signInCallback(h,
            function() {
                $(a).formHandler("hide-ajax-progress")
            })
        },
        autofocus_first_field: !c.getUserEmail()
    });
    $(":input", b).removeAttr("disabled");
    $(b.customer).click(function() {
        var a = $(".js-customer-new-from"),
        b = $(".js-customer-sigin-from");
        switch (this.value) {
        case "new":
            b.hide();
            a.show();
            break;
        case "existing":
            b.show(100,
            function() {
                var a = $(":input[name=email]", this),
                b = $(":input[name=password]", this);
                a.val().length ? b.focus() : a.focus()
            }),
            a.hide()
        }
    })
};
Tm.Checkout.prototype.refreshSubscriptionFormGroup = function() {
    var a = $(document.forms.billingInfo),
    b = new Tm.Signin,
    a = $(a).find(".js-newsletersubscription-checkbox"),
    c = a.find("input[name=newsletersubscription]");
    b.isSignedIn() ? (c.prop("disabled", !0), a.hide()) : (c.prop("disabled", !1), a.show())
};
Tm.Checkout.prototype.initBillingInfoForm = function(a, b, c) {
    var g = this;
    $(".js-checkout-calback-step2:first").click(function() {
        $(a).data("submitInProgress", !1);
        g.switchStep("step2");
        return ! 1
    });
    var f = $(a.countryISO2),
    h = $(a.stateISO2);
    f.val() || f.val($.cookie("country_code"));
    renameCompleteButton();
    h.change(function() {
        $(this).trigger("chosen:updated")
    });
    f.change(function() {
        var a = !0,
        b = "",
        c = "",
        f = ""; - 1 !== $.inArray(this.value, g.countries_with_states) ? ($(this).is(":disabled") || (a = !1), c = "", h.val() && "XX" !== h.val() && (f = h.val())) : this.value.length && (b = "Outside U.S./Canada", f = c = "XX");
        h.find("option:first").text(b).val(c).end().attr("disabled", a);
        h.val(f).data("validation-value", -1);
        h.change();
        $(this).trigger("chosen:updated")
    }).change();
    f.chosen({
        placeholder_text_single: " ",
        width: f.css("width")
    });
    h.chosen({
        placeholder_text_single: " ",
        width: h.css("width")
    });
    $(a.contactMe).change(function() {
        var b = document.forms.billingInfo;
        $(b.phone).change();
        $(a.contactPhone).trigger("keyup");
        $(this).is(":checked") ? $(".js-contact-phone-container", b).hide() : $(".js-contact-phone-container", b).show();
        $(this).blur()
    });
    $.isPlainObject(b) || (b = {});
    $(a).formHandler($.extend({},
    b, {
        on_empty_checks_callbacks: {
            phone: function(a) {
                $(a.contactMe).filter(":checkbox").is(":checked") && (a.contactPhone.value = a.phone.value)
            },
            contactPhone: function(a) {
                return $(a.contactMe).filter(":checkbox").is(":checked") ? !0 : null
            }
        },
        on_before_validate: function(a) {
            $([a.phone, a.contactPhone]).each(function() {
                this.value = this.value.replace(/[^\d]/gi, "")
            })
        },
        on_after_validate: function(a) {
            var b = (new Date).toString();
            $(a.localtime).val(b);
            if ( - 1 === $.inArray(a.countryISO2.value, g.countries_with_states) && $(a.stateISO2).is(":disabled")) {
                var b = $(a).data("validation-errors"),
                c;
                for (c in b)"stateISO2" === b[c].name && delete b[c];
                $(a).data("validation-errors", b)
            }
        },
        on_submit_success: c
    }));
    $(".js-new-customer-link", g.steps).click(function() {
        g.showLoginError("");
        g.resetBillingForm();
        var a = new Tm.Signin;
        if (a.isSignedIn()) {
            var b = this;
            $(b).prop("disabled", !0);
            a.signOut({
                on_success: function() {
                    $(b).prop("disabled", !1);
                    g.switchStep("step2");
                    appDic.require("cart").recalculate()
                }
            })
        } else g.switchStep("step2"),
        appDic.require("cart").recalculate();
        return ! 1
    }).removeAttr("disabled").removeClass("disabled");
    $("#billinginfo-form").on("click", ".js-goto-login",
    function() {
        g.goToSignin(!0, a.email.value);
        return ! 1
    })
};
Tm.Checkout.prototype.changeform = function() {
    $(".js-billing-details").not(":visible") && "billingInfo" in document.forms && ($(".js-user-details").addClass("js-none"), $(".js-billing-details").removeClass("js-none"), this.initBillingInfoForm(document.forms.billingInfo, {},
    this._onBillingInfoSubmitSuccess))
};
Tm.Checkout.prototype._sendOrder = function(a) {
    var b = a.attr("data-payment"),
    a = a.attr("data-offer-id"),
    c = $(".js-total-redeemed-bonus-amount").attr("data-amount"),
    g = $(".js-total-price").attr("data-price"),
    f = (new Date).toString(),
    h = $("input#stripeToken").val(),
    b = {
        payment: b,
        cartAmount: g,
        bonusesAmount: c,
        localTime: f
    };
    "undefined" !== typeof a && (b.addOffer = a);
    h && (b.stripeToken = h);
    this.createOrder(b, this._payment_selector)
};
Tm.Checkout.prototype.initPaymentMethodsContainer = function() {
    var a = this;
    $("#payment-collapse").paymentSelector();
    $("#payment-methods-container").on("click", ".js-choose-payment-system", $.proxy(function(b) {
        b = $(b.target);
        a._payment_selector = $("#payment-collapse, .js-payment-form-block");
        a._payment_selector.paymentSelector("disable-submit-button");
        a._payment_selector.paymentSelector("disable-selector");
        if (21 == parseInt(b.attr("data-payment"))) {
            var b = $(".js-total-price").attr("data-price"),
            c = $("input#stripeToken");
            StripeCheckout.configure({
                key: c.attr("data-stripe-pk"),
                locale: "auto",
                allowRememberMe: !1,
                name: "Jetimpex Inc",
                amount: 100 * b,
                currency: c.data("currency"),
                email: c.data("email"),
                token: function(a) {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.token", {
                        token: a
                    })
                },
                opened: function() {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.opened")
                },
                closed: function() {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.closed")
                }
            }).open();
            return ! 1
        }
        this._sendOrder(b);
        return ! 1
    },
    this))
};
Tm.Checkout.prototype.init = function() {
    var a = document.forms.billingInfo,
    b = document.forms.signin_mode,
    c = document.forms.signin,
    g = {
        before_tab_switching: $.proxy(this._onBeforeStepSwitching, this),
        after_tab_switching: $.proxy(this._onAfterStepSwitching, this)
    },
    f = $(".js-checkout-step-links .js-step-link-step4.active");
    f.length && (g.initial_step = f.data("step"));
    if (f = window.location.href.match(/step([0-9]+)\.html/)) g.initial_step = "step" + f[1];
    a && this.initBillingInfoForm(a, {},
    this._onBillingInfoSubmitSuccess);
    c && b && this.initSignInForms(c, b);
    this.initPaymentMethodsContainer();
    this.steps.checkoutSteps(g);
    this.signChecking()
};
Tm.Checkout.prototype.resetBillingForm = function() {
    this.fillInfoForm({});
    $(document.forms.billingInfo).formHandler("show-errors", [])
};
Tm.Checkout.prototype._onBeforeStepSwitching = function(a, b, c) { - 1 !== $.inArray(c, ["step2", "step3"]) && (a = $(b).find(".js-cart-summary-container"), 0 === a.children("form").size() && (b = $(".js-cart-summary-container .js-cart-summary"), a.append(b)));
    "step2" === c && this.refreshSubscriptionFormGroup(); - 1 !== $.inArray(c, ["step3"]) && $("#payment-collapse, .js-payment-form-block").paymentSelector("hide-server-error")
};
Tm.Checkout.prototype._onAfterStepSwitching = function(a, b, c) {
    "step1" === c && (a = new Tm.Signin, this.fillSigninForm(a.getUserEmail()), (new CLS30).pushData(1));
    "step2" == c && (a = document.forms.billingInfo, $(a).formHandler("enable-validation"), $(a).formHandler("reset-errors"), $(a).formHandler("focus-first"), (new CLS30).pushData(2));
    "step3" == c && (appDic.require("bonus").focusFirst(), (new CLS30).pushData(3));
    this.steps.checkoutSteps("redrawNavigationLinks", c)
};
Tm.Checkout.prototype._onBillingInfoSubmitSuccess = function(a, b, c) {
    $(a).formHandler("show-ajax-progress", !0);
    $(".js-billinginfo-details").html(c.billingInfoDetailsHtml);
    $("#payment-methods-container").html(c.paymentMethodsFormHtml);
    $("#payment-collapse").paymentSelector();
    b = new Tm.Signin;
    b._autoSignIn();
    b._wacJsonP(c.wacAuth,
    function() {
        $(document).trigger("Gtag.userRegistration.push", {
            email: a.email.value,
            name: a.fullName.value
        });
        0 == $(".js-cart-summary .js-total-price").attr("data-price") ? ($(a).formHandler("show-ajax-progress"), $(".js-payment-complete-order .js-choose-payment-system").click()) : ($(a).formHandler("hide-ajax-progress"), (new Tm.Checkout).switchStep("step3"));
        return ! 1
    });
    return ! 1
};
Tm.Checkout.prototype.isFree = function() {
    return ! 1
};
$(document).ready(function() {
    $(".payment-methods .item").click(function() {
        $(this).find('input[type="radio"]').attr("checked", !0);
        $(this).siblings().find('input[type="radio"]').attr("checked", !1)
    })
});
Tm = Tm || {};
Tm.Checkout1 = function(a) {
    this._language = a;
    this._signin = new Tm.Signin;
    this._ecommerceWatcher = new CLS30
};
defineService(["language"], Tm.Checkout1);
Tm.Checkout1.prototype.countriesWithPreferedStates = {
    US: "CA",
    CA: "ON"
};
Tm.Checkout1.prototype.init = function() {
    var a = this.getStep();
    if (a && (a = "on" + a[0].toUpperCase() + a.slice(1), $.isFunction(this[a]))) this[a]()
};
Tm.Checkout1.prototype.getStep = function() {
    return $("#content").find(".js-checkout-step-links .js-step-link").filter(".active").data("step")
};
Tm.Checkout1.prototype.onStep1 = function() {
    var a = this,
    b = document.forms.signin1;
    $(b).rdFormHandler({
        skip_success_mark: ["password"],
        autoscroll_on_form_error: !1,
        common_errors_html_classes: "alert fade in rd-popover rd-popover-red rd-popover-top rd-closing",
        default_error_message: "Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",
        on_submit_success: function(b, g, f) {
            $(b).rdFormHandler("show-ajax-progress");
            a._redirectToStep(f.step);
            return ! 1
        },
        on_after_init: function(a) {
            CLS63.prototype.deleteParamFromUrl("email");
            $(a.email).val() && ($(a).rdFormHandler("show-success"), $(a.password).focus())
        }
    });
    $(b).on("mousedown touchstart", ".js-password-toggle",
    function() {
        $(this).siblings("input").attr("type", "text")
    });
    $(b).on("mouseup touchend mouseleave", ".js-password-toggle",
    function() {
        $(this).siblings("input").attr("type", "password")
    });
    this._ecommerceWatcher.pushData(1)
};
Tm.Checkout1.prototype.onStep2 = function() {
    var a = document.forms.billingInfo1;
    this._initCountryState(a.countryISO2, a.stateISO2);
    this._initBillingInfoHandler(a);
    this._initStep1LinkHandler();
    this._ecommerceWatcher.pushData(2)
};
Tm.Checkout1.prototype.onStep3 = function() {
    var a = $("#payment-collapse");
    this._initPaymentSelector(a);
    this._initPaymentSubmit(a);
    this._ecommerceWatcher.pushData(3)
};
Tm.Checkout1.prototype._initBillingInfoHandler = function(a) {
    var b = this;
    $(a).rdFormHandler({
        common_errors_html_classes: "alert fade in rd-popover rd-popover-red rd-popover-top rd-closing",
        default_error_message: "Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",
        on_before_ajax_callback: {
            postalCode: function(a) {
                $(a.cityName).attr("disabled", "disabled")
            }
        },
        on_after_ajax_callback: {
            email: function(a, g, f, h) {
                if (!h.status && $.isArray(h.messages) && h.messages.toString().match("js-goto-login")) return b._redirectToLogin($(f).val()),
                !1
            },
            postalCode: function(a, g, f, h) {
                var g = $(a.countryISO2),
                f = $(a.stateISO2),
                j = $(a.cityName);
                h.state_code && b._isCountryWithSates(h.country_code) && f.val(h.state_code).change();
                g.change();
                h.city && j.val(h.city).change();
                j.removeAttr("disabled");
                setTimeout(function() {
                    $(a).rdFormHandler("show-success")
                },
                10)
            }
        },
        on_after_validate: function(a) {
            var b = (new Date).toString();
            $(a.localtime).val(b)
        },
        on_submit_success: function(a) {
            $(document).trigger("Gtag.userRegistration.push", {
                email: a.email.value,
                name: a.fullName.value
            });
            $(a).rdFormHandler("show-ajax-progress", !0);
            b._redirectToStep("step3");
            return ! 1
        },
        on_after_init: function(a) {
            b._signin.isWacLogged() && $(a).rdFormHandler("show-success")
        }
    })
};
Tm.Checkout1.prototype._initStep1LinkHandler = function() {
    var a = this;
    $("#checkout-step1").click(function() {
        a._signin.isWacLogged() ? a._signin.signOut({
            on_success: function() {
                a._redirectToLogin()
            }
        }) : a._redirectToLogin();
        return ! 1
    })
};
Tm.Checkout1.prototype._initCountryState = function(a, b) {
    var c = this,
    g = $(a),
    f = $(b),
    h = f.find('option[value!=""]').map(function() {
        return {
            code: $(this).val(),
            title: $(this).text(),
            countryCode: $(this).data("country-code")
        }
    });
    f.change(function() {
        $(this).trigger("chosen:updated")
    });
    g.change(function() {
        var a = '<option value="XX">Outside U.S./Canada<option>',
        b = "XX",
        g = !0,
        q = $(this).val(),
        r = $(h).filter(function() {
            return this.countryCode == q
        }).get();
        r.length && (g = $(r).map(function() {
            return this.code
        }).get(), a = '<option value=""></option>\n' + $(r).map(function() {
            return '<option value="' + this.code + '">' + this.title + "</option>"
        }).get().join("\n"), -1 !== $.inArray(f.val(), g) ? b = f.val() : c.countriesWithPreferedStates[this.value] && (b = c.countriesWithPreferedStates[q]), g = !1);
        f.html(a).attr("disabled", g).val(b).trigger("chosen:updated");
        $(this).trigger("chosen:updated")
    }); ! g.val() && $.cookie("country_code") && g.val($.cookie("country_code")).change()
};
Tm.Checkout1.prototype._initPaymentSelector = function(a) {
    $(a).on("show.bs.collapse",
    function(a) {
        $(this).find(".item.panel").removeClass("selected").find('input[name="paymentCheck"]').removeProp("checked");
        $(a.target).parents(".item.panel:first").addClass("selected").find('input[name="paymentCheck"]').prop("checked", !0);
        return ! 0
    }).on("hide.bs.collapse",
    function(a) {
        return ! $(a.target).parents(".item.panel.selected").length
    }).find(".js-radio-collapse").attr("data-toggle", "collapse").end()
};
Tm.Checkout1.prototype._initPaymentSubmit = function(a) {
    $(a).on("click", ".js-choose-payment-system", $.proxy(function(b) {
        this._disablePaymentSubmit(a);
        if (21 == parseInt($(b.target).attr("data-payment"))) {
            var b = $(".js-total-price").attr("data-price"),
            c = $("input#stripeToken");
            StripeCheckout.configure({
                key: c.attr("data-stripe-pk"),
                locale: "auto",
                allowRememberMe: !1,
                name: "Jetimpex Inc",
                amount: 100 * b,
                currency: c.data("currency"),
                email: c.data("email"),
                token: function(a) {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.token", {
                        token: a
                    })
                },
                opened: function() {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.opened")
                },
                closed: function() {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.closed")
                }
            }).open();
            return ! 1
        }
        this._sendOrder(b.target, a);
        return ! 1
    },
    this));
    $("#checkout-payment-buy-Stripe").on("Checkout.stripe.token", $.proxy(function(b, c) {
        c.token && ($("input#stripeToken").val(c.token.id), this._sendOrder(b.target, a))
    },
    this)).on("Checkout.stripe.closed", $.proxy(function(b) {
        $("input#stripeToken").val() ? $(b.target).addClass("loading") : this._enablePaymentSubmit(a)
    },
    this)).on("Checkout.stripe.opened", $.proxy(function(a) {
        $(a.target).removeClass("loading")
    },
    this))
};
Tm.Checkout1.prototype._enablePaymentSubmit = function(a) {
    this._setPaymentSubmitFlag(a, "stop.cart.load", !1)
};
Tm.Checkout1.prototype._disablePaymentSubmit = function(a) {
    this._setPaymentSubmitFlag(a, "start.cart.load", !0)
};
Tm.Checkout1.prototype._setPaymentSubmitFlag = function(a, b, c) {
    var g = $(".js-choose-payment-system", a);
    $(document).trigger(b, {
        button: g,
        callbackFunk: function() {
            g.attr("disabled", c)
        }
    })
};
Tm.Checkout1.prototype._sendOrder = function(a, b) {
    var c = this,
    g = $(a).attr("data-payment"),
    f = $(a).attr("data-offer-id"),
    h = $(".js-total-redeemed-bonus-amount").attr("data-amount"),
    j = $(".js-total-price").attr("data-price"),
    k = (new Date).toString(),
    m = $("input#stripeToken").val(),
    g = {
        payment: g,
        cartAmount: j,
        bonusesAmount: h,
        localTime: k
    };
    "undefined" !== typeof f && (g.addOffer = f);
    m && (g.stripeToken = m);
    $.ajax({
        url: this._language.urlPrefix("/checkout-ajax/create-order.php"),
        type: "POST",
        data: g,
        datatype: "json",
        success: function(a) {
            $("input#stripeToken").val("");
            goog.isString(a.error) ? goog.isDefAndNotNull(a.location) ? c._redirect(a.location) : (c._enablePaymentSubmit(b), c._showError(a.error + "", ".js-payment-error-block")) : goog.isDefAndNotNull(a.paymentForm) ? (c._ecommerceWatcher.pushData(4), $("body:first").html(a.paymentForm), $("form:first").submit()) : goog.isDefAndNotNull(a.paymentLink) ? (c._ecommerceWatcher.pushData(4), c._redirect(a.paymentLink)) : goog.isDefAndNotNull(a.redirectUrl) && (c._ecommerceWatcher.pushData(4), c._redirect(a.redirectUrl))
        },
        error: function() {
            $("input#stripeToken").val("");
            c._enablePaymentSubmit(b);
            if ("undefined" === typeof a) var a = "Server Error";
            c._showError(Twig.render(a), ".js-payment-error-block")
        }
    })
};
Tm.Checkout1.prototype._showError = function(a, b) {
    $(b).html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>' + a + "</div>")
};
Tm.Checkout1.prototype._redirect = function(a) {
    window.location.href = a
};
Tm.Checkout1.prototype._redirectToStep = function(a, b) {
    var c = this._language.urlPrefix("/checkout/" + a + "/");
    $.isEmptyObject(b) || (c += "?" + $.param(b));
    this._redirect(c)
};
Tm.Checkout1.prototype._redirectToLogin = function(a) {
    this._redirectToStep("step1", {
        email: a
    })
};
Tm.Checkout1.prototype._isCountryWithSates = function(a) {
    return this.countriesWithPreferedStates.hasOwnProperty(a)
};
Tm = Tm || {};
Tm.Checkout2 = function(a) {
    this._language = a;
    this._signin = new Tm.Signin;
    this._emailForm = document.forms.email;
    this._signInForm = document.forms.signin2;
    this._billingInfoForm = document.forms.billinginfo2;
    this._infoTabsContainer = $("#customer-form-selectors");
    this._infoTabsContent = $(".js-tab-content");
    this._switchAccountLink = $(".js-btn-swith-account");
    this._countriesWithPreferedStates = {
        US: "CA",
        CA: "ON"
    };
    this._ecommerceWatcher = new CLS30
};
defineService(["language"], Tm.Checkout2);
Tm.Checkout2.prototype.init = function() {
    var a = this.getStep();
    if (a && (a = "_on" + a[0].toUpperCase() + a.slice(1) + "Step", $.isFunction(this[a]))) this[a]();
    $(window).on("popstate", $.proxy(function() {
        this._isEditMode() && !window.history.state && location.reload()
    },
    this));
    this._route()
};
Tm.Checkout2.prototype.getStep = function() {
    return $(".js-checkout-step-links .js-step-link.active").data("step")
};
Tm.Checkout2.prototype._route = function() {
    if ("information" === this.getStep()) {
        var a = $(this._infoTabsContainer).data("signed-in"),
        b = $(this._infoTabsContainer).data("returning-user"),
        c = $(this._infoTabsContainer).data("billing-info-valid");
        a ? this._isEditMode() ? this._switchToProfileEdit(!c) : this._redirectToPaymentStep() : b ? this._switchToSignIn() : this._switchToSignUp();
        CLS63.prototype.deleteParamFromUrl("_force");
        this._enableInfoTabs()
    }
};
Tm.Checkout2.prototype._onInformationStep = function() {
    this._initEmailForm(this._emailForm);
    this._initSignInForm(this._signInForm);
    this._initBillingInfoForm(this._billingInfoForm);
    this._initSwitchAccountLink();
    this._initInfoTabs();
    this._getGravatarEmail()
};
Tm.Checkout2.prototype._onPaymentStep = function() {
    var a = $("#payment-collapse");
    this._initPaymentSelector(a);
    this._initPaymentSubmit(a);
    this._ecommerceWatcher.pushData(3)
};
Tm.Checkout2.prototype._onInfoSignUpTab = function() {
    this._hideSwitchAccountLink();
    this._setBillingInfo({
        email: this._getPendingEmail(!0)
    });
    var a = this._isEmailValid();
    this._enableEmailForm(!a, !0);
    this._getActiveInfoForm() || ($(".js-input-container", this._billingInfoForm).removeClass("hidden"), $(".js-info-signup-container", self._infoTabsContent).append($(this._billingInfoForm)));
    a ? (this._enableActiveInfoForm(!0, !0), this._showEmailFormSuccess()) : this._disableActiveInfoForm(!1, !0);
    this._getGravatarEmail().update();
    this._ecommerceWatcher.pushData(2)
};
Tm.Checkout2.prototype._onInfoSignInTab = function() {
    var a = this._getPendingEmail();
    this._getGravatarEmail().restore();
    this._setBillingInfo({
        email: a
    });
    a ? (this._disableEmailForm(!0), this._showSwitchAccountLink()) : (this._hideSwitchAccountLink(), this._enableEmailForm(!0, !0));
    $(this._signInForm).rdFormHandler("hide-errors");
    this._enableActiveInfoForm( !! a, !0);
    this._ecommerceWatcher.pushData(1)
};
Tm.Checkout2.prototype._onInfoEditTab = function() {
    this._disableEmailForm();
    this._showSwitchAccountLink();
    this._getActiveInfoForm() || ($(".js-info-edit-container", self._infoTabsContent).append($(this._billingInfoForm)), this._enableActiveInfoForm(!0, !0), this._callAsync(function() {
        $(this._billingInfoForm).rdFormHandler("show-success")
    }));
    this._ecommerceWatcher.pushData(2)
};
Tm.Checkout2.prototype._initEmailForm = function(a) {
    $(a).attr("action", "").rdFormHandler({
        common_errors_html_classes: "alert fade in rd-popover rd-popover-red rd-popover-top rd-closing",
        default_error_message: "Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",
        autofocus_timeout: 10,
        autocheck_timeout: 1E3,
        on_show_errors: $.proxy(function(a, c, g) {
            g.length && ($(a).rdFormHandler("is-validation-enabled") && this._isEmailFormEnabled()) && this._shakeEmailForm()
        },
        this),
        on_before_ajax_callback: {
            email: $.proxy(function() {
                this._disableInfoTabs();
                this._disableActiveInfoForm()
            },
            this)
        },
        on_after_ajax_callback: {
            email: $.proxy(function(a, c, g, f) {
                var c = !!f.status,
                h = this._isSignUp(),
                j = $(g).val(); (f = (f = !c && $.isArray(f.messages) ? f.messages.toString() : "") && -1 < f.indexOf("js-goto-login")) && !h && (c = !0);
                this._enableInfoTabs();
                this._enableActiveInfoForm(c);
                if (f) return $(a).rdFormHandler("hide-field-progress", g),
                h ? this._switchToSignIn(j) : $(a).rdFormHandler("show-success"),
                !1;
                h ? (a = this._isActiveFormEnabled(), g = this._isEmailValid(), a && !g ? this._disableActiveInfoForm(!1, !0) : !a && g && this._enableActiveInfoForm(!1, !0)) : this._switchToSignUp(j)
            },
            this)
        }
    });
    $(a.email).on("change input cut paste rd-empty-check", $.proxy(function(a) {
        var c = this._getActiveInfoForm(),
        a = $(a.target).val();
        c && c.email && $(c.email).val(a);
        this._isSignUp() && !a.length && this._disableActiveInfoForm(!1, !0)
    },
    this)).on("keydown", $.proxy(function(a) {
        switch (a.keyCode) {
        case 13:
            var c = a.target;
            $(c.form).rdFormHandler("enable-validation"); ! this._isSignUp() || !$(c).val().length ? $(c.form).rdFormHandler("validate-and-show") : (this._disableActiveInfoForm(!1, !0), $(c).data("validation-value", null).blur().focus());
            a.preventDefault()
        }
    },
    this))
};
Tm.Checkout2.prototype._initSignInForm = function(a) {
    $(a).rdFormHandler({
        skip_success_mark: ["password"],
        autoscroll_on_form_error: !1,
        common_errors_html_classes: "alert fade in rd-popover rd-popover-red rd-popover-top rd-closing",
        default_error_message: "Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",
        on_submit_success: $.proxy(function(a) {
            $(a).rdFormHandler("show-ajax-progress");
            this._redirectToPaymentStep();
            return ! 1
        },
        this),
        on_submit_validation: $.proxy(function() {
            if (!this._isEmailFormValid()) return this._showEmailFormErrors(),
            !1
        },
        this),
        on_show_errors: $.proxy(function(a, c, g) {
            g.length && this._shakeActiveForm()
        },
        this),
        on_before_submit: $.proxy(function() {
            this._disableInfoTabs();
            this._disableEmailForm()
        },
        this),
        on_submit_error: $.proxy(function() {
            this._enableInfoTabs();
            this._enableEmailForm()
        },
        this),
        on_ajax_response: $.proxy(function(a, c, g) {
            var f = this._emailForm;
            g.wacError && -1 !== $.inArray(g.wacError, [102, 103]) && (this._showEmailFormError(g.errors), this._shakeEmailForm(), g.errors = []);
            this._callAsync(function() {
                this._isEmailFormEnabled() && $(f).rdFormHandler("show-success")
            },
            100);
            return g
        },
        this)
    });
    $(a).on("mousedown touchstart", ".js-password-toggle",
    function() {
        $(this).siblings("input").attr("type", "text")
    });
    $(a).on("mouseup touchend mouseleave", ".js-password-toggle",
    function() {
        $(this).siblings("input").attr("type", "password")
    })
};
Tm.Checkout2.prototype._initBillingInfoForm = function(a) {
    this._initCountryState(a.countryISO2, a.stateISO2);
    var b = $(this._emailForm.email).val();
    $('<input type="hidden" name="email"/>').prependTo(a).val(b);
    $(a).rdFormHandler({
        common_errors_html_classes: "alert fade in rd-popover rd-popover-red rd-popover-top rd-closing",
        default_error_message: "Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",
        on_before_ajax_callback: {
            postalCode: function(a) {
                $(a.cityName).attr("disabled", "disabled")
            }
        },
        on_after_ajax_callback: {
            postalCode: $.proxy(function(a, b, f, h) {
                var b = $(a.countryISO2),
                f = $(a.stateISO2),
                j = $(a.cityName);
                h.state_code && this._isCountryWithSates(h.country_code) && f.val(h.state_code).change();
                b.change();
                h.city && j.val(h.city).change();
                j.removeAttr("disabled");
                this._callAsync(function() {
                    $(a).rdFormHandler("show-success")
                })
            },
            this)
        },
        on_ajax_response: $.proxy(function(a, b, f) {
            f.status || (f.errors = $(f.errors).filter($.proxy(function(a, b) {
                return "email" === b.name ? (this._showEmailFormError(b.messages), !1) : !0
            },
            this)).get());
            return f
        },
        this),
        on_after_validate: function(a) {
            var b = (new Date).toString();
            $(a.localtime).val(b)
        },
        on_submit_validation: $.proxy(function() {
            if (!this._isEmailFormValid()) return this._showEmailFormErrors(),
            !1
        },
        this),
        on_show_errors: $.proxy(function(a, b, f) {
            f.length && this._shakeActiveForm()
        },
        this),
        on_before_submit: $.proxy(function() {
            this._disableInfoTabs();
            this._disableEmailForm()
        },
        this),
        on_submit_error: $.proxy(function() {
            this._enableInfoTabs();
            this._enableEmailForm();
            this._shakeActiveForm()
        },
        this),
        on_submit_success: $.proxy(function(a) {
            $(document).trigger("Gtag.userRegistration.push", {
                email: a.email.value,
                name: a.fullName.value
            });
            this._redirectToPaymentStep();
            return ! 1
        },
        this)
    })
};
Tm.Checkout2.prototype._initCountryState = function(a, b) {
    var c = this,
    g = $(a),
    f = $(b),
    h = f.find('option[value!=""]').map(function() {
        return {
            code: $(this).val(),
            title: $(this).text(),
            countryCode: $(this).data("country-code")
        }
    });
    f.change(function() {
        $(this).trigger("chosen:updated")
    });
    g.change(function() {
        var a = '<option value="XX">Outside U.S./Canada<option>',
        b = "XX",
        g = !0,
        q = $(this).val(),
        r = $(h).filter(function() {
            return this.countryCode == q
        }).get();
        r.length && (g = $(r).map(function() {
            return this.code
        }).get(), a = '<option value=""></option>\n' + $(r).map(function() {
            return '<option value="' + this.code + '">' + this.title + "</option>"
        }).get().join("\n"), -1 !== $.inArray(f.val(), g) ? b = f.val() : c._isCountryWithSates(this.value) && (b = c._getPreferedCountrySate(q)), g = !1);
        f.html(a).attr("disabled", g).val(b).trigger("chosen:updated");
        $(this).trigger("chosen:updated")
    }); ! g.val() && $.cookie("country_code") && g.val(this._getCookieCountry()).change()
};
Tm.Checkout2.prototype._initSwitchAccountLink = function() {
    $(this._switchAccountLink).click($.proxy(function() {
        this._switchToSignIn("")
    },
    this))
};
Tm.Checkout2.prototype._hideSwitchAccountLink = function() {
    $(this._switchAccountLink).hide()
};
Tm.Checkout2.prototype._showSwitchAccountLink = function() {
    $(this._switchAccountLink).show()
};
Tm.Checkout2.prototype._initPaymentSelector = function(a) {
    $(a).on("show.bs.collapse",
    function(a) {
        $(this).find(".item.panel").removeClass("selected").find('input[name="paymentCheck"]').removeProp("checked");
        $(a.target).parents(".item.panel:first").addClass("selected").find('input[name="paymentCheck"]').prop("checked", !0);
        return ! 0
    }).on("hide.bs.collapse",
    function(a) {
        return ! $(a.target).parents(".item.panel.selected").length
    }).find(".js-radio-collapse").attr("data-toggle", "collapse").end()
};
Tm.Checkout2.prototype._initPaymentSubmit = function(a) {
    $(a).on("click", ".js-choose-payment-system", $.proxy(function(b) {
        this._disablePaymentSubmit(a);
        if (21 == parseInt($(b.target).attr("data-payment"))) {
            var b = $(".js-total-price").attr("data-price"),
            c = $("input#stripeToken");
            StripeCheckout.configure({
                key: c.attr("data-stripe-pk"),
                locale: "auto",
                allowRememberMe: !1,
                name: "Jetimpex Inc",
                amount: 100 * b,
                currency: c.data("currency"),
                email: c.data("email"),
                token: function(a) {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.token", {
                        token: a
                    })
                },
                opened: function() {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.opened")
                },
                closed: function() {
                    $("#checkout-payment-buy-Stripe").trigger("Checkout.stripe.closed")
                }
            }).open();
            return ! 1
        }
        this._sendOrder(b.target, a);
        return ! 1
    },
    this));
    $("#checkout-payment-buy-Stripe").on("Checkout.stripe.token", $.proxy(function(b, c) {
        c.token && ($("input#stripeToken").val(c.token.id), this._sendOrder(b.target, a))
    },
    this)).on("Checkout.stripe.closed", $.proxy(function(b) {
        $("input#stripeToken").val() ? $(b.target).addClass("loading") : this._enablePaymentSubmit(a)
    },
    this)).on("Checkout.stripe.opened", $.proxy(function(a) {
        $(a.target).removeClass("loading")
    },
    this))
};
Tm.Checkout2.prototype._enablePaymentSubmit = function(a) {
    this._setPaymentSubmitFlag(a, "stop.cart.load", !1)
};
Tm.Checkout2.prototype._disablePaymentSubmit = function(a) {
    this._setPaymentSubmitFlag(a, "start.cart.load", !0)
};
Tm.Checkout2.prototype._setPaymentSubmitFlag = function(a, b, c) {
    var g = $(".js-choose-payment-system", a);
    $(document).trigger(b, {
        button: g,
        callbackFunk: function() {
            g.attr("disabled", c)
        }
    })
};
Tm.Checkout2.prototype._sendOrder = function(a, b) {
    var c = function(a, b) {
        $(b).html('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>' + a + "</div>")
    },
    g = $(a).attr("data-payment"),
    f = $(a).attr("data-offer-id"),
    h = $(".js-total-redeemed-bonus-amount").attr("data-amount"),
    j = $(".js-total-price").attr("data-price"),
    k = (new Date).toString(),
    m = $("input#stripeToken").val(),
    g = {
        payment: g,
        cartAmount: j,
        bonusesAmount: h,
        localTime: k
    };
    "undefined" !== typeof f && (g.addOffer = f);
    m && (g.stripeToken = m);
    $.ajax({
        url: this._language.urlPrefix("/checkout-ajax/create-order.php"),
        type: "POST",
        data: g,
        datatype: "json",
        success: $.proxy(function(a) {
            $("input#stripeToken").val("");
            goog.isString(a.error) ? goog.isDefAndNotNull(a.location) ? this._redirect(a.location) : (this._enablePaymentSubmit(b), c(a.error + "", ".js-payment-error-block")) : goog.isDefAndNotNull(a.paymentForm) ? (this._ecommerceWatcher.pushData(4), $("body:first").html(a.paymentForm), $("form:first").submit()) : goog.isDefAndNotNull(a.paymentLink) ? (this._ecommerceWatcher.pushData(4), this._redirect(a.paymentLink)) : goog.isDefAndNotNull(a.redirectUrl) && (this._ecommerceWatcher.pushData(4), this._redirect(a.redirectUrl))
        },
        this),
        error: $.proxy(function() {
            $("input#stripeToken").val("");
            this._enablePaymentSubmit(b);
            if ("undefined" === typeof a) var a = "Server Error";
            c(Twig.render(a), ".js-payment-error-block")
        },
        this)
    })
};
Tm.Checkout2.prototype._initInfoTabs = function() {
    $(this._infoTabsContainer).find('a[data-toggle="tab"]').on("contextmenu", !1).on("click",
    function(a) {
        if ($(this).hasClass("disabled") || 2 === a.which) return a.preventDefault(),
        !1
    }).on("show.bs.tab", $.proxy(function(a) {
        $(a.target).hasClass("js-returning") || ($(".js-info-edit-container", self._infoTabsContent).is(":visible") && this._switcExistingTabMode(!1), this._signin.isWacLogged() && this._signin.signOut())
    },
    this)).on("shown.bs.tab rd-shown.tab", $.proxy(function(a) {
        $(a.target).is(".js-signup") ? this._onInfoSignUpTab() : $(".js-info-edit-container", self._infoTabsContent).is(".shown") ? this._onInfoEditTab() : this._onInfoSignInTab()
    },
    this)).on("mouseover", $.proxy(function() {
        $(this._emailForm).rdFormHandler("disable-validation")
    },
    this)).on("mouseout", $.proxy(function() {
        $(this._emailForm).rdFormHandler("enable-validation")
    },
    this))
};
Tm.Checkout2.prototype._disableInfoTabs = function() {
    $(this._infoTabsContainer).find('a[data-toggle="tab"]').addClass("disabled");
    $(this._infoTabsContainer).find("li.active a").addClass("selected")
};
Tm.Checkout2.prototype._enableInfoTabs = function() {
    $(this._infoTabsContainer).find('a[data-toggle="tab"]').removeClass("disabled");
    $(this._infoTabsContainer).find("li.active a").removeClass("selected")
};
Tm.Checkout2.prototype._getActiveInfoForm = function() {
    var a = $(this._infoTabsContent).find(".active form:visible:first");
    return a.length ? a.get(0) : null
};
Tm.Checkout2.prototype._disableActiveInfoForm = function(a, b) {
    var c = this._getActiveInfoForm();
    c && (this._disableForm(c, a, b), this._callAsync(function() {
        $(c).rdFormHandler("hide-errors");
        $(c).rdFormHandler("hide-success")
    }))
};
Tm.Checkout2.prototype._enableActiveInfoForm = function(a, b) {
    var c = this._getActiveInfoForm();
    c && (this._enableForm(c, a, b), this._callAsync(function() {
        $(".js-country", c).change()
    }))
};
Tm.Checkout2.prototype._isActiveFormEnabled = function() {
    var a = this._getActiveInfoForm();
    return a && $(":submit", a).is(":enabled")
};
Tm.Checkout2.prototype._disableEmailForm = function(a) {
    var b = this._emailForm;
    b && (this._disableForm(b), a && this._callAsync(function() {
        $(b.email).data("disabled-by-handler", null)
    }), $(b).rdFormHandler("hide-field-error", b.email))
};
Tm.Checkout2.prototype._enableEmailForm = function(a, b) {
    this._emailForm && ($(this._emailForm).rdFormHandler("hide-field-error", this._emailForm.email), $(this._emailForm).rdFormHandler("hide-field-success", this._emailForm.email), this._enableForm(this._emailForm, a, b))
};
Tm.Checkout2.prototype._shakeBox = function(a) {
    var b = $(a).parents(".js-checkout-wrapper-block");
    b.addClass("element-animation-shake");
    setTimeout(function() {
        b.removeClass("element-animation-shake")
    },
    1500)
};
Tm.Checkout2.prototype._shakeEmailForm = function() {
    this._shakeBox(this._emailForm)
};
Tm.Checkout2.prototype._shakeActiveForm = function() {
    var a = this._getActiveInfoForm();
    a && this._shakeBox(a)
};
Tm.Checkout2.prototype._disableForm = function(a, b, c) {
    $(a).rdFormHandler("hide-success");
    c || $(a).rdFormHandler("disable-submit");
    $(a).rdFormHandler("show-ajax-progress", !!b, null, !c)
};
Tm.Checkout2.prototype._enableForm = function(a, b, c) {
    $(a).rdFormHandler("enable-submit");
    $(a).rdFormHandler("hide-ajax-progress", $.proxy(function() {
        b && this._callAsync(function() {
            $(a).rdFormHandler("focus-first")
        })
    },
    this), c)
};
Tm.Checkout2.prototype._setBillingInfo = function(a) {
    var b = this._emailForm,
    c = this._billingInfoForm,
    g = this._signInForm,
    a = $.extend({
        email: "",
        fullName: "",
        countryISO2: this._getCookieCountry(),
        stateISO2: null,
        postalCode: "",
        cityName: "",
        phone: "",
        password: ""
    },
    a);
    $([b, c, g]).rdFormHandler("disable-validation");
    $(b.email).val(a.email).data("validation-value", a.email ? a.email: null).trigger("filled").trigger("rd-gravatar-redraw");
    $(b).rdFormHandler("validate");
    for (var f in a) a.hasOwnProperty(f) && (c.hasOwnProperty(f) && null !== a[f] && $(c[f]).val(a[f]).trigger("filled").filter(".js-chosen").change(), g.hasOwnProperty(f) && $(g[f]).val(a[f]).trigger("filled"));
    $([b, c, g]).rdFormHandler("enable-validation")
};
Tm.Checkout2.prototype._getCookieCountry = function() {
    return $.cookie("country_code")
};
Tm.Checkout2.prototype._getPendingEmail = function(a) {
    var b = this._emailForm.email,
    c = "";
    "string" === typeof $(b).data("tmp-email") ? (c = $(b).data("tmp-email"), $(b).data("tmp-email", null)) : !a && $(b).data("email") && (c = $(b).data("email"));
    return c
};
Tm.Checkout2.prototype._setPendingEmail = function(a) {
    if (this._emailForm.email) return $(this._emailForm.email).data("tmp-email", a)
};
Tm.Checkout2.prototype._switchToSignIn = function(a) {
    var b = function(a, b) {
        "undefined" !== typeof b && a._setPendingEmail(b);
        a._switcExistingTabMode(!1);
        a._switchInfoTab(".js-returning")
    };
    this._signin.isWacLogged() ? (this._disableInfoTabs(), this._signin.signOut({
        on_success: $.proxy(function() {
            b(this, a);
            this._enableInfoTabs();
            this._getGravatarEmail().update()
        },
        this)
    })) : b(this, a);
    this._getGravatarEmail().update()
};
Tm.Checkout2.prototype._switchToSignUp = function(a) {
    this._setPendingEmail(a);
    this._switcExistingTabMode(!1);
    this._switchInfoTab(".js-signup")
};
Tm.Checkout2.prototype._switchToProfileEdit = function() {
    this._switcExistingTabMode(!0);
    this._switchInfoTab(".js-returning")
};
Tm.Checkout2.prototype._switcExistingTabMode = function(a) {
    var b = $(".js-info-edit-container", self._infoTabsContent),
    c = $(".js-info-signin-container", self._infoTabsContent);
    a ? (c.removeClass("shown"), b.addClass("shown")) : (b.removeClass("shown"), c.addClass("shown"))
};
Tm.Checkout2.prototype._switchInfoTab = function(a) {
    a = $(a, self._infoTabsContainer);
    a.parents("li:first").is(".active") ? a.trigger("rd-shown.tab") : a.tab("show")
};
Tm.Checkout2.prototype._redirect = function(a, b) {
    $.isEmptyObject(b) || (a += "?" + $.param(b));
    this._disableActiveInfoForm();
    window.location.href = a
};
Tm.Checkout2.prototype._redirectToPaymentStep = function(a) {
    this._redirect(this._language.urlPrefix("/checkout/payment/"), a)
};
Tm.Checkout2.prototype._isCountryWithSates = function(a) {
    return this._countriesWithPreferedStates.hasOwnProperty(a)
};
Tm.Checkout2.prototype._getPreferedCountrySate = function(a) {
    return this._isCountryWithSates(a) ? this._countriesWithPreferedStates[a] : null
};
Tm.Checkout2.prototype._isEmailFormEnabled = function() {
    return ! $(this._emailForm.email).is(":disabled")
};
Tm.Checkout2.prototype._showEmailFormError = function(a) {
    var b = this._emailForm;
    this._callAsync(function() {
        $(b).rdFormHandler("show-field-error", b.email, a)
    })
};
Tm.Checkout2.prototype._showEmailFormSuccess = function() {
    $(this._emailForm).rdFormHandler("show-success")
};
Tm.Checkout2.prototype._isEmailFormValid = function() {
    return ! this._isEmailFormEnabled() || 0 === $(this._emailForm).rdFormHandler("get-errors").length
};
Tm.Checkout2.prototype._showEmailFormErrors = function() {
    $(this._emailForm).rdFormHandler("validate-and-show")
};
Tm.Checkout2.prototype._isSignUp = function() {
    return $(".active a", this._infoTabsContainer).is(".js-signup")
};
Tm.Checkout2.prototype._isEmailValid = function() {
    return 0 < $.trim($(this._emailForm.email).val()).length && !$(this._emailForm).rdFormHandler("get-errors").length
};
Tm.Checkout2.prototype._getGravatarEmail = function(a) {
    a = new Tm.RdEmailInput(a);
    a.init(this._emailForm.email);
    return a
};
Tm.Checkout2.prototype._isEditMode = function() {
    return $(this._infoTabsContainer).data("edit-mode")
};
Tm.Checkout2.prototype._callAsync = function(a, b) {
    "undefined" === typeof b && (b = 10);
    setTimeout($.proxy(a, this), b)
};
Tm = Tm || {};
Tm.RdPhoneInput = function(a) {
    this.options = $.extend({
        utilsUrl: "/js/imported/intel_tel_input/utils.js",
        countryCodeClass: ".js-dial-code",
        userCountry: "us",
        countryCodes: {}
    },
    a)
};
Tm.RdPhoneInput.prototype.init = function(a, b) {
    var c = this;
    this._loadUtils(function() {
        var g = $(a),
        f = g.prev("select").val(c.options.userCountry);
        g.on("input",
        function() {
            c._formatNumber(this)
        });
        c._processCountryCodes(f);
        c._initCountryCodeSelect(f, g, b)
    })
};
Tm.RdPhoneInput.prototype.getNumber = function(a) {
    var b = $(a).val(),
    a = this._getCountrySelect(a).val();
    return intlTelInputUtils.formatNumber(b, a, intlTelInputUtils.numberFormat.E164).slice(1)
};
Tm.RdPhoneInput.prototype.getCountryCodeByNumber = function(a) {
    a = this._getDialCode(a);
    if ($.isNumeric(a)) return this.options.countryCodes[a][0]
};
Tm.RdPhoneInput.prototype._detectPosition = function(a, b, c) {
    var a = a.substring(0, b).match(/[\s\(\)\-]/gim),
    g = 0;
    $.isArray(a) && (g = a.length);
    return c ? b - g: b + g
};
Tm.RdPhoneInput.prototype._formatNumber = function(a) {
    var b = $(a).val();
    if (b) {
        var c = this._getCountrySelect(a).val(),
        g = intlTelInputUtils.formatNumber(b.replace(/\(([^\d]+)\)|[-\(\)]{2,}|[^\d\s\(\)\-]/gim, ""), c, intlTelInputUtils.numberFormat.NATIONAL),
        f = this._getSelectedCountryDialCode(a),
        f = this.getCountryCodeByNumber(f + g),
        h = a.selectionEnd,
        j = b.length > g.length,
        j = this._detectPosition(j ? b: g, a.selectionStart, j);
        $(a).val(g);
        b.length != h && a.setSelectionRange(j, j);
        f !== c && "undefined" !== typeof f && this._getCountrySelect(a).val(f).change()
    }
};
Tm.RdPhoneInput.prototype._initCountryCodeSelect = function(a, b, c) {
    var g = b.val(),
    f = g ? this.getCountryCodeByNumber(g) : a.val();
    a.on("change",
    function() {
        b.trigger("input")
    });
    a.data("linked-input", b).val(f).change();
    g = g.replace(this._getSelectedCountryDialCode(b), "");
    b.val(g);
    $.isFunction(c) && c(a)
};
Tm.RdPhoneInput.prototype._getSelectedCountryDialCode = function(a) {
    return this._getCountrySelect(a).find("option:selected").data("dial-code")
};
Tm.RdPhoneInput.prototype._getCountrySelect = function(a) {
    "undefined" == typeof this.countrySelector && (this.countrySelector = $(a).parent().find(this.options.countryCodeClass));
    return this.countrySelector
};
Tm.RdPhoneInput.prototype._getDialCode = function(a) {
    for (var b = "",
    c = "",
    g = 0; g < a.length; g++) {
        var f = a.charAt(g);
        if ($.isNumeric(f) && (c += f, this.options.countryCodes[c] && (b = a.substr(0, g + 1)), 4 == c.length)) break
    }
    return b
};
Tm.RdPhoneInput.prototype._processCountryCodes = function(a) {
    var b = this;
    a.find("option").each(function() {
        var a = $(this).val(),
        g = $(this).data("dial-code"),
        f = $(this).data("priority"),
        h = $(this).data("area-code");
        b._addCountryCode(a, g, f);
        if ("" !== h) {
            h = h.split(",");
            for (f = 0; f < h.length; f++) b._addCountryCode(a, g + h[f])
        }
    })
};
Tm.RdPhoneInput.prototype._addCountryCode = function(a, b, c) {
    b in this.options.countryCodes || (this.options.countryCodes[b] = []);
    this.options.countryCodes[b][c || 0] = a
};
Tm.RdPhoneInput.prototype._loadUtils = function(a) {
    $.ajax({
        url: this.options.utilsUrl,
        dataType: "script",
        cache: !0,
        success: function() {
            $.isFunction(a) && a()
        }
    })
};
Tm = Tm || {};
Tm.RdEmailInput = function(a) {
    this.options = $.extend({
        containerClass: "gravatar-holder",
        userNameAttr: "gravatar-full-name",
        cidUserNameAttr: "full-name",
        isInitializedAttr: "rd-email-initialized",
        redrawEvent: "rd-gravatar-redraw",
        listenOnFields: []
    },
    a)
};
Tm.RdEmailInput.prototype.init = function(a) {
    this._emailInput = $(a);
    this._oldUserName = void 0;
    this._emailInput.data(this.options.isInitializedAttr) || (this._emailInput.on("focusout " + this.options.redrawEvent, $.proxy(function() {
        var a = this._emailInput.val();
        a != this._oldUserName && (this._drawGravatar(), this._oldUserName = a)
    },
    this)).data(this.options.userNameAttr, this.getCidUserName()).data(this.options.isInitializedAttr, 1).trigger(this.options.redrawEvent), $.each(this.options.listenOnFields, $.proxy(function(a, c) {
        $(c).on("focusout " + this.options.redrawEvent, $.proxy(function() {
            var a = $(c).val();
            /.+\s.+/.test(a) && (this._emailInput.data(this.options.userNameAttr, a), this._drawGravatar())
        },
        this))
    },
    this)))
};
Tm.RdEmailInput.prototype.getCidUserName = function() {
    return this._emailInput.data(this.options.cidUserNameAttr)
};
Tm.RdEmailInput.prototype.getUserName = function() {
    return this._emailInput.data(this.options.userNameAttr)
};
Tm.RdEmailInput.prototype.update = function(a) {
    "undefined" === typeof a && (a = "");
    this._updateUserName(a)
};
Tm.RdEmailInput.prototype.restore = function() {
    this._updateUserName(this.getCidUserName())
};
Tm.RdEmailInput.prototype._drawGravatar = function() {
    var a = this._emailInput.val(),
    b = this.getUserName(),
    c = this._emailInput.parent().find("." + this.options.containerClass).remove().end(); (new Tm.RdGravatar({
        onSuccessDraw: function(a) {
            a.options.imgWrapElement.addClass("gravatar-holder").show()
        },
        onErrorDraw: function(a) {
            a.options.imgWrapElement.remove()
        },
        imgWrapElement: this._createGravatarHolder(c),
        userName: b,
        userEmail: a
    })).draw()
};
Tm.RdEmailInput.prototype._createGravatarHolder = function(a) {
    return $("<div/>").prependTo(a).hide()
};
Tm.RdEmailInput.prototype._updateUserName = function(a) {
    this._emailInput.data(this.options.userNameAttr, a)
};
Tm = Tm || {};
Tm.RdGravatar = function(a) {
    this.options = $.extend({
        onSuccessDraw: $.noop,
        onErrorDraw: $.noop,
        imgWrapElement: void 0,
        userName: void 0,
        userEmail: void 0,
        baseURL: "//en.gravatar.com/",
        imageSize: 80
    },
    a)
};
Tm.RdGravatar.prototype.draw = function() {
    if (this.options.userEmail) {
        var a = !1;
        $.ajax({
            method: "GET",
            dataType: "JSONP",
            crossDomain: !0,
            timeout: 1E3,
            url: this.options.baseURL + goog.crypt.md5hash(this.options.userEmail) + ".json",
            success: $.proxy(function(b) {
                if (b = b.entry[0].thumbnailUrl) this.options.imgWrapElement.css("background", ""),
                this.options.imgWrapElement.html($("<img>").attr("src", b + "?s=" + this.options.imageSize)),
                a = !0
            },
            this),
            complete: $.proxy(function() {
                var b = this.options.onSuccessDraw,
                c = this.options.onErrorDraw;
                a || (a = this._setTextAvatar());
                a ? b(this) : c(this)
            },
            this)
        })
    } else this._setTextAvatar();
    return this
};
Tm.RdGravatar.prototype.getTMRandomColor = function() {
    var a = "#42A5F5 #2296F3 #1D88E5 #1A76D2 #1665C0 #0D47A1 #90A4AE #78909C #607D8B #546E7A #455A64 #243238 #FF7043 #FF5722 #F4511F #E64A19 #D84315 #BF360C #1AB744 #1DA650 #1B9B4A #0B8738 #06742E #006023 #FFCA28 #FFC108 #FFB302 #FFA001 #FF8F00 #FF6F00".split(" "),
    b = a.length - 1,
    b = Math.floor(Math.random() * b);
    return a[b]
};
Tm.RdGravatar.prototype._setTextAvatar = function() {
    if (this.options.userName) {
        var a = this.options.imgWrapElement,
        b = a.find(".char"),
        c = $("<span>", {
            "class": "char"
        }),
        g = b.text(),
        f = $.grep(this.options.userName.split(" "),
        function(a) {
            return "" != a
        });
        1 < f.length ? c.text(f[0][0] + f[1][0]) : 2 <= f[0].length && c.text(f[0].substr(0, 2));
        return g !== c.text() ? (b.remove(), a.css("background", this._getEmailHashColor()), a.html(c)) : b
    }
    return ! 1
};
Tm.RdGravatar.prototype._getEmailHashColor = function() {
    return "#" + goog.crypt.md5hash(this.options.userEmail + this.options.userName).substr(0, 6)
};
Tm = Tm || {};
Tm.StatusDownload = function() {
    return {
        init: function() {
            var a = this,
            b = detectOldIe() ? 1E4: 3E4;
            a.initMerchantSystem();
            this.checkAutoUpdate() && (this.updateStatusDownloadMarker = setInterval(function() {
                a.getStatusDownload()
            },
            b));
            b = this.getOrderInfoBlock();
            a.initApvForm(b);
            a.checkOffersPopup(b)
        },
        skipApvForm: function(a) {
            var b = this.getOrderInfoBlock(),
            c = this;
            if (!$(a).data("disabled")) {
                $(a).data("disabled", 1).parents("div:first").append('<span class="js-apv-progress">&nbsp;&nbsp;<img src="/img/progress.gif"></span>');
                var g = new CLS56;
                $.ajax({
                    url: g.urlPrefix() + "/checkout-ajax/skip-apv.php",
                    type: "post",
                    data: {
                        order_id: c.getOrderId()
                    },
                    datatype: "json",
                    success: function(f) {
                        $(a).data("disabled", 0);
                        $(".js-apv-progress").remove();
                        c.onStatusAjaxSuccess(b, f)
                    },
                    error: function() {
                        $(a).data("disabled", 0);
                        $(".js-apv-progress").remove()
                    }
                })
            }
            return ! 1
        },
        initApvForm: function(a) {
            var b = this,
            c = this.getOrderInfoBlock(),
            g = this.getApvForm(a);
            g.length && !g.data("is_form_initialized") && g.formHandler({
                popover_placement: "top",
                enable_inputs_on_load: !0,
                on_before_validate: function(a) {
                    $(a).find("input[name=phone]").each(function() {
                        this.value = this.value.replace(/[^\d]/gi, "")
                    });
                    $(a).find("#apv-request-form-submit").removeClass("disabled").removeAttr("disabled");
                    $(a).find("#apv-confirm-form-submit").removeClass("disabled").removeAttr("disabled")
                },
                on_submit_success: function(c, g, j) {
                    b.onStatusAjaxSuccess(a, j)
                }
            }).data("is_form_initialized", 1);
            c = c.find(".js-apv-skip");
            detectOldIe() ? c.attr("onclick", "(new Tm.StatusDownload()).skipApvForm(); return false;") : c.click(function() {
                b.skipApvForm(this);
                return ! 1
            })
        },
        onStatusAjaxSuccess: function(a, b) {
            b.status && ("undefined" !== typeof b.orderInfoHTML && a.html(b.orderInfoHTML), "undefined" !== typeof b.trackingCodeHTML && $("#order-tracking").html(b.trackingCodeHTML), "undefined" !== typeof b.offersListHTML && ($("#status-download-offers-popup-content").html(b.offersListHTML).data("show-popup", !!b.offersListHTML.length), $(document).trigger("Gtag.ee.push.product.offer.impressions", {
                from: "static.impressions.offer"
            })), this.initApvForm(a), this.checkOffersPopup(a));
            this.checkAutoUpdate()
        },
        getOrderInfoBlock: function() {
            return $(".js-order-info")
        },
        getApvForm: function(a) {
            return a.find("form")
        },
        getStatusDownload: function() {
            var a = this,
            b = a.getOrderInfoBlock(),
            c = new CLS56;
            $.ajax({
                url: c.urlPrefix() + "/checkout-ajax/status-download.php",
                type: "post",
                datatype: "json",
                data: {
                    order_id: a.getOrderId(),
                    status_id: a.getOrderStatusId(),
                    referer: location.href
                },
                success: function(c) {
                    a.onStatusAjaxSuccess(b, c)
                },
                error: function() {}
            })
        },
        getOrderId: function() {
            return $.url().param("order_id")
        },
        getOrderStatusId: function() {
            return $(".js-order-info .js-order-page").data("status-id")
        },
        isAutoUpdate: function() {
            return !! $(".js-order-info .js-order-page").data("autoupdate")
        },
        checkAutoUpdate: function() {
            var a = this.isAutoUpdate(); ! a && this.updateStatusDownloadMarker && clearInterval(this.updateStatusDownloadMarker);
            return a
        },
        initRadioButtons: function() {
            $("li.js-payment-wrapper").click(function() {
                $(this).addClass("payment-selected").find('input[type="radio"]').attr("checked", !0);
                $(this).siblings().removeClass("payment-selected").find('input[type="radio"]').attr("checked", !1)
            })
        },
        checkOffersPopup: function() {
            var a = $("#status-download-offers-popup-content");
            a.length && a.data("show-popup") && (this.initRadioButtons(), this.initRecurrentMerchantSystem(), $("#js-cart-short-description-block").modal({
                backdrop: "static"
            }), $("#js-cart-short-description-block").modal("show"))
        },
        enablePaymentMethod: function() {
            $(".js-buy-now").css("cursor", "pointer").removeAttr("disabled");
            $(".js-payment-wrapper").bind("click", this.initRadioButtons());
            $(".js-change-card").removeAttr("disabled", "disabled").css("pointer-events", "auto");
            $(".js-buy-clicked").removeClass("js-buy-clicked").children().addClass("js-none")
        },
        initMerchantSystem: function() {
            var a = this;
            $(".js-order-info").on("click", ".js-buy-now",
            function() {
                $(".js-buy-now").css("cursor", "default").attr("disabled", "disabled");
                $(this).addClass("js-buy-clicked").children().removeClass("js-none");
                var b = {
                    order_id: $("#payment-methods-container").attr("data-order"),
                    pay_type: $(this).attr("data-payment")
                };
                $.ajax({
                    url: "/jajaxserver.php?app=SystemCart&controller=CheckFormDetails&action=checkAlternativeCheckout",
                    type: "POST",
                    data: b,
                    datatype: "json",
                    success: function(b) {
                        "redirect" in b ? location.href = b.redirect: (a.enablePaymentMethod(), a.errorResponse("ams"))
                    },
                    error: function() {
                        a.enablePaymentMethod();
                        a.errorResponse("ams")
                    }
                })
            })
        },
        errorResponse: function(a) {
            var b = '<div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>' + Twig.render(messageErrorCreatingOrder) + "</div>";
            $(".js-status-download-" + a + "-error-block").html(b)
        },
        initRecurrentMerchantSystem: function() {
            var a = this;
            $(".js-choose-payment-system").on("click",
            function() {
                var b = $('input[name="paymentCheck"]:checked', "#payment-methods-container").attr("data-payment"),
                c = (new Date).toString(),
                g = $("#payment-methods-container").attr("data-offer-id"),
                f = $("#payment-methods-container").attr("data-offer-channel-id"),
                b = {
                    payment: b,
                    bonusesAmount: 0,
                    localTime: c,
                    addOffer: g,
                    channelId: f
                };
                $(".js-buy-now").css("cursor", "default").attr("disabled", "disabled");
                $(".js-payment-wrapper").css("cursor", "default").unbind("click", a.initRadioButtons());
                $(".js-change-card").css("cursor", "default").attr("disabled", "disabled").css("pointer-events", "none");
                $(this).addClass("js-buy-clicked").children().removeClass("js-none");
                c = new CLS56;
                $.ajax({
                    url: c.urlPrefix() + "/checkout-ajax/create-order.php",
                    type: "POST",
                    data: b,
                    datatype: "json",
                    success: function(b) {
                        "undefined" != typeof b.error ? (a.enablePaymentMethod(), a.errorResponse("rms")) : "undefined" != typeof b.paymentForm ? ($("body:first").html(b.paymentForm), $("form:first").submit()) : "undefined" != typeof b.paymentLink ? location.href = b.paymentLink: "undefined" != typeof b.redirectUrl ? location.href = b.redirectUrl: (a.enablePaymentMethod(), a.errorResponse("rms"))
                    },
                    error: function() {
                        a.enablePaymentMethod();
                        a.errorResponse("rms")
                    }
                })
            })
        }
    }
};
regula._modules.DOMUtils.friendlyInputNames.email = "Email";
regula.override({
    name: "NotBlank",
    defaultMessage: "{label} cannot be blank.",
    constraintType: regula.Constraint.NotBlank
});
regula.override({
    name: "HTML5Required",
    defaultMessage: "{label} is required.",
    constraintType: regula.Constraint.HTML5Required
});
regula.override({
    name: "Length",
    defaultMessage: "{label} length must be between {min} and {max}.",
    constraintType: regula.Constraint.Length
});
regula.override({
    name: "Email",
    defaultMessage: "{label} is not a valid email.",
    constraintType: regula.Constraint.Email
});
regula.override({
    name: "HTML5Email",
    defaultMessage: "{label} is not a valid email.",
    constraintType: regula.Constraint.HTML5Email
});
regula.override({
    name: "Integer",
    defaultMessage: "{label} must be an integer.",
    constraintType: regula.Constraint.Integer
});
regula.override({
    name: "Pattern",
    defaultMessage: "{label} needs to match {regex}{flags}.",
    constraintType: regula.Constraint.Pattern
});
regula.override({
    name: "Max",
    defaultMessage: "{label} needs to be lesser than or equal to {value}.",
    constraintType: regula.Constraint.Max
});
regula.override({
    name: "Min",
    defaultMessage: "{label} needs to be greater than or equal to {value}.",
    constraintType: regula.Constraint.Min
});
regula.override({
    name: "Checked",
    defaultMessage: "{label} needs to be checked.",
    constraintType: regula.Constraint.Checked
}); (function(a) {
    function b(b, c, f) {
        if (m(b)) {
            var g = a(c).val(),
            h = a(c).data("validation-value");
            if (g !== h || a(c).is(":checkbox")) {
                var h = [],
                j = a(c).attr("name");
                if (a(c).is("[required]") && c && 0 === a.trim(a(c).val()).length) {
                    var k = sprintf,
                    r = f.please_enter_message,
                    D = a.trim(a(c).parents(".form-group:first").find("label").data("label"));
                    D.length || (D = a.trim(a(c).data("label")));
                    D.length || (D = a.trim(a(c).parents(".form-group:first").find("label").html()));
                    D.length || (D = a.trim(a(c).data("label")));
                    D.length || (D = a.trim(a(c).attr("placeholder")));
                    D.length && ":" === D.substr( - 1) && (D = D.substr(0, D.length - 1));
                    k = k(r, D);
                    h.push(k)
                } else {
                    var D = [],
                    E = [];
                    f.disable_regula || a(a.regula("validate")).each(function(a, c) {
                        for (var f in c.failingElements) if (c.failingElements[f].form === b) a: {
                            var g = E,
                            h = c.failingElements[f].name,
                            j = c.constraintName,
                            k = c.message,
                            l = void 0;
                            for (l in g) if (g[l].name === h) {
                                g[l].messages[j] = k;
                                break a
                            }
                            l = {};
                            l[j] = k;
                            g.push({
                                name: h,
                                messages: l
                            })
                        }
                    });
                    for (r in E) if (E[r].name === j) {
                        D = E[r].messages;
                        break
                    }
                    r = D;
                    for (k in r) - 1 === a.inArray(r[k], h) && (h.push(r[k]), a(b).formValidation("google-tag-track-event", j, r[k].substr(0, 255)))
                }
                0 === h.length && (a.isPlainObject(f.validator_callbacks) && a.isFunction(f.validator_callbacks[j])) && (h = f.validator_callbacks[j](b, c, f));
                var k = {
                    name: j,
                    messages: h
                },
                f = a(b).data("validation-errors"),
                r = !1,
                y;
                for (y in f) if ("undefined" !== typeof f[y] && f[y].name === k.name) {
                    f[y] = k;
                    r = !0;
                    break
                }
                r || f.push(k);
                k = [];
                for (y in f) f[y].messages && 0 < f[y].messages.length && k.push(f[y]);
                f = k;
                a(b).data("validation-errors", f);
                q(b, "mergeFormErrors ", f);
                a(c).data("validation-value", g);
                q(b, 'checkField "' + j + '",  messages: ', h)
            }
        }
    }
    function c(b, c, g) {
        var h = [],
        j = f(b),
        k = a(b).data("validation-errors");
        a.isArray(g) || (g = []);
        var m = [],
        r;
        for (r in j) if ("undefined" !== typeof j[r]) {
            var D = a(j[r]).attr("name");
            if (! (g.length && -1 === a.inArray(D, g))) {
                var E = 0 === a.trim(a(j[r]).val()).length,
                y = a(j[r]).is(":checkbox");
                if (!c.hide_errors_for_empty || !E && !y) for (var I in k) if (k[I].name === D) h.push(k[I]);
                else if ("undefined" === typeof k[I].name || null === k[I].name && a.isArray(k[I].messages)) for (var K in k[I].messages) - 1 === a.inArray(k[I].messages[K], m) && m.push(k[I].messages[K])
            }
        }
        m.length && h.push({
            name: null,
            messages: m
        });
        q(b, "getFormErrors: ", h);
        return h
    }
    function g(b) {
        a(b).data("validation-errors", []);
        var c = f(b),
        g;
        for (g in c)"undefined" !== typeof c[g] && a(c[g]).data("validation-value", null === a(c[g]).val() ? "": null);
        q(b, "resetFormErrors")
    }
    function f(b) {
        return a(b).find(":input").get()
    }
    function h(b) {
        return a(f(b)).filter("[data-constraints]").get()
    }
    function j(b) {
        a(b).data("form-validation", !0);
        q(b, "enableFormValidation");
        return m(b)
    }
    function k(b) {
        a(b).data("form-validation", !1);
        q(b, "disableFormValidation");
        return m(b)
    }
    function m(b) {
        return a(b).data("form-validation")
    }
    function q(b, c, f) {
        "object" === typeof window.console && ("function" === typeof window.console.info && a.cookie("form-validation-debug")) && window.console.info("FV(" + a(b).attr("name") + "): ", c, f)
    }
    var r = {
        disable_regula: !1,
        autovalidate_fields: [],
        please_enter_message: "Please enter %s",
        validator_callbacks: null,
        on_before_validate: a.noop,
        on_after_validate: a.noop,
        on_after_ajax_validate: a.noop
    };
    a.fn.formValidation = function(p, l, q) {
        if (!this.size()) return this;
        var F = {},
        w = this.get(0);
        a.isPlainObject(p) || "undefined" === typeof p ? (F = p, p = "init") : a.isPlainObject(l) && (F = l);
        var J = "init" === p,
        u = a.extend({},
        r);
        if (!J) {
            var C = a(w).data("validation-options");
            a.isPlainObject(C) && a.extend(u, C)
        }
        a.isPlainObject(F) && a.extend(u, F);
        u.common_errors_container || (u.common_errors_container = "#" + a(w).attr("id") + "-errors");
        u.submit_button || (u.submit_button = a("button,:input[type=button]:input[type=submit]", w));
        J && a(w).data("validation-options", u);
        var D;
        switch (p) {
        case "validate":
            if (a.isFunction(u.on_before_validate)) u.on_before_validate(w, u);
            if ("undefined" !== typeof l) b(w, l, u);
            else {
                D = h(w);
                for (var E in D)"undefined" !== typeof D[E] && b(w, D[E], u)
            }
            a.isFunction(u.on_after_validate) && (D = c(w, u), u.on_after_validate(w, u, D));
            break;
        case "get-constraints":
            D = {};
            w = "string" == typeof l ? w[l] : l;
            if ("undefined" != typeof w && (l = a(w).attr("data-constraints"), "undefined" != typeof l && (w = regula._modules.Parser.parse(w, l), w.successful && null !== w.data && "object" == typeof w && "object" == typeof w.data))) for (i in w.data) D[w.data[i].constraintName] = w.data[i].definedParameters;
            return D;
        case "get-errors":
            return D = a.isArray(q) ? q: [],
            c(w, u, D);
        case "reset-errors":
            g(w);
            break;
        case "enable":
            j(w);
            break;
        case "disable":
            k(w);
            break;
        case "is-enabled":
            return m(w);
        case "init":
            u.disable_regula || a.regula("bind");
            a(f(w)).on("invalid",
            function() {
                return ! 1
            });
            g(w);
            l = h(w);
            a.isPlainObject(u.validator_callbacks) || (u.validator_callbacks = {});
            for (D in l) a(l[D]).data("validation-callback") && (E = a(l[D]).attr("name"), "undefined" !== typeof E && "undefined" === typeof u.validator_callbacks[E] && (u.validator_callbacks[E] = function(b, c) {
                var f = a(c).data("validation-callback"),
                g = a(c).data("validation-callback-key");
                if (f) {
                    a(b).formHandler("disable-submit");
                    var h = a(c).data("validation-callback-data");
                    a.isPlainObject(h) || (h = {});
                    g || (g = a(c).attr("name"));
                    h[g] = a(c).val();
                    a.ajax({
                        url: f,
                        type: "POST",
                        data: h,
                        dataType: detectOldIe() ? null: "json",
                        async: !0,
                        success: function(f) {
                            f.status ? a(b).formHandler("show-field-success", c) : a(b).formHandler("show-errors", [{
                                name: a(c).attr("name"),
                                messages: f.messages
                            }], [], !0);
                            if (a.isFunction(u.on_after_ajax_validate)) u.on_after_ajax_validate(b, u, c, f);
                            a(b).formHandler("enable-submit");
                            a(b).data("submitInProgress") && a(b).submit()
                        },
                        error: function() {
                            a(b).formHandler("enable-submit")
                        }
                    });
                    return []
                }
            }));
            u.disable_validation ? k(w) : j(w);
            break;
        case "google-tag-track-event":
            "undefined" != typeof l && "undefined" != typeof dataLayer && dataLayer.push({
                event: "trackEvent",
                eventCategory: "Forms errors",
                eventAction: a(w).attr("id"),
                eventLabel: l + " : " + q
            })
        }
        return this
    }
})(jQuery); (function(a) {
    function b(a) {
        if ("function" === typeof a) {
            var b = [].slice.call(arguments, 1);
            setTimeout(function() {
                a.apply(this, b)
            },
            0)
        }
    }
    function c(b, c) {
        c.disable_submit_on_empty || (c.hide_errors_for_empty = !1);
        "undefined" == typeof c.disable_regula && (c.disable_regula = detectOldIe());
        if (c.show_chosen_selects) {
            var f = C(b);
            a(f).filter(c.chosen_selector).each(function() {
                var b = {
                    placeholder_text_single: " "
                };
                a(this).css("width") && (b.width = a(this).css("width"));
                a(this).data("disable-search-threshold") && (b.disable_search_threshold = a(this).data("disable-search-threshold"));
                a(this).find('option[value=""]').length && (b.allow_single_deselect = !0);
                a(this).chosen(b)
            }).change(function() {
                a(this).trigger("chosen:updated")
            })
        }
        a(b).formValidation(c);
        f = a(C(b)).filter("[data-constraints]").get();
        a(b).formHandler("validate");
        if (c.show_submit_button_hint) {
            var j = u(b, c);
            a(j).after(c.submit_hint_template);
            h(b, c)
        }
        j = C(b);
        a(j).filter(":not(select,:checkbox,:radio)").keyup(function() {
            h(b, c)
        });
        a(j).filter("select,:checkbox,:radio").change(function() {
            h(b, c)
        });
        a(j).filter(".rd-field").on("keypress paste",
        function() {
            a(this).hasClass("filled") || a(this).addClass("filled")
        });
        a(j).filter(".rd-field").on("keyup cut",
        function() {
            a(this).val() || a(this).removeClass("filled")
        });
        a(j).filter(".rd-field").each(function() {
            var c = a(this).attr("id");
            a(b).find('label[for="' + c + '"]').insertAfter(a(this))
        });
        a(j).bind("input",
        function() {
            h(b, c)
        });
        c.enable_inputs_on_load && a(j).removeAttr("disabled").filter("select").change();
        c.check_fields_on_blur && a(f).blur(function() {
            var f = a(this).val(),
            g = a(this).is("[type=email]");
            c.autotrim_fields && (g && detectGoogleChrome() && a(this).val(f + "q"), a(this).val() !== a.trim(f) && (f = a.trim(f), a(this).val(f)));
            a(this).val() != a(this).data("validation-value") && (g && f.length && (a(this), a(this).filter("[type=email],[type=url]").each(function() {
                var a = this.value.split("@");
                this.value = 2 == a.length ? punycode.toASCII(a[0]) + "@" + punycode.toASCII(a[1]) : punycode.toASCII(this.value)
            })), f = c.autovalidate_fields, a.isArray(f) && f.length && (g = a(this).attr("name"), -1 === a.inArray(g, f) && f.push(g)), a(b).formHandler("validate-and-show", this, f, !0))
        }).on("focus",
        function() {
            l(b, this, c)
        }).filter(c.chosen_selector).on("change",
        function() {
            a(this).blur()
        }).on("chosen:showing_dropdown",
        function() {
            l(b, this, c)
        }).end().filter(":checkbox").on("change",
        function() {
            a(b).formHandler("hide-field-error", this)
        }).end();
        c.hide_errors_on_type && a(f).filter(":not(select,:checkbox,:radio)").keyup(function() {
            if (a(this).val() !== a(this).data("validation-value")) {
                a(b).formHandler("hide-field-error", this);
                var f;
                if (a(c.submit_button).is(":enabled") && u(b, c).length) {
                    var g = a(u(b, c)).next(".js-empty-label-after-submit").find("label:first").attr("for");
                    g && (f = a("#" + g).get(0))
                }
                f === this && F(b, c)
            }
        });
        c.autohandle_form_submit && (detectOldIe() ? (a(u(b, c)).attr("onclick", "$(this.form).submit(); return false;"), a(b).attr("onsubmit", "return $(this).formHandler('submit');")) : (a(u(b, c)).click(function() {
            a(b).submit();
            return ! 1
        }), a(b).submit(function() {
            return g(b, c)
        })));
        c.autofocus_first_field && r(b, c);
        c.show_progressbar && a(u(b, c)).each(function() {
            a(this).html(a(this).html() + c.progressbar_code)
        })
    }
    function g(b, c) {
        a(b).data("submitInProgress", !0);
        a(b).formHandler("validate-and-show");
        var f = a(b).formHandler("get-errors", c);
        if (0 < f.length) return f = JSON.stringify(f),
        a(b).data("submitInProgress", !1),
        a(b).formHandler("google-tag-track-event", "200 - " + f.substr(0, 255)),
        !1;
        a(b).formHandler("hide-errors");
        f = u(b, c);
        a(f).addClass("loading");
        if (!a(b).formHandler("is-submit-enabled")) return a(f).hasClass("no-hide-validate") || a(f).removeClass("loading"),
        !1;
        a(b).data("submitInProgress", !1);
        var f = a(b).attr("action"),
        g = a(b).attr("method"),
        h = a(b).serialize();
        a(b).formHandler("show-ajax-progress");
        if (a.isFunction(c.on_before_submit) && !1 === c.on_before_submit(b, c)) return ! 1;
        if (c.disable_ajax) return a(b).formHandler("google-tag-track-event", "Submit"),
        !0;
        a(b).formHandler("disable-submit");
        a.ajax({
            url: f,
            type: g,
            data: h,
            async: c.ajax_async_mode,
            dataType: detectOldIe() ? null: "json",
            success: function(f) {
                a(b).formHandler("hide-ajax-progress");
                a.isFunction(c.on_ajax_response) && (f = c.on_ajax_response(b, c, f));
                if (f.status) a(b).formHandler("google-tag-track-event", "Submit"),
                a.isFunction(c.on_submit_success) && (c.on_submit_success(b, c, f), "undefined" !== typeof f.form_settings && ("undefined" !== typeof f.form_settings.hide_complete && "1" == f.form_settings.hide_complete) && a(".ninja-forms-response-msg:visible").html(f.success.success_msg));
                else {
                    var g = a.isArray(f.errors) ? f.errors: c.default_error_message,
                    h = JSON.stringify(g);
                    a(b).formHandler("google-tag-track-event", "200 - " + h.substr(0, 255));
                    if (a.isFunction(c.on_submit_error)) c.on_submit_error(b, c, f);
                    a(b).formHandler("show-errors", g)
                }
                a(b).formHandler("enable-submit")
            },
            error: function(f, g, h) {
                if (a.isFunction(c.on_submit_error)) c.on_submit_error(b, c, h);
                a(b).formHandler("hide-ajax-progress");
                0 !== f.status && 0 !== f.readyState && a(b).formHandler("show-errors", c.default_error_message);
                a(b).formHandler("google-tag-track-event", f.status + " - " + f.statusText);
                a(b).formHandler("enable-submit")
            }
        });
        return ! 1
    }
    function f(b, c, f) {
        var g = C(b),
        h = u(b, c);
        c.disable_ajax || (a(g).attr("disabled", "disabled").filter("select").change(), a(h).attr("disabled", "disabled"), f && a(h).addClass("half-disabled loading"), a(b).find(":focus").blur())
    }
    function h(b, c) {
        var f = u(b, c),
        g = a(C(b)).filter("[required]").get(),
        h = 0,
        j = 0,
        k = [],
        l,
        m,
        p;
        for (p in g) if ("undefined" !== typeof g[p]) {
            m = a(g[p]).attr("id");
            l = a(g[p]).attr("name");
            if (a.isPlainObject(c.on_empty_checks_callbacks) && a.isFunction(c.on_empty_checks_callbacks[l]) && (l = c.on_empty_checks_callbacks[l](b, g[p], c), !0 === l)) continue;
            a(b).formHandler("hide-field-success", g[p]);
            if (0 === a.trim(a(g[p]).val()).length) {
                h++;
                l = g[p];
                var q = a.trim(a(l).data("label"));
                q.length || (q = a.trim(a(l).parents(".js-form-group:first").find("label").html()));
                q.length || (q = a.trim(a(l).attr("placeholder")));
                q.length && ":" === q.substr( - 1) && (q = q.substr(0, q.length - 1));
                l = q;
                k.push('<label for="' + m + '">' + a.trim(l) + "</label>")
            } else j++
        }
        0 === h ? a(c.submit_button).is(":enabled") || (c.disable_submit_on_empty && a(f).removeAttr("disabled"), c.show_submit_button_hint && F(b, c)) : (c.disable_submit_on_empty && a(f).attr("disabled", "disabled"), c.show_submit_button_hint && (f = "Please complete the form to proceed", 0 < j && 0 < k.length && (f = "You need to fill the following fields: " + k.join(", ")), z(b, c, f)))
    }
    function j(b, c, f, g) {
        b = '<div class="popover-content">' + (a.isArray(f) ? f.join(c.strings_delimiter) : a.trim(f)) + "</div>";
        a(c.common_errors_container).addClass("alert-container").html('<div class="' + g + '">' + c.common_errors_close_handler + b + "</div>").scrollTop(0);
        b = a(c.common_errors_container).find(".rd-popover");
        g = b.outerHeight();
        b = b.outerWidth();
        b = (a(c.common_errors_container).closest("form").outerWidth() - b) / 2;
        a(c.common_errors_container).css({
            top: -g + "px",
            left: b + "px"
        });
        c.autoscroll_on_form_error && (c = a(c.common_errors_container).offset()) && a(window.document).scrollTop(c.top)
    }
    function k(b, c) {
        var f = C(b),
        g = "undefined" !== typeof c.skip_form_error && !!c.skip_form_error,
        j;
        for (j in f) if ("undefined" !== typeof f[j]) {
            var k = f[j],
            l = c;
            l.show_popover && w(k).popover("destroy");
            l.highlight_border && J(k)
        }
        g || a(c.common_errors_container).html("");
        h(b, c)
    }
    function m(b, c, f) {
        var g, h, j, k;
        "string" === typeof f && f.length && (f = [{
            messages: f
        }]);
        if (a.isArray(f)) {
            j = [];
            k = 0;
            a(b).formHandler("hide-errors", {
                skip_form_error: !0
            });
            for (var l in f) if ("undefined" !== typeof f[l]) if ("string" == typeof f[l] && (f[l] = {
                name: null,
                messages: [f[l]]
            }), g = f[l].name ? b[f[l].name] : null, h = f[l].messages, a.isArray(h) && (h = a.trim(a(h).get(0))), "undefined" === typeof g || !g) j.push(h);
            else if (!c.display_only_firts_popover || 0 === k) a(b).formHandler("show-field-error", g, h),
            a(c.submit_button).is(":enabled") && (h = '<label for="' + a(g).attr("id") + '">' + h + "</label>", z(b, c, h)),
            k++,
            c.autofocus_firts_popover_field && p(b, g, c);
            j.length && a(b).formHandler("show-form-error", j)
        }
    }
    function q(b, c, f) {
        var g = a.extend({},
        E),
        h = a(b).data("validation-options");
        a.isPlainObject(h) && a.extend(g, h);
        a.isPlainObject(c) && a.extend(g, c);
        g.common_errors_container || (g.common_errors_container = "#" + a(b).attr("id") + "-errors");
        g.submit_button || (g.submit_button = a("button,:input[type=button]:input[type=submit]", b));
        g.default_error_message || (g.default_error_message = g.locatable ? Twig.render(serverError) : "Server Error");
        g.please_enter_message || (g.please_enter_message = g.locatable ? Twig.render(pleaseEnter) : "Please enter %s");
        f && a(b).data("validation-options", g);
        return g
    }
    function r(b, c) {
        var f = C(b),
        f = a(f).filter(":not([type=hidden]):not(:hidden)").get(0);
        "undefined" !== typeof f && p(b, f, c)
    }
    function p(b, c, f) {
        a(c).filter(":not(select):first").focus().each(function() {
            var b = "password email url tel number range time checkbox".split(" ");
            a.isFunction(this.setSelectionRange) && -1 == b.indexOf(this.type) && this.setSelectionRange(this.value.length, this.value.length)
        }).end();
        a(c).is(f.chosen_selector) && a(c).trigger("chosen:activate");
        l(b, c, f);
        D(b, "focusField: ", a(c).attr("name"))
    }
    function l(b, c, f) {
        b = a(C(b)).filter(f.chosen_selector + "[id!=" + a(c).attr("id") + "]");
        b.trigger("chosen:close");
        b.parent().find(".chosen-container").removeClass("chosen-with-drop")
    }
    function z(b, c, f) {
        b = u(b, c);
        a(b).next(".js-empty-label-after-submit").children("small").html(f).end().show()
    }
    function F(b, c) {
        var f = u(b, c);
        a(f).next(".js-empty-label-after-submit").children("small").html("").end().hide()
    }
    function w(b) {
        return a(b).data("chosen") && a(b).data("chosen").container ? a(b).data("chosen").container: a(b)
    }
    function J(b) {
        return a(b).removeClass("error").parents("div.js-form-group:first").removeClass("has-error")
    }
    function u(b, c) {
        return a(c.submit_button).get()
    }
    function C(b) {
        return a(b).find(":input").get()
    }
    function D(b, c, f) {
        "object" === typeof window.console && ("function" === typeof window.console.info && a.cookie("form-validation-debug")) && window.console.info("FV(" + a(b).attr("name") + "): ", c, f)
    }
    var E = {
        locatable: !0,
        highlight_border: !0,
        show_popover: !0,
        show_chosen_selects: !0,
        chosen_selector: ".js-chosen",
        disable_submit_on_empty: !1,
        disable_ajax: !1,
        disable_validation: !1,
        enable_inputs_on_load: !1,
        disable_submit: !1,
        show_submit_button_hint: !1,
        check_fields_on_blur: !0,
        autoscroll_on_form_error: !0,
        autofocus_first_field: !0,
        autohandle_form_submit: !0,
        display_only_firts_popover: !0,
        autofocus_firts_popover_field: !0,
        autotrim_fields: !0,
        hide_errors_on_type: !0,
        hide_errors_for_empty: !0,
        autovalidate_fields: [],
        submit_hint_template: '<p class="js-empty-label-after-submit" style="display:none;"><small></small></p>',
        popover_placement: "right",
        popover_title: !1,
        common_errors_container: null,
        common_errors_close_handler: '<span class="close" data-dismiss="alert" href="#" aria-hidden="true">&times;</span>',
        show_progressbar: !1,
        progressbar_code: '<div class="progress progress-striped active" style="display: none;"><div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>',
        common_errors_html_classes: "alert fade alert-warning in",
        common_success_html_classes: "alert rd-closing rd-popover rd-popover-top rd-popover-green",
        success_mark_html_class: "rd-field-success",
        default_error_message: null,
        please_enter_message: null,
        strings_delimiter: "<br/>",
        submit_button: null,
        on_empty_checks_callbacks: {},
        on_ajax_response: null,
        on_before_submit: a.noop,
        on_submit_success: a.noop,
        on_submit_error: a.noop,
        ajax_async_mode: !0
    };
    a.fn.formHandler = function(h, l, K, x) {
        if (!this.size()) return this;
        var E = {},
        H = this.get(0);
        a.isPlainObject(h) || "undefined" === typeof h ? (E = h, h = "init") : a.isPlainObject(l) && (E = l);
        var A = q(H, E, "init" === h),
        B;
        switch (h) {
        case "validate":
            a(H).formValidation("validate", l);
            break;
        case "validate-and-show":
            B = a.isArray(K) ? K: [];
            x && (A.autofocus_firts_popover_field = !1, A.hide_errors_for_empty = !0);
            x = B;
            B = !0;
            a(H).formHandler("validate");
            K = a(H).formHandler("get-errors", A, x);
            if (x.length && l) {
                x = a(l).attr("name");
                B = !1;
                for (var v in K) if ("undefined" !== typeof K[v] && K[v].name === x && K[v].messages.length) {
                    B = !0;
                    break
                }
            }
            B && m(H, A, K);
            break;
        case "show-ajax-progress":
            b(f, H, A, "undefined" === typeof l || l);
            break;
        case "hide-ajax-progress":
            b(function() {
                var b = C(H),
                c = u(H, A);
                a(b).removeAttr("disabled").filter("select").change();
                a(c).removeClass("half-disabled loading").removeAttr("disabled");
                a.isFunction(l) && l(H, A)
            });
            break;
        case "enable-submit":
            q(H, {
                disable_submit: !1
            },
            !0);
            break;
        case "disable-submit":
            q(H, {
                disable_submit: !0
            },
            !0);
            break;
        case "is-submit-enabled":
            return ! A.disable_submit;
        case "get-errors":
            return B = a.isArray(K) ? K: [],
            a(H).formValidation("get-errors", A, B);
        case "show-errors":
            if (x) for (B in l) if ("undefined" !== typeof l[B]) {
                v = H;
                var E = l[B],
                K = a(v).data("validation-errors"),
                L = !1,
                x = void 0;
                for (x in K) if ("undefined" !== typeof K[x] && K[x].name === E.name) {
                    K[x] = E;
                    L = !0;
                    break
                }
                L || K.push(E);
                E = [];
                for (x in K) K[x].messages && 0 < K[x].messages.length && E.push(K[x]);
                K = E;
                a(v).data("validation-errors", K);
                D(v, "mergeFormErrors ", K)
            }
            m(H, A, l);
            break;
        case "hide-errors":
            k(H, A);
            break;
        case "reset-errors":
            k(H, A);
            a(H).formValidation("reset-errors");
            break;
        case "show-field-error":
            !x && A.popover_title ? (B = a(l).parents("div.js-form-group:first").find("label:first").text(), B = a.trim(B)) : B = "";
            if (A.show_popover) {
                v = a.isArray(K) ? K.join(A.strings_delimiter) : a.trim(K);
                var K = B,
                x = A.popover_placement,
                G = void 0;
                B = w(l);
                var x = B.data("placement") ? B.data("placement") : x,
                G = G ? G: "rd-popover-red",
                L = a(l),
                E = x,
                S = L.data("with-close") ? "alert rd-closing ": "",
                L = L.data("with-close") ? '<span class="close" data-dismiss="alert" href="#" aria-hidden="true">\u00d7</span>': '<div class="arrow"></div>',
                K = {
                    template: '<div class="' + S + " rd-popover rd-popover-" + E + " " + G + '" role="tooltip">' + L + '<div class="popover-content"></div></div>',
                    content: v,
                    placement: x,
                    title: K,
                    trigger: "manual",
                    html: !0
                };
                if (a.data(l, "placement")) {
                    x = ["top", "bottom", "left", "right"];
                    for (E = 0; E < x.length; E++) a.data(l, "placement") === x[E] && (K.placement = a.data(l, "placement"))
                }
                v = a("<span>", {
                    html: v,
                    style: "display:none;left:-9999px;position:absolute;top:0px"
                });
                v.addClass("spacer-padding-default");
                v.appendTo("body");
                v.show();
                x = Math.ceil(v[0].getBoundingClientRect().width);
                B.popover(K);
                B.popover("show");
                B.next(".popover, .rd-popover").width(x);
                B.popover("show");
                v.remove()
            }
            A.highlight_border && a(l).parents("div.js-form-group:first").addClass("has-error");
            break;
        case "hide-field-error":
            A.show_popover && w(l).popover("destroy");
            A.highlight_border && J(l);
            break;
        case "show-field-success":
            a(l).hasClass(A.success_mark_html_class) || a(l).addClass(A.success_mark_html_class);
            break;
        case "hide-field-success":
            a(l).hasClass(A.success_mark_html_class) && a(l).removeClass(A.success_mark_html_class);
            break;
        case "show-form-error":
            j(H, A, l, A.common_errors_html_classes);
            break;
        case "show-form-success":
            j(H, A, l, A.common_success_html_classes);
            break;
        case "hide-form-error":
            a(A.common_errors_container).html("");
            break;
        case "show-submit-hint":
            z(H, A, l);
            break;
        case "hide-submit-hint":
            F(H, A);
            break;
        case "focus":
            p(H, l, A);
            break;
        case "focus-first":
            r(H, A);
            break;
        case "enable-validation":
            a(H).formValidation("enable");
            break;
        case "disable-validation":
            a(H).formValidation("disable");
            break;
        case "is-validation-enabled":
            return a(H).formValidation("is-enabled");
        case "submit":
            return g(H, A);
        case "google-tag-track-event":
            "undefined" != typeof l && "undefined" != typeof dataLayer && dataLayer.push({
                event: "trackEvent",
                eventCategory: "Forms",
                eventAction: a(H).attr("id"),
                eventLabel: l
            });
            break;
        case "init":
            b(c, H, A)
        }
        "string" === typeof h && a(H).trigger(h, {
            form: H,
            options: A
        });
        return this
    }
})(jQuery); (function(a) {
    function b(b, c, f) {
        if (q(b)) {
            var g = a(c).val(),
            h = a(c).data("validation-value") || !1;
            if (g !== h || a(c).is(":checkbox")) {
                var h = [],
                j = a(c).attr("name");
                if (a(c).is("[required]") && c && 0 === a.trim(a(c).val()).length) {
                    var k = sprintf,
                    r = f.please_enter_message,
                    D = a.trim(a(c).parents(".form-group:first").find("label").data("label"));
                    D.length || (D = a.trim(a(c).data("label")));
                    D.length || (D = a.trim(a(c).parents(".form-group:first").find("label").html()));
                    D.length || (D = a.trim(a(c).data("label")));
                    D.length || (D = a.trim(a(c).attr("placeholder")));
                    D.length && ":" === D.substr( - 1) && (D = D.substr(0, D.length - 1));
                    k = k(r, D);
                    h.push(k)
                } else if (!a(c).is("[type=email]") || !(c && 0 === a.trim(a(c).val()).length)) {
                    var D = [],
                    E = [];
                    a(a.regula("validate")).each(function(a, c) {
                        for (var f in c.failingElements) if (c.failingElements.hasOwnProperty(f) && c.failingElements[f].form === b) a: {
                            var g = E,
                            h = c.failingElements[f].name,
                            j = c.constraintName,
                            k = c.message,
                            l = void 0;
                            for (l in g) if (g.hasOwnProperty(l) && g[l].name === h) {
                                g[l].messages[j] = k;
                                break a
                            }
                            l = {};
                            l[j] = k;
                            g.push({
                                name: h,
                                messages: l
                            })
                        }
                    });
                    for (r in E) if (E.hasOwnProperty(r) && E[r].name === j) {
                        D = E[r].messages;
                        break
                    }
                    r = D;
                    for (k in r) r.hasOwnProperty(k) && -1 === a.inArray(r[k], h) && (h.push(r[k]), a(b).rdFormValidation("google-tag-track-event", j, r[k].substr(0, 255)))
                }
                m(b) && (0 === h.length && a.isPlainObject(f.validator_callbacks) && a.isFunction(f.validator_callbacks[j])) && (h = f.validator_callbacks[j](b, c, f));
                var h = {
                    name: j,
                    messages: h
                },
                f = a(b).data("validation-errors"),
                j = !1,
                y;
                for (y in f) if (f.hasOwnProperty(y) && f[y].name === h.name) {
                    f[y] = h;
                    j = !0;
                    break
                }
                j || f.push(h);
                h = [];
                for (y in f) f.hasOwnProperty(y) && (f[y].messages && 0 < f[y].messages.length) && h.push(f[y]);
                a(b).data("validation-errors", h);
                a(c).data("validation-value", g)
            }
        }
    }
    function c(b, c, g) {
        var h = [],
        j = f(b),
        b = a(b).data("validation-errors");
        a.isArray(g) || (g = []);
        var k = [],
        m;
        for (m in j) if (j.hasOwnProperty(m)) {
            var q = a(j[m]).attr("name");
            if (! (g.length && -1 === a.inArray(q, g))) {
                var r = 0 === a.trim(a(j[m]).val()).length,
                E = a(j[m]).is(":checkbox");
                if (!c.hide_errors_for_empty || !r && !E) for (var y in b) if (b.hasOwnProperty(y)) if (r = b[y].messages, b[y].name === q) h.push(b[y]);
                else if (null === b[y].name && a.isArray(r)) for (var I in r) r.hasOwnProperty(I) && -1 === a.inArray(r[I], k) && k.push(r[I])
            }
        }
        k.length && h.push({
            name: null,
            messages: k
        });
        return h
    }
    function g(b) {
        a(b).data("validation-errors", []);
        var b = f(b),
        c;
        for (c in b) b.hasOwnProperty(c) && a(b[c]).data("validation-value", null === a(b[c]).val() ? "": null)
    }
    function f(b) {
        return a(b).find(":input").get()
    }
    function h(b) {
        return a(f(b)).filter("[data-constraints]").get()
    }
    function j(b) {
        a(b).data("form-validation", !0);
        return q(b)
    }
    function k(b) {
        a(b).data("form-validation", !1);
        return q(b)
    }
    function m(b) {
        return ! 1 !== a(b).data("validator_callbacks_enabled")
    }
    function q(b) {
        return a(b).data("form-validation")
    }
    var r = {
        autovalidate_fields: [],
        please_enter_message: "Please, enter %s",
        validator_callbacks: null,
        on_before_validate: a.noop,
        on_after_validate: a.noop,
        on_before_ajax_callback: {},
        on_after_ajax_callback: {}
    };
    a.fn.rdFormValidation = function(p, l, z) {
        var F = {},
        w = this.get(0);
        a.isPlainObject(p) || "undefined" === typeof p ? (F = p, p = "init") : a.isPlainObject(l) && (F = l);
        var J = "init" === p,
        u = a.extend({},
        r);
        if (!J) {
            var C = a(w).data("validation-options");
            a.isPlainObject(C) && a.extend(u, C)
        }
        a.isPlainObject(F) && a.extend(u, F);
        u.common_errors_container || (u.common_errors_container = "#" + a(w).attr("id") + "-errors");
        u.submit_button || (u.submit_button = a("button,:input[type=button]:input[type=submit]", w));
        J && a(w).data("validation-options", u);
        var D;
        switch (p) {
        case "validate":
            if (a.isFunction(u.on_before_validate)) u.on_before_validate(w, u);
            if ("undefined" !== typeof l) b(w, l, u);
            else {
                D = h(w);
                for (var E in D) D.hasOwnProperty(E) && b(w, D[E], u)
            }
            a.isFunction(u.on_after_validate) && (D = c(w, u), u.on_after_validate(w, u, D));
            break;
        case "validate-field":
            b(w, l, u);
            break;
        case "get-constraints":
            var y = {},
            w = "string" == typeof l ? w[l] : l;
            if ("undefined" != typeof w && (l = a(w).attr("data-constraints"), "undefined" != typeof l && (w = regula._modules.Parser.parse(w, l), a.isPlainObject(w) && w.successful && a.isPlainObject(w.data)))) for (D in w.data) w.data.hasOwnProperty(D) && (y[w.data[D].constraintName] = w.data[D].definedParameters);
            return y;
        case "get-errors":
            return D = a.isArray(z) ? z: [],
            c(w, u, D);
        case "reset-errors":
            g(w);
            break;
        case "enable":
            j(w);
            break;
        case "disable":
            k(w);
            break;
        case "is-enabled":
            return q(w);
        case "enable-callback-checks":
            a(w).data("validator_callbacks_enabled", !0);
            break;
        case "disable-callback-checks":
            a(w).data("validator_callbacks_enabled", !1);
            break;
        case "is-callback-checks-enabled":
            return m(w);
        case "init":
            a.regula("bind");
            a(f(w)).on("invalid",
            function() {
                return ! 1
            });
            g(w);
            D = h(w);
            a.isPlainObject(u.validator_callbacks) || (u.validator_callbacks = {});
            for (y in D) D.hasOwnProperty(y) && a(D[y]).data("validation-callback") && (l = a(D[y]).attr("name"), "undefined" !== typeof l && "undefined" === typeof u.validator_callbacks[l] && (u.validator_callbacks[l] = function(b, c) {
                var f = a(c).data("validation-callback"),
                g = a(c).data("validation-callback-key"),
                h = a(c).data("validation-callback-extra-keys"),
                h = h ? h.split(",") : [],
                j = a(c).attr("name");
                if (f) {
                    a(b).rdFormHandler("disable-submit");
                    var k = a.trim(a(c).data("validation-disable-on-check")).split(","),
                    k = k ? a.trim(k).split(",") : [];
                    a(b).rdFormHandler("show-field-progress", c);
                    a(b).rdFormHandler("show-ajax-progress", !1, k, !1);
                    var l = a(c).data("validation-callback-data");
                    a.isPlainObject(l) || (l = {});
                    g || (g = a(c).attr("name"));
                    l[g] = a(c).val();
                    a(h).each(function(c, f) {
                        l[f] = a(b[f]).val()
                    });
                    if (a.isFunction(u.on_before_ajax_callback[j])) u.on_before_ajax_callback[j](b, u, c);
                    a.ajax({
                        url: f,
                        type: "POST",
                        data: l,
                        dataType: "json",
                        async: !0,
                        success: function(f) {
                            var g = !!f.status;
                            a.isFunction(u.on_after_ajax_callback[j]) && !1 === u.on_after_ajax_callback[j](b, u, c, f) || (g || (a(b).rdFormHandler("show-errors", [{
                                name: a(c).attr("name"),
                                messages: f.messages
                            }], [], !0), a(b).data("submitInProgress", !1)), a(b).rdFormHandler("enable-submit"), a(b).rdFormHandler("hide-field-progress", c), a(b).data("submitInProgress") ? (a(b).rdFormHandler("show-ajax-progress", !0), a(b).submit()) : a(b).rdFormHandler("hide-ajax-progress",
                            function() {
                                if (g) {
                                    a(b).rdFormHandler("show-success", c);
                                    var h = f.status ? a(b).rdFormHandler("get-first-blank-field", j) : c;
                                    a(b).rdFormHandler("focus", h)
                                }
                            }))
                        },
                        error: function() {
                            a(b).rdFormHandler("enable-submit");
                            a(b).rdFormHandler("hide-field-progress", c);
                            a(b).rdFormHandler("hide-ajax-progress")
                        }
                    });
                    return []
                }
            }));
            u.disable_validation ? k(w) : j(w);
            break;
        case "google-tag-track-event":
            "undefined" != typeof l && dataLayer && dataLayer.push({
                event: "trackEvent",
                eventCategory: "Forms errors",
                eventAction: a(w).attr("id"),
                eventLabel: l + " : " + z
            })
        }
        return this
    }
})(jQuery); (function(a) {
    function b(a) {
        if ("function" === typeof a) {
            var b = [].slice.call(arguments, 1);
            setTimeout(function() {
                a.apply(this, b)
            },
            0)
        }
    }
    function c(b, c) {
        c.disable_submit_on_empty || (c.hide_errors_for_empty = !1);
        c.show_chosen_selects && a(K(b)).filter(c.chosen_selector).each(function() {
            C(a(this), c)
        });
        a(b).rdFormValidation(c);
        a(b).rdFormValidation("disable-callback-checks");
        var f = x(b);
        a(b).rdFormHandler("validate");
        if (c.show_submit_button_hint) {
            var h = y(b, c);
            a(h).after(c.submit_hint_template);
            j(b, c)
        }
        c.phone_enable_intl_telInput && a(K(b)).filter(".js-phone").each(function() {
            var f = a(this); (new Tm.RdPhoneInput({
                preferedCountries: c.phone_preferred_countries,
                userCountry: a.cookie("country_code")
            })).init(f,
            function(c) {
                c.attr("id", f.attr("id") + "-code");
                C(c);
                a(b).rdFormValidation("validate-field", f)
            })
        });
        h = K(b);
        a(h).filter(":not(select,:checkbox,:radio)").keyup(function() {
            j(b, c)
        });
        a(h).filter("select,:checkbox,:radio").change(function() {
            j(b, c)
        });
        a(h).filter(".rd-field").on("keypress cut paste input change filled.rd",
        function() {
            if (!a(this).hasClass("js-phone")) {
                var b = this;
                if (c.autocheck_timeout) {
                    var f = a(b).data("validation-timer-id");
                    clearTimeout(f);
                    f = setTimeout(a.proxy(function() {
                        a(b).trigger("rd-check-field")
                    },
                    b), c.autocheck_timeout);
                    a(b).data("validation-timer-id", f)
                }
                setTimeout(a.proxy(function() {
                    a(this).val() ? a(this).addClass("filled") : a(this).removeClass("filled")
                },
                this), 2)
            }
        });
        var k = function(b) {
            return a(b).hasClass("js-phone") ? "onfocus-phone": "onfocus"
        };
        a(h).filter(".rd-field").on("focus",
        function() {
            a(H(this)).addClass(k(this))
        });
        a(h).filter(".rd-field").on("blur",
        function() {
            a(H(this)).removeClass(k(this))
        });
        a(h).filter(" .rd-field:not(.js-phone) ").each(function() {
            var c = a(this).attr("id");
            a(b).find('label[for="' + c + '"]').insertAfter(a(this));
            a(this).val() && a(this).addClass("filled")
        });
        a(h).bind("input",
        function() {
            j(b, c)
        });
        c.enable_inputs_on_load && a(h).removeAttr("disabled").filter("select").change();
        c.check_fields_on_blur && a(f).on("blur rd-check-field",
        function() {
            var f = a(this).val(),
            g = a(this).is("[type=email]");
            c.autotrim_fields && (g && detectGoogleChrome() && a(this).val("______________________u@c.c"), a(this).val() !== a.trim(f) && (f = a.trim(f), a(this).val(f)));
            a(this).val() != a(this).data("validation-value") && (g && f.length && a(this).filter("[type=email],[type=url]").each(function() {
                var a = this.value.split("@");
                this.value = 2 == a.length ? punycode.toASCII(a[0]) + "@" + punycode.toASCII(a[1]) : punycode.toASCII(this.value)
            }), f = c.autovalidate_fields, a.isArray(f) && f.length && (g = a(this).attr("name"), -1 === a.inArray(g, f) && f.push(g)), a(b).rdFormHandler("validate-and-show", this, f, !0))
        }).on("focus",
        function() {
            w(b, this, c)
        }).filter(c.chosen_selector).on("change",
        function() {
            a(this).blur()
        }).on("chosen:showing_dropdown",
        function() {
            w(b, this, c)
        }).end().filter(":checkbox").on("change",
        function() {
            a(b).rdFormHandler("hide-field-error", this);
            a(b).rdFormHandler("hide-field-success", this)
        }).end();
        c.hide_errors_on_type && a(f).filter(":not(select,:checkbox,:radio)").keyup(function() {
            if (a(this).val() !== a(this).data("validation-value")) {
                a(this).data("validation-value", null);
                a(b).rdFormHandler("hide-field-error", this);
                a(b).rdFormHandler("hide-field-success", this);
                var f;
                if (a(c.submit_button).is(":enabled") && y(b, c).length) {
                    var g = a(y(b, c)).next(".js-empty-label-after-submit").find("label:first").attr("for");
                    g && (f = a("#" + g).get(0))
                }
                f === this && u(b, c)
            }
        });
        c.autohandle_form_submit && (a(y(b, c)).click(function() {
            a(b).submit();
            return ! 1
        }), a(b).submit(function() {
            return g(b, c)
        }));
        c.autofocus_first_field && p(b, c);
        c.show_progressbar && a(y(b, c)).each(function() {
            a(this).html(a(this).html() + c.progressbar_code)
        });
        if (a.isFunction(c.on_after_init)) c.on_after_init(b, c);
        var l = null;
        a(".js-password-toggle").on("mouseover touchstart",
        function() {
            var b = a(this).parents(".js-form-group");
            l = setTimeout(function() {
                D(b, "show password popover", "right", Twig.render(holdToShowPassword), "rd-popover-grey")
            },
            200)
        });
        a(".js-password-toggle").on("mouseleave touchend",
        function() {
            var b = a(this);
            clearTimeout(l);
            b = b.parents(".js-form-group");
            E(b).popover("destroy")
        });
        a(b).rdFormValidation("enable-callback-checks")
    }
    function g(b, c) {
        a(b).data("submitInProgress", !0);
        if (a.isFunction(c.on_submit_validation) && !1 === c.on_submit_validation(b, c)) return a(b).data("submitInProgress", !1),
        !1;
        a(b).rdFormHandler("validate-and-show");
        var f = a(b).rdFormHandler("get-errors", c);
        if (0 < f.length) return f = JSON.stringify(f),
        a(b).data("submitInProgress", !1),
        a(b).rdFormHandler("google-tag-track-event", "200 - " + f.substr(0, 255)),
        !1;
        a(b).rdFormHandler("hide-errors");
        f = y(b, c);
        a(f).addClass("loading");
        if (!a(b).rdFormHandler("is-submit-enabled")) return a(f).removeClass("loading"),
        !1;
        a(b).data("submitInProgress", !1);
        var f = a(b).attr("action"),
        g = a(b).attr("method");
        if (!f) return ! 1;
        a(b).rdFormHandler("show-ajax-progress", !0);
        if (a.isFunction(c.on_before_submit) && !1 === c.on_before_submit(b, c)) return ! 1;
        if (c.disable_ajax) return a(b).rdFormHandler("google-tag-track-event", "Submit"),
        !0;
        a(b).rdFormHandler("hide-success");
        a(b).rdFormHandler("disable-submit");
        a.ajax({
            url: f,
            type: g,
            data: jQuery.param(I(b)),
            async: c.ajax_async_mode,
            dataType: "json",
            success: function(f) {
                a.isFunction(c.on_ajax_response) && (f = c.on_ajax_response(b, c, f));
                if (f.status) {
                    if (a(b).rdFormHandler("google-tag-track-event", "Submit"), a.isFunction(c.on_submit_success) && !1 === c.on_submit_success(b, c, f)) return
                } else {
                    var g = a.isArray(f.errors) ? f.errors: c.default_error_message,
                    h = JSON.stringify(g);
                    a(b).rdFormHandler("google-tag-track-event", "200 - " + h.substr(0, 255));
                    if (a.isFunction(c.on_submit_error)) c.on_submit_error(b, c, f);
                    a(b).rdFormHandler("show-errors", g)
                }
                a(b).rdFormHandler("hide-ajax-progress");
                a(b).rdFormHandler("enable-submit")
            },
            error: function(f, g, h) {
                if (a.isFunction(c.on_submit_error)) c.on_submit_error(b, c, h);
                a(b).rdFormHandler("hide-ajax-progress");
                0 !== f.status && 0 !== f.readyState && a(b).rdFormHandler("show-errors", c.default_error_message);
                a(b).rdFormHandler("google-tag-track-event", f.status + " - " + f.statusText);
                a(b).rdFormHandler("enable-submit")
            }
        });
        return ! 1
    }
    function f(b, c) {
        var f = y(b, c);
        a(f).removeClass("half-disabled loading").removeAttr("disabled")
    }
    function h(b, c, g, h, j) {
        if (!c.disable_ajax) {
            "boolean" !== typeof j && (j = !0);
            var k = K(b);
            a.isArray(h) && h.length && (h = a(h).map(function(a, b) {
                return "[name=" + b + "]"
            }).get().join(","), k = a(k).filter(h).get());
            a(k).each(function() {
                a(this).is("[type=hidden],:disabled") || (a(this).attr("disabled", "disabled").data("disabled-by-handler", !0).filter("select").change(), a(H(this)).addClass("disabled"))
            });
            j ? (c = y(b, c), a(c).attr("disabled", "disabled"), g && a(c).addClass("half-disabled loading")) : f(b, c);
            a(b).find(":focus").blur()
        }
    }
    function j(b, c) {
        var f = y(b, c),
        g = a(K(b)).filter("[required]").get(),
        h = 0,
        j = 0,
        k = [],
        l,
        m,
        p;
        for (p in g) if ("undefined" !== typeof g[p]) {
            m = a(g[p]).attr("id");
            l = a(g[p]).attr("name");
            if (a.isPlainObject(c.on_empty_checks_callbacks) && a.isFunction(c.on_empty_checks_callbacks[l]) && (l = c.on_empty_checks_callbacks[l](b, g[p], c), !0 === l)) continue;
            if (0 === a.trim(a(g[p]).val()).length) {
                h++;
                l = g[p];
                var q = a.trim(a(l).data("label"));
                q.length || (q = a.trim(a(H(l)).find("label").html()));
                q.length || (q = a.trim(a(l).attr("placeholder")));
                q.length && ":" === q.substr( - 1) && (q = q.substr(0, q.length - 1));
                l = q;
                k.push('<label for="' + m + '">' + a.trim(l) + "</label>")
            } else j++
        }
        0 === h ? a(c.submit_button).is(":enabled") || (c.disable_submit_on_empty && a(f).removeAttr("disabled"), c.show_submit_button_hint && u(b, c)) : (c.disable_submit_on_empty && a(f).attr("disabled", "disabled"), c.show_submit_button_hint && (f = "Please complete the form to proceed", 0 < j && 0 < k.length && (f = "You need to fill the following fields: " + k.join(", ")), J(b, c, f)))
    }
    function k(b, c, f, g) {
        b = '<div class="popover-content">' + (a.isArray(f) ? f.join(c.strings_delimiter) : a.trim(f)) + "</div>";
        a(c.common_errors_container).addClass("alert-container").html('<div class="' + g + '">' + c.common_errors_close_handler + b + "</div>").scrollTop(0);
        b = a(c.common_errors_container).find(".rd-popover");
        g = b.outerHeight();
        b = b.outerWidth();
        b = (a(c.common_errors_container).closest("form").outerWidth() - b) / 2;
        a(c.common_errors_container).css({
            top: -g + "px",
            left: b + "px"
        });
        c.autoscroll_on_form_error && (c = a(c.common_errors_container).offset()) && a(window.document).scrollTop(c.top)
    }
    function m(b, c) {
        var f = K(b),
        g = "undefined" !== typeof c.skip_form_error && !!c.skip_form_error,
        h;
        for (h in f) if ("undefined" !== typeof f[h]) {
            var k = f[h],
            l = c;
            l.show_popover && E(k).popover("destroy");
            l.highlight_border && z(k, l)
        }
        g || a(c.common_errors_container).html("");
        j(b, c)
    }
    function q(b, c, f) {
        var g, h, j, k;
        "string" === typeof f && f.length && (f = [{
            messages: f
        }]);
        a(x(b)).each(function() {
            a(b).rdFormHandler("hide-field-error", this);
            a(b).rdFormHandler("hide-field-success", this)
        });
        if (f.length) {
            j = [];
            k = 0;
            a(b).rdFormHandler("hide-errors", {
                skip_form_error: !0
            });
            for (var l in f) if ("undefined" !== typeof f[l]) if ("string" == typeof f[l] && (f[l] = {
                name: null,
                messages: [f[l]]
            }), g = f[l].name ? b[f[l].name] : null, h = f[l].messages, a.isArray(h) && (h = a.trim(a(h).get(0))), g) {
                if ((!c.display_only_firts_popover || 0 === k) && !a(g).is(":disabled")) a(b).rdFormHandler("show-field-error", g, h),
                a(c.submit_button).is(":enabled") && (h = '<label for="' + a(g).attr("id") + '">' + h + "</label>", J(b, c, h)),
                k++,
                c.autofocus_firts_popover_field && (c.autofocus_timeout ? setTimeout(function() {
                    F(b, g, c)
                },
                c.autofocus_timeout) : F(b, g, c))
            } else j.push(h);
            j.length && a(b).rdFormHandler("show-form-error", j)
        }
        a(b).rdFormHandler("is-submit-enabled") && a(b).rdFormHandler("show-success");
        if (f.length && a.isFunction(c.on_show_errors)) c.on_show_errors(b, c, f)
    }
    function r(b, c, f) {
        var g = a.extend({},
        A),
        h = a(b).data("validation-options");
        a.isPlainObject(h) && a.extend(g, h);
        a.isPlainObject(c) && a.extend(g, c);
        g.common_errors_container || (g.common_errors_container = "#" + a(b).attr("id") + "-errors", a(g.common_errors_container).length || a('<div id="' + g.common_errors_container.slice(1) + '"></div>').prependTo(b));
        g.submit_button || (g.submit_button = a("button,:input[type=button]:input[type=submit]", b));
        g.default_error_message || (g.default_error_message = g.locatable ? Twig.render(serverError) : "Server Error");
        g.please_enter_message || (g.please_enter_message = g.locatable ? Twig.render(pleaseEnter) : "Please, enter %s");
        f && a(b).data("validation-options", g);
        return g
    }
    function p(b, c) {
        var f = K(b),
        f = a(f).filter(":not([type=hidden]):not(:hidden)").get(0);
        "undefined" !== typeof f && F(b, f, c)
    }
    function l(b, c) {
        var f = a(H(b));
        f.hasClass(c.success_mark_html_class) && f.removeClass(c.success_mark_html_class)
    }
    function z(b, c) {
        a(b).removeClass("error");
        a(H(b)).removeClass(c.error_mark_html_class)
    }
    function F(b, c, f) {
        a(c).filter(":not(select):first").focus().each(function() {
            var b = "password email url tel number range time checkbox hiddenshow".split(" ");
            a.isFunction(this.setSelectionRange) && -1 == b.indexOf(this.type) && this.setSelectionRange(this.value.length, this.value.length)
        }).end();
        a(c).is(f.chosen_selector) && a(c).trigger("chosen:activate");
        w(b, c, f)
    }
    function w(b, c, f) {
        a(K(b)).filter(f.chosen_selector + "[id!=" + a(c).attr("id") + "]").trigger("chosen:close")
    }
    function J(b, c, f) {
        b = y(b, c);
        a(b).next(".js-empty-label-after-submit").children("small").html(f).end().show()
    }
    function u(b, c) {
        var f = y(b, c);
        a(f).next(".js-empty-label-after-submit").children("small").html("").end().hide()
    }
    function C(b, c) {
        var f = {
            placeholder_text_single: " "
        };
        a(b).css("width") && (f.width = a(b).css("width"));
        a(b).data("disable-search-threshold") && (f.disable_search_threshold = a(b).data("disable-search-threshold"));
        a(b).find('option[value=""]').length && (f.allow_single_deselect = !0);
        var g = a(b).is(".js-country, .js-dial-code");
        if (g) {
            var h = A.phone_preferred_countries;
            void 0 !== c && (h = c.phone_preferred_countries);
            a(b).find('option[value=""]').remove();
            var j = a(b).val();
            if (void 0 !== h) {
                j && h.unshift(j);
                for (j = h.length - 1; 0 <= j; j--) {
                    var k = a(b).find("option[value=" + h[j].toUpperCase() + "]");
                    a(b).prepend(k)
                }
            }
            a(b).find("option").each(function() {
                var b = a(this).val().toLowerCase();
                a(this).addClass("iti-flag " + b)
            }).end().on("change",
            function() {
                if (a(this).val()) {
                    var b = a(this),
                    c = a(b).find("option:selected").data("dial-code"),
                    f = b.attr("id").replace(/[^\w]/g, "_") + "_chosen .chosen-single",
                    f = a("#" + f);
                    f.find("i.iti-flag").remove();
                    f.prepend('<i class="iti-flag ' + b.val().toLowerCase() + '" data-dial-code="' + c + '"></i>')
                }
            })
        }
        a(b).chosen(f);
        var l = a(b).data("chosen"),
        m = l.container,
        f = l.search_container,
        p = a(H(b));
        f.bind("keydown",
        function(c) {
            13 == c.keyCode && !l.results_showing && (c.preventDefault(), setTimeout(function() {
                l.active_field = !1;
                a(b).trigger("chosen:open")
            },
            150))
        }).bind("keyup",
        function(a) {
            13 == a.keyCode && p.addClass("onfocus")
        });
        m.focusin(function() {
            p.addClass("onfocus")
        }).focusout(function() {
            p.removeClass("onfocus")
        }).unbind("mousedown.chosen").bind("mousedown",
        function(b) {
            l.is_disabled ? (a(".js-chosen").parents(".tm-rd-input").removeClass("onfocus"), b.preventDefault()) : a(b.target).is(".active-result") || p.addClass("drop-show pressed")
        }).bind("mouseleave",
        function() {
            p.removeClass("pressed drop-show")
        }).bind("mouseup",
        function(b) {
            a(b.target).is(":input,.result-selected") || (p.removeClass("pressed"), m.find(".chosen-single").find("span").first().trigger("touchstart"))
        });
        a(b).bind("change",
        function() {
            a(this).trigger("chosen:updated")
        }).bind("chosen:hiding_dropdown",
        function() {
            p.removeClass("drop-show");
            setTimeout(function() {
                var c = a(b).data("linked-input");
                c && (m.removeClass("chosen-container-active"), a(b).blur(), a(c).focus())
            },
            10);
            setTimeout(function() {
                p.find(".chosen-drop").css({
                    left: "-9999px"
                })
            },
            310)
        }).bind("chosen:showing_dropdown",
        function() {
            p.find(".chosen-drop").css({
                left: 0
            });
            var c = p.find(".chosen-search input"),
            f = a(b).data("search-placeholder") ? a(b).data("search-placeholder") : p.find("label").text();
            p.find(".chosen-search input").attr("placeholder", f);
            c.attr("placeholder", f)
        });
        g && a(b).change()
    }
    function D(b, c, f, g, h) {
        var j = E(b),
        c = {
            template: '<div class="rd-popover rd-popover-' + f + " " + (h ? h: "rd-popover-red") + '" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',
            content: g,
            placement: f,
            title: c,
            trigger: "manual",
            html: !0
        };
        if (a.data(b, "placement")) {
            f = ["top", "bottom", "left", "right"];
            for (h = 0; h < f.length; h++) a.data(b, "placement") === f[h] && (c.placement = a.data(b, "placement"))
        }
        b = a("<span>", {
            html: g,
            style: "display:none;left:-9999px;position:absolute;top:0px"
        });
        b.addClass("spacer-padding-default");
        b.appendTo("body");
        b.show();
        g = Math.ceil(b[0].getBoundingClientRect().width);
        j.popover(c);
        j.popover("show");
        j.next(".rd-popover").width(g);
        j.popover("show");
        b.remove();
        return j
    }
    function E(b) {
        return a(b).data("chosen") && a(b).data("chosen").container ? a(b).data("chosen").container: a(b)
    }
    function y(b, c) {
        return a(c.submit_button).get()
    }
    function I(b) {
        var c = {};
        a(K(b)).each(function() {
            var b = a(this).attr("name"),
            f = a(this).val();
            a(this).is(".main-tel-input, .js-phone") && (f = (new Tm.RdPhoneInput).getNumber(a(this)));
            c[b] = f
        });
        return c
    }
    function K(b) {
        return a(b).find(":input").get()
    }
    function x(b) {
        return a(K(b)).filter("[data-constraints]").get()
    }
    function N(b) {
        var c = a(b).rdFormHandler("get-errors"),
        f = a(c).map(function() {
            return this.name
        });
        return a(x(b)).filter(":not(select):not(:disabled)").filter(function() {
            var b = a(this).attr("name");
            return - 1 == a.inArray(b, f) && !a(this).data("ajax-in-progress")
        }).get()
    }
    function H(b) {
        return a(b).parents(".js-form-group:first").get()
    }
    var A = {
        locatable: !0,
        highlight_border: !0,
        show_popover: !0,
        show_chosen_selects: !0,
        chosen_selector: ".js-chosen",
        disable_submit_on_empty: !1,
        disable_ajax: !1,
        disable_validation: !1,
        enable_inputs_on_load: !1,
        disable_submit: !1,
        show_submit_button_hint: !1,
        check_fields_on_blur: !0,
        autoscroll_on_form_error: !0,
        autofocus_first_field: !0,
        autohandle_form_submit: !0,
        display_only_firts_popover: !0,
        autofocus_firts_popover_field: !0,
        autofocus_timeout: null,
        autocheck_timeout: null,
        autotrim_fields: !0,
        hide_errors_on_type: !0,
        hide_errors_for_empty: !0,
        autovalidate_fields: [],
        skip_success_mark: [],
        submit_hint_template: '<p class="js-empty-label-after-submit" style="display:none;"><small></small></p>',
        popover_placement: "right",
        popover_title: !1,
        common_errors_container: null,
        common_errors_close_handler: '<span class="close" data-dismiss="alert" href="#" aria-hidden="true">&times;</span>',
        show_progressbar: !1,
        progressbar_code: '<div class="progress progress-striped active" style="display: none;"><div class="progress-bar progress-bar-default" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div>',
        common_errors_html_classes: "alert rd-closing rd-popover rd-popover-top rd-popover-red",
        common_success_html_classes: "alert rd-closing rd-popover rd-popover-top rd-popover-green",
        success_mark_html_class: "rd-field-success",
        error_mark_html_class: "has-error rd-field-error",
        progress_mark_html_class: "rd-field-loading",
        default_error_message: null,
        please_enter_message: null,
        strings_delimiter: "<br/>",
        submit_button: null,
        phone_enable_intl_telInput: !0,
        phone_preferred_countries: "us gb ca au de it nl pl fr es".split(" "),
        phone_container_class: "rd-phone-selector",
        on_after_init: a.noop,
        on_empty_checks_callbacks: {},
        on_ajax_response: null,
        on_before_submit: a.noop,
        on_submit_success: a.noop,
        on_submit_error: a.noop,
        on_submit_validation: a.noop,
        on_show_errors: a.noop,
        ajax_async_mode: !0
    };
    a.fn.rdFormHandler = function(j, v, w, A) {
        if (!this.size()) return this;
        var y = {},
        C = this.get(0);
        a.isPlainObject(j) || "undefined" === typeof j ? (y = j, j = "init") : a.isPlainObject(v) && (y = v);
        var O = r(C, y, "init" === j),
        M;
        switch (j) {
        case "validate":
            a(C).rdFormValidation("validate", v);
            break;
        case "validate-and-show":
            M = a.isArray(w) ? w: [];
            A && (O.hide_errors_for_empty = !0);
            y = M;
            M = !0;
            if (a(C).rdFormValidation("is-enabled")) {
                a(C).rdFormHandler("validate");
                A = a(C).rdFormHandler("get-errors", O, y);
                if (y.length && v) {
                    y = a(v).attr("name");
                    M = !1;
                    for (var W in A) if ("undefined" !== typeof A[W] && A[W].name === y && A[W].messages.length) {
                        M = !0;
                        break
                    }
                }
                M && q(C, O, A)
            }
            break;
        case "show-ajax-progress":
            b(h, C, O, !!v, w, A);
            break;
        case "hide-ajax-progress":
            b(function() {
                a(K(C)).each(function() {
                    if (w || a(this).data("disabled-by-handler")) a(this).removeAttr("disabled").data("disabled-by-handler", !1).filter("select").change(),
                    a(H(this)).removeClass("disabled")
                });
                f(C, O);
                a.isFunction(v) && v(C, O)
            });
            break;
        case "enable-submit":
            r(C, {
                disable_submit: !1
            },
            !0);
            break;
        case "disable-submit":
            r(C, {
                disable_submit: !0
            },
            !0);
            break;
        case "is-submit-enabled":
            return ! O.disable_submit;
        case "get-values":
            return I(C);
        case "get-success-list":
            return a(N(C)).map(function() {
                return a(this).attr("name")
            });
        case "get-errors":
            return M = a.isArray(w) ? w: [],
            a(C).rdFormValidation("get-errors", O, M);
        case "get-next-field":
            var la = a(v ? C[v] : null).attr("tabindex"),
            j = a(K(C)).filter("[name]:visible:not(:disabled)");
            M = j.filter(function() {
                return a(this).attr("tabindex") > la
            }).filter(":first");
            j = M.length ? M.get(0) : j.get(0);
            return j;
        case "get-first-blank-field":
            return j = a(K(C)).filter("[name]:visible:not(:disabled)"),
            M = j.filter(function() {
                return "undefined" !== typeof a(this) && !a(this).val()
            }).filter(":first"),
            j = M.length ? M.get(0) : j.get(0),
            j;
        case "show-errors":
            if (A) for (M in v) if ("undefined" !== typeof v[M]) {
                W = C;
                var ia = v[M],
                A = a(W).data("validation-errors"),
                Sa = !1,
                y = void 0;
                for (y in A) if ("undefined" !== typeof A[y] && A[y].name === ia.name) {
                    A[y] = ia;
                    Sa = !0;
                    break
                }
                Sa || A.push(ia);
                ia = [];
                for (y in A) A[y].messages && 0 < A[y].messages.length && ia.push(A[y]);
                A = ia;
                a(W).data("validation-errors", A)
            }
            q(C, O, v);
            break;
        case "hide-errors":
            m(C, O);
            break;
        case "reset-errors":
            m(C, O);
            a(C).rdFormValidation("reset-errors");
            break;
        case "show-field-error":
            !A && O.popover_title ? (M = a(H(v)).find("label:first").text(), M = a.trim(M)) : M = "";
            O.show_popover && (a(O.common_errors_container).html(""), W = a.isArray(w) ? w.join(O.strings_delimiter) : a.trim(w), D(v, M, O.popover_placement, W));
            O.highlight_border && (l(v, O), a(H(v)).addClass(O.error_mark_html_class));
            break;
        case "hide-field-error":
            O.show_popover && E(v).popover("destroy");
            O.highlight_border && z(v, O);
            break;
        case "show-success":
            a(N(C)).each(function() {
                a(C).rdFormHandler("show-field-success", this)
            });
            break;
        case "hide-success":
            a(x(C)).each(function() {
                a(C).rdFormHandler("hide-field-success", this)
            });
            break;
        case "show-field-success":
            M = a(v).attr("name"); - 1 === a.inArray(M, O.skip_success_mark) && (M = a(H(v)), M.hasClass(O.success_mark_html_class) || M.addClass(O.success_mark_html_class));
            break;
        case "hide-field-success":
            l(v, O);
            break;
        case "show-field-progress":
            a(v).data("ajax-in-progress", !0);
            a(H(v)).addClass(O.progress_mark_html_class);
            break;
        case "hide-field-progress":
            a(v).data("ajax-in-progress", !1).removeClass("error");
            a(H(v)).removeClass(O.progress_mark_html_class);
            break;
        case "show-form-error":
            k(C, O, v, O.common_errors_html_classes);
            break;
        case "show-form-success":
            k(C, O, v, O.common_success_html_classes);
            break;
        case "hide-form-error":
            a(O.common_errors_container).html("");
            break;
        case "show-submit-hint":
            J(C, O, v);
            break;
        case "hide-submit-hint":
            u(C, O);
            break;
        case "focus":
            F(C, v, O);
            break;
        case "focus-first":
            p(C, O);
            break;
        case "enable-validation":
            a(C).rdFormValidation("enable");
            break;
        case "disable-validation":
            a(C).rdFormValidation("disable");
            break;
        case "is-validation-enabled":
            return a(C).rdFormValidation("is-enabled");
        case "submit":
            return g(C, O);
        case "google-tag-track-event":
            "undefined" != typeof v && "undefined" != typeof dataLayer && dataLayer.push({
                event: "trackEvent",
                eventCategory: "Forms",
                eventAction: a(C).attr("id"),
                eventLabel: v
            });
            break;
        case "init":
            b(c, C, O)
        }
        "string" === typeof j && a(C).trigger(j, {
            form: C,
            options: O
        });
        return this
    }
})(jQuery);
Tm = Tm || {};
Tm.NotificationArea = function() {
    this._signin = new Tm.Signin;
    this._config = {
        container: "#menu-notification",
        alert_class: "has-notification",
        disabled_class: "disabled",
        redraw_events: "MainEvents.user.logout MainEvents.user.checkCookie"
    }
};
Tm.NotificationArea.prototype.init = function(a) {
    $.extend(this._config, a);
    this._container = $(this._config.container);
    $(document).on(this._config.redraw_events, $.proxy(function() {
        this.redraw()
    },
    this))
};
Tm.NotificationArea.prototype.redraw = function() {
    this._signin.isSignedIn() ? this._hideAlertMark() : this._showAlertMark()
};
Tm.NotificationArea.prototype._showAlertMark = function() {
    $(this._container).removeClass(this._config.disabled_class).addClass(this._config.alert_class)
};
Tm.NotificationArea.prototype._hideAlertMark = function() {
    $(this._container).removeClass(this._config.alert_class).addClass(this._config.disabled_class)
};
Tm.FreeCheckout = function() {
    Tm.abstractCheckout.call(this)
};
Tm.FreeCheckout.prototype = new Tm.abstractCheckout;
Tm.FreeCheckout.prototype.constructor = Tm.FreeCheckout;
Tm.FreeCheckout.prototype.init = function() {
    var a = document.forms.freeInfo,
    b = document.forms.signin_mode,
    c = document.forms.signin,
    g = {
        before_tab_switching: this._onBeforeStepSwitching,
        after_tab_switching: $.proxy(this._onAfterStepSwitching, this)
    },
    f = window.location.href.match(/step([0-9]+)\.html$/);
    f && (g.initial_step = "step" + f[1]);
    a && this.initFreeInfoForm(a);
    var h = new Tm.Signin;
    $(c).formHandler({
        on_submit_success: function(a, b, c) {
            $(a).formHandler("show-ajax-progress");
            h.signInCallback(c,
            function() {
                $(a).formHandler("hide-ajax-progress")
            })
        },
        autofocus_first_field: !h.getUserEmail()
    });
    $(b.customer).click(function() {
        var a = $(".js-customer-new-from"),
        b = $(".js-customer-sigin-from");
        switch (this.value) {
        case "new":
            b.hide();
            a.show();
            break;
        case "existing":
            b.show(100,
            function() {
                var a = $(":input[name=email]", this),
                b = $(":input[name=password]", this);
                a.val().length ? b.focus() : a.focus()
            }),
            a.hide()
        }
    });
    $(":input", b).removeAttr("disabled");
    this.steps.checkoutSteps(g);
    this.signChecking()
};
Tm.FreeCheckout.prototype._onBeforeStepSwitching = function(a, b, c) { - 1 !== $.inArray(c, ["step2", "step3"]) && (a = $(b).find(".js-cart-summary-container"), 0 === a.children("form").size() && (b = $(".js-cart-summary-container .js-cart-summary"), a.append(b)))
};
Tm.FreeCheckout.prototype._onAfterStepSwitching = function(a, b, c) {
    "step1" === c && (a = new Tm.Signin, this.fillSigninForm(a.getUserEmail()), (new CLS30).pushData(1));
    "step2" == c && (a = document.forms.freeInfo, $(a).formHandler("reset-errors"), $(a).formHandler("focus-first"), (new CLS30).pushData(2));
    "step3" == c && (new CLS30).pushData(3)
};
Tm.FreeCheckout.prototype.checkBillingInfoForm = function() {
    var a = document.forms.freeInfo;
    $(a).formHandler("validate");
    return $(a).formHandler("get-errors")
};
Tm.FreeCheckout.prototype.fillInfoForm = function(a) {
    var b = document.forms.freeInfo;
    $(b).formHandler("disable-validation");
    $(b.name).val(a.name);
    $(b.email).val(a.email);
    $(b.phone).val(a.phone);
    $(b.contactphone).val(a.contactphone);
    $(b).formHandler("reset-errors");
    $(b).formHandler("enable-validation")
};
Tm.FreeCheckout.prototype.changeform = function() {
    $(".js-billing-details").addClass("js-none");
    $(".js-user-details").removeClass("js-none");
    this.initFreeInfoForm(document.forms.freeInfo)
};
Tm.FreeCheckout.prototype.isFree = function() {
    return ! 0
};
Tm.FreeCheckout.prototype.initFreeInfoForm = function(a) {
    var b = this;
    $(".js-checkout-calback-step2:first").click(function() {
        b.switchStep("step2");
        return ! 1
    });
    $(a).formHandler({
        on_before_validate: function(a) {
            $([a.contactphone]).each(function() {
                this.value = this.value.replace(/[^\d]/gi, "")
            })
        },
        on_after_validate: function(a) {
            var b = (new Date).toString();
            $(a.localtime).val(b)
        },
        on_submit_error: function(a, b, f) {
            "extra_actions" in f && "reload" == f.extra_actions && location.reload()
        },
        on_submit_success: function(c, g, f) {
            $(c).formHandler("show-ajax-progress");
            g = new Tm.Signin;
            g.checkCookie();
            g._wacJsonP(f.wacAuth,
            function() {
                $(document).trigger("Gtag.userRegistration.push", {
                    email: c.email.value,
                    name: c.name.value
                });
                0 == $(".js-total-price").attr("data-price") ? ($(a).formHandler("show-ajax-progress"), $(".js-payment-complete-order .js-choose-payment-system").click()) : ($(a).formHandler("hide-ajax-progress"), b.switchStep("step3"))
            })
        }
    });
    $(".js-new-customer-link", b.steps).click(function() {
        b.showLoginError("");
        var a = new Tm.Signin;
        if (a.isSignedIn()) {
            var g = this;
            $(g).prop("disabled", !0);
            a.signOut({
                on_success: function() {
                    $(g).prop("disabled", !1);
                    b.switchStep("step2");
                    appDic.require("cart").recalculate()
                }
            })
        } else b.switchStep("step2"),
        appDic.require("cart").recalculate();
        return ! 1
    }).removeAttr("disabled").removeClass("disabled");
    $("#payment-methods-container").data("free-payment-trigger") || $("#payment-methods-container").on("click", ".js-choose-payment-system",
    function() {
        var a = $(this),
        g = $("#payment-collapse, .js-payment-form-block");
        g.paymentSelector("disable-submit-button");
        var a = a.attr("data-payment"),
        f = (new Date).toString();
        g.paymentSelector("disable-selector");
        b.createOrder({
            payment: a,
            cartAmount: 0,
            bonusesAmount: 0,
            localTime: f
        },
        g);
        return ! 1
    }).data("free-payment-trigger", 1);
    $(a).on("click", ".js-goto-login",
    function() {
        b.goToSignin(!0, a.email.value);
        return ! 1
    })
};
Tm.Account = function() {
    function a(a, b) {
        $(".js-error-message").html('<div class="block block-style-5 not-confirmed-block">' + a + "</div>").show().focus();
        $.scrollTo(".js-error-message");
        0 < b && window.setTimeout(function() {
            location.reload()
        },
        b);
        return ! 1
    }
    var b = $(".js-account-menu").find("li");
    $.ajaxSetup({
        statusCode: {
            401 : function() {
                var b = Twig.render(accountNotAuthorized);
                return a(b, 1500)
            },
            502 : function() {
                var b = Twig.render(serverError);
                a(b, 0)
            },
            504 : function() {
                var b = Twig.render(serverError);
                a(b, 0)
            }
        }
    });
    var c = b.filter(".active").data("tab");
    "undefined" !== typeof Tm.Account[c] && new Tm.Account[c](this);
    this.initMenu(b)
};
Tm.Account.prototype.initMenu = function(a) {
    a.on("click",
    function() {
        return ! $(this).hasClass("disabled")
    })
};
Tm.Account.prototype.initRestoreLink = function() {
    window.restoreLink = function(a, c, g, f) {
        var h = "orderId=" + c + "&templId=" + g + "&tab=" + f,
        j = null,
        c = c + "_" + g + "_" + f;
        $("#" + c).html('<span class="loading-search-result"><img src="/img/tiny_spinner.gif">&nbsp;&nbsp;' + Twig.render(messageLoading) + "</span>");
        1 == a ? (a = "ajaxResponseRestoreWithAutocheck", j = {
            divId: c
        }) : a = "parseResponce";
        Tm.Account.prepareAjaxQuery(Tm.Account.getLanguagePrefix() + "/account-ajax/restore-link.php", {
            fun: Tm.Account[a],
            post: h,
            funParams: j
        });
        return ! 1
    };
    var a = {
        init: function(a, c) {
            return this.each(function() {
                function g() {
                    $(f).parents("body").length ? ($.ajax({
                        url: h.url,
                        type: h.type,
                        data: h.data,
                        dataType: h.dataType,
                        cache: !1,
                        success: function(a, b, c) {
                            var q = b = !1,
                            r = jQuery.parseJSON(c.getResponseHeader("X-Smartupdater")),
                            p;
                            r && (h.minTimeout = r.timeout ? r.timeout: h.minTimeout, q = r.callback ? r.callback: !1);
                            h.httpCache && (r = c.getResponseHeader("ETag"), p = c.getResponseHeader("Last-Modified"), b = h.etag == r || h.lastModified == p, h.etag = r ? r: h.etag, h.lastModified = p ? p: h.lastModified);
                            if (b || h.prevContent == c.responseText || 304 == c.status) h.stopFlag || (clearTimeout(h.h), h.h = setTimeout(g, h.minTimeout));
                            else if (h.prevContent = c.responseText, h.stopFlag || (clearTimeout(h.h), h.h = setTimeout(g, h.minTimeout)), h.rCallback && q && -1 != h.rCallback.search(q)) window[q](a);
                            else h.callback(a);
                            f.smartupdaterStatus.timeout = h.minTimeout;
                            h.failedRequests = 0
                        },
                        error: function(a, b, c) {++h.failedRequests < h.maxFailedRequests ? h.stopFlag || (clearTimeout(h.h), h.h = setTimeout(g, h.minTimeout), f.smartupdaterStatus.timeout = h.minTimeout) : (clearTimeout(h.h), f.smartupdaterStatus.state = "OFF", "function" === typeof h.maxFailedRequestsCb && h.maxFailedRequestsCb(a, b, c))
                        },
                        beforeSend: function(a) {
                            h.httpCache && (a.setRequestHeader("If-None-Match", h.etag), a.setRequestHeader("If-Modified-Since", h.lastModified));
                            a.setRequestHeader("X-Smartupdater", '{"timeout":"' + f.smartupdaterStatus.timeout + '"}')
                        }
                    }), f.smartupdaterStatus.state = "ON") : (clearInterval(f.smartupdaterStatus.smartStop), clearTimeout(f.settings.h), f = {})
                }
                var f = this,
                h = {};
                f.settings = jQuery.extend(!0, {
                    url: "",
                    type: "get",
                    data: "",
                    dataType: "text",
                    minTimeout: 6E4,
                    maxFailedRequests: 10,
                    maxFailedRequestsCb: !1,
                    httpCache: !1,
                    rCallback: !1,
                    selfStart: !0,
                    smartStop: {
                        active: !1,
                        monitorTimeout: 2500,
                        minHeight: 1,
                        minWidth: 1
                    }
                },
                a);
                f.smartupdaterStatus = {
                    state: "",
                    timeout: 0
                };
                h = f.settings;
                h.prevContent = "";
                h.failedRequests = 0;
                h.etag = "0";
                h.lastModified = "0";
                h.callback = c;
                h.origReq = {
                    url: h.url,
                    data: h.data,
                    callback: c
                };
                h.stopFlag = !1;
                h.fnStart = g;
                h.selfStart && g();
                h.smartStop.active && (f.smartupdaterStatus.smartStop = setInterval(function() {
                    if ($(f).parents("body").length) {
                        var a = $(f),
                        b = a.width(),
                        c = a.height(),
                        g = a.is(":hidden"); ! g && c > h.smartStop.minHeight && b > h.smartStop.minWidth && "OFF" == f.smartupdaterStatus.state ? a.smartupdater("restart") : (g || c <= h.smartStop.minHeight || b <= h.smartStop.minWidth) && "ON" == f.smartupdaterStatus.state && a.smartupdater("stop")
                    } else clearInterval(f.smartupdaterStatus.smartStop),
                    clearTimeout(f.settings.h),
                    f = {}
                },
                h.smartStop.monitorTimeout))
            })
        },
        stop: function() {
            return this.each(function() {
                this.settings.stopFlag = !0;
                clearTimeout(this.settings.h);
                this.smartupdaterStatus.state = "OFF"
            })
        },
        restart: function() {
            return this.each(function() {
                this.settings.stopFlag = !1;
                clearTimeout(this.settings.h);
                this.settings.failedRequests = 0;
                this.settings.etag = "0";
                this.settings.lastModified = "0";
                this.settings.fnStart()
            })
        },
        setTimeout: function(a) {
            return this.each(function() {
                clearTimeout(this.settings.h);
                this.settings.minTimeout = a;
                this.settings.fnStart()
            })
        },
        alterCallback: function(a) {
            return this.each(function() {
                this.settings.callback = a ? a: this.settings.origReq.callback
            })
        },
        alterUrl: function(a, c) {
            return this.each(function() {
                this.settings.url = a ? a: this.settings.origReq.url;
                this.settings.data = c ? c: this.settings.origReq.data
            })
        },
        getTimeout: function() {
            return this[0].smartupdaterStatus.timeout
        },
        getState: function() {
            return this[0].smartupdaterStatus.state
        }
    };
    jQuery.fn.smartupdater = function(b, c) {
        if (a[b]) return a[b].apply(this, Array.prototype.slice.call(arguments, 1));
        if ("object" === typeof b || !method) return a.init.apply(this, arguments);
        $.error(b + " - " + Twig.render(jqueryMethodNotExist))
    }
};
Tm.Account.prototype.initDataTable = function(a, b, c) {
    var g = [];
    $.fn.dataTable.ext.errMode = "none";
    var f = $(a).data("empty-message"),
    f = f ? f: Twig.render(noDataAvailable),
    h = a.replace("#", "");
    $(".js-" + h + "-items-list").hide();
    var j = 0,
    k = $(a).find("thead th").each(function() {
        g.push({
            data: $(this).data("key"),
            name: $.trim($(this).text())
        })
    }).end().dataTable({
        processing: !1,
        lengthChange: !1,
        serverSide: !0,
        deferLoading: 0,
        bInfo: !1,
        ajax: {
            type: "POST",
            url: $(b).attr("action"),
            data: function(a) {
                "undefined" !== typeof a.columns && delete a.columns;
                "undefined" !== typeof a.search && delete a.search;
                $(b).find(".js-form-row:visible :input[name], :input[name=_form]").each(function() {
                    var b = $(this).attr("name");
                    a[b] = $.trim($(this).val())
                });
                "undefined" !== typeof a.length && (a.limit = a.length, delete a.length);
                "undefined" !== typeof a.start && (a.offset = a.start, delete a.start)
            }
        },
        oLanguage: {
            sEmptyTable: f,
            oPaginate: {
                sPrevious: Twig.render(messagePreviousPage) + ":",
                sNext: ""
            }
        },
        fnDrawCallback: function(b) {
            function f() {
                var a = $("html, body");
                j || (j = $(document).height());
                var b = $(document).height();
                if (0 == j - b) return ! 1;
                a.animate({
                    scrollTop: b
                },
                0);
                j = b
            }
            var g = $(b.nTableWrapper),
            h = a.replace("#", ""),
            h = $(".js-" + h + "-items-list"),
            k = $("a.current"),
            m = k.text();
            k.clone().text(Twig.render(messagePage) + " " + m).addClass("current_copy").insertAfter("a.current");
            g.find(".dataTables_paginate span a:first").hasClass("current") ? g.find("a.previous").hide() : g.find("a.previous").show().unbind("click");
            g.find(".dataTables_paginate span a:last").hasClass("current") ? g.find("a.next").hide() : g.find("a.next").show();
            1 > b.fnRecordsDisplay() ? g.find(".dataTables_info").hide() : g.find(".dataTables_info").show();
            b._iRecordsDisplay > b._iDisplayLength ? g.find(".dataTables_paginate").show() : g.find(".dataTables_paginate").hide();
            $(a).data("notFirstLoad") ? (g = h.find("tr:first"), 0 == b._iRecordsDisplay ? g.hide() : g.show(), h.is(":hidden") && h.slideDown(), $(".paginate_button").unbind("click", f).bind("click", f), 1 != $(a).data("first-search") ? f() : $(a).data("first-search", 0)) : $(a).data("notFirstLoad", 1);
            "function" == typeof c && c()
        },
        searching: !1,
        ordering: !1,
        columns: g
    }).on("preXhr.dt",
    function() {
        $(b).formHandler("show-ajax-progress");
        $(a).addClass("disabled").before('<span class="spinner"></span>')
    }).on("xhr.dt",
    function(c, f, g) {
        $(b).formHandler("hide-ajax-progress");
        $(a).removeClass("disabled").prev().remove();
        $.isPlainObject(g) && 0 == g.status && $(b).formHandler("show-errors", g.errors)
    }).on("error.dt",
    function() {
        $(b).formHandler("hide-ajax-progress");
        $(a).removeClass("disabled").prev().remove()
    });
    $(b).formHandler({
        autofocus_first_field: !1,
        disable_submit: !0,
        common_errors_container: ".js-error-message"
    }).find("[name=dateFrom],[name=dateTo]").datetimepicker({
        timepicker: !1,
        maxDate: 0,
        format: "Y-m-d",
        onChangeDateTime: function(a, b) {
            var c = b.parents("form:first"),
            f = c.find("[name=dateFrom]"),
            c = c.find("[name=dateTo]");
            if (f.length && c.length) {
                var g = $.trim(f.val()),
                h = $.trim(c.val()); (new Date(g)).getTime() > (new Date(h)).getTime() ? (c.val(g), f.val(h)) : (c.val(h), f.val(g))
            }
        }
    }).on("keydown.xdsoft",
    function(a) {
        if (13 == a.which) return a.preventDefault(),
        $(this).change(),
        $(this.form).find(":input:visible").blur().end().submit(),
        !1
    }).change(function() {
        if ("" == $.trim($(this).val())) {
            var a = new Date,
            b = a.getDate();
            10 > b && (b = "0" + b);
            var c = a.getMonth() + 1;
            10 > c && (c = "0" + c);
            a = a.getFullYear();
            $(this).val(a + "-" + c + "-" + b)
        }
    }).end().submit(function() {
        $(a).data("first-search", 1);
        $(this).formValidation("validate").formValidation("get-errors").length || k.dataTable().api().ajax.reload();
        return ! 1
    }).formHandler("hide-ajax-progress");
    var m = new Date,
    f = m.getDate(),
    h = m.getMonth() + 1,
    q = m.getFullYear(),
    r = 0 < m.getMonth() ? m.getMonth() : 12,
    m = 0 < m.getMonth() ? m.getFullYear() : m.getFullYear() - 1;
    10 > f && (f = "0" + f);
    10 > h && (h = "0" + h);
    10 > r && (r = "0" + r);
    $(b).find("[name=dateFrom]").datetimepicker({
        value: m + "-" + r + "-" + f
    });
    $(b).find("[name=dateTo]").datetimepicker({
        value: q + "-" + h + "-" + f
    });
    $(".js-advanced-search-toggle").click(function() {
        var a = $(this),
        c = $(b),
        f = c.find("button"),
        g = c.find(".js-advanced-search");
        g.find(":input").val("").change();
        c.formHandler("validate-and-show");
        a.children().toggleClass("icon-arrow-small-down icon-arrow-small-up");
        f.stop().fadeToggle();
        setTimeout(function() {
            g.stop().slideToggle()
        },
        300);
        setTimeout(function() {
            f.stop().fadeToggle().toggleClass("full-width")
        },
        720);
        return ! 1
    })
};
Tm.Account.prototype.initDataTableWithScrollPaging = function(a, b) {
    var c = [];
    $.fn.dataTable.ext.errMode = "none";
    $(a).attr("data-page", 1);
    $(a).find("thead th").each(function() {
        c.push({
            data: $(this).data("key"),
            name: $.trim($(this).text())
        })
    }).end().dataTable({
        paging: !1,
        processing: !1,
        lengthChange: !1,
        serverSide: !1,
        deferLoading: 0,
        bInfo: !1,
        searching: !1,
        ordering: !1,
        columns: c
    });
    $(".js-appear-bottom.js-appear-visible").appear().on("appear",
    function() {
        var c = $(a).attr("data-isLast");
        if (goog.isDef(c) || !c) {
            var f = parseInt($(a).attr("data-page")) + 1;
            $(".js-appear-bottom").removeClass("js-appear-visible");
            $('<div class="pager_spinner"><span class="spinner"></span></div>').appendTo($(a + "_wrapper"));
            $.ajax({
                type: "POST",
                url: Tm.Account.getLanguagePrefix() + $(a).data("action"),
                data: "page=" + f,
                success: function(c) {
                    $(".pager_spinner", $(a + "_wrapper")).remove();
                    goog.isDef(c.data) && (0 < c.data.length && ($(a).dataTable().fnAddData(c.data, !0), $(a).attr("data-page", f)), 20 > c.data.length ? $(a).attr("data-isLast", 1) : $(".js-appear-bottom").addClass("js-appear-visible"), "function" == typeof b && b())
                }
            })
        }
    })
};
Tm.Account.prototype.autoCheckRestoreLinks = function() {
    var a = $(".js-autocheck-restore");
    a.length && a.each(function() {
        var a = $(this).data("order-id"),
        c = $(this).data("templ-id"),
        g = $(this).data("active-tab");
        $("#" + a + "_" + c + "_" + g).length && window.restoreLink(1, a, c, g)
    })
};
Tm.Account.prototype.trimInputWhiteSpaces = function(a) {
    $(a).find("[type='text']").change(function() {
        var a = $(this).val();
        a.length && $(this).val($.trim(a))
    })
};
Tm.Account.initTooltips = function() {
    $(".js-wait-restoring").each(function() {
        var a = $(this).attr("title"),
        a = a ? a.replace("\n", ", ") : "",
        b = $("<span>", {
            html: a,
            style: "display:none;left:-9999px;position:absolute;top:0px"
        });
        b.addClass("spacer-padding-default");
        b.appendTo("body");
        b.show();
        var c = Math.ceil(b[0].getBoundingClientRect().width),
        g = $(this);
        g.popover({
            placement: "top",
            trigger: "manual",
            template: '<div class="rd-popover rd-popover-top rd-popover-grey" role="tooltip"><div class="popover-content"></div></div>',
            content: a
        });
        g.on("mouseenter",
        function() {
            g.popover("show");
            g.next(".rd-popover").width(c);
            g.popover("show")
        });
        g.on("mouseleave",
        function() {
            g.popover("hide")
        });
        b.remove()
    })
};
Tm.Account.summary = function(a) {
    a.initRestoreLink();
    a.autoCheckRestoreLinks()
};
Tm.Account.billing = function(a) {
    a.initDataTableWithScrollPaging("#purchased-list", null)
};
Tm.Account.purchased = function(a) {
    a.initRestoreLink();
    a.initDataTableWithScrollPaging("#download-list",
    function() {
        a.autoCheckRestoreLinks()
    })
};
Tm.Account.profile = function() {
    function a(a, b) {
        $(b).data("submitInProgress", !1).formHandler("reset-errors").formHandler("disable-validation");
        a.find(".js-edit").hide().end().find(".js-view").show()
    }
    var b = $("#profile-content"),
    c = document.forms.billingInfo,
    g = new Tm.Checkout;
    a(b, c);
    b.on("click", ".js-edit-profile",
    function() {
        c.reset();
        $(c).formHandler("show-ajax-progress", !1);
        $.ajax({
            url: Tm.Account.getLanguagePrefix() + "/account-ajax/get-data.php",
            type: "POST",
            dataType: "json",
            data: {
                billingInfo: !0,
                accountPage: !0
            },
            error: function(a) {
                $(c).formHandler("hide-ajax-progress");
                switch (a.status) {
                default:
                    $(c).formHandler("show-errors", Twig.render(serverError))
                }
                return ! 1
            },
            success: function(a) {
                var b = a.billingInfo;
                $.isPlainObject(b) || (b = {},
                $.isPlainObject(a.userData) && (b.email = a.userData.email, a.userData.fullName != a.userData.email && (b.fullName = a.userData.fullName)));
                "undefined" !== typeof b && g.fillInfoForm(b);
                $(c).formHandler("hide-ajax-progress",
                function() {
                    $(c).formHandler("focus-first")
                })
            }
        });
        b.find(".js-view").hide().end().find(".js-edit").show();
        return ! 1
    });
    b.on("click", ".js-cancel",
    function() {
        a(b, c);
        return ! 1
    });
    g.initBillingInfoForm(c, {
        common_errors_container: ".js-error-message"
    },
    function(f, g, j) {
        "undefined" !== typeof j.profileInfoDetailsHtml && (b.find(".js-view").html(j.profileInfoDetailsHtml), "undefined" !== typeof j.newName && (new Tm.Signin)._setUserFullName(j.newName));
        a(b, c)
    })
};
Tm.Account.loyalty = function(a) {
    var b = document.forms.bonus_transactions_search;
    b && a.initDataTable("#transactions-list", b, null)
};
Tm.Account["write-review"] = function() {
    function a(a, b) {
        $(a).removeClass().addClass("stars rating-style_" + b + "0");
        $(a).find(".star").each(function() {
            var a = $(this); + a.data("number") <= b ? a.removeClass("icon-star-empty").addClass("icon-star-filled") : a.removeClass("icon-star-filled").addClass("icon-star-empty")
        })
    }
    function b() {
        var a = g.data("total-count") - g.find("form").length;
        $(".js-appear-bottom").removeClass("js-appear-visible");
        a && ($('<div class="pager_spinner review-spinner"><span class="spinner"></span></div>').appendTo($(g.selector + "_wrapper")), $.ajax({
            type: "POST",
            url: Tm.Account.getLanguagePrefix() + "/account-ajax/reviews-list.php",
            data: {
                offset: g.find("form").length
            },
            success: function(a) {
                $(".pager_spinner", $(g.selector + "_wrapper")).remove();
                $(".js-appear-bottom").addClass("js-appear-visible");
                g.append(a.reviews);
                c()
            }
        }))
    }
    function c() {
        g.children(":not(.js-initialized-form)").each(function(c, h) {
            $(h).addClass("js-initialized-form");
            var j = $("form", h).get(0);
            $(j).formHandler({
                autofocus_first_field: !1,
                on_empty_checks_callbacks: {
                    content: function(a) {
                        var b = $(".js-review-message", a),
                        c = $(".button[name=submit]", a),
                        f = $(a.content).val().length,
                        g = $(a).data("minimum-length"),
                        h = $(a).data("average-length"),
                        j,
                        k = !1;
                        f > h ? (j = "js-review-message-good", k = !0) : f > g ? (j = "js-review-message-notbad", k = !0) : (0 < f && (j = "js-review-message-bad"), k = !1);
                        k ? (c.removeAttr("disabled"), $(a).formHandler("enable-submit")) : ($(a).formHandler("disable-submit"), c.attr("disabled", !0));
                        b.addClass("hidden");
                        j && b.filter("." + j).removeClass("hidden");
                        return ! 0
                    }
                },
                on_submit_success: function(a, c, f) {
                    $(a).parents(".js-review-wrapper:first").remove();
                    a = f.promocode ? f.promocode: "&nbsp;";
                    $("#review-popup-wrapper").find(".js-review-promo-code").html(a).end().modal("show");
                    $.isNumeric(f.reviewsTotalCount) && (a = f.reviewsTotalCount, g.data("total-count", a), $(".js-reviews-total-count").html(0 < a ? "(" + a + ")": ""), f.reviewsTotalCount ? g.find("form").length || b() : ($(".js-alert").addClass("js-none"), $("#account-reviews-no-items").removeClass("js-none")))
                }
            });
            var k = $(".stars", j).get(0),
            m = j.score;
            $(k).on("mouseover", ".star",
            function() {
                var b = +$(this).data("number");
                a(k, b)
            });
            $(k).on("click", ".star",
            function() {
                var a = +$(this).data("number");
                $(m).val(a)
            });
            $(k).mouseout(function(b) {
                $(b.target).hasClass("stars") && (b = $(m).val(), a(k, b))
            })
        })
    }
    var g = $("#account-reviews-list");
    g.length && (c(), $(".js-appear-bottom.js-appear-visible").appear().on("appear", b))
};
Tm.Account.parseResponce = function(a) {
    if (null == a) return ! 1;
    if ("undefined" != typeof a.innerhtml) for (var b in a.innerhtml) $("#" + a.innerhtml[b].id).html(a.innerhtml[b].html);
    if ("undefined" != typeof a.appendhtml) for (b in a.appendhtml) $("#" + a.appendhtml[b].id).append(a.appendhtml[b].html);
    if ("undefined" != typeof a.prependhtml) for (b in a.prependhtml) $("#" + a.prependhtml[b].id).prepend(a.prependhtml[b].html);
    if ("undefined" != typeof a.eval) for (b in a.eval) eval(a.eval[b]);
    if ("undefined" != typeof a.addclass) for (b in a.addclass) $("#" + a.addclass[b].id).addClass(a.addclass[b].classes);
    if ("undefined" != typeof a.removeclass) for (b in a.removeclass) $("#" + a.removeclass[b].id).removeClass(a.removeclass[b].classes);
    if ("undefined" != typeof a.loadjs) for (b in a.loadjs) $("head:first").prepend('<script type="text/javascript" src="' + a.loadjs[b] + '"><\/script>');
    if ("undefined" != typeof a.loadcss) for (b in a.loadcss) $("head:first").prepend('<link rel="stylesheet" type="text/css" href="' + a.loadcss[b] + '"/>');
    "undefined" != typeof a.redirect && (window.location = a.redirect[0]);
    "undefined" != typeof a.focusId && setTimeout(function() {
        $("#" + a.focusId[0]).focus()
    },
    10);
    this.initTooltips()
};
Tm.Account.ajaxResponseRestoreWithAutocheck = function(a, b) {
    $.isPlainObject(a) && a.orderId && a.templId && b.divId ? (Tm.Account.parseResponce(a), $("#" + b.divId).smartupdater({
        url: Tm.Account.getLanguagePrefix() + "/account-ajax/check-restore-link.php",
        minTimeout: 5E3,
        type: "post",
        data: {
            orderId: a.orderId,
            templId: a.templId,
            tab: a.activeTab
        },
        dataType: "json"
    },
    function(a) { ! 1 != a && ("undefined" !== typeof a.updaterId && $("#" + a.updaterId).smartupdater("stop"), Tm.Account.parseResponce(a))
    })) : document.forms.download_search && $(form).formHandler("show-errors", Twig.render(serverError))
};
Tm.Account.prepareAjaxQuery = function(a, b) {
    if ("string" != typeof a) return alert(Twig.render(jajaxUrlError)),
    !1;
    "undefined" == typeof b && (b = {});
    "undefined" == typeof b.fun && (b.fun = null);
    "undefined" == typeof b.funParams && (b.funParams = null);
    "undefined" == typeof b.error && (b.error = null);
    "undefined" == typeof b.datatype && (b.datatype = "json");
    "undefined" == typeof b.post && (b.post = "");
    "undefined" == typeof b.async && (b.async = !0);
    if ("undefined" != typeof b.formid) {
        var c = $("#" + b.formid).serialize();
        "" != c && "" != b.post && (c += "&");
        "boolean" == typeof b.clearform && b.clearform && $("#" + b.formid).each(function() {
            this.reset()
        });
        b.post = c + b.post
    }
    $.ajax({
        type: "POST",
        url: a,
        data: b.post,
        cache: !1,
        async: b.async,
        dataType: b.datatype,
        processData: !1,
        scriptCharset: "UTF-8",
        beforeSend: function(a) {
            a.setRequestHeader("X-JAJAX-Version", "0.2")
        },
        success: function(a) {
            null != b.fun && (null != b.funParams ? b.fun(a, b.funParams) : b.fun(a))
        },
        error: function(a) {
            null != b.error && b.error(a)
        }
    })
};
Tm.Account.getLanguagePrefix = function() {
    return (new CLS56).urlPrefix()
};
function chatInit(a, b) {
    function c(a) {
        if ("undefined" !== typeof r) {
            var c = "",
            f = "";
            b && b.isSignedIn() && (c = b.getUserFullName(), f = b.getUserEmail());
            $(r.name).val(c);
            $(r.email).val(f);
            $(r).formHandler("reset-errors").formHandler("disable-submit").formHandler("hide-ajax-progress");
            c = $(r);
            f = "";
            if ("undefined" !== typeof ga) {
                var g = ga.getAll();
                g.length && (f = g[0].get("linkerParam").split("=").slice(1).toString())
            }
            0 == c.find("input[name=_ga_client]").length && $("<input />").attr("type", "hidden").attr("name", "_ga_client").attr("value", f).appendTo(c);
            j.stop().animate({
                right: -43
            },
            {
                duration: 150,
                complete: function() {
                    j.stop().animate({
                        height: 257
                    },
                    {
                        duration: 150,
                        complete: function() {
                            h.css({
                                right: -235
                            }).show().animate({
                                right: "3%"
                            },
                            {
                                duration: 150
                            });
                            j.hide();
                            $(r).formHandler("enable-submit");
                            a && $(r).formHandler("focus-first")
                        }
                    })
                }
            })
        }
    }
    function g() {
        h.find("input, textarea").popover("destroy").removeClass("error").stop().animate({
            right: -235
        },
        {
            duration: 150,
            complete: function() {
                h.hide();
                j.show().animate({
                    height: 36
                },
                {
                    duration: 150,
                    complete: function() {
                        j.animate({
                            right: "1%"
                        },
                        {
                            duration: 150,
                            complete: function() {
                                $.browser.mozilla && $(".live-chat-out").css({
                                    position: "absolute"
                                });
                                setTimeout(function() {
                                    $(".live-chat-out").css({
                                        position: "fixed"
                                    })
                                },
                                1)
                            }
                        });
                        $(".live-chat-form a.btn div.progress").hide();
                        $(".live-chat-form input").removeAttr("disabled");
                        $(".live-chat-form a.btn").css("z-index", "10")
                    }
                })
            }
        });
        "1" !== $.cookie("tmLivechat") && (Tm.setCookie("tmLivechat", "1"), clearTimeout(l))
    }
    function f(a) {
        $(".live-chat-form a.btn div.progress").show();
        $(".live-chat-form input").attr("disabled", "");
        $(".live-chat-form a.btn").css("z-index", "-10");
        var b = $.trim(a.find('input[name="name"]').val()),
        a = $.trim(a.find('input[name="email"]').val());
        $(document).trigger("Gtag.chatEnter.push", {
            name: b,
            email: a
        });
        g()
    }
    var h = $(".live-chat-in").hide(),
    j = $(".live-chat-out").hide();
    if (function(a) {
        if (MobileEsp.DetectTierTablet() || MobileEsp.DetectTierIphone() || !a.enabled) return ! 1;
        var b = $.cookie("country_code");
        if ("undefined" === typeof b || -1 != $.inArray(b, a.blockCountry)) return ! 1;
        if (!a.showForAllCustomers && (b = $.cookie("fd"), "undefined" !== typeof b)) {
            var c = new Date,
            f = new Date;
            f.setTime(1E3 * b);
            if (f.getFullYear() !== c.getFullYear() || f.getMonth() !== c.getMonth() || f.getDate() !== c.getDate()) return ! 1
        }
        return "blockURLs" in a && RegExp(a.blockURLs).test(document.location.href) ? !1 : !0
    } (a)) {
        $(".js-live-chat-text").show();
        j.fadeIn(600);
        var k = 1E3 * parseInt(a.autoOpenTimeout) || 0,
        m = 1E3 * parseInt(a.autoCloseTimeout) || 2E3,
        q = 1E3 * parseInt(a.autoCloseAfterManualOpen) || 15E3,
        r = document.forms.live_chat,
        p;
        j.click(function() {
            c(!0)
        });
        h.find(".btn-close").click(function() {
            g()
        });
        var l, z, F;
        $(".live-chat-in").click(function() {
            clearTimeout(z);
            clearTimeout(F)
        });
        $(".live-chat-in .live-chat-form .box-input input").focus(function() {
            clearTimeout(z);
            clearTimeout(F)
        });
        $(".live-chat-out").click(function() {
            clearTimeout(l);
            F = setTimeout(function() {
                g()
            },
            q)
        });
        $(r).formHandler({
            popover_placement: "left",
            ajax_async_mode: !1,
            on_before_submit: function() {
                var a = navigator.userAgent.toLowerCase(),
                b = "";
                if ( - 1 != a.indexOf("mac")) b = "width=800, height=672";
                else { - 1 != a.indexOf("firefox") && (b = "width=800, height=695"); - 1 != a.indexOf("webkit") && ( - 1 != a.indexOf("chrome") ? b = "width=800, height=680": -1 != a.indexOf("safari") && (b = "width=800, height=597"));
                    if ( - 1 != a.indexOf("msie") || -1 != a.indexOf("trident/7")) b = "width=800, height=683"; - 1 != a.indexOf("opera") && (b = "width=800, height=680")
                }
                p = window.open("", "tmPreSalesChat", b);
                return ! 0
            },
            on_submit_success: function(a, b, c) {
                $(a).formHandler("show-ajax-progress");
                if ($.isPlainObject(c)) {
                    if ("undefined" !== typeof c.innerhtml) for (i in c.innerhtml) $("#" + c.innerhtml[i].id).html(c.innerhtml[i].html);
                    if ("undefined" != typeof c.eval) for (i in c.eval) eval(c.eval[i]);
                    if ("undefined" != typeof c.live_chat_url) return "undefined" !== typeof onChatEnter && (onChatEnter(), $("#gui-invitation-to-chat input").removeClass("error-border")),
                    p && (p.location.href = c.live_chat_url),
                    f($(a)),
                    !0
                }
                p && p.close();
                return ! 1
            },
            on_submit_error: function() {
                p && p.close()
            }
        });
        b && b.isSignedIn() && ($("#live-chat-form-name").val(b.getUserFullName()).trigger("setValue.placeholder"), $("#live-chat-form-email").val(b.getUserEmail()).trigger("setValue.placeholder"));
        "1" !== $.cookie("tmLivechat") && (l = setTimeout(function() {
            c();
            z = setTimeout(function() {
                g()
            },
            m)
        },
        k))
    }
};
tm.discount = tm.discount || {};
CLS26 = function(a, b) {
    this._cart = a;
    this._language = b;
    this._ssd = new CLS27;
    this._discount_link = new CLS27;
    this._isDiscountLoaded = !1;
    this._services = []
};
defineService(["cart", "language"], CLS26);
CLS26.prototype.setLoaded = function() {
    this._isDiscountLoaded = !0;
    return this
};
CLS26.prototype.getPage = function() {
    switch (!0) {
    case detectDemoPage():
        return "demo";
    case detectPreviewPage():
        return "preview";
    case detectCartPage():
        return "cart";
    case detectCheckoutPage():
        return "checkout";
    default:
        return "index"
    }
};
CLS26.prototype.drawPrices = function() {
    if (this._ssd.isEmpty() && this._discount_link.isEmpty()) return this.showPrices(),
    this;
    if (0 === this._services.length) switch (this.getPage()) {
    case "demo":
        this._services.push(new CLS20(this._language));
        break;
    case "preview":
        this._services.push(new CLS17(this._language));
        this._services.push(new CLS19(this._language));
        this._services.push(new CLS25(this._language));
        this._services.push(new CLS18(this._language));
        CLS24 && this._services.push(new CLS24(this._language));
        break;
    case "cart":
        this._services.push(new CLS19(this._language));
        CLS24 && this._services.push(new CLS24(this._language));
        break;
    case "checkout":
        this._services.push(new CLS19(this._language));
        CLS24 && this._services.push(new CLS24(this._language));
        break;
    default:
        this._services.push(new CLS25(this._language)),
        CLS24 && this._services.push(new CLS24(this._language)),
        CLS23 && this._services.push(new CLS23(this._language, this._ssd, this._discount_link))
    }
    goog.array.isEmpty(this._services) || goog.array.forEach(this._services,
    function(a) {
        a.setSSD(this._ssd);
        a.setDiscountLink(this._discount_link);
        a.draw()
    },
    this);
    $(".js-preview-accordion-panel").TMCalcPrice();
    this._cart.recalculate();
    this.showPrices();
    return this
};
CLS26.prototype.initDiscountValues = function(a) {
    this.setLoaded();
    this._ssd = new CLS27;
    this._discount_link = new CLS27;
    if (!goog.isArray(a) && !goog.isObject(a)) return this;
    var b = function(a, b) {
        for (var f in a) for (var h in a[f]) b.addDiscount(new tm.discount.model.discountValue(h, f, a[f][h].period_start_gmt, a[f][h].period_stop_gmt, a[f][h].ids, a[f][h].contextId))
    };
    "discounts" in a && b(a.discounts, this._ssd);
    "discount_link" in a && b(a.discount_link, this._discount_link);
    return this
};
CLS26.prototype.showPrices = function() {
    this._isDiscountLoaded && $(".hide-price").removeClass("hide-price")
};
tm.discount.model = tm.discount.model || {};
tm.discount.model.discountValue = function(a, b, c, g, f, h) {
    this._code = a;
    this._period_start_gmt = c;
    this._period_stop_gmt = g;
    this._percent = parseInt(b);
    this._ids = f;
    this._contextId = h
};
tm.discount.model.discountValue.prototype.isValid = function() {
    var a = new Date(this._period_start_gmt),
    b = new Date(this._period_stop_gmt),
    c = new Date,
    c = new Date(c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate(), c.getUTCHours(), c.getUTCMinutes(), c.getUTCSeconds());
    return 0 <= c.getTime() - a.getTime() && 0 <= b.getTime() - c.getTime()
};
tm.discount.model.discountValue.prototype.calculate = function(a) {
    this._percent = 100 < this._percent ? 100 : this._percent;
    this._percent = 0 > this._percent ? 0 : this._percent;
    return Math.round(0.01 * a * (100 - this._percent))
};
tm.discount.model.discountValue.prototype.getIds = function() {
    return this._ids
};
tm.discount.model.discountValue.prototype.getPercent = function() {
    return this._percent
};
tm.discount.model.discountValue.prototype.getPeriodStop = function() {
    return this._period_stop_gmt
};
tm.discount.model.discountValue.prototype.getCode = function() {
    return this._code
};
tm.discount.model.discountValue.prototype.getContextId = function() {
    return this._contextId
};
CLS27 = function() {
    this._discountValues = []
};
CLS27.prototype.getDiscount = function(a) {
    for (var b in this._discountValues) if (goog.array.contains(this._discountValues[b].getIds(), a) && this._discountValues[b].isValid()) return this._discountValues[b];
    return ! 1
};
CLS27.prototype.addDiscount = function(a) {
    this._discountValues.push(a)
};
CLS27.prototype.isEmpty = function() {
    return 0 === this._discountValues.length
};
tm.discount.model = tm.discount.model || {};
tm.discount.model.abstractTemplate = function(a, b) {
    this._tid = parseInt(a);
    this._regularPriceContainer = b;
    this._periodStop = 0
};
tm.discount.model.abstractTemplate.prototype._tid = 0;
tm.discount.model.abstractTemplate.prototype._regularPriceContainer = null;
tm.discount.model.abstractTemplate.prototype.getOriginalPrice = function() {};
tm.discount.model.abstractTemplate.prototype.getPurchasePrice = function(a, b) {
    var c = this.getOriginalPrice(),
    g = this.getActiveDiscount(a, b);
    return this.calculateDiscount(c, g)
};
tm.discount.model.abstractTemplate.prototype.getActiveDiscount = function(a, b) {
    if (this.getIsTemplatePromocode()) return ! 1;
    var c = !b || b.isEmpty() ? !1 : b.getDiscount(this.getId()),
    g = !a || a.isEmpty() ? !1 : a.getDiscount(this.getId());
    return c && g ? c.getPercent() > g.getPercent() ? c: g: c ? c: g
};
tm.discount.model.abstractTemplate.prototype.calculateDiscount = function(a, b) {
    return goog.isDef(b) && b ? b.calculate(a) : a
};
tm.discount.model.abstractTemplate.prototype.getIsTemplatePromocode = function() {
    if (0 < $(".js-total-promocode-discount").not(".js-none").length) {
        var a = $(".js-total-promocode-discount").not(".js-none").attr("data-namespace"),
        b = $(".js-total-promocode-discount").not(".js-none").attr("data-products").match(/\d+/g);
        return "template" === a && -1 !== $.inArray(this.getId().toString(), b)
    }
    return ! 1
};
tm.discount.model.abstractTemplate.prototype.getId = function() {
    return this._tid
};
tm.discount.model.abstractTemplate.prototype.getActiveDiscount = function(a, b) {
    if (this.getIsTemplatePromocode()) return ! 1;
    var c = !b || b.isEmpty() ? !1 : b.getDiscount(this.getId()),
    g = !a || a.isEmpty() ? !1 : a.getDiscount(this.getId());
    return c && g ? c.getPercent() > g.getPercent() ? c: g: c ? c: g
};
tm.discount.model.templateWithLicense = function(a, b) {
    tm.discount.model.abstractTemplate.call(this, a, b)
};
goog.inherits(tm.discount.model.templateWithLicense, tm.discount.model.abstractTemplate);
tm.discount.model.templateWithLicense.prototype._tid = 0;
tm.discount.model.templateWithLicense.prototype._regularPriceContainer = null;
tm.discount.model.templateWithLicense.prototype.getOriginalPrice = function() {
    return this._regularPriceContainer.data("full_price")
};
tm.discount.model.templateWithoutLicense = function(a, b) {
    tm.discount.model.abstractTemplate.call(this, a, b)
};
goog.inherits(tm.discount.model.templateWithoutLicense, tm.discount.model.abstractTemplate);
tm.discount.model.templateWithoutLicense.prototype._tid = 0;
tm.discount.model.templateWithoutLicense.prototype._regularPriceContainer = null;
tm.discount.model.templateWithoutLicense.prototype.getOriginalPrice = function() {
    return this._regularPriceContainer.data("price")
};
tm.discount.model.templateWithoutLicense.prototype.getIsTemplatePromocode = function() {
    return ! 1
};
tm.discount.ui = tm.discount.ui || {};
CLS21 = function(a) {
    this._language = a
};
CLS21.prototype.draw = function() {};
CLS21.prototype.getTemplates = function() {};
CLS21.prototype._isExclusive = function(a) {
    return "exclusive" === $(a).attr("data-variant") || "exclusive" === $(a).attr("data-license")
};
CLS21.prototype.getSSD = function() {
    return this._ssd
};
CLS21.prototype.getDiscountLink = function() {
    return this._discount_link
};
CLS21.prototype.setSSD = function(a) {
    return this._ssd = a
};
CLS21.prototype.setDiscountLink = function(a) {
    return this._discount_link = a
};
CLS17 = function(a, b, c) {
    CLS21.call(this, a, b, c);
    this.days = Twig.render(days);
    this.hrs = Twig.render(hrs);
    this.min = Twig.render(min);
    this.sec = Twig.render(sec);
    this._time = new CLS62
};
goog.inherits(CLS17, CLS21);
CLS17.prototype.draw = function() {
    var a = this.getTemplates();
    if (0 !== a.length) {
        var b = $('.js-preview-accordion-panel[data-template_id="' + a.getId() + '"]'),
        c = a.getOriginalPrice(),
        g = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()),
        f = a.getActiveDiscount(this.getSSD(), this.getDiscountLink()),
        h = $('.js-preview-accordion-panel.active[data-template_id="' + a.getId() + '"]:first');
        f && (this.remainingTime = f ? this.getTimeRemaining(f.getPeriodStop()) : 0, this.initialCountdown(a), this._isExclusive(h) || this.showCountdown(), $(document).on("MainEvents.templates.changeLicense.accordion", $.proxy(this.changeLicense, this)), goog.array.forEach(b,
        function(a) {
            if (!this._isExclusive(a)) {
                var a = $(".js-price", a),
                b = parseInt(a.data("price")),
                f = parseInt(a.data("full_price")),
                h = b - c + g;
                f == b && b != h && a.attr("data-price", h).html('<span class="discount">' + this._language.formatMoney(b) + "</span> " + this._language.formatMoney(h))
            }
        },
        this))
    }
};
CLS17.prototype.getTemplates = function() {
    var a = [],
    b = $('.js-preview-accordion-panel[data-variant="regular"]:first'),
    c = $(".js-price:first", b);
    0 < c.length && goog.array.isNumeric($(b).attr("data-template_id")) && (a = new tm.discount.model.templateWithLicense($(b).attr("data-template_id"), c));
    return a
};
CLS17.prototype.initialCountdown = function(a) {
    var b = a.getActiveDiscount(this.getSSD(), this.getDiscountLink());
    this.remainingTime && (0 < this.remainingTime.total && 7 > this.remainingTime.days) && (this.drawCountdownWidget(this._language.formatMoney(a.getOriginalPrice())), this.changeLicense(), this.replaceDiscountValue(b), b = $(".js-countdown-block"), b.on("click", ".close",
    function() {
        this.closeCountdown();
        setTimeout(fixedAddCart, 500)
    }.bind(this)), this.startCountdown(b, a))
};
CLS17.prototype.getTimeRemaining = function(a) {
    var b = new Date,
    a = this._time.getDateFromFormat(a) - b.getTime();
    return 0 < a ? {
        total: a,
        seconds: Math.floor(a / 1E3 % 60),
        minutes: Math.floor(a / 1E3 / 60 % 60),
        hours: Math.floor(a / 36E5 % 24),
        days: Math.floor(a / 864E5)
    }: null
};
CLS17.prototype.getPieces = function(a) {
    var b = "",
    c = a.days,
    g = a.hours,
    f = a.minutes,
    h = a.seconds;
    if (0 < a.days) b += '<div class="days"><span class="num">' + c + "</span>" + this.days + "</div>";
    else {
        if (0 < a.hours) b += '<div class="hrs"><span class="num">' + g + "</span>" + this.hrs + "</div>";
        else return 0 < a.minutes && (b += '<div class="min"><span class="num">' + f + "</span>" + this.min + "</div>"),
        b += '<div class="sec"><span class="num">' + h + "</span>" + this.sec + "</div>";
        b += '<div class="min"><span class="num">' + f + "</span>" + this.min + "</div>";
        return b += '<div class="sec"><span class="num">' + h + "</span>" + this.sec + "</div>"
    }
    b += '<div class="hrs"><span class="num">' + g + "</span>" + this.hrs + "</div>";
    return b += '<div class="min"><span class="num">' + f + "</span>" + this.min + "</div>"
};
CLS17.prototype.startCountdown = function(a, b) {
    var c = setInterval(function() {
        var g = b.getActiveDiscount(this.getSSD(), this.getDiscountLink()),
        g = g ? this.getTimeRemaining(g.getPeriodStop()) : 0; ! g || 0 >= g.total ? (clearInterval(c), this.closeCountdown()) : a.find(".js-countdown-timer").html(this.getPieces(g))
    }.bind(this), 1E3)
};
CLS17.prototype.changeLicense = function() {
    var a = this.getTemplates(),
    b = a.getOriginalPrice(),
    c = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()),
    a = $(".js-countdown-block"),
    g = $(".js-preview-accordion-panel.active");
    if ("exclusive" === $(g).attr("data-variant")) return this.hideCountdown(),
    !1;
    a.hasClass("closed") || this.showCountdown();
    var g = $(".js-price", g),
    f = parseInt(g.data("price")),
    h = parseInt(g.data("full_price")),
    c = f - b + c;
    h == f && f != c && (c = this._language.formatMoney(c), b = this._language.formatMoney(h), f = g.find(".discount"), g.text(" " + c), g.prepend(f), $(a).find(".js-countdown-price").text(b))
};
CLS17.prototype.drawCountdownWidget = function(a) {
    if (! (0 < $(".js-countdown-block").length)) {
        var b = $("#purchase_options"),
        c = this.remainingTime,
        a = '<div class="countdown-block js-countdown-block rd-popover rd-popover-top rd-popover-grey alert rd-closing"><div class="popover-content"><strong class="countdown-block-heading js-countdown-block-heading">' + Twig.render(productOfTheDayWith).replace("%d", "0") + '</strong><p class="countdown-block-content">' + Twig.render(hurryOn) + '</p><div class="countdown-block-footer flex-row"><div class="countdown-timer js-countdown-timer flex-row">' + this.getPieces(c) + '</div><div class="price">' + Twig.render(oldPrice) + ': <span class="js-countdown-price line-through">' + a + '</span></div></div></div><span id="countdown-close" class="close"></span></div>';
        b.prepend(a);
        return b
    }
};
CLS17.prototype.replaceDiscountValue = function(a) {
    a && $(".js-countdown-block-heading .percent").text(a.getPercent())
};
CLS17.prototype.showCountdown = function() {
    var a = $(".js-countdown-block");
    a.hasClass("show") || setTimeout(function() {
        a.removeClass("closed").addClass("show").removeClass("pointer-events-none");
        fixedAddCart()
    },
    400)
};
CLS17.prototype.hideCountdown = function() {
    $(".js-countdown-block").removeClass("show").addClass("pointer-events-none");
    setTimeout(function() {
        fixedAddCart()
    },
    500)
};
CLS17.prototype.closeCountdown = function() {
    this.hideCountdown();
    $(".js-countdown-block").addClass("closed")
};
CLS25 = function(a, b, c) {
    CLS21.call(this, a, b, c)
};
goog.inherits(CLS25, CLS21);
CLS25.prototype.draw = function() {
    var a = this.getTemplates();
    goog.array.forEach(a,
    function(a) {
        var c = a.getOriginalPrice(),
        g = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()),
        f = $('.js-template-price[data-tid="' + a.getId() + '"]'),
        h = f.parents("li.thumbnail"),
        j = f.parents(".thumbnail-container"),
        k = $(".badge-custom", h),
        m = Twig.render(messageBadgeSale);
        if (c != g) {
            var q = "",
            q = f.is(".js-free-sample-discount") ? '<span class="discount-price"><span class="line-through">' + this._language.formatMoney(c) + '</span></span><span class="dollar-icon"></span>' + this._language.formatMoney(g) + "": '<span class="discount-price"><span class="line-through">' + this._language.formatMoney(c) + "</span></span>" + this._language.formatMoney(g);
            f.attr("data-purchase_price", g);
            f.html(q);
            if (0 < k.length) k.not(".badge-lastadded").removeClass("badge-bestsellers").removeClass("badge-recently-updated").addClass("badge-sale").html('<span class="badge-text">' + m + "</span>");
            else if (a = $("#thmb-img-" + a.getId())) if (a = a.attr("href")) m = "<div data-href='" + a + "' class='badge-custom badge-sale js-btn link-click'><span class='badge-text'>" + m + "</span></div>",
            0 < j.length ? j.prepend(m) : h.prepend(m)
        }
    },
    this)
};
CLS25.prototype.getTemplates = function() {
    var a = [],
    b = [];
    $(".js-thumbnail").each(function() {
        var c = $(this).data("tid"),
        g = $('.js-template-price[data-tid="' + c + '"]');
        0 < g.length && !goog.array.contains(b, c) && (b.push(c), a.push(new tm.discount.model.templateWithoutLicense(c, g)))
    });
    return a
};
CLS24 = function(a, b, c) {
    CLS21.call(this, a, b, c)
};
goog.inherits(CLS24, CLS21);
CLS24.prototype.draw = function() {
    var a = this.getTemplates();
    goog.array.forEach(a,
    function(a) {
        var c = a.getOriginalPrice(),
        g = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()),
        a = $('.js-suggested-price[data-tid="' + a.getId() + '"]');
        c != g && (c = '<b class="discount-price line-through">' + this._language.formatMoney(c) + "</b>" + this._language.formatMoney(g), a.html(c))
    },
    this)
};
CLS24.prototype.getTemplates = function() {
    var a = [],
    b = [];
    $(".js-suggested-item").each(function() {
        var c = $(this).data("tid"),
        g = $('.js-suggested-price[data-tid="' + c + '"]');
        0 < g.length && !goog.array.contains(b, c) && (b.push(c), a.push(new tm.discount.model.templateWithoutLicense(c, g)))
    });
    return a
};
CLS19 = function(a, b, c) {
    CLS21.call(this, a, b, c)
};
goog.inherits(CLS19, CLS21);
CLS19.prototype.draw = function() {
    var a = this.getTemplates();
    goog.object.forEach(a,
    function(a) {
        var c = a.getOriginalPrice(),
        g = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()),
        a = '.js-license[data-template_id="' + a.getId() + '"]';
        goog.array.forEach($(a),
        function(a) {
            if (!this._isExclusive(a)) {
                var b = $(".js-txt-price", a),
                j = parseInt($(a).data("full_price")),
                k = parseInt(j) - parseInt(c) + parseInt(g);
                $(a).attr("data-subtotal_price") != k && ($(a).attr("data-subtotal_price", k), j != k ? b.html('<span class="discount">+' + this._language.formatMoney(j) + "</span> +" + this._language.formatMoney(k)) : b.html(" +" + this._language.formatMoney(k)))
            }
        },
        this)
    },
    this)
};
CLS19.prototype.getTemplates = function() {
    var a = [],
    b = [];
    $(".js-license").each(function() {
        var c = $(this).data("template_id");
        "regular" == $(this).data("license") && !goog.array.contains(b, c) && (b.push(c), a.push(new tm.discount.model.templateWithLicense(c, $(this))))
    });
    return a
};
CLS18 = function(a, b, c) {
    CLS21.call(this, a, b, c)
};
goog.inherits(CLS18, CLS21);
CLS18.prototype.draw = function() {
    var a = this.getTemplates();
    goog.object.forEach(a,
    function(a) {
        var c = a.getOriginalPrice(),
        g = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()); ! isNaN(c) && !isNaN(g) && (a = $('.js-also-available-as[data-tid="' + a.getId() + '"] .js-price'), c != g && (a.html('<span class="discount">+' + this._language.formatMoney(c) + "</span> +" + this._language.formatMoney(g)), a.attr("data-price", g)))
    },
    this)
};
CLS18.prototype.getTemplates = function() {
    var a = [],
    b = [];
    $(".js-also-available-as").each(function() {
        var c = $(this).data("tid"),
        g = $(".js-price", $(this));
        0 < g.length && !goog.array.contains(b, c) && (b.push(c), a.push(new tm.discount.model.templateWithoutLicense(c, g)))
    });
    return a
};
CLS22 = function(a, b, c) {
    CLS25.call(this, a, b, c)
};
goog.inherits(CLS22, CLS25);
CLS22.prototype.getTemplates = function() {
    var a = [],
    b = [];
    $(".js-out-off-stock").each(function() {
        var c = $(this).data("tid"),
        g = $(".js-template-price", $(this));
        0 < g.length && !goog.array.contains(b, c) && (b.push(c), a.push(new tm.discount.model.templateWithoutLicense(c, g)))
    });
    return a
};
CLS20 = function(a, b, c) {
    CLS21.call(this, a, b, c)
};
goog.inherits(CLS20, CLS21);
CLS20.prototype.draw = function() {
    var a = this.getTemplates();
    goog.object.forEach(a,
    function(a) {
        var c = a.getOriginalPrice(),
        g = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()),
        a = $(".js-demo-buy-button");
        goog.array.forEach(a,
        function(a) {
            if (!this._isExclusive(a)) {
                var b = $(a).data("price"),
                j = parseInt(b) - parseInt(c) + parseInt(g);
                b != j && (b = '<span class="discount">' + this._language.formatMoney(b) + '</span> <span class="new-price js-new-price">' + this._language.formatMoney(j) + "</span> ", $('.js-demo-list-li[data-variant="' + $(a).data("variant") + '"] ').attr("data-price", j).find(".js-price").html(b), $(a).attr("data-price", j), a = $(".price-wrapper." + $(a).data("variant")), 1 == a.length && a.find(".js-price:first").html(b))
            }
        },
        this)
    },
    this)
};
CLS20.prototype.getTemplates = function() {
    var a = [],
    b = $('.js-demo-buy-button[data-variant="regular"]:first');
    0 < b.length && goog.array.isNumeric($(".js-demo-upper-menu").data("template_id")) && a.push(new tm.discount.model.templateWithLicense($(".js-demo-upper-menu").data("template_id"), b));
    return a
};
CLS23 = function(a, b, c) {
    CLS25.call(this, a, b, c)
};
goog.inherits(CLS23, CLS25);
CLS23.prototype.getTemplates = function() {
    var a = [],
    b = [];
    $(".js-product-of-the-day-item").each(function() {
        var c = $(this).data("tid"),
        g = $(".js-template-price", $(this));
        0 < g.length && !goog.array.contains(b, c) && (b.push(c), a.push(new tm.discount.model.templateWithoutLicense(c, g)))
    });
    return a
};
CLS23.prototype.getDiscountPriceBlock = function(a) {
    return $('<div class="price-item"><label>' + Twig.render(yourPrice) + '</label><strong class="discount-price">' + a + "</strong></div>")
};
CLS23.prototype.getDiscountValueBlock = function(a) {
    return "tr" === $("html").attr("lang") ? $('<div class="price-item"><label>' + Twig.render(youSave) + '</label><span class="discount">%' + a + "</span></div>") : $('<div class="price-item"><label>' + Twig.render(youSave) + '</label><span class="discount">' + a + "%</span></div>")
};
CLS23.prototype.draw = function() {
    var a = this.getTemplates(),
    b = [];
    goog.array.forEach(a,
    function(a) {
        var g = a.getOriginalPrice(),
        f = a.getPurchasePrice(this.getSSD(), this.getDiscountLink()),
        h = $(".js-template-price", $('.js-product-of-the-day-item[data-tid="' + a.getId() + '"]')),
        j = a.getActiveDiscount(this.getSSD(), this.getDiscountLink());
        g !== f && (1 === $(h).children().length && -1 !== $.inArray(j.getContextId(), ["13964", "13965"])) && (b.push({
            id: a.getId(),
            code: j.getCode(),
            discount: j.getPercent(),
            period_stop: j.getPeriodStop()
        }), h.prepend(this.getDiscountPriceBlock(this._language.formatMoney(f))).append(this.getDiscountValueBlock(j.getPercent())), $(".js-discount-percent").html(Twig.render(discount).replace("%d", j.getPercent())))
    },
    this);
    $(document).trigger("drawDiscounts.ProductOfTheDay", {
        templates: b
    })
};
CLS9 = function(a) {
    this._language = a;
    this._cart = $("header #shp-cart");
    this._cart_counter = $(".js-cart-count");
    this._header_cart_counter = this._cart.find("#cart-count");
    this._header = $("h1.shopping-cart-title");
    localStorage.getItem("locale") !== this._language.lang && (this._reValidate(), localStorage.setItem("locale", this._language.lang));
    $(document).on("MainEvents.user.login", $.proxy(function() {
        this._reValidate()
    },
    this))
};
defineService(["language"], CLS9);
CLS9.prototype._cart = null;
CLS9.prototype._cart_counter = null;
CLS9.prototype._header_cart_counter = null;
CLS9.prototype._header = null;
CLS9.prototype.isEmpty = function() {
    return ! this._cart_counter.is(":visible")
};
CLS9.prototype.showCounter = function(a, b) {
    if (a) {
        var c = 1 < a ? Twig.render(cartItems) : Twig.render(cartItem);
        this._cart.setTooltip({
            placement: "bottom",
            html_class: "cart-popover",
            mode: "multi-line",
            title: '<div class="text-center lowercase"><div class="cart-popover-price uppercase">' + this._language.formatMoney(b) + "</div>" + a + "\t" + c + "</div>"
        });
        this._header_cart_counter.children("span").html(a);
        this._cart_counter && this._cart_counter.text(a);
        this._cart.addClass("button btn-important")
    } else this._cart.removeClass("button btn-important"),
    this._cart.tooltip("destroy");
    $(document).trigger("MainEvents.cart.recalculated", {
        count: a,
        value: b
    })
};
CLS9.prototype.hideCounter = function() {
    this._header.html(Twig.render(messageShoppingCartIsEmpty));
    return this.showCounter()
};
CLS9.prototype.checkCookie = function() {
    var a = parseInt($.cookie("sci_count")),
    b = parseInt($.cookie("sca_value")); ! isNaN(a) && !isNaN(b) && 0 < a ? this.showCounter(a, b) : this.hideCounter()
};
CLS9.prototype.recalculate = function() {
    var a = $(".js-cart-summary-content .js-item-template").not(".js-none"),
    b = $(".js-cart-summary-subtotal .js-price"),
    c = $(".js-total-promocode-discount-amount"),
    g = 0,
    f = 0,
    h = $(".js-total-price"),
    j = 0,
    k = 0;
    a.each(function() {
        var a = 0,
        b = 0;
        $(this).find(".js-popup-cart-item").not(".js-none").each(function() {
            b += parseInt($(this).attr("data-subtotal_price"));
            a += parseInt($(this).attr("data-price"))
        });
        j += parseInt(a);
        k += parseInt(b)
    });
    $(".js-cart-oncart-offers .js-popup-cart-item").not(".js-none").each(function() {
        f += parseInt($(this).attr("data-price"));
        g += parseInt($(this).attr("data-subtotal_price"))
    });
    j += f;
    j -= this._getBonuses();
    k += g;
    b.attr("data-price", k).html(this._language.formatMoney(k));
    h.attr("data-price", j).html(this._language.formatMoney(j));
    c.html(this._language.formatMoney(k - (j + this._getBonuses())));
    this.checkCookie()
};
CLS9.prototype._getBonuses = function() {
    return parseInt($(".js-total-redeemed-bonus-amount").attr("data-amount"))
};
CLS9.prototype.changeCheckoutUrl = function(a) {
    var b = $(".js-checkout-button");
    if (0 < b.length) {
        var c = b.data("url");
        "undefined" === typeof c && (c = b.attr("href"), b.attr("data-url", c));
        c = c.replace("step1", a);
        b.attr("href", c).attr("data-url", c)
    }
};
CLS9.prototype._reValidate = function() {
    $.ajax({
        url: this._language.urlPrefix("/cart-ajax/re-validate.php"),
        type: "GET",
        success: $.proxy(function() {
            this.checkCookie()
        },
        this)
    })
};
CLS11 = function() {};
CLS11.prototype.spinner_;
CLS11.prototype.number_of_ajax_ = 0;
CLS11.prototype.enterDocument = function() {
    $(document).on("start.cart.load", $.proxy(this.onLoadStart, this));
    $(document).on("start.cart.load.block.checkout", $.proxy(this.onLoadStartBlockCheckout, this));
    $(document).on("stop.cart.load", $.proxy(this.onLoadStop, this));
    $(document).on("stop.cart.load.block.checkout", $.proxy(this.onLoadStopBlockCheckout, this))
};
CLS11.prototype.onLoadStart = function(a, b) {
    if ("undefined" === typeof b) return ! 1;
    this.SpinnerOn_(b.button);
    this.ButtonOff_(b.button, "undefined" == typeof b.disableFull ? !0 : b.disableFull);
    "function" === typeof b.callbackFunk && b.callbackFunk()
};
CLS11.prototype.onLoadStartBlockCheckout = function(a, b) {
    if ("undefined" === typeof b) return ! 1;
    this.number_of_ajax_++;
    this.onLoadStart(a, b);
    $(".js-checkout-button").prop("disabled", !0)
};
CLS11.prototype.onLoadStop = function(a, b) {
    if ("undefined" === typeof b) return ! 1;
    this.SpinnerOff_(b.button);
    "undefined" !== typeof b.enableButton && !1 != b.enableButton && this.ButtonOn_(b.button, "undefined" == typeof b.disableFull ? !0 : b.disableFull);
    "function" === typeof b.callbackFunk && b.callbackFunk()
};
CLS11.prototype.onLoadStopBlockCheckout = function(a, b) {
    if ("undefined" === typeof b) return ! 1;
    this.number_of_ajax_--;
    0 >= this.number_of_ajax_ && $(".js-checkout-button").prop("disabled", !1);
    this.onLoadStop(a, b)
};
CLS11.prototype.SpinnerOn_ = function(a) {
    a.addClass("disabled loading")
};
CLS11.prototype.SpinnerOff_ = function(a) {
    a.removeClass("disabled loading")
};
CLS11.prototype.ButtonOn_ = function(a, b) {
    b ? a.removeClass("disabled") : a.prop("disabled", !1).removeClass("half-disabled").removeAttr("disabled")
};
CLS11.prototype.ButtonOff_ = function(a, b) {
    b ? a.addClass("disabled") : a.prop("disabled", !0).addClass("half-disabled").attr("disabled", "disabled")
};
CLS7 = function(a, b) {
    this._cart = a;
    this._language = b
};
defineService(["cart", "language"], CLS7);
CLS7.prototype.enterDocument = function() {
    $(".js-checkout-bonus-input").on("focus",
    function() { ! 1 === $(this).parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").is(":checked") && $(this).parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").prop("checked", !0)
    });
    $.isFunction($.fn.currencyFormater) && $(".js-checkout-bonus-input").currencyFormater();
    $.isFunction($.fn.formHandler) && $("#bonuses-form").formHandler({
        disable_ajax: !0,
        popover_placement: "top",
        check_fields_on_blur: !1,
        on_before_validate: function(a) {
            a.bonus.value = $(a.bonus).currencyFormater().val();
            detectOldIe() && a.bonus.value > this._getAvailableAmount() && (a.bonus.value = this._getAvailableAmount());
            switch (!0) {
            case isNaN(a.bonus.value):
            case 0 >= a.bonus.value: a.bonus.value = 0
            }
        }.bind(this),
        on_before_submit: function(a) {
            var b = $(".js-checkout-bonus-input").currencyFormater().val(),
            b = this._getRedeemedAmount(b);
            if (0 >= b) return $(".js-bonus-amount-none").click(),
            $(a).formHandler("hide-ajax-progress"),
            !1;
            var c = this._getFullAmount(),
            c = c - b;
            $(".js-checkout-bonus-available-amount").html(this._language.formatMoney(c)).attr("data-redeemed_amount", b);
            $(a).parent("div").addClass("js-none");
            $(".js-checkout-bonus-input").click();
            $(".js-checkout-bonus-redeemed-amount").html(this._language.formatMoney(b)).siblings(".js-bonus-amount-radio").click().parents(".js-loyalty-bonus-radio").removeClass("js-none");
            $(".js-total-redeemed-bonus-amount").attr("data-amount", b).html(this._language.formatMoney(b)).parents(".js-total-redeemed-bonus").removeClass("js-none");
            this._getShoppingCart().recalculate();
            b = parseInt($(".js-total-price").attr("data-price"));
            this.displayBuyButtons_(0 !== b);
            $(a).formHandler("hide-ajax-progress");
            return ! 1
        }.bind(this)
    });
    $(".js-redeemed-button-change").click(function() {
        this.openChangeBlock_();
        $(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").find(".js-bonus-amount-radio").click();
        this.focusFirst()
    }.bind(this));
    $(".js-bonus-amount-none").click(function() {
        $("#bonuses-form").formHandler("disable-validation");
        $("#bonuses-form").formHandler("reset-errors");
        $("#bonuses-form").formHandler("enable-validation");
        this._doNotApply()
    }.bind(this));
    $(".js-bonus-radio-choose").click(function() { ! 1 === $(".js-checkout-bonus-input").is(":focus") && this.focusFirst()
    }.bind(this))
};
CLS7.prototype.displayBuyButtons_ = function(a) {
    a ? ($(".js-payment-select-merchant").removeClass("js-none"), $(".js-payment-complete-order").addClass("js-none")) : ($(".js-payment-select-merchant").addClass("js-none"), $(".js-payment-complete-order").removeClass("js-none"));
    return ! 1
};
CLS7.prototype.openChangeBlock_ = function() {
    $(".js-redeemed-button-change").parents(".js-loyalty-bonus-radio").addClass("js-none");
    $(".js-checkout-bonus-input").parents(".js-loyalty-bonus-radio").removeClass("js-none")
};
CLS7.prototype._getAvailableAmount = function() {
    return parseInt($(".js-checkout-bonus-available-amount").attr("data-available_amount"))
};
CLS7.prototype._getFullAmount = function() {
    return parseInt($(".js-checkout-bonus-available-amount").attr("data-full_amount"))
};
CLS7.prototype._getShoppingCart = function() {
    return this._cart
};
CLS7.prototype._doNotApply = function() {
    $(".js-total-redeemed-bonus-amount").attr("data-amount", 0).html(0).parents(".js-total-redeemed-bonus").addClass("js-none");
    this._getShoppingCart().recalculate();
    $(".js-checkout-bonus-available-amount").html(this._language.formatMoney(this._getFullAmount())).attr("data-redeemed_amount", this._getAvailableAmount());
    this.displayBuyButtons_(!0);
    this.openChangeBlock_();
    $(".js-checkout-bonus-input").val(this._getAvailableAmount()).blur()
};
CLS7.prototype._getRedeemedAmount = function(a) {
    return parseInt(a.replace(/\D/g, ""))
};
CLS7.prototype.focusFirst = function() {
    $(".js-checkout-bonus-input").focus()
};
CLS9 = CLS9 || {};
CLS8 = function(a) {
    this._onAfterLoad = this._isPopupLoaded = !1;
    this._language = a
};
defineService(["language"], CLS8);
CLS8.prototype.init = function(a) {
    this._onAfterLoad = a;
    var b = $(".js-template-id").attr("data-template_id");
    if (goog.string.isEmptySafe(b) || 0 >= $(".js-button-add-to-cart").length) return ! 1;
    var c = this;
    setTimeout(function() {
        if (c._isPopupLoaded) return ! 1;
        c.loadPopup(b)
    },
    2E3);
    $(".js-button-add-to-cart").on("click",
    function() {
        var a = $(this);
        if (c._isPopupLoaded) return addToCart(a),
        !1;
        c.loadPopup(b).done(function() {
            addToCart(a)
        });
        return ! 1
    })
};
CLS8.prototype.loadPopup = function(a) {
    var b = this;
    return $.ajax({
        url: b._language.urlPrefix() + "/ajax/cart-popup/" + a + "/",
        success: function(a) {
            if (goog.string.isEmptySafe(a) || b._isPopupLoaded) return ! 1;
            0 < $(".cd-panel.js-preview-cart").length ? $(".cd-panel.js-preview-cart").append(a) : $("body").append(a);
            b.setPopupLoaded();
            $.isFunction(b._onAfterLoad) && b._onAfterLoad()
        }
    })
};
CLS8.prototype.setPopupLoaded = function() {
    this._isPopupLoaded = !0
}; (function(a) {
    a.fn.TMCalcPrice = function() {
        return this.each(function() {
            var b = 0,
            c = 0,
            b = 0,
            b = parseInt(a(this).find(".js-price").attr("data-price"));
            a(this).find('input.js-preview-offer-checkbox[type="checkbox"]:checked').each(function() {
                a(this).is(":checked") && (c += parseInt(a(this).data("price")))
            });
            b += c;
            a(this).trigger("template.price.calculated", {
                templatePrice: b
            });
            var g = appDic.require("language");
            a(this).find(".js-template-price").html(g.formatMoney(b))
        })
    }
})(jQuery);
function renameCompleteButton() {
    if (!detectCheckoutPage()) return ! 1;
    var a = document.forms.billingInfo,
    b = a.submit.innerHTML;
    a.submit.innerHTML = 0 >= $(".js-cart-summary .js-total-price").attr("data-price") ? b.replace("Continue to Payment", "Complete Order") : b.replace("Complete Order", "Continue to Payment");
    return ! 0
}
function updateCartItems(a) {
    var b = parseInt($(".js-template-id").data("template_id")),
    c = appDic.require("language"),
    g = function(a) {
        return "%" === a.type ? Twig.render(percentLocation).replace(/##/, a.value) : c.formatMoney(a.value)
    },
    f;
    for (f in a) switch (f) {
    case "errors":
        if (a.status) {
            var h = [];
            goog.array.forEach(a[f],
            function(a) {
                h.push(a.messages)
            });
            $(".js-promo-result-box").html(h.join("<br/>"))
        }
        break;
    case "promocode":
        $(".js-promo-result-box").html(a[f].message);
        a[f].code && ($(".js-total-discount").html(g(a[f])), $(".js-promocode-box").val(a[f].code));
        0 < a[f]["total-discount-amount"] && !goog.array.isEmpty(a[f].products) ? ($(".js-promocode-box").val(a[f].code), $(".js-total-promocode-value-type").html(g(a[f])), $(".js-total-promocode-discount-amount").html(c.formatMoney(a[f]["total-discount-amount"])), $(".js-total-promocode-discount").attr("data-namespace", a[f].namespace).attr("data-products", a[f].products).removeClass("js-none")) : ($(".js-total-promocode-discount").addClass("js-none"), $(".js-total-promocode-discount-amount").html(c.formatMoney(a[f]["total-discount-amount"])).attr("data-namespace", "template"));
        break;
    case "license":
        for (var j in a[f]) {
            var k = j.replace(/template-/, "");
            $("." + j + " .js-popup-cart-item.js-license").addClass("js-none").removeClass("js-license-default");
            $(".js-form_select_license").find('.js-license-radio[data-template_id="' + k + '"]').removeClass("selected").find("input:checked").removeProp("checked");
            $("." + j + " .js-popup-cart-item.js-license-" + a[f][j]).addClass("js-license-default").removeClass("js-none");
            $('.js-license-radio[data-template_id="' + k + '"]').each(function() {
                a[f][j] == $(this).data("license") && $(this).addClass("selected").find("input").prop("checked", !0)
            })
        }
        break;
    case "cart_templates":
        $(".js-cart-summary-content .js-item-template").remove();
        $(".js-cart-summary-content").prepend(a[f]);
        break;
    case "cart_select_license_block":
        $(".js-cart-select-license-block").hide();
        $(".js-cart-select-license-block").replaceWith(a[f]);
        $(".js-cart-select-license-block").show();
        break;
    case "cart_offers":
        $(".item-onCartOffer").hide();
        $(".item-onCartOffer").replaceWith(a[f]);
        $(".item-onCartOffer").show();
        break;
    case "offer":
        for (var m in a[f]) {
            k = m.replace(/offer-/, "");
            if (!0 === a[f][m].value) {
                $(".js-popup-cart-item." + m + ".js-parent-" + a[f][m].parent).hasClass("js-parent-oncart") && $(".js-cart-oncart-offers").removeClass("js-none");
                $(".js-popup-cart-item." + m + ".js-parent-" + a[f][m].parent).removeClass("js-none");
                var q = $(".js-popup-cart-item.js-static-" + m + ".js-parent-" + a[f][m].parent + " .js-add-offer");
                if (q.hasClass("js-add-offer")) {
                    var r = q.html();
                    $(".cart-summary").find(".cart-summary-content .cart-summary-item.js-item-template").hasClass("js-none") ? "oncart" == q.data("product") && (q.attr("disabled", "disabled").addClass("check-mark-icon").removeClass("cart-icon"), q.html(r.replace(Twig.render(messageAddToCart), Twig.render(messageAdded)))) : q.attr("disabled", "disabled").addClass("disabled check-mark-icon").removeClass("cart-icon");
                    q.html(r.replace(Twig.render(messageAddToCart), Twig.render(messageAdded))).data("action", "")
                }
                b == a[f][m].parent && $('input.js-preview-offer-checkbox[type="checkbox"][value="' + k + '"]').prop("checked", !0).siblings("a").addClass("active")
            } else $(".js-popup-cart-item." + m + ".js-parent-" + a[f][m].parent).addClass("js-none"),
            0 === $(".js-cart-oncart-offers .js-parent-oncart:visible").length && $(".js-cart-oncart-offers").addClass("js-none"),
            q = $(".js-popup-cart-item.js-static-" + m + ".js-parent-" + a[f][m].parent + " .js-add-offer"),
            q.hasClass("js-add-offer") && (r = q.html(), q.removeClass("disabled").removeAttr("disabled", "disabled").removeClass("check-mark-icon").addClass("cart-icon").html(r.replace(Twig.render(messageAdded), Twig.render(messageAddToCart))).data("action", "add")),
            b == a[f][m].parent && $('input.js-preview-offer-checkbox[type="checkbox"][value="' + k + '"]').prop("checked", !1).siblings("a").removeClass("active");
            $(".js-checkout-button").removeClass("disabled loading")
        }
        break;
    case "template":
        for (m in a[f]) ! 1 === a[f][m] ? ($(".js-item-template." + m).addClass("js-none"), b == m.replace(/template-/, "") && $(".js-add-to-cart button").html(Twig.render(messageAddToCart))) : (b == m.replace(/template-/, "") && $(".js-add-to-cart button").html(Twig.render(messageAddedToCart)), $(".js-item-template." + m).removeClass("js-none"), $(".js-add-to-cart button").addClass("disabled"));
        break;
    case "oncart_full_prices":
        for (m in a[f]) $(".offer-" + m).attr("data-price", a.prices["offer-" + m + "-0"]).attr("data-subtotal_price", a[f][m]).find(".js-original-price").addClass("js-none"),
        $(".offer-" + m).find(".js-purchase-price").html(c.formatMoney(a[f][m])),
        $(".js-static-offer-" + m).attr("data-price", a.prices["offer-" + m + "-0"]).attr("data-subtotal_price", a[f][m]).find(".js-price").html(c.formatMoney(a[f][m]));
        break;
    case "prices":
        for (m in a[f]) / ^template - . + /.test(m)&&
(parseInt($(".js-item-template."+m+" .js-license-regular").data("full_price")),k=m.replace(/template - /,""),$('.js-license-radio[data-template_id="'+k+'"] .js-txt-price, \n\t\t\t\t\t\t\t.js-license[data-template_id="'+k+'"] .js-txt-price').each(function(){$(this).parents(".js-license").attr("data-price",a[f][m])})),k=/ ^ offer - (\d + ) - (\d + ) $ / ,
        k.test(m) && (q = m.match(k), k = q[1], q = parseInt(q[2]), q = 0 < q ? q: "oncart", 0 < $(".js-cart-summary .js-parent-" + q + ".offer-" + k).data("full_price") && $(".js-cart-summary .js-parent-" + q + ".offer-" + k).attr("data-price", a[f][m]));
        break;
    case "bonuses":
        goog.isDef(a[f].bonusBlock) ? ($(".js-loyalty-programm-block").replaceWith(a[f].bonusBlock).removeClass("js-none"), appDic.require("bonus").enterDocument()) : $(".js-loyalty-programm-block").html("").addClass("js-none");
        break;
    case "emptyCart":
        a[f] ? ($(".js-cart-not-empty").addClass("hide"), $(".js-cart-empty").removeClass("hide")) : ($(".js-cart-not-empty").removeClass("hide"), $(".js-cart-empty").addClass("hide"));
        break;
    case "freeCart":
        detectCheckoutPage() || (q = $(".js-checkout-button"), r = q.html(), a[f] ? q.html(r.replace("Checkout Now", "Proceed to Download")) : /proceed to download/i.test(r) && q.html(r.replace("Proceed to Download", "Checkout Now")))
    }
    appDic.require("discount").drawPrices();
    $(".js-preview-accordion-panel").TMCalcPrice();
    appDic.require("cart").recalculate();
    renameCompleteButton();
    hideChatLink()
}
function addToCart(a) {
    var b = a.parents("form");
    $("#cart-popup").modal("show");
    var c = a.parents(".js-preview-accordion-panel").data("variant");
    c && b.find('input[name="price_variant"]').val(c);
    $(document).trigger("start.cart.load.block.checkout", {
        button: $(".js-button-add-to-cart")
    });
    $(".js-checkout-button").addClass("loading");
    b = b.serialize();
    c = new CLS56;
    $.ajax({
        url: c.urlPrefix() + "/cart-ajax/addtemplate.php",
        data: b,
        dataType: "json",
        complete: function() {
            $("body").trigger("stop.cart.load", {
                button: $(".js-button-add-to-cart"),
                disableFull: !1,
                enableButton: !0
            })
        },
        success: function(b) {
            updateCartItems(b);
            appDic.require("cart").recalculate();
            $(".js-loader").hide();
            $(".js-checkout-button").removeClass("loading");
            var b = new CLS29,
            c = $(a).parents(".js-preview-accordion-panel").attr("data-template_id");
            b.addDataToCart(c, "template")
        }
    });
    return ! 1
}
function addOfferToCart(a) {
    $("#cart-popup").modal("show");
    $(".js-add-offer[data-offer_id=" + a + "]").click();
    $(".js-loader").hide();
    $(".js-checkout-button").removeClass("loading")
}
function selectLicense(a) {
    var b = a.find(".js-license-radio.selected").data("license"),
    c = a.find(".js-license-radio.selected").data("price"),
    g = a.find(".js-license-radio.selected").data("template_id"),
    a = detectPreviewPage() ? "preview": "cart",
    c = "license=" + b + "&price=" + c + "&action=changeLicense&template_id=" + g + "&page=" + a,
    f = parseInt($(".js-template-id").data("template_id")),
    a = new CLS56;
    $(document).trigger("start.cart.load.block.checkout", {
        button: $(".js-license-popup-button")
    });
    $.ajax({
        url: a.urlPrefix() + "/cart-ajax/changelicense.php",
        data: c,
        dataType: "json",
        success: function(a) {
            $(document).trigger("stop.cart.load.block.checkout", {
                button: $(".js-license-popup-button"),
                enableButton: !0
            });
            updateCartItems(a);
            detectPreviewPage() && g == f && openSelectedLicenseAccordionBlock(b);
            appDic.require("cart").recalculate()
        }
    })
}
function updateCart(a) {
    var b = $("body").attr("id").replace("-page", ""),
    b = {
        url: (new CLS56).urlPrefix() + "/cart-ajax/getupdate.php",
        data: "page=" + b,
        dataType: "json",
        success: function(a) {
            updateCartItems(a);
            appDic.require("cart").recalculate()
        }
    };
    "undefined" !== typeof a && (b.async = Boolean(a));
    return $.ajax(b)
}
function hideChatLink() {
    0 < $(".js-popup-cart-item.js-static-offer, .js-popup-cart-item.js-static-oncart-offer").length ? $(".js-offers-question-block").removeClass("js-none") : $(".js-offers-question-block").addClass("js-none")
}
function downloadSample(a) {
    $(document).trigger("start.cart.load.block.checkout", {
        button: a,
        disableFull: !1
    });
    a.removeClass("loading disabled").removeAttr("disabled");
    var b = "add=" + a.data("sample_id") + "&price_variant=regular",
    c = new CLS56;
    $.ajax({
        url: c.urlPrefix() + "/cart-ajax/addtemplate.php",
        data: b,
        dataType: "json",
        success: function() {
            var b = new CLS56;
            document.location.href = b.urlPrefix() + "/checkout/step1.html"; (new CLS29).addDataToCart(a.data("sample_id"), "template")
        }
    });
    return ! 1
}
var initCartBehaviour = function() {
    $(".js-promo-open").removeClass("disabled-link").attr({
        href: "#promocode_add_content",
        "data-toggle": "collapse"
    });
    var a = appDic.require("cart");
    Object.create(new CLS11).enterDocument();
    var b = $("#promocode_add_content").find(".js-promocode-box"),
    c = $("#promocode-form").formHandler({
        autoscroll_on_form_error: !1,
        on_submit_success: function(c, g, j) {
            updateCartItems(j);
            goog.isDef(j.promocode.code) && goog.string.isEmptySafe(j.promocode.code) && $("#promocode_add_content").collapse("hide");
            a.recalculate();
            b.data("current-code", j.promocode.code)
        },
        on_submit_error: function(c, g, j) {
            goog.isDef(j.promocode.code) && goog.string.isEmptySafe(j.promocode.code) && $("#promocode_add_content").collapse("hide");
            updateCartItems(j);
            a.recalculate();
            b.data("current-code", "")
        }
    });
    b.data("current-code", b.val());
    $("#promocode_add_content").on("hidden.bs.collapse",
    function() {
        c.formHandler("hide-errors");
        b.val(b.data("current-code"))
    }).on("shown.bs.collapse",
    function() {
        $(".js-promocode-box", this).focus()
    });
    a.recalculate();
    $("#cart-popup").on("show.bs.modal",
    function() {
        $(".js-loader").show()
    });
    $("#cart-popup").on("hidden.bs.modal",
    function() {
        $(".js-loader").show()
    });
    $(".js-activate-editing").on("click",
    function() {
        $(this).parents(".js-cart-summary").toggleClass("activated_edit");
        return ! 1
    });
    var g = new Tm.Signin;
    a.changeCheckoutUrl(g.getCheckOutStep())
};
$(document).ready(function() {
    var a = appDic.require("cartPopup");
    hideChatLink();
    a.init(initCartBehaviour);
    initCartBehaviour();
    var b = Object.create(new CLS10);
    b.enterDocument();
    appDic.require("bonus").enterDocument();
    if (detectCheckoutPage()) $(".js-cart-summary-content").on("mouseover", ".js-popup-cart-item div, .js-item-template",
    function() {
        $(".js-edit-license, .js-dell-template, .js-dell-offer").addClass("js-none");
        return ! 1
    });
    $(document).on("click", ".js-license-radio",
    function() {
        $(".js-license-radio.selected").removeClass("selected");
        $(this).addClass("selected")
    });
    $(document).on("click", ".js-item-template a.js-dell-template",
    function() {
        var a = $(this);
        if (detectCheckoutPage()) return ! 1;
        var g = $(this).data("product"),
        f = $(this).data("action");
        $(".js-checkout-button").addClass("loading");
        $(this).parents(".js-item-template.template-" + g).addClass("js-none");
        $(document).trigger("start.cart.load.block.checkout", {
            button: a
        });
        $('.shopping-options .js-add-offer[data-product="' + g + '"]').removeAttr("disabled").removeClass("disabled check-mark-icon").addClass("cart-icon");
        var h = new CLS29,
        j = new CLS44(g);
        j && j.hasOffers() && j.getOffers().each(function(a, b) {
            var c = $(b).data("offer_id");
            goog.isDef(c) && h.removeDataFromCart(c, "offer")
        });
        h.removeDataFromCart(g, "template");
        b.addQueue(function() {
            var h = new CLS56;
            return $.ajax({
                url: h.urlPrefix() + "/cart-ajax/deltemplate.php",
                data: "product=" + g + "&action=" + f,
                dataType: "json",
                success: function(a) {
                    updateCartItems(a);
                    $(".js-checkout-button").removeClass("loading");
                    var c = appDic.require("cart");
                    c.recalculate();
                    b.setFree();
                    $(".js-cart-summary").trigger("execute.cart.requests", {});
                    if ("undefined" != typeof a.location) {
                        var f = parseInt($(".js-template-id").data("template_id")),
                        g;
                        for (g in a.template) g == f && (window.location = a.location)
                    }
                    c.isEmpty() && detectCheckoutPage() && (window.location = Twig.render(pageCartUrl))
                },
                complete: function() {
                    $(document).trigger("stop.cart.load.block.checkout", {
                        button: a
                    })
                }
            }).fail(function() {
                var b = [];
                b["template-" + g] = {
                    value: !0,
                    id: g
                };
                updateCartItems({
                    template: b
                });
                $(document).trigger("stop.cart.load.block.checkout", {
                    button: a
                })
            })
        });
        $(".js-cart-summary").trigger("execute.cart.requests", {})
    });
    $(document).on("click", ".js-popup-cart-item.js-static-offer a.js-add-offer, .js-popup-cart-item.js-static-oncart-offer a.js-add-offer, .js-popup-cart-item.offer a.js-dell-offer",
    function() {
        var a = $(this),
        g = a.data("product"),
        f = a.data("offer_id"),
        h = a.data("action");
        if ("" === h) return ! 1;
        $('.js-popup-cart-item a[data-offer_id="' + f + '"]').removeAttr("disabled").addClass("cart-icon").removeClass("disabled check-mark-icon");
        var j = "&position=&presentation_id=&search_context_id=&channel_id";
        $(".js-cart-summary").trigger("start.cart.load.block.checkout", {
            button: a
        });
        if ("add" == h) {
            var j = "&position=" + a.data("position") + "&presentation_id=" + a.data("presentation_id") + "&search_context_id=" + a.data("search_context_id") + "&channel_id=" + a.data("channel"),
            k = $(".js-popup-cart-item.js-parent-" + g + ".js-static-offer-" + f);
            if (k) {
                var k = $(".service .js-service-name", k).html(),
                m = $(".js-popup-cart-item.offer.js-parent-" + g + ".offer-" + f);
                m && $(".js-service-name", m).html(k)
            }
            k = [];
            k["offer-" + f] = {
                value: !0,
                parent: g,
                id: f
            };
            updateCartItems({
                offer: k
            })
        } else a.parents("li:first").addClass("js-none");
        k = new CLS29;
        "add" == h ? k.addDataToCart(f, "offer") : k.removeDataFromCart(f, "offer");
        $(".js-checkout-button").addClass("disabled loading");
        b.addQueue(function() {
            var k = new CLS56;
            return $.ajax({
                url: k.urlPrefix() + "/cart-ajax/updateoffer.php",
                data: "product=" + g + "&offer_id=" + f + "&action=" + h + "Offer" + j,
                dataType: "json",
                success: function(a) {
                    b.setFree();
                    $(".js-cart-summary").trigger("execute.cart.requests", {});
                    updateCartItems(a);
                    appDic.require("cart").isEmpty() && detectCheckoutPage() && (window.location = Twig.render(pageCartUrl))
                },
                complete: function() {
                    $(".js-cart-summary").trigger("stop.cart.load.block.checkout", {
                        button: a,
                        enableButton: !1
                    });
                    $(document).trigger("stop.cart.load.block.checkout", {
                        button: $(".js-button-add-to-cart"),
                        enableButton: !0
                    })
                }
            }).fail(function() {
                $(".js-cart-summary").trigger("stop.cart.load", {
                    button: a,
                    enableButton: !0
                });
                var b = [];
                b["offer-" + f] = {
                    value: "add" == h ? !1 : !0,
                    parent: g,
                    id: f
                };
                updateCartItems({
                    offer: b
                })
            })
        });
        $(".js-cart-summary").trigger("execute.cart.requests", {})
    });
    $("body").on("click", ".js-checkout-button, .js-simple-progress-button",
    function() {
        var a = $(this),
        b = a.attr("data-url");
        $("body").trigger("start.cart.load", {
            button: a,
            disableFull: !1
        });
        b && (document.location.href = b)
    });
    $("#preview-page, #cart-page").on("keyup",
    function(a) {
        27 == a.which && (a = $(".modal:visible"), 1 < a.length ? $(a).not("#cart-popup").modal("hide") : $(a).modal("hide"))
    });
    $(document).on("show.bs.modal", ".js-modal-preview-popup",
    function() {
        $("#product-preview iframe").css("visibility", "hidden")
    });
    $(document).on("hide.bs.modal", ".js-modal-preview-popup",
    function() {
        $("#product-preview iframe").css("visibility", "visible");
        $(document).trigger("stop.cart.load.block.checkout", {
            button: $(".js-button-add-to-cart"),
            enableButton: !0
        })
    });
    $(document).on("click", ".js-offer-lear-more-button",
    function() {
        var a = $(this).clone(),
        b = "product=" + $(this).data("product") + "&offer=" + $(this).data("offer") + "&search_context_id=" + $(this).data("search_context_id") + "&is_added=" + $(this).data("is_added") + "&offer_presentation_id=" + $(this).data("offer_presentation_id") + "&offer_position=" + $(this).data("offer_position") + "&offer_channel=" + $(this).data("offer_channel"),
        f = $("#js-cart-short-description-block .modal-body");
        f.html('<div class="spinner-inline"></div>');
        var h = new CLS56;
        $.ajax({
            url: h.urlPrefix() + "/cart-ajax/offerdescription.php",
            data: b,
            dataType: "json",
            cache: !1
        }).done(function(a) {
            goog.isDef(a.box_view) && !goog.string.isEmptySafe(a.box_view) ? f.html(a.box_view) : $("#js-cart-short-description-block").modal("hide");
            $(document).trigger("Gtag.ee.push.product.offer.impressions", {
                from: "offer on learnmore.impressions"
            })
        }).fail(function() {
            f.html("<span class='popup-error-title'>" + Twig.render(serverError) + "</span><br/><br/>");
            $(a).html("Retry").addClass("button btn-important btn-full-width");
            $(a).appendTo(f)
        })
    });
    $(".additional-services").find(" .shopping-options .service_info_wrapper").equalsHeights()
});
Tm = Tm || {};
Tm.Signin = function() {
    this._shoppingCart = appDic.require("cart");
    this._config = {
        submenu_signin: ".js-signin-menu",
        submenu_account: ".js-account-dropdown",
        submenu_account_active_class: "account-menu-active",
        submenu_account_avatar: ".js-account-dropdown .js-avatar",
        submenu_hide_class: "hidden",
        signin_link: "#signin-link",
        signin_form: "#signin-form",
        signin_form_container: "#header .sign-in-form",
        signin_form_email: "#signin-form-email",
        signin_form_password: "#signin-form-password",
        signin_error_container: "#signin-error",
        signin_error_form: "#signin-form-errors",
        signin_submit_link: "#signin-form-submit",
        signout_link: ".js-signout-link",
        gravatar_size: 20
    };
    this._dataContainer = (this._signinForm = document.forms.signin) ? this._signinForm: document.body;
    $(document).on("MainEvents.user.login",
    function() {});
    $(document).on("MainEvents.user.logout",
    function() {
        localStorage.removeItem("avatar")
    })
};
Tm.Signin.prototype.init = function() {
    this._initSugnoOutLink();
    this._signinForm && this._initForm(this._signinForm);
    return this
};
Tm.Signin.prototype.getCheckOutStep = function() {
    return this.isSignedIn() ? this.isBillingInfoValid() ? "step3": "step2": "step1"
};
Tm.Signin.prototype.isSignedIn = function() {
    return !! $(this._dataContainer).data("signed-in")
};
Tm.Signin.prototype.hasBillingInfo = function() {
    return !! $(this._dataContainer).data("has-billing-info")
};
Tm.Signin.prototype.isBillingInfoValid = function() {
    return !! $(this._dataContainer).data("is-billing-info-valid")
};
Tm.Signin.prototype.getUserFullName = function() {
    return $(this._dataContainer).data("user-fullname")
};
Tm.Signin.prototype.getUserEmail = function() {
    return $(this._dataContainer).data("user-email")
};
Tm.Signin.prototype.getBillingInfo = function() {
    return $(this._dataContainer).data("billing-info")
};
Tm.Signin.prototype.isTrialAvailable = function() {
    return !! $(this._dataContainer).data("trial-available")
};
Tm.Signin.prototype.signInCallback = function(a, b) {
    $.isFunction(b) || (b = $.noop);
    this._wacJsonP(a.wacAuth, $.proxy(function() {
        $(document).trigger("MainEvents.user.login");
        this._mainSignIn(a, $.proxy(function() {
            this._isCheckoutPage() && this._checkoutSignIn(a);
            this._shoppingCart.checkCookie();
            "undefined" != typeof a.billingInfoDetailsHtml && $(".js-billinginfo-details").html(a.billingInfoDetailsHtml);
            "undefined" != typeof a.paymentMethodsFormHtml && ($("#payment-methods-container").html(a.paymentMethodsFormHtml), $("#payment-collapse").paymentSelector());
            detectCheckoutPage() ? ($("#payment-collapse").paymentSelector("disable-submit-button"), $.when(updateCart(!1)).then(function() {
                $("#payment-collapse").paymentSelector("enable-submit-button");
                b()
            })) : b();
            a.userData && this._setGravatarURL(a.userData)
        },
        this))
    },
    this))
};
Tm.Signin.prototype.signOut = function(a) {
    $.isPlainObject(a) || (a = {});
    $.ajax({
        url: "/account-ajax/signout.php",
        type: "POST",
        dataType: "json",
        success: $.proxy(function(b) {
            this._wacJsonP(b.wacAuth);
            this._markSignedIn(!1);
            this._setUserFullName("");
            this._setUserEmail("");
            this._setBillingInfo(null);
            this._setBillingInfoIsValid(!1);
            this._setTrialAvailable(!1);
            this._switchSigninButton();
            this._switchTrial();
            this._shoppingCart.checkCookie();
            if ($.isFunction(a.on_success)) a.on_success(this, b);
            $(document).trigger("MainEvents.user.logout")
        },
        this),
        error: $.proxy(function(b, c, g) {
            if ($.isFunction(a.on_error)) a.on_error(this, b, c, g)
        },
        this)
    })
};
Tm.Signin.prototype.checkCookie = function(a) {
    if (this._loadNeeded() || this.isSignedIn() != this.isWacLogged()) this._autoSignIn(a);
    else {
        if ($.isPlainObject(a) && $.isFunction(a.onComplete)) a.onComplete();
        $(document).trigger("MainEvents.user.checkCookie")
    }
};
Tm.Signin.prototype.isWacLogged = function() {
    return "1" === $.cookie("wac")
};
Tm.Signin.prototype._loadNeeded = function() {
    return "signed-but-not-loaded" === $(this._dataContainer).data("signed-in")
};
Tm.Signin.prototype._isCheckoutPage = function() {
    return "checkout-page" == $("#checkout-page").attr("id")
};
Tm.Signin.prototype._isCartPage = function() {
    return "cart-page" == $("#cart-page").attr("id")
};
Tm.Signin.prototype._initSugnoOutLink = function() {
    $(this._config.signout_link).on("click", $.proxy(function() {
        this.signOut({
            on_success: function() {
                if (detectAccountPage()) {
                    var a = appDic.require("language");
                    window.location.href = a.urlPrefix() + "/"
                }
                detectPreviewPage() && $(".js-one-click-purchase").children().length && window.location.reload()
            }
        });
        var a = this._config.submenu_account_active_class;
        $(this._config.submenu_account).parents("." + a + ":first").removeClass(a);
        return ! 1
    },
    this))
};
Tm.Signin.prototype._initForm = function(a) {
    a.billingInfo.value = this._isCheckoutPage() ? "1": "";
    $(a).formHandler({
        autoscroll_on_form_error: detectCheckoutPage(),
        show_submit_button_hint: !1,
        on_submit_success: $.proxy(function(a, c, g) {
            $(a).formHandler("show-ajax-progress");
            this.signInCallback(g, $.proxy(function() {
                $(a).formHandler("hide-ajax-progress");
                this._isCartPage() && "undefined" === typeof g.error && location.reload()
            },
            this))
        },
        this)
    });
    $(this._config.signin_link).click($.proxy(function() {
        0 === $(this._config.signin_error_form).children().length && !1 === $(this._config.signin_form_email && this._config.signin_form_password).is(":disabled") && ($(a.email).val(""), $(a.password).val(""), $(a).formHandler("hide-errors"), $(a).formHandler("focus-first"))
    },
    this))
};
Tm.Signin.prototype._setUserInfo = function(a) {
    this._markSignedIn(!0);
    this._setUserFullName(a.fullName);
    this._setUserEmail(a.email); - this._setTrialAvailable(a.isTrialAvailable);
    this._shoppingCart.checkCookie()
};
Tm.Signin.prototype._mainSignIn = function(a, b) {
    $.isFunction(b) || (b = $.noop);
    "error" in a ? this._showError(a.error.message) : ($(document).trigger("Gtag.user.push", {
        from: "main.signin"
    }), this._showError(""), this._setUserInfo(a.userData), "undefined" === typeof a.billingInfo && (a.billingInfo = null), this._setBillingInfo(a.billingInfo), this._setBillingInfoIsValid(a.isZeroCart ? a.freeInfoIsValid: a.billingInfoIsValid), $(this._config.signin_form_container).hide().parents(".sign-in-form-active").removeClass("sign-in-form-active"));
    this._switchSigninButton();
    this._switchTrial();
    b()
};
Tm.Signin.prototype._wacJsonP = function(a, b) {
    $.isFunction(b) || (b = $.noop);
    $.ajax({
        async: !1,
        crossDomain: !0,
        type: "post",
        url: a.host,
        processData: !1,
        data: a.data,
        cache: !0,
        jsonp: !1,
        dataType: "jsonp"
    }).always(function() {
        b()
    })
};
Tm.Signin.prototype._showError = function(a) {
    $(this._config.signin_error_container).html(a)
};
Tm.Signin.prototype._checkoutSignIn = function(a) {
    var b;
    b = "isZeroCart" in a && a.isZeroCart && !this.hasBillingInfo() ? new Tm.FreeCheckout: new Tm.Checkout;
    b.changeform();
    "error" in a ? b.showLoginError(a.error.message) : this.hasBillingInfo() ? b.fillInfoForm(a.billingInfo) : "userInfo" in a && b.fillInfoForm({
        email: a.userInfo.email,
        name: a.userInfo.fullName,
        country: "",
        state: "",
        postalcode: "",
        city: "",
        address: "",
        phone: "",
        contactphone: b.isFree() ? a.userInfo.contactPhone: ""
    });
    b.signinCallback(a);
    b.signChecking(!0)
};
Tm.Signin.prototype._autoSignIn = function(a) {
    jQuery.ajax({
        url: "/account-ajax/get-data.php",
        type: "POST",
        dataType: "json",
        data: {
            billingInfo: this._isCheckoutPage(),
            gravatarSize: this._config.gravatar_size
        },
        success: $.proxy(function(b) {
            var c = !1,
            g, f, h = null,
            j = !1;
            b.isSignedIn && (c = !0, g = b.userData.fullName, f = b.userData.email, j = b.userData.isTrialAvailable, "undefined" !== typeof b.billingInfo && (h = b.billingInfo));
            var k = b.isZeroCart ? b.freeInfoIsValid: b.billingInfoIsValid;
            this._markSignedIn(c)._setUserFullName(g)._setUserEmail(f)._setBillingInfo(h)._setBillingInfoIsValid(k)._setTrialAvailable(j);
            b.userData && this._setGravatarURL(b.userData);
            this._switchSigninButton();
            this._switchTrial();
            if ($.isPlainObject(a) && $.isFunction(a.onComplete)) a.onComplete(this);
            $(document).trigger("MainEvents.user.checkCookie")
        },
        this)
    })
};
Tm.Signin.prototype._setUserFullName = function(a) {
    $(".your-account-link-name", "#your-account-link").text(a);
    $('.live-chat-form input.name, #tellForm input[name="ow_name"]').val(a).trigger("setValue.placeholder");
    $(this._dataContainer).data("user-fullname", a);
    return this
};
Tm.Signin.prototype._setUserEmail = function(a) {
    $('.live-chat-form input.email, #tellForm input[name="ow_email"]').val(a).trigger("setValue.placeholder");
    $(this._dataContainer).data("user-email", a);
    return this
};
Tm.Signin.prototype._setBillingInfoIsValid = function(a) {
    $(this._dataContainer).data("is-billing-info-valid", a);
    this._shoppingCart.changeCheckoutUrl(this.getCheckOutStep());
    return this
};
Tm.Signin.prototype._setBillingInfo = function(a) {
    $(this._dataContainer).data("billing-info", a);
    $(this._dataContainer).data("has-billing-info", !!a);
    return this
};
Tm.Signin.prototype._markSignedIn = function(a) {
    $(this._dataContainer).data("signed-in", a);
    return this
};
Tm.Signin.prototype._switchSigninButton = function() {
    var a = this._config.submenu_hide_class;
    this.isSignedIn() ? ($(this._config.submenu_account).removeClass(a), $(this._config.submenu_signin).addClass(a)) : ($(this._config.submenu_account).addClass(a), $(this._config.submenu_signin).removeClass(a))
};
Tm.Signin.prototype._setTrialAvailable = function(a) {
    $(this._dataContainer).data("trial-available", a);
    return this
};
Tm.Signin.prototype._setGravatarURL = function(a) {
    var b = $(this._config.submenu_account_avatar);
    Tm.RdGravatar && (new Tm.RdGravatar({
        imgWrapElement: b,
        userName: a.fullName,
        userEmail: a.email,
        onSuccessDraw: function() {
            var a = document.getElementById("user-avatar");
            a && localStorage.setItem("avatar", JSON.stringify({
                cid: $.cookie("cid"),
                html: a.outerHTML
            }))
        }
    })).draw();
    return this
};
Tm.Signin.prototype._switchTrial = function() {
    this.isTrialAvailable() ? $(".js-trial-link").removeClass("js-none") : $(".js-trial-link").addClass("js-none")
};
Tm = Tm || {};
Tm.Tracker = function(a, b, c) {
    this._cart = b;
    this._language = c;
    this._urlHelper = a;
    this._get_params = ["utm_campaign", "aff"];
    this._required_aff_cookies = ["aff", "affT", "ref", "country_code", "gcd"]
};
defineService(["urlHelper", "cart", "language"], Tm.Tracker);
Tm.Tracker.prototype.checkCookie = function(a) {
    this._checkAction(a);
    this._checkFd();
    this._checkAff(a);
    this._checkSalesDoubler()
};
Tm.Tracker.prototype._checkAction = function(a) {
    var b = $.cookie("a");
    b && (Tm.removeCookie("a"), b = "on" + b[0].toUpperCase() + b.slice(1), $.isFunction(a[b]) && setTimeout(a[b], 0))
};
Tm.Tracker.prototype._checkFd = function() {
    var a = $.cookie("fd");
    "undefined" === typeof a && (a = Math.floor((new Date).getTime() / 1E3), Tm.setCookie("fd", a, 36500))
};
Tm.Tracker.prototype._checkAff = function(a) {
    var b = !1,
    c = {},
    g, f;
    "undefined" === typeof a && (a = {});
    "undefined" === typeof a.onComplete && (a.onComplete = $.noop);
    for (g in this._required_aff_cookies) if (this._required_aff_cookies.hasOwnProperty(g) && !$.cookie(this._required_aff_cookies[g])) {
        b = !0;
        break
    }
    $.cookie("wdl") && (b = !0);
    for (f in this._get_params) if (this._get_params.hasOwnProperty(f)) {
        g = this._get_params[f];
        var h = $.url().param(g);
        "undefined" != typeof h && $.cookie(g) !== h && (Tm.removeCookie(g), c[g] = h, b = !0)
    }
    if (b) c.referer = document.referrer ? document.referrer: window.location.href,
    $.ajax({
        url: "/aff.php",
        type: "POST",
        data: $.param(c),
        success: function(b) {
            a.onComplete();
            "undefined" != typeof b.affiliate_tracking_url && detectAffiliate(b.affiliate_tracking_url, $.cookie("aff"))
        }
    });
    else a.onComplete();
    this._urlHelper.waitUntilGTMIsLoaded("aff")
};
Tm.Tracker.prototype._checkSalesDoubler = function() {
    var a = $.url().param("aff_sub");
    a && Tm.setCookie("sd_click_id", a, 30)
};
Tm = Tm || {};
Tm.setCookie = function(a, b, c) {
    var g = ".templatemonster.com";
    $.isPlainObject(Tm.Config) && Tm.Config.cookieDomain && (g = Tm.Config.cookieDomain);
    "undefined" === typeof c && (c = null);
    $.cookie(a, b, {
        expires: c,
        path: "/",
        domain: g
    })
};
Tm.removeCookie = function(a) {
    Tm.setCookie(a, null, -1)
}; (function(a) {
    var b = !1;
    a.fn.validateForm = function() {
        b || (b = !0, a.regula("bind"));
        var c = !0;
        this.each(function() {
            var b = a(this).find("input, textarea");
            b.focus(function() {
                a("* input, * textarea").popover("destroy")
            }).popover("destroy").removeClass("error").each(function() {
                var f = a(this);
                b.each(function() { ! a(this).hasClass("bot") && (!a(this).hasClass("pass") && !a(this).hasClass("message")) && (a(this).val(a.trim(a(this).val())), "" === a(this).val() && a(this).siblings("span._placeholder").css("display", "block"))
                });
                if ("" === f.val() && !f.hasClass("bot") && !f.hasClass("no-required")) return f.popover({
                    content: "Your " + f.attr("error_message") + " is required",
                    placement: "left",
                    title: f.attr("error_title")
                }),
                f.popover("show").addClass("error"),
                c = !1;
                if (f.attr("data-constraints")) {
                    var h = f.regula("validate");
                    if (0 < h.length) return f.popover({
                        content: h[0].message,
                        placement: "left",
                        title: f.attr("error_title")
                    }),
                    f.popover("show").addClass("error"),
                    c = !1
                }
            })
        });
        return c
    }
})(jQuery);
$(function() {
    var a = $(document.forms.subscribe),
    b = $(document.querySelectorAll(".mc-form"));
    a.rdFormHandler({
        popover_placement: "left",
        autofocus_first_field: !1,
        enable_inputs_on_load: !0,
        autoscroll_on_form_error: !1,
        on_ajax_response: function(a, b, f) {
            a = {
                status: !1,
                errors: [],
                status_message: ""
            };
            if ($.isArray(f.innerhtml)) for (var h in f.innerhtml) {
                if ("errorBox" === f.innerhtml[h].id) {
                    a.errors.push({
                        messages: f.innerhtml[h].html
                    });
                    break
                }
                if ("newsletterSubscriptionForm" === f.innerhtml[h].id) {
                    a.status = !0;
                    a.status_message = f.innerhtml[h].html;
                    break
                }
            }
            return a
        },
        on_submit_success: function(a, b, f) {
            $(a.email).val("").removeClass("filled");
            $(a).rdFormHandler("hide-errors");
            $(a).rdFormHandler("show-form-success", f.status_message)
        },
        on_submit_error: function(a, b, f) {
            $(a).rdFormHandler("show-form-error", f.status_message)
        }
    });
    b.each(function() {
        $(this).rdFormHandler({
            popover_placement: "left",
            autofocus_first_field: !1,
            enable_inputs_on_load: !0,
            autoscroll_on_form_error: !1,
            on_before_submit: function(a, b) {
                var f = $(a).find("#mce-EMAIL"),
                h = $.extend({
                    url: $(a).attr("action"),
                    language: "en"
                },
                b),
                j = $(a).data("animate-type"),
                k = $(a).parents(".animating_wrapper").find(".animating-item:first"),
                m = $(a).parents(".animating_wrapper").find(".animating-item.action_result"),
                h = h.url.replace("/post?", "/post-json?").concat("&c=?"),
                q = {},
                r = $(a).serializeArray();
                $(a).rdFormHandler("disable-submit");
                f.prop("disabled", !0).addClass("disabled");
                $.each(r,
                function(a, b) {
                    q[b.name] = b.value
                });
                $.ajax({
                    url: h,
                    data: q,
                    success: function(b) {
                        $(a).rdFormHandler("hide-ajax-progress");
                        "success" === b.result ? (f.prop("disabled", !1).val("").removeClass("filled disabled"), $(a).rdFormHandler("hide-errors").rdFormHandler("hide-success").rdFormHandler("enable-submit"), "sliding" === j ? Tm.Effects.slide(k, m) : "sliding" !== j && $(a).rdFormHandler("show-form-success", b.msg), $(a).rdFormHandler("google-tag-track-event", "Submit")) : ($(a).rdFormHandler("show-form-error", b.msg), $(a).rdFormHandler("google-tag-track-event", "200 - " + b.msg.substr(0, 255)))
                    },
                    dataType: "jsonp"
                });
                return ! 1
            }
        })
    })
}); (function(a) {
    a.fn.currencyFormater = function() {
        var b = a(this).val();
        if ("undefined" !== typeof b) {
            var b = b.replace(/[^0-9,.]+/g, ""),
            b = b.replace(/[,.]+/, "."),
            c = Math.round(parseFloat(b)); - 1 == (c + "").indexOf("e") && (b = c);
            a(this).val(b)
        }
        return this
    }
})(jQuery);
CLS10 = function() {};
CLS10.prototype.queue_ = [];
CLS10.prototype.STATE_BUSY = "busy";
CLS10.prototype.STATE_FREE = "free";
CLS10.prototype.state_ = this.STATE_FREE;
CLS10.prototype.enterDocument = function() {
    $(document).on("execute.cart.requests", $.proxy(this.onExecute, this))
};
CLS10.prototype.onExecute = function() {
    if (0 < this.queue_.length && !1 == this.isBusy()) {
        this.setBusy();
        var a = this,
        b = this.queue_[0];
        b().fail(function() {
            b().fail(function() {
                alert(Twig.render(serverError))
            });
            a.setFree();
            a.onExecute()
        });
        this.queue_.shift()
    }
};
CLS10.prototype.addQueue = function(a) {
    this.queue_.push(a)
};
CLS10.prototype.setBusy = function() {
    this.state_ = this.STATE_BUSY
};
CLS10.prototype.setFree = function() {
    this.state_ = this.STATE_FREE
};
CLS10.prototype.isBusy = function() {
    return this.state_ == this.STATE_BUSY
};
function detectAffiliate(a, b) {
    if ("undefined" != typeof b && "TM" != b.toUpperCase()) {
        var c = a + "?afflogin=" + b + "&_=" + Date.now();
        if ("undefined" != typeof $ && "undefined" != typeof $.get && "undefined" != typeof $.support && $.support.cors) $.get(c);
        else {
            var g = document.createElement("img");
            g.setAttribute("src", c);
            window.document.getElementsByTagName("body")[0].appendChild(g)
        }
    }
};
Tm = Tm || {};
Tm.RDPopup = function(a) {
    this._config = $.extend({
        on_hide: null,
        on_hiden: null,
        on_show: null,
        on_shown: null,
        multiple_open: !1,
        popup_template: "",
        popup_step_template: "",
        inner_content: "",
        content_wrapper_class: "js-modal-inner:first",
        modal_open_class: "in"
    },
    a);
    this._modal = null
};
Tm.RDPopup.prototype.getId = function() {
    return $(this._modal).attr("id")
};
Tm.RDPopup.prototype.show = function() {
    this._modal || this.initModal();
    this.isAllowed() && ($(document).trigger("Gtag.sale.view", {
        from: "GCDiscount",
        gtagInfo: {
            popupId: $(this._modal).attr("id")
        }
    }), $(document.body).data("rd-popup-shown", 1), $(this._modal).modal("show"));
    return this
};
Tm.RDPopup.prototype.isAllowed = function() {
    return this._config.multiple_open || !$(document.body).data("rd-popup-shown")
};
Tm.RDPopup.prototype.shake = function() {
    var a = $(this._modal).find(".modal-content:last");
    $(a).addClass("element-animation-shake");
    setTimeout(function() {
        $(a).removeClass("element-animation-shake")
    },
    1E3);
    return this
};
Tm.RDPopup.prototype.slideStep = function(a, b) {
    var c = this.addStep(a);
    this._modal.find(".js-content").css("overflow", "visible");
    this._modal.find(".close").fadeOut(0).delay(400).fadeIn(200);
    var g = this.getContent().position().left,
    f = +this.getContent().outerWidth();
    $(c).prev().animate({
        left: g - f + "px",
        opacity: 0
    },
    500, "easeInOutQuint", b);
    $(c).css({
        opacity: 0
    });
    $(c).animate({
        opacity: 1,
        left: g - f + "px"
    },
    500, "easeInOutQuint");
    return this
};
Tm.RDPopup.prototype.toFirstStep = function() {
    var a = this.getContent().find(".js-step");
    1 < a.length && (a.filter(":not(:first)").remove(), a.filter(":first").css({
        left: 0,
        opacity: 1
    }))
};
Tm.RDPopup.prototype.getContent = function() {
    return $(this._modal).find("." + this._config.content_wrapper_class)
};
Tm.RDPopup.prototype.addStep = function(a) {
    return $(sprintf(this._config.popup_step_template, a)).appendTo(this.getContent())
};
Tm.RDPopup.prototype.initForm = function(a, b) {
    return $(a).rdFormHandler($.extend({
        locatable: !1,
        show_submit_button_hint: !1,
        autofocus_first_field: !1,
        popover_placement: "top",
        common_errors_html_classes: "alert fade in rd-popover rd-popover-red rd-popover-top rd-closing",
        default_error_message: "Unfortunately our server is not responding for now. <br>It may be our technical issue or problem with your internet connection. <br>Please, try a bit later.",
        on_show_errors: $.proxy(function(a, b, f) {
            f && f.length && this.shake()
        },
        this),
        on_ajax_response: function(a, b, f) {
            f.status || (a = f.errors, $.isArray(a) && a.length && (a = a[0]), "Server Error" == a && (f.errors = b.default_error_message));
            return f
        }
    },
    b))
};
Tm.RDPopup.prototype.initModal = function(a) {
    var b = sprintf(this._config.popup_template, this._config.inner_content);
    this._modal = $(b).appendTo(document.body);
    a && this.addStep(a);
    $(["hide", "hidden", "show", "shown"]).each($.proxy(function(a, b) {
        if ($.isFunction(this._config["on_" + b])) $(this._modal).on(b + ".bs.modal", this._config["on_" + b])
    },
    this))
};
Tm = Tm || {};
Tm.InquirerPopup = function(a) {
    Tm.RDPopup.call(this, $.extend({
        question: {},
        on_last_step: $.noop,
        question_selector: ".js-step",
        answer_button_disabled_class: "js-disabled",
        answer_button_selector: ".js-answer-button",
        question_template: "",
        question_button_template: ""
    },
    a));
    this._result = {}
};
goog.inherits(Tm.InquirerPopup, Tm.RDPopup);
Tm.InquirerPopup.prototype.getResult = function() {
    return this._result
};
Tm.InquirerPopup.prototype.getQuestion = function() {
    var a = this.config.question;
    $.each(this.getResult(),
    function(b, c) {
        a.id == b && $(a.answers).each(function(b, f) {
            f.id == c && (a = f.question)
        })
    });
    return a
};
Tm.InquirerPopup.prototype.renderQuestion = function(a) {
    var b = "",
    c = this.config.question_template,
    g = this.config.question_button_template,
    f = this.getId();
    $(a.answers).each(function(c, j) {
        b += sprintf(g, j.html_class, a.id, j.id, f + "-" + a.id + "-" + j.id, j.title)
    });
    return sprintf(c, a.title, a.text, b)
};
Tm.InquirerPopup.prototype.initModal = function() {
    Tm.InquirerPopup.superClass_.initModal.call(this, this.renderQuestion(this.config.question));
    $(this._modal).on("click", this.config.answer_button_selector, {
        popup: this
    },
    this._onAnswer)
};
Tm.InquirerPopup.prototype._onAnswer = function(a) {
    var b = a.data.popup,
    a = a.target,
    c = $(a).data("id"),
    g = $(a).data("q-id"),
    f = b.config.answer_button_disabled_class;
    if ($(a).hasClass(f)) return ! 1;
    $(a).parents(b.config.question_selector).find(b.config.answer_button_selector).addClass(f);
    g && (b._result[g] = c);
    if (a = b.getQuestion()) b.slideStep(b.renderQuestion(a));
    else if ($.isFunction(b.config.on_last_step)) b.config.on_last_step(b);
    return this
};
Tm = Tm || {};
Tm.GCDiscount = function() {};
Tm.GCDiscount.prototype.STATE_ALLOWED = 1;
Tm.GCDiscount.prototype.STATE_FINISHED = 2;
Tm.GCDiscount.prototype.STATE_CANCELED = 3;
Tm.GCDiscount.prototype.COOKIE_TWO_WEEKS = 14;
Tm.GCDiscount.prototype.COOKIE_ONE_YEAR = 365;
Tm.GCDiscount.prototype.showDiscountPopup = function(a) {
    var b = this,
    c = new Tm.RDPopup($.extend({},
    a.popup, {
        on_hide: function() {
            b._getDiscountCookie() == b.STATE_ALLOWED && b._setDiscountCookie(b.STATE_CANCELED)
        }
    }));
    c.initModal(a.formHtml);
    c.show();
    $.getScript("/js/tm/garbage-country-messages.js").done($.proxy(function() {
        this._initTranslation(c);
        c.show()
    },
    this))
};
Tm.GCDiscount.prototype.showSurveyPopup = function(a) {
    var b = this; (new Tm.InquirerPopup($.extend({},
    a.popup, {
        on_last_step: function(c) {
            var g = c.getResult(),
            f = g.q2;
            c.slideStep(a.formHtml[f],
            function() {
                $(this).find("form:last").rdFormHandler("focus-first")
            });
            var h = c.getContent().find("form:first");
            h.find("[name=answers]").val(JSON.stringify(g));
            c.initForm(h, {
                on_submit_success: function(g, h, m) {
                    g = $(g.email).val();
                    b._showSuccessSlide(c, a.successHtml[f], g);
                    b._setSurveyCookie(b.STATE_FINISHED, b.COOKIE_ONE_YEAR);
                    goog.isDef(m) && goog.isDef(m.gtagInfo) && $(document).trigger("Gtag.sale.get", {
                        from: "GCDiscount",
                        gtagInfo: $.extend(m.gtagInfo, {
                            popupId: c.getId()
                        })
                    })
                }
            })
        },
        on_hide: function() {
            b._getSurveyCookie() != b.STATE_FINISHED && b._setSurveyCookie(b.STATE_CANCELED, b.COOKIE_TWO_WEEKS)
        }
    }))).show()
};
Tm.GCDiscount.prototype.isDiscountAllowed = function() {
    return this._getDiscountCookie() == this.STATE_ALLOWED
};
Tm.GCDiscount.prototype.isSurveyAllowed = function() {
    return 0 < this._getDiscountCookie() && 1 == this._getSurveyCookie()
};
Tm.GCDiscount.prototype.getCountryCode = function() {
    var a = $.cookie("country_code");
    return a ? a.toLowerCase() : "un"
};
Tm.GCDiscount.prototype._getDiscountCookie = function() {
    return $.cookie("gcd")
};
Tm.GCDiscount.prototype._setDiscountCookie = function(a) {
    Tm.setCookie("gcd", a, this.COOKIE_ONE_YEAR)
};
Tm.GCDiscount.prototype._getSurveyCookie = function() {
    return $.cookie("gcs")
};
Tm.GCDiscount.prototype._setSurveyCookie = function(a, b) {
    Tm.setCookie("gcs", a, b)
};
Tm.GCDiscount.prototype._showSuccessSlide = function(a, b, c) {
    a.slideStep(sprintf(b, c))
};
Tm.GCDiscount.prototype._initTranslation = function(a) {
    var a = a.getContent(),
    b = $(".js-discount-popup", a).data("discount");
    a.find(".inner h3").append(this._getLocalizedMessage("SPECIAL_FOR_YOU")).find("span:first-child").append(this._getLocalizedMessage("DISCOUNT").replace("%d", b));
    a.find("p").append(this._getLocalizedMessage("GET_DISCOUNT_CONTENT"));
    a.find(".button").append(this._getLocalizedMessage("GET_DISCOUNT_BUTTON"))
};
Tm.GCDiscount.prototype._getLocalizedMessage = function(a) {
    var b = $.cookie("country_code").toLowerCase();
    if (this.MESSAGES && b) for (var c in this.MESSAGES) if (this.MESSAGES.hasOwnProperty(c) && -1 != this.MESSAGES[c].countries.indexOf(b)) return a = this.MESSAGES[c].text[a],
    a.charAt(0).toUpperCase() + a.slice(1);
    return {
        DISCOUNT: "%d% Discount",
        SPECIAL_FOR_YOU: "Special for you!",
        GET_DISCOUNT_CONTENT: "Click the button below and all the prices will be shown with discount.",
        GET_DISCOUNT_BUTTON: "Get Discount"
    } [a]
};
Tm = Tm || {};
Tm.Effects = {};
Tm.Effects.slide = function(a, b) {
    var c = a.position().left,
    g = +a.outerWidth();
    a.animate({
        left: c - g + "px",
        opacity: 0
    },
    500, "easeInOutQuint");
    b.animate({
        opacity: 1,
        left: c - g + "px"
    },
    500, "easeInOutQuint");
    return this
};
Tm = Tm || {};
Tm.MotoTrial = function(a) {
    this._config = $.extend({
        popup_url: "/ajax/free-trial/moto-popup.php",
        cookie_name: "mft",
        cookie_time: 30,
        auto_open_timeout: 0,
        open_triggers: null,
        resend_triggers: "#trial-resend-btn",
        resend_status_block: ".js-status-message",
        template_id: null
    },
    a);
    this._subscribeForm = this._successHtml = this._popup = null
};
Tm.MotoTrial.prototype.STATE_FINISHED = "2";
Tm.MotoTrial.prototype.STATE_CANCELED = "3";
Tm.MotoTrial.prototype.init = function() {
    var a = appDic.require("language");
    $.ajax({
        url: a.urlPrefix(this._config.popup_url),
        data: {
            template_id: this._config.template_id
        },
        method: "GET",
        cache: !0
    }).done($.proxy(function(a) {
        this._popup = new Tm.RDPopup($.extend({},
        a.popup, {
            multiple_open: !0,
            on_show: $.proxy(this._onShowPopup, this),
            on_shown: $.proxy(this._onShownPopup, this),
            on_hidden: $.proxy(this._onHiddenPopup, this)
        }));
        this._popup.initModal(a.formHtml);
        this._subscribeForm = this._popup.getContent().find("form:first").get(0);
        this._popup.initForm(this._subscribeForm, {
            popover_placement: "left",
            please_enter_message: Twig.render(pleaseEnterEmail),
            on_submit_success: $.proxy(this._onSubmit, this)
        });
        this._successHtml = a.successHtml;
        this._initResendLink()
    },
    this));
    if (this._config.open_triggers) $(this._config.open_triggers).on("click", $.proxy(function() {
        this.showPopup();
        return ! 1
    },
    this));
    this._config.auto_open_timeout && this.initAutoOpen(this._config.auto_open_timeout)
};
Tm.MotoTrial.prototype.showPopup = function() {
    this._popup && this._popup.show()
};
Tm.MotoTrial.prototype.initAutoOpen = function(a) {
    setTimeout($.proxy(function() {
        this._isAllowedAutoOpen() && this.showPopup()
    },
    this), 1E3 * a)
};
Tm.MotoTrial.prototype._onShowPopup = function() {
    this._popup.toFirstStep();
    this._subscribeForm && ($(this._subscribeForm.email).val(""), $(this._subscribeForm).rdFormHandler("reset-errors"))
};
Tm.MotoTrial.prototype._onShownPopup = function() {
    $(this._subscribeForm).rdFormHandler("focus-first")
};
Tm.MotoTrial.prototype._onHiddenPopup = function() {
    this._isAllowedAutoOpen() && this._setCookie(this.STATE_CANCELED)
};
Tm.MotoTrial.prototype._isAllowedAutoOpen = function() {
    return - 1 === $.inArray(this._getCookie(), [this.STATE_FINISHED, this.STATE_CANCELED])
};
Tm.MotoTrial.prototype._onSubmit = function(a) {
    this._setCookie(this.STATE_FINISHED);
    this._popup.slideStep(this._successHtml);
    this._initMailLink(a.email.value)
};
Tm.MotoTrial.prototype._resend = function() {
    this._subscribeForm && (this._popup.getContent().find(this._config.resend_triggers).addClass("loading"), $.ajax({
        url: $(this._subscribeForm).attr("action"),
        method: $(this._subscribeForm).attr("method"),
        data: $(this._subscribeForm).serialize()
    }).done($.proxy(function() {
        var a = this._popup.getContent().find(this._config.resend_status_block);
        a.length && a.html(a.data("resent-text"));
        this._popup.getContent().find(this._config.resend_triggers).removeClass("loading")
    },
    this)))
};
Tm.MotoTrial.prototype._initResendLink = function() {
    if (this._config.resend_triggers) this._popup.getContent().on("click", this._config.resend_triggers, $.proxy(function() {
        this._resend();
        return ! 1
    },
    this))
};
Tm.MotoTrial.prototype._initMailLink = function(a) {
    var a = (new Tm.MailLink).get(a),
    b = this._popup.getContent().find("#trial-mail-btn");
    a ? b.attr("href", a.href).html(sprintf(Twig.render(messageGoToMail), a.title)) : b.hide()
};
Tm.MotoTrial.prototype._getCookie = function() {
    return $.cookie(this._config.cookie_name)
};
Tm.MotoTrial.prototype._setCookie = function(a) {
    Tm.setCookie(this._config.cookie_name, a, this._config.cookie_time)
};
Tm = Tm || {};
Tm.MailLink = function() {};
Tm.MailLink.prototype.SERVICES = [{
    title: "Gmail",
    href: "http://gmail.com",
    domains: ["gmail.com"]
},
{
    title: "Yahoo Mail",
    href: "http://mail.yahoo.com",
    domains: ["yahoo.com", "ymail.com", "yahoo.fr", "yahoo.co.uk"]
},
{
    title: "Outlook Mail",
    href: "http://outlook.com",
    domains: ["hotmail.com", "live.com", "outlook.com", "hotmail.co.uk", "msn.com"]
},
{
    title: "Apple Mail",
    href: "http://icloud.com/#mail",
    domains: ["me.com", "icloud.com", "mac.com"]
},
{
    title: "\u041f\u043e\u0447\u0442\u0430 Mail.ru",
    href: "http://e.mail.ru",
    domains: ["mail.ru", "inbox.ru", "bk.ru", "list.ru", "mail.ua"]
},
{
    title: "\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u043e\u0447\u0442\u0430",
    href: "http://mail.yandex.ru",
    domains: ["yandex.ru", "ya.ru"]
},
{
    title: "Aol Mail",
    href: "http://mail.aol.com",
    domains: ["aol.com"]
}];
Tm.MailLink.prototype.get = function(a) {
    if (a && (a = a.split("@", 2)[1].toLowerCase())) for (var b in this.SERVICES) if (this.SERVICES.hasOwnProperty(b) && -1 != this.SERVICES[b].domains.indexOf(a)) return this.SERVICES[b];
    return ! 1
};
Tm = Tm || {};
Tm.LangSwitchPopover = function(a) {
    this.config = $.extend({
        langMenu: $(".languages-menu:first"),
        popover: null,
        targetLocale: "",
        sourceLocale: "en",
        countryCookie: "country_code",
        popoverCookie: "lsp",
        popoverCookieTtl: 7
    },
    a)
};
Tm.LangSwitchPopover.prototype.init = function() {
    this._isVisible() ? (this._show(), this.config.popover.find(".button").on("click", $.proxy(function() {
        this._close();
        this._switchLocale()
    },
    this)), this.config.popover.find(".js-close-popover-switcher").on("click", $.proxy(this._close, this))) : this.config.popover.addClass("hidden");
    return this
};
Tm.LangSwitchPopover.prototype._isVisible = function() {
    var a = $.cookie(this.config.countryCookie),
    b = $.cookie(this.config.popoverCookie);
    return a ? (a = a.toLowerCase(), this.config.popover = $("#popover-" + a + "-switcher"), this.config.targetLocale = a, !b) : !1
};
Tm.LangSwitchPopover.prototype._switchLocale = function() {
    var a = $(this.config.langMenu).find("#menu-" + this.config.targetLocale.toUpperCase() + "-locale"),
    b = a.attr("href");
    window.location.href = b ? b: a.data("href")
};
Tm.LangSwitchPopover.prototype._show = function() {
    this.config.popover.removeClass("hidden").addClass("shown")
};
Tm.LangSwitchPopover.prototype._close = function() {
    Tm.setCookie(this.config.popoverCookie, 1, 7);
    this.config.popover.removeClass("shown");
    setTimeout($.proxy(function() {
        this.config.popover.addClass("js-none")
    },
    this), 600)
};
Tm = Tm || {};
Tm.OneClickPurchase = function(a) {
    this._config = {
        container: ".js-one-click-purchase",
        initial_price_container: ".js-preview-accordion-panel.active .js-price",
        progress_class: ".js-cards-progress",
        list_url: "/checkout-ajax/one-click-list.php",
        purchase_url: "/checkout-ajax/one-click-purchase.php",
        signin_button_class: ".js-ocp-signin",
        chat_button_class: ".js-chat-btn",
        purchase_button_class: ".js-ocp-purchase",
        add_cart_button_class: ".js-button-add-to-cart"
    };
    this._lang = a;
    this._container = $(this._config.container);
    this._modalError = this._modalProgress = this._signInForm = null
};
defineService(["language"], Tm.OneClickPurchase);
Tm.OneClickPurchase.prototype.init = function(a) {
    $.extend(this._config, a);
    this._isReturningUser() && ($(this._container).find(this._config.progress_class).removeClass("hidden"), $.ajax(this._lang.urlPrefix(this._config.list_url), {
        cache: !1,
        method: "POST"
    }).done($.proxy(function(a) {
        this._initCards(a.cardsHTML);
        this._initErrorPopup(a.errorPopupHTML);
        this._signInForm || this._initSignIn(a.signinHTML);
        this.redraw()
    },
    this)), a = $(this._config.initial_price_container).data("price"), this.setTemplatePrice(a).redraw())
};
Tm.OneClickPurchase.prototype.setTemplatePrice = function(a) {
    $(this._container).data("price", a);
    return this
};
Tm.OneClickPurchase.prototype.setFixedFlag = function(a) {
    $(this._container).data("fixed", a);
    return this
};
Tm.OneClickPurchase.prototype.redraw = function() {
    var a = !!$(this._container).data("fixed"),
    b = $(this._container).data("price");
    if (!a && 0 < b) return this._show(),
    !0;
    this._hide(!a);
    return ! 1
};
Tm.OneClickPurchase.prototype._redrawCartButton = function() {
    var a = $(this._config.add_cart_button_class);
    $(this._container).is(":visible") && $(".js-ocp-btn:visible", this._container).length ? a.removeClass("btn-important").addClass("btn-trivial") : a.removeClass("btn-trivial").addClass("btn-important")
};
Tm.OneClickPurchase.prototype._hide = function(a) {
    $(this._container).is(":hidden") || (this._closeSignInPopover(a), $(this._container).hide());
    this._redrawCartButton()
};
Tm.OneClickPurchase.prototype._show = function() {
    $(this._container).is(":hidden") && $(this._container).show();
    this._redrawCartButton()
};
Tm.OneClickPurchase.prototype._closeSignInPopover = function() {
    this._getSignInButton().popover("hide")
};
Tm.OneClickPurchase.prototype._initErrorPopup = function(a) {
    this._modalError = $(a).appendTo("body").on("click", this._config.chat_button_class, $.proxy(function(a) {
        a = $(a.target).data("href");
        window.open(a, "tmBillingChat", "width=800, height=695");
        return ! 1
    },
    this))
};
Tm.OneClickPurchase.prototype._initCards = function(a) {
    $(this._container).html(a);
    if (!a) return ! 1;
    $(this._config.signin_button_class, this._container).one("click", $.proxy(function(a) {
        this._initSignInPopover(a.target);
        $(a.target).popover("show");
        $(document).on("click", "body, .js-ocp-popover-close",
        function() {
            this._closeSignInPopover(!0)
        }.bind(this)).on("click", ".js-ocp-popover",
        function() {
            return ! 1
        });
        a = $(".js-password-toggle");
        a.on("mousedown touchstart",
        function() {
            $(this).siblings("input").attr("type", "text")
        });
        a.on("mouseup touchend mouseleave",
        function() {
            $(this).siblings("input").attr("type", "password")
        })
    },
    this)).on("click",
    function() {
        return ! 1
    });
    $(this._config.purchase_button_class, this._container).on("click", $.proxy(function(a) {
        var c = $(".js-form_services .js-preview-accordion-panel.active"),
        g = $(a.target).data("merch-sys-id"),
        a = $(a.target).data("recurrent-id"),
        f = c.data("template_id"),
        h = c.data("variant"),
        c = c.find(".js-preview-offer-checkbox:checked").map(function(a, b) {
            return $(b).val()
        }).get();
        this._showModalProgress();
        $.ajax(this._lang.urlPrefix(this._config.purchase_url), {
            method: "POST",
            data: {
                templateId: f,
                priceVariant: h,
                offers: c,
                payment: g + " " + a
            }
        }).done($.proxy(function(a) {
            if (a.status) {
                if (a.redirectUrl) {
                    window.location = a.redirectUrl;
                    return
                }
                if (a.paymentLink) {
                    window.location = a.paymentLink;
                    return
                }
            }
            this._hideModalProgress();
            this._modalError.modal()
        },
        this)).fail($.proxy(function() {
            this._hideModalProgress();
            this._modalError.modal()
        },
        this))
    },
    this))
};
Tm.OneClickPurchase.prototype._initSignIn = function(a) {
    a = $(a).appendTo(document.body).find("form");
    this._initSignInForm(a)
};
Tm.OneClickPurchase.prototype._initSignInForm = function(a) {
    this._signInForm = $(a).rdFormHandler({
        on_submit_success: $.proxy(function(a, c, g) { (new Tm.Signin).signInCallback(g);
            this._closeSignInPopover();
            this._initCards(g.oneClickCardsHTML);
            a = $(this._config.purchase_button_class, this._container);
            1 === a.length && a.click()
        },
        this),
        on_ajax_response: $.proxy(function(a, c, g) {
            if ($.isArray(g.errors)) {
                var f = g.errors;
                setTimeout(function() {
                    $.isPlainObject(f[0]) && (f = f[0].messages);
                    $(a).rdFormHandler("show-field-error", a.password, f);
                    this._shakeActivePopover()
                }.bind(this), 100);
                return {
                    status: 0,
                    errors: []
                }
            }
            return g
        },
        this),
        on_show_errors: $.proxy(function(a, c, g) {
            g.length && this._shakeActivePopover()
        },
        this),
        please_enter_message: Twig.render(pleaseEnterPassword),
        autoscroll_on_form_error: !1
    })
};
Tm.OneClickPurchase.prototype._initSignInPopover = function(a) {
    $(a).popover({
        html: !0,
        container: "body",
        trigger: "click",
        placement: "left",
        template: '<div class="js-ocp-popover ocp-popover rd-popover rd-popover-left rd-popover-grey alert rd-closing" role="tooltip"><div class="arrow"></div><div class="popover-content"></div><span id="ocp-login-popover-close" class="js-ocp-popover-close close"></span></div>',
        content: function() {
            return $(".js-ocp-login").removeClass("hidden")
        }
    }).on("hide.bs.popover",
    function(a) {
        $(a.target).data("popover-opened", !1)
    }).on("hidden.bs.popover",
    function() {
        $(".js-ocp-login").addClass("hidden").appendTo(document.body)
    }).on("show.bs.popover", $.proxy(function(a) {
        $(a.target).data("popover-opened", !0).data("temporary-closed", !1);
        $(this._signInForm).find(":password").val("").end().rdFormHandler("hide-errors").rdFormHandler("hide-success")
    },
    this)).on("shown.bs.popover", $.proxy(function() {
        $(this._signInForm).rdFormHandler("focus-first")
    },
    this))
};
Tm.OneClickPurchase.prototype._getSignInButton = function() {
    return $(this._config.signin_button_class, this._container)
};
Tm.OneClickPurchase.prototype._shakeActivePopover = function() {
    var a = $(".js-ocp-popover");
    a.addClass("element-animation-shake");
    setTimeout(function() {
        a.removeClass("element-animation-shake")
    },
    1500)
};
Tm.OneClickPurchase.prototype._showModalProgress = function() {
    var a = '<div class="modal loader-modal-backdrop fade in"> <div class="loader-modal text-center"> <div class="loading"></div> <div class="loader-description bold h3">' + Twig.render(ocpLoaderDescription) + "</div></div></div>";
    this._modalProgress ? this._modalProgress.show() : this._modalProgress = $(a).appendTo(document.body)
};
Tm.OneClickPurchase.prototype._hideModalProgress = function() {
    this._modalProgress && this._modalProgress.hide()
};
Tm.OneClickPurchase.prototype._isReturningUser = function() {
    return !! $.cookie("cid")
};
CLS63 = function() {};
CLS63.prototype.deleteParamFromUrl = function(a) {
    if ("undefined" !== typeof $.url().param(a)) {
        var b = $.url().attr("path"),
        c = $.url().param(),
        g = "undefined" != typeof History.pushState ? History: "undefined" != typeof window.history.pushState ? window.history: null;
        delete c[a]; (a = $.param(c)) && (b += "?" + a);
        g && this._historyPushState(g, b)
    }
};
CLS63.prototype._historyPushState = function(a, b, c) {
    a.pushState({
        uri: b
    },
    "undefined" != typeof c ? c: document.title, b)
};
CLS63.prototype.waitUntilGTMIsLoaded = function(a) {
    function b() {
        var g = dataLayer.map(function(a) {
            return a.event
        }); - 1 !== $.inArray("gtm.load", g) ? c.deleteParamFromUrl(a) : setTimeout(b, 100)
    }
    var c = this;
    b()
};
CLS63.prototype.moveToCookie = function(a, b) {
    if (goog.isDef($.url().param(a))) {
        var c = $.url().param(a),
        g = $.cookie(b),
        g = goog.string.isEmptySafe(g) ? c: g + "," + c;
        Tm.setCookie(b, g);
        this.deleteParamFromUrl(a)
    }
};
tm.banner = tm.banner || {};
CLS6 = function() {
    this._active = this._endDate = this._zeroDate = this._bannerName = this._bannerElement = !1
};
CLS6.prototype.init = function() {
    var a = this;
    $(".js-close-banner").click(function() {
        a._active = !1;
        $(".js-banner-timer, .js-banner-timer .visible").slideUp("easeInExpo",
        function() {
            detectPreviewPage() && detectPreviewPriceBlock() && fixedAddCart()
        });
        var b = $(".js-banner-timer");
        if (!goog.string.isEmptySafe(b.data("utc-end"))) {
            var b = new Date(b.data("utc-end")),
            c = new Date,
            b = (new Date(b.getTime() - c.getTime())).getDate() + 1;
            0 < b && Tm.setCookie("tm" + a.getBannerName(), "1", b)
        }
    })
};
CLS6.prototype.scroll = function() {
    return ! 0
};
CLS6.prototype.stop = function() {};
CLS6.prototype.isActive = function() {
    return this._active
};
CLS6.prototype.preCondition = function() {
    return ! detectWPWelcomePage() && !detectWPLandingPresentations() && "1" !== $.cookie("tm" + this.getBannerName())
};
CLS6.prototype.startTimer = function() {
    function a() {
        var a = b.getDateUTC(),
        j = g - a,
        a = 0 <= a - c,
        k;
        if (0 >= j || !a) return clearInterval(f),
        b.stop(),
        !1;
        a = Math.floor(j / 36E5);
        k = Math.floor(j % 36E5 / 6E4);
        j = Math.floor(j % 6E4 / 1E3);
        $(".js-hours", $(b.getBannerElement())).val(a).trigger("change");
        $(".js-value-hours", $(b.getBannerElement())).html(a).trigger("change");
        $(".js-minutes", $(b.getBannerElement())).val(k).trigger("change");
        $(".js-value-minutes", $(b.getBannerElement())).html(k).trigger("change");
        $(".js-seconds", $(b.getBannerElement())).val(j).trigger("change");
        $(".js-value-seconds", $(b.getBannerElement())).html(j).trigger("change");
        return ! 0
    }
    $(".knob").knob({
        readOnly: !0
    });
    if (!this.preCondition()) return ! 1;
    var b = this,
    c = this.getZeroDateUTC(),
    g = this.getEndDateUTC();
    $(window).on("scroll",
    function() {
        b.scroll(window.pageYOffset)
    });
    a() && b.init();
    var f = setInterval(a, 1E3)
};
CLS6.prototype.getBannerElement = function() {
    return this._bannerElement
};
CLS6.prototype.getZeroDateUTC = function() {
    return this._zeroDate
};
CLS6.prototype.getEndDateUTC = function() {
    return this._endDate
};
CLS6.prototype.getBannerName = function() {
    return this._bannerName
};
CLS6.prototype.run = function() {
    this.startTimer()
};
CLS6.prototype.getDateUTC = function() {
    return this.dateUTC = (new Date).getTime()
};
CLS6.prototype.setZeroDateUTC = function(a) {
    this._zeroDate = (new CLS62).getDateFromFormat(a)
};
CLS6.prototype.setEndDateUTC = function(a) {
    this._endDate = (new CLS62).getDateFromFormat(a)
};
CLS4 = function(a) {
    this._urlHelper = a;
    this._active = this._endDate = this._zeroDate = !1;
    this._bannerElement = '.js-banner[data-position="popup banners"]'
};
goog.inherits(CLS4, CLS6);
defineService(["urlHelper"], CLS4);
CLS4.prototype.init = function() {
    var a = goog.isDef(window.landingPromocode) ? window.landingPromocode.code: "",
    b = goog.string.isEmptySafe($.cookie("nld")) ? "": $.cookie("nld"),
    c = this;
    if (goog.string.contains(b, a)) return this.stop(),
    !1;
    c._active = !0;
    $(document).trigger("Gtag.ee.push.promo.view", {
        from: "banner.popup.init"
    });
    $(this.getBannerElement()).find("#modalPop:first").modal("show");
    $(".js-modal-button", $(this.getBannerElement())).on("click",
    function() {
        var a = goog.isDef(window.landingPromocode) ? window.landingPromocode.code: "",
        b = $.cookie("nld"),
        b = goog.string.isEmptySafe(b) ? a: b + "," + a;
        Tm.setCookie("nld", b);
        initDiscounts();
        c.stop()
    });
    $(".js-modal-close", $(this.getBannerElement())).on("click",
    function() {
        c._active = !1;
        var a = $.cookie("bannerCounter"),
        a = goog.string.isEmptySafe(a) ? 0 : a;
        "1" == a ? (Tm.removeCookie("bannerCounter"), Tm.removeCookie("showpopup")) : Tm.setCookie("bannerCounter", 1)
    })
};
CLS4.prototype.stop = function() {
    $("#modalPop:first", $(this.getBannerElement())).modal("hide");
    this._active = !1;
    Tm.removeCookie("showpopup")
};
CLS4.prototype.showPopup = function(a) {
    var b = this;
    goog.isDef(a) && (!goog.string.isEmptySafe(a) && b.preCondition()) && $.ajax({
        url: "/ajax/discount-popup.php?showpopup=" + a,
        success: function(c) {
            if (goog.string.isEmptySafe(c)) return ! 0;
            $("body").append(c);
            var c = $(".js-banner-timer", c),
            g = goog.isDef(window.landingPromocode) ? window.landingPromocode.expiration_date: 0;
            if (goog.string.isEmptySafe(c.data("utc-end")) || goog.string.isEmptySafe(c.data("utc-start")) || goog.string.isEmptySafe(g)) return ! 0;
            b.setZeroDateUTC(c.data("utc-start"));
            b.setEndDateUTC(c.data("utc-end"));
            Tm.setCookie("showpopup", a, new Date(g));
            b.startTimer()
        }
    })
};
CLS4.prototype.destroy = function() {
    0 < $(this._bannerElement).length && $(this._bannerElement).remove()
};
CLS4.prototype.run = function() {
    var a = $.url().param(); (a = goog.string.makeSafe("showpopup" in a ? a.showpopup: $.cookie("showpopup"))) ? (this.showPopup(a), this.cleanUrl()) : !detectPreviewPriceBlock() && detectPreviewPage() && this.getCustomPopupBanner()
};
CLS4.prototype.preCondition = function() {
    return ! detectCartPage() && !detectAccountPage() && !detectCheckoutPage() && !detectDemoPage()
};
CLS4.prototype.cleanUrl = function() {
    this._urlHelper.deleteParamFromUrl("showpopup")
};
CLS4.prototype.getCustomPopupBanner = function() {
    $.ajax({
        url: "/ajax/custom-popup.php",
        data: {
            referrer: window.document.referrer
        },
        method: "POST",
        dataType: "html",
        success: function(a) {
            if (goog.string.isEmptySafe(a)) return ! 0;
            $("body").append(a);
            $('.js-banner[data-position="custom banners"]').find("#modalCustomBanner:first").modal("show")
        }
    })
};
CLS1 = function() {
    this._bannerElement = '[data-position="top of the page"] .js-banner-timer';
    this._bannerName = $(".js-banner").data("banner_name");
    this._active = this._endDate = this._zeroDate = !1
};
goog.inherits(CLS1, CLS6);
CLS1.prototype.init = function() {
    this.preCondition() && (CLS1.superClass_.init.call(this), this._active = !0, setTimeout(function() {
        $(".js-banner-timer_wrapper").animate({
            marginTop: "0px"
        },
        500,
        function() {
            $(".js-banner-timer_wrapper_small").animate({
                marginTop: "0px"
            },
            500)
        })
    },
    1E3))
};
CLS1.prototype._minimize = function() {
    $(".js-banner-timer_wrapper_small").addClass("visible")
};
CLS1.prototype._maximize = function() {
    $(".js-banner-timer_wrapper_small").removeClass("visible")
};
CLS1.prototype.scroll = function(a) {
    if (this._active) {
        var b = $(".js-banner-timer_wrapper").height();
        a > b - 10 ? this._minimize() : this._maximize()
    }
};
CLS1.prototype.stop = function() {
    $(".js-banner-timer_small", $(this.getBannerElement())).hide();
    this._active = !1
};
CLS5 = function() {
    this._bannerElement = '[data-position="top of the page"] .js-banner-timer';
    this._bannerName = $(".js-banner").data("banner_name");
    this._active = this._endDate = this._zeroDate = !1
};
goog.inherits(CLS5, CLS6);
CLS5.prototype.init = function() {
    CLS5.superClass_.init.call(this);
    this.preCondition() && (this._active = !0, setTimeout(function() {
        0 < $(document, "html").scrollTop() ? $(".js-banner-timer_wrapper").animate({
            marginTop: "0px"
        },
        500).sticky({
            topSpacing: 0
        }).css("position", "fixed") : $(".js-banner-timer_wrapper").animate({
            marginTop: "0px"
        },
        500).sticky({
            topSpacing: 0
        })
    },
    1E3))
};
CLS5.prototype.scroll = function() {};
CLS5.prototype.stop = function() {
    $(this.getBannerElement()).hide();
    this._active = !1
};
tm.banner.model = tm.banner.model || {};
tm.banner.model.sales = function() {
    this.max = 9E3;
    this.total = 0
};
tm.banner.model.sales.prototype.increment = function(a) {
    a = this.countPeriods(a) % 144;
    this.total += this.getY(a)
};
tm.banner.model.sales.prototype.getTotal = function(a) {
    a = this.countPeriods(a);
    this.total = 1E3 * Math.floor(a / 144);
    for (var a = a % 144,
    b = 0; b <= a + 1; b++) this.increment(b * this.get10Minutes());
    this.total > this.max && (this.total = this.max);
    return this.total
};
tm.banner.model.sales.prototype.countPeriods = function(a) {
    return Math.floor(a / this.get10Minutes())
};
tm.banner.model.sales.prototype.getY = function(a) {
    var b = 5;
    switch (!0) {
    case 0 < a && 46 >= a: b = 5;
        break;
    case 46 < a && 60 >= a: b = Math.floor((a - 11) / 7);
        break;
    case 60 < a && 116 >= a: b = 9;
        break;
    case 116 < a && 144 >= a: b = Math.floor((179 - a) / 7)
    }
    return b
};
tm.banner.model.sales.prototype.get10Minutes = function() {
    return 6E5
}; (function(a) {
    a.fn.incrementalCounter = function(b) {
        var c = function(b) {
            var c = parseInt(a(b).data("current_value")),
            j = 20,
            j = a(b).data("end_value") - c;
            1 > j ? (j = 4E4, c += 1) : 2 > j ? (j = 45E3, c += 1) : 4 > j ? (j = 6E4, c += 1) : 5 > j ? (j = 12E4, c += 1) : 7 > j ? (j = 6E4, c += 1) : 10 > j ? (j = 3E4, c += 1) : 100 > j ? (j = 10, c += 1) : 500 > j ? (j = 6, c += 6) : 1E3 > j ? (j = 5, c += 6) : 2E3 > j ? (j = 2, c += 6) : 5E3 > j ? (j = 1, c += 32) : (j = 1, c += 66);
            a(b).data({
                current_value: c
            });
            j ? setTimeout(function() {
                g(a(b), c)
            },
            j) : g(a(b), c)
        },
        g = function(b, g) {
            var j = g,
            k = b.data("digits"),
            j = j + "",
            m = (j.length >= k ? j: Array(k - j.length + 1).join("0") + j).split(""),
            j = a(b).data("end_value"),
            q = a(b).find(".num");
            a(m).each(function(b) {
                a(q[b]).text(m[b])
            });
            j > g && c(b)
        },
        b = a.extend({
            digits: 4
        },
        b);
        this.each(function(f, g) {
            var j = b.digits,
            j = g.getAttribute("data-digits") ? g.getAttribute("data-digits") : j,
            k = parseInt(g.getAttribute("data-value")),
            m = parseInt(g.getAttribute("data-from")),
            j = "auto" === j || j < String(k).length ? String(k).length: j;
            a(g).data({
                current_value: m,
                end_value: k,
                digits: j,
                current_speed: 1E3
            });
            if (0 === a("div.num", a(g)).length) for (k = 0; k < j; k++) a(g).append('<div class="num">0</div>');
            c(a(g))
        });
        return this
    }
})(jQuery);
CLS2 = function() {
    this._bannerElement = '[data-position="top of the page"] .js-banner-timer.js-banner-counter';
    this._bannerName = $(".js-banner").data("banner_name");
    this._active = this._endDate = this._zeroDate = !1;
    $(".incremental-counter", this._bannerElement).attr("data-from", 0);
    this.dateUTC = !1
};
goog.inherits(CLS2, CLS6);
CLS2.prototype.init = function() {
    this.preCondition() && (CLS2.superClass_.init.call(this), this._active = !0, setTimeout(function() {
        $(".js-banner-timer_wrapper").animate({
            marginTop: "0px"
        },
        500).sticky({
            topSpacing: 0
        })
    },
    1E3))
};
CLS2.prototype.stop = function() {
    $(this.getBannerElement()).hide();
    this._active = !1
};
CLS2.prototype.startTimer = function() {
    function a() {
        var a = b.getDateUTC(),
        k = 0 <= a - c;
        if (0 >= g - a || !k) return clearInterval(h),
        b.stop(),
        !1;
        $.when.apply(null, b.synchronize()).done($.proxy(function() {
            var a = b.getDateUTC() - c,
            a = f.getTotal(a);
            $(".incremental-counter", b.getBannerElement()).attr("data-value", a);
            $(".incremental-counter").incrementalCounter();
            $(".incremental-counter", b.getBannerElement()).attr("data-from", a);
            b.isChangeNeeded(a) && b.change(b.getBannerClass(a))
        }));
        return ! 0
    }
    if (!this.preCondition()) return ! 1;
    var b = this,
    c = this.getZeroDateUTC(),
    g = this.getEndDateUTC(),
    f = new tm.banner.model.sales;
    a() && b.init();
    var h = setInterval(a, 6E5)
};
CLS2.prototype.getBannerClass = function(a) {
    return 6E3 < a ? "js-info-3": 3E3 < a ? "js-info-2": "js-info-1"
};
CLS2.prototype.isChangeNeeded = function(a) {
    a = this.getBannerClass(a);
    return ! $(".banner-info", this.getBannerElement()).hasClass(a)
};
CLS2.prototype.change = function(a) {
    return $(".banner-info", this.getBannerElement()).removeClass("js-info-1 js-info-2 js-info-3 ").addClass(a)
};
CLS2.prototype.synchronize = function() {
    var a = this;
    return $.ajax({
        url: "/ajax/timestamp.php",
        datatype: "json",
        async: !1
    }).done(function(b) {
        a.dateUTC = b && goog.isDef(b.timestamp) ? 1E3 * parseInt(b.timestamp) : !1
    })
};
CLS2.prototype.getDateUTC = function() {
    return this.dateUTC ? this.dateUTC: this.dateUTC = (new Date).getTime()
};
CLS3 = function(a) {
    this._banners = [];
    goog.isObject(a) && this._banners.push(a)
};
defineService(["banner-popup"], CLS3);
CLS3.prototype._collect = function() {
    var a = $(".js-banner-timer");
    if (! (0 === a.length || goog.string.isEmptySafe(a.data("utc-end")) || goog.string.isEmptySafe(a.data("utc-start")))) {
        var b = a.data("utc-end"),
        c = a.data("utc-start"),
        a = "small" == a.data("banner-size") ? new CLS5: new CLS1;
        0 < $(".js-banner-counter").length && (a = new CLS2);
        a.setZeroDateUTC(c);
        a.setEndDateUTC(b);
        this._banners.push(a)
    }
};
CLS3.prototype.run = function() {
    this._collect();
    goog.array.forEach(this._banners,
    function(a) {
        a.run()
    })
};
CLS3.prototype.isActiveBanner = function() {
    return goog.array.some(this._banners,
    function(a) {
        return a.isActive()
    })
};
CLS3.prototype.isTopBannerOn = function() {
    return 0 < $(".js-banner-timer").length && 0 < $('[data-position="top of the page"]').length
};
Tm = Tm || {};
Tm.floatPanel = function() {};
Tm.floatPanel.prototype.updateCustomScrollbar = function() {
    $(".float-panel").find(".js-popover-with-scroll").mCustomScrollbar("destroy");
    this.setCustomScrollbar()
};
Tm.floatPanel.prototype.setCustomScrollbar = function() {
    var a;
    a = MobileEsp.DetectIos() || MobileEsp.DetectAndroid() ? !1 : [80, 0];
    $(".float-panel").find(".js-popover-with-scroll").mCustomScrollbar({
        advanced: {
            updateOnContentResize: !0
        },
        axis: "y",
        autoHideScrollbar: !0,
        scrollbarPosition: "inside",
        autoDraggerLength: !0,
        snapAmount: a,
        mouseWheel: {
            enable: !0
        },
        scrollButtons: {
            enable: !1
        },
        keyboard: {
            enable: !1,
            scrollAmount: 80,
            scrollType: "stepless"
        },
        callbacks: {
            onCreate: function() {},
            onInit: function() {},
            onScrollStart: function() {},
            onScroll: function() {},
            onUpdate: function() {}
        }
    })
};
Tm.floatPanel.prototype._animatingPanelItem = function(a) {
    var b = a.find(".panel-inner");
    b.addClass("animating").delay(300).queue(function() {
        b.removeClass("animating").dequeue()
    })
};
Tm.floatPanel.prototype.addingAction = function(a) {
    a = $(a);
    a.hasClass("filled") || (a.addClass("filled"), a.hasClass("cart-item") && a.parents(".float-panel").removeClass("empty-cart-block"));
    this._animatingPanelItem(a);
    a.find(".popover-extended").mCustomScrollbar("update")
};
Tm.floatPanel.prototype.showExtendedPopover = function(a) {
    var b = a.find(".popover-extended");
    a.addClass("opened");
    a.hasClass("cart-item") && a.prev().addClass("prev-to-cart-item");
    b.stop(!0, !1).slideDown(300).animate({
        opacity: 1
    },
    {
        queue: !1,
        duration: 300
    })
};
Tm.floatPanel.prototype.hideExtendedPopover = function(a) {
    var b = a.parents(".float-panel").find(".panel-item");
    a.parents(".float-panel").find(".popover-extended").stop(!0, !1).slideUp(300).animate({
        opacity: 0
    },
    {
        queue: !1,
        duration: 300
    });
    $(document).trigger("MainEvents.FloatedPanel.popover.hide", {
        elements: b
    });
    b.removeClass("opened prev-to-cart-item")
};
Tm.floatPanel.prototype.removeFromCart = function(a) {
    var b = a.parents(".js-suggested-item"),
    c = a.data("title-stored"),
    g = a.data("title-back"),
    f = "";
    b.toggleClass("removed");
    f = a.hasClass("icon-remove-circle") ? g: c;
    a.setTooltip({
        title: f,
        hideOnTablet: !0
    });
    a.toggleClass("icon-remove-circle icon-restore")
};
Tm.floatPanel.prototype.init = function() {
    var a = this,
    b = $(".float-panel"),
    c = b.find(".panel-inner"),
    g = b.find(".js-btn-remove-from-cart");
    $("body").addClass("page-with-floated-panel");
    $(c).on("click",
    function() {
        var b = $(this).parents(".panel-item");
        if (!b.hasClass("filled")) return ! 1;
        b.hasClass("opened") ? a.hideExtendedPopover(b) : (a.hideExtendedPopover(b), a.showExtendedPopover(b));
        return ! 1
    });
    $(g).on("click",
    function() {
        a.removeFromCart($(this));
        return ! 1
    });
    $(document).on("click",
    function(c) {
        $(c.target).parents(".float-panel").length || a.hideExtendedPopover(b.find(".panel-item"))
    })
};
tm.collection = tm.collection || {};
tm.collection.model = {};
tm.collection.plugin = {};
CLS14 = function(a, b) {
    this.queueName = a;
    var c = this,
    g = localStorage.getItem(this.queueName),
    g = goog.string.isEmptySafe(g) ? [] : JSON.parse(g);
    window[c.queueName] = $.jqmq({
        queue: g,
        delay: -1,
        batch: 10,
        callback: function(a) {
            var g = new CLS56;
            $.ajax({
                url: g.urlPrefix() + "/ajax/collection/batch.php",
                dataType: "json",
                data: {
                    items: JSON.stringify(a),
                    render_page_1: detectCollectionPage() ? 1 : 0
                },
                type: "POST",
                success: function(g) {
                    var h = localStorage.getItem(c.queueName),
                    h = goog.string.isEmptySafe(h) ? [] : JSON.parse(h);
                    goog.array.forEach(a,
                    function(a) {
                        goog.array.remove(h, a)
                    });
                    localStorage.setItem(c.queueName, JSON.stringify(h));
                    "function" === typeof b && b(g);
                    window[c.queueName].next()
                },
                error: function() {}
            })
        },
        complete: function() {
            localStorage.removeItem(c.queueName)
        }
    })
};
CLS14.prototype.storeAction = function(a) {
    var b = localStorage.getItem(this.queueName),
    b = goog.string.isEmptySafe(b) ? [] : JSON.parse(b);
    b.push(a);
    localStorage.setItem(this.queueName, JSON.stringify(b));
    window[this.queueName].add(a)
};
tm.collection = tm.collection || {};
CLS12 = function(a) {
    this.language = a
};
defineService(["language"], CLS12);
CLS12.prototype.search = function(a, b, c) {
    var c = c || !1,
    g = $.Deferred(),
    a = this.buildQueryParams(a);
    $.get(this.language.urlPrefix() + "/ajax/collection/search.php", a).done(function(a) {
        if (tm.search.pseudojson.isPseudoJson(a)) {
            var a = tm.search.pseudojson.fromString(a),
            b = a.json;
            b.t = a.thumbnails;
            b.compatibility = a.compatibility;
            g.resolve(new CLS59(b))
        } else c ? g.resolve(a) : g.resolve(new CLS59(a));
        appDic.require("discount").drawPrices();
        $(document).trigger("MainEvents.templates.loaded")
    });
    return g
};
CLS12.prototype.buildQueryParams = function(a) {
    var b;
    goog.isDefAndNotNull(a.v) && (b = a.v, delete a.v, a = {
        v: b,
        enc: base64.encode(unescape(encodeURIComponent(JSON.stringify(a))))
    });
    return a
};
tm.collection = tm.collection || {};
CLS13 = function(a) {
    this._page = 0;
    this._incpage = 1;
    this._engine = a;
    this._fsm = StateMachine.create({
        initial: "NORMAL",
        events: [{
            name: "auto",
            from: ["NORMAL", "UNHOLD"],
            to: "SEARCH"
        },
        {
            name: "normal",
            from: "SEARCH",
            to: "NORMAL"
        },
        {
            name: "stop",
            from: "SEARCH",
            to: "SHUTDOWN"
        },
        {
            name: "hold",
            from: "SEARCH",
            to: "HOLD"
        },
        {
            name: "unhold",
            from: "HOLD",
            to: "UNHOLD"
        }],
        "final": "SHUTDOWN",
        callbacks: {
            onSEARCH: function() {
                if (lastPage) this._fsm.stop();
                else {
                    var a = searchQuery;
                    a.page = this._page + 1;
                    this._page += 1;
                    this._incpage += 1;
                    $('<div class="pager_spinner"><span class="spinner"></span></div>').appendTo($(".js-search-listing"));
                    this._engine.search(a).done(function(a) {
                        $(".pager_spinner").remove();
                        goog.string.isEmptySafe(a.getText()) ? this._fsm.stop() : (this._result_block.append(Twig.render(page_divider, {
                            page: a.getPageNumber()
                        })).append(a.getText()), a.hasMore() ? 0 === this._incpage % 4 ? this._fsm.hold() : this._fsm.normal() : this._fsm.stop())
                    }.bind(this))
                }
            }.bind(this),
            onHOLD: function() {
                this._enableShowMoreButton(!0)
            }.bind(this),
            onUNHOLD: function() {
                this._enableShowMoreButton(!1);
                this._fsm.auto()
            }.bind(this)
        }
    })
};
defineService(["collection-search-engine"], CLS13);
CLS13.prototype.enterDocument = function(a, b, c, g) {
    this._page = g;
    this._showmore_button = a;
    this._bottom = b;
    this._result_block = c;
    this._showmore_button.click(function() {
        this._fsm.can("unhold") && this._fsm.unhold()
    }.bind(this));
    this._bottom.appear().on("appear",
    function() {
        this._fsm.can("auto") && this._fsm.auto()
    }.bind(this));
    $.force_appear()
};
CLS13.prototype._enableShowMoreButton = function(a) {
    var b = this._showmore_button.parent();
    a ? b.show() : b.hide()
};
tm.collection.model.item = function(a, b, c, g, f, h, j, k, m, q) {
    this.id = a;
    this.namespace = b;
    this.name = c;
    this.descr = g;
    this.count = f;
    this.icon = h;
    this.url = j;
    this.price = k;
    this.model = m;
    this.element_id = goog.string.makeSafe(q)
};
tm.collection.model.type = function() {
    this._types = {
        keyword: 1,
        topic: 2,
        type: 3,
        template: 4,
        collection: 5
    }
};
tm.collection.model.type.prototype.getId = function(a) {
    return this._types[a]
};
tm.collection.model.type.prototype.getValue = function(a) {
    for (var b in this._types) if (a === this._types[b]) return b;
    return ""
};
tm.collection.model.type.prototype.getKeys = function() {
    return this._types
};
tm.collection.plugin.template = function() {
    var a = appDic.require("language"),
    b = $(".js-template-id:first"),
    c = $('.js-preview-accordion-panel[data-variant="regular"]');
    return b.length ? new tm.collection.model.item(appDic.require("language").lang + "-template-" + $(b).data("template_id"), "template", $(b).data("template_name"), $(b).data("product_name"), 0, $(".js-preview-scr").attr("src"), History.getFullUrl($.url().attr("path"), !1), 0 < c.length ? $(".js-price", c).html() : a.formatMoney(0), $(b).data("template_id")) : !1
};
tm.collection.plugin.topic = function() {
    var a = $(".js-topic-selected"),
    b = $(".js-search-tags li"),
    c = $(a).data("item_id");
    return 1 === a.length && 1 >= b.length ? new tm.collection.model.item(appDic.require("language").lang + "-topic-" + c, "topic", $(a).html(), $(a).data("isparent") ? Twig.render(categoryText) : Twig.render(subCategoryText), $(a).data("count"), $(a).data("js_icon"), location.href, "", $(a).data("item_id")) : !1
};
tm.collection.plugin.type = function() {
    var a = $(".js-type.selected"),
    b = $(".js-search-tags li"),
    c = $(a).data("item_id");
    if (1 === a.length && 1 >= b.length) {
        var g = $("span.js-btn", a).html().split(" "),
        b = goog.string.makeSafe(g[g.length - 1]);
        g.pop();
        g = goog.string.makeSafe(g.join(" "));
        return new tm.collection.model.item(appDic.require("language").lang + "-type-" + c, "type", g, b, $(a).data("count"), $(a).data("js_icon"), location.href, "", $(a).data("item_id"))
    }
    return ! 1
};
tm.collection.plugin.suggestion = function(a) {
    if (goog.isObject(a)) {
        var b = 1 === a.type;
        return new tm.collection.model.item(appDic.require("language").lang + "-keyword-" + a.name, "keyword", a.name, "", goog.isDefAndNotNull(a.count) ? a.count: b ? 1 : 0, "icon-magnifier", a.url, "", "")
    }
    return ! 1
};
tm.collection.plugin.keyword = function() {
    if (goog.isDef(arguments) && arguments[0]) {
        var a = arguments[0];
        if (!goog.string.isEmptySafe(a.keyword) && !goog.string.isEmptySafe(a.url)) return sessionStorage.setItem("keyword", a.keyword),
        sessionStorage.setItem("keyword-id", appDic.require("language").lang + "-keyword-" + a.keyword),
        sessionStorage.setItem("keyword-url", a.url),
        new tm.collection.model.item(appDic.require("language").lang + "-keyword-" + a.keyword, "keyword", a.keyword, "", 0, "icon-magnifier", a.url, "", "")
    }
    var a = $(".js-keywords-found .js-keywords"),
    b = $(".js-keywords-found").data("count");
    return a.length ? new tm.collection.model.item(appDic.require("language").lang + "-keyword-" + $(a).html(), "keyword", $(a).html(), "", goog.isDefAndNotNull(b) ? +b: 0, "icon-magnifier", $.url().attr("path") + "?" + $.url().attr("query"), "", "") : !1
};
tm.collection.plugin.storedKeyword = function() {
    var a = sessionStorage.getItem("keyword"),
    b = sessionStorage.getItem("keyword-id"),
    c = sessionStorage.getItem("keyword-url");
    if (!goog.string.isEmptySafe(a) && !goog.string.isEmptySafe(b) && !goog.string.isEmptySafe(c)) {
        sessionStorage.removeItem("keyword");
        sessionStorage.removeItem("keyword-id");
        sessionStorage.removeItem("keyword-url");
        var g = goog.string.makeSafe($(".js-keywords-found, .js-topic-selected, .js-type.selected ").data("count"));
        return new tm.collection.model.item(b, "keyword", a, "", +g, "icon-magnifier", c, "", "")
    }
    return ! 1
};
tm.collection.plugin.thumbnail = function(a) {
    var b = $('.js-thumbnail[data-tid="' + a + '"]'),
    c = appDic.require("language");
    return b.length ? new tm.collection.model.item("template-" + a, "collection", $(b).data("template_name"), $(b).data("product_name"), 0, $(".js-thumbnail-img", $(b)).attr("src"), $(".js-view-product", $(b)).attr("href"), c.formatMoney($(".js-template-price", $(b).parents("li:first")).attr("data-price")), a) : !1
};
tm.collection.plugin.collection = function(a) {
    var b = $('.js-suggested-item[data-tid="' + a + '"]:first');
    return b.length ? new tm.collection.model.item("template-" + a, "collection", $(b).data("name"), $(b).data("descr"), 0, $(b).data("js_icon"), $(b).data("url"), $(b).data("price"), a) : !1
};
tm.collection.model.itemRepository = function(a) {
    this._storageName = a
};
tm.collection.model.itemRepository.prototype.insert = function(a) {
    var b = this.getAll(),
    b = $.merge(a, b);
    localStorage.setItem(this._storageName, JSON.stringify(b))
};
tm.collection.model.itemRepository.prototype.safeInsert = function(a, b) {
    var c = this.find(a.id);
    c && (this.remove(c), a = $.extend(c, {
        count: a.count
    }));
    c = this.getAll();
    0 < b && b === c.length && c.splice(b - 1, 1);
    c = $.merge([a], c);
    localStorage.setItem(this._storageName, JSON.stringify(c))
};
tm.collection.model.itemRepository.prototype.remove = function(a) {
    var b = goog.array.filter(this.getAll(),
    function(b) {
        return goog.isObject(a) ? b.id !== a.id: b !== a
    });
    localStorage.setItem(this._storageName, JSON.stringify(b))
};
tm.collection.model.itemRepository.prototype.clear = function() {
    localStorage.removeItem(this._storageName)
};
tm.collection.model.itemRepository.prototype.getAll = function() {
    var a = localStorage.getItem(this._storageName),
    a = goog.string.isEmptySafe(a) ? [] : JSON.parse(a);
    goog.isDef(arguments) && arguments[0] && (a = a.splice(0, +arguments[0]));
    return a
};
tm.collection.model.itemRepository.prototype.contains = function(a) {
    var b = this.getAll();
    return goog.array.some(b,
    function(b) {
        if (b.id === a.id) return b
    })
};
tm.collection.model.itemRepository.prototype.find = function(a) {
    var b = this.getAll(),
    c;
    for (c in b) if (b[c].id === a) return b[c];
    return ! 1
};
tm.collection.model.itemRepository.prototype.first = function() {
    var a = this.getAll();
    return 0 < a.length ? a[a.length - 1] : !1
};
tm.collection.model.itemRepository.prototype.last = function() {
    var a = this.getAll();
    return 0 < a.length ? a[0] : !1
};
tm.collection.model.itemRepository.prototype.compare = function(a, b) {
    return a.id === b.id && a.count === b.count
};
CLS55 = function() {};
CLS55.prototype.setText = function(a) {
    if (!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        var b = "",
        b = $(a).hasClass("added") ? $(a).data("title-favorite") : $(a).data("title-not-favorite");
        $(a).tooltip("destroy");
        $(a).setTooltip({
            placement: "bottom",
            color: "grey",
            title: b,
            html_class: "thumb-heart-tooltip"
        })
    }
};
CLS55.prototype.reinit = function(a) {
    $("body").find(".rd-popover.thumb-heart-tooltip").remove();
    this.setText(a)
};
CLS15 = function(a) {
    this._tooltip = a
};
defineService(["heart-tooltip"], CLS15);
CLS15.prototype.clear = function(a) {
    var a = $(a).data("tid"),
    b = $('.js-favorite-btn[data-tid="' + a + '"]'),
    c = $(b).find("span");
    $(b).removeClass("added").find(".js-heart-in-progress").remove();
    0 < c.length && c.text($(b).data("not-added"));
    0 < b.length && this._tooltip.reinit(b);
    detectCollectionPage() && $(".js-thumbnail[data-tid=" + a + "]").parents(".thumbnail").addClass("item-deleted");
    $(".js-popover-collection .js-suggested-item[data-tid=" + a + "]").addClass("item-deleted")
};
CLS15.prototype.clearHeartInUrl = function() {
    $(".js-collection-url b").removeClass("filled")
};
CLS15.prototype.setAdded = function(a, b) {
    var c = $(a).attr("data-tid"),
    g = $('.js-favorite-btn[data-tid="' + c + '"]').not(".added");
    this.animateHeartInUrl(b);
    if (0 !== $(g).length) {
        var f = this,
        h = $(g).find("span");
        0 < h.length && h.text($(g).data("added"));
        b ? ($(g).each(function() {
            0 === $("i.js-heart-in-progress", this).length && ($(this).addClass("added").removeClass("js-none"), $(this).prepend('<i class="tm-icon icon-heart-empty js-heart-in-progress heart-in-progress animated zoomOut"></i>'))
        }), setTimeout(function() {
            $(g).each(function() {
                $(this).find(".js-heart-in-progress").removeClass("icon-heart-empty heart-in-progress animated zoomOut").addClass("icon-heart icon-heart-small");
                f._tooltip.reinit(this)
            })
        },
        500)) : ($(g).each(function() {
            0 === $("i.js-heart-in-progress", this).length && $(this).prepend('<i class="tm-icon icon-heart icon-heart-small js-heart-in-progress"></i>')
        }), setTimeout(function() {
            $(g).each(function() {
                $(this).addClass("added").removeClass("js-none");
                f._tooltip.reinit(this)
            })
        },
        500));
        detectCollectionPage() && $(".js-thumbnail[data-tid=" + c + "]").parents(".thumbnail").removeClass("item-deleted");
        $(".js-popover-collection .js-suggested-item[data-tid=" + c + "]").removeClass("item-deleted")
    }
};
CLS15.prototype.animateHeartInUrl = function(a) {
    var b = $(".js-collection-url");
    a ? ($("b", b).removeClass("filled"), $("b", b).addClass("added"), $("b", b).prepend('<i class="tm-icon icon-heart-empty js-heart-in-progress heart-in-progress animated zoomOut"></i>'), setTimeout(function() {
        $(".favorite-btn", b).find(".js-heart-in-progress").remove();
        $("b", b).addClass("filled");
        $(".favorite-btn", b).removeClass("added")
    },
    500)) : setTimeout(function() {
        $("b", b).addClass("filled")
    },
    500)
};
CLS15.prototype.initTooltip = function(a) {
    this._tooltip.setText(a)
};
CLS15.prototype.showAll = function() {
    $(".js-favorite-btn.js-none").removeClass("js-none")
};
CLS16 = function(a, b) {
    this._language = a;
    this._view = b;
    this._queueManager = new CLS14("collectionQueue",
    function(a) {
        "changed" in a && a.changed && $(document).trigger("MainEvents.collection.changed");
        "page1" in a && ($(".js-collection-items").empty().html(a.page1), $(document).trigger("MainEvents.templates.loaded"))
    });
    this._isLoaded = !1;
    this._cookieName = "collection"
};
defineService(["language", "view"], CLS16);
CLS16.prototype.initTriggers = function() {
    this._load();
    $(".js-collection-url").removeClass("js-none");
    this._updateCollectionPageUrl();
    $(document).on("MainEvents.user.login", $.proxy(function() {
        this.login()
    },
    this));
    $(document).on("MainEvents.user.logout", $.proxy(function() {
        this.logout()
    },
    this));
    $(document).on("MainEvents.collection.changed", $.proxy(function() {
        this._updateCollectionPageUrl()
    },
    this));
    var a = this;
    $(document).on("MainEvents.templates.loaded",
    function() {
        $("body").on("mousedown touchstart", ".js-favorite",
        function() {
            $(this).addClass("clicked")
        });
        $("body").on("touchend mouseleave", ".js-favorite",
        function() {
            $(this).removeClass("clicked")
        });
        $("body").off("click", ".js-favorite");
        $("body").on("click", ".js-favorite",
        function() {
            $(this).removeClass("clicked");
            var b = $(this).data("item_name"),
            c = new tm.collection.model.itemRepository("collection");
            $(this).removeClass("clicked");
            $(this).hasClass("added") ? (c.remove(b), c.getAll().length || a._view.clearHeartInUrl(), a._view.clear($(this)), a.dispatch($(this), "delete"), $(document).trigger("MainEvents.collection.item.delete", {
                id: $(this).data("tid")
            })) : (c.insert([b]), $(document).trigger("MainEvents.collection.item.create", {
                id: $(this).data("tid")
            }), a._view.setAdded($(this), !0), a.dispatch($(this), "create"));
            a._updateCollectionPageUrl();
            return ! 1
        }).on("mouseup", ".js-favorite",
        function(a) {
            a.stopImmediatePropagation()
        });
        $(".js-favorite-btn").each(function() {
            a._view.initTooltip($(this))
        });
        collectionQueue.start();
        a.renderAll()
    })
};
CLS16.prototype.dispatch = function(a, b) {
    var c = $(a).data("item_name");
    this._queueManager.storeAction({
        name: c,
        action: b,
        type: "collection"
    })
};
CLS16.prototype.renderItem = function(a) {
    a = $('.js-favorite[data-item_name="' + a + '"]').first();
    0 < a.length && this._view.setAdded(a, !1)
};
CLS16.prototype.renderAll = function() {
    var a = (new tm.collection.model.itemRepository("collection")).getAll();
    0 < a.length && (this._view.animateHeartInUrl(!1), goog.array.forEach(a,
    function(a) {
        this.renderItem(a)
    },
    this));
    setTimeout(function() {
        this._view.showAll()
    }.bind(this), 500)
};
CLS16.prototype.fillStorage = function() {
    var a = this._getCookeValue();
    return this._isLoaded ? $.Deferred().resolve() : a ? $.ajax({
        url: this._language.urlPrefix() + "/ajax/collection/search.php?page=0&no-rendering=1&collection=" + a,
        dataType: "json",
        type: "GET",
        success: function(a) {
            if (goog.isDef(a) && goog.isDef(a.t)) {
                var c = new tm.collection.model.itemRepository("collection"),
                g = new tm.collection.model.itemRepository("viewed-collection");
                c.clear();
                g.clear();
                var a = JSON.parse(a.t),
                a = goog.object.getValues(a.items),
                f = goog.array.map(a,
                function(a) {
                    return a.id
                });
                c.insert(f);
                g.insert(a);
                detectPageAwareOfFloatPanel() && appDic.require("viewed").updateCollectionView()
            }
            this._isLoaded = !0;
            this._updateCollectionPageUrl()
        }.bind(this)
    }) : $.Deferred().resolve()
};
CLS16.prototype.login = function() {
    $.ajax({
        url: this._language.urlPrefix() + "/ajax/collection/login.php",
        success: $.proxy(function() {
            this._isLoaded = !1;
            this._load()
        },
        this)
    })
};
CLS16.prototype.logout = function() {
    this._clear();
    detectCollectionPage() ? window.location.reload() : this._updateCollectionPageUrl()
};
CLS16.prototype._updateCollectionPageUrl = function() {
    var a = $(".js-collection-url");
    if (0 < a.length) {
        var b = a.data("href").replace(/(collection\/)([a-z0-9\/-]*)$/, "$1" + (this._getCookeValue() ? this._getCookeValue() + "/": ""));
        a.attr("data-href", b)
    }
};
CLS16.prototype._clear = function() {
    Tm.removeCookie(this._cookieName);
    var a = new tm.collection.model.itemRepository("collection"),
    b = new tm.collection.model.itemRepository("viewed-collection"),
    c = a.getAll();
    b.clear();
    this._view.clearHeartInUrl();
    goog.array.forEach(c,
    function(a) {
        a = $('.js-favorite[data-item_name="' + a + '"]');
        this._view.clear(a)
    },
    this);
    a.clear();
    detectPageAwareOfFloatPanel() && appDic.require("viewed").updateCollectionView();
    this._isLoaded = !1
};
CLS16.prototype._getCookeValue = function() {
    var a = $.cookie(this._cookieName);
    return a ? a: ""
};
CLS16.prototype._load = function() {
    this._updateCollectionPageUrl();
    this.fillStorage().done($.proxy(function() {
        this.renderAll()
    },
    this))
};
CLS64 = function(a) {
    this._language = a;
    this._floatPanel = new Tm.floatPanel;
    this._maxViewed = 20;
    this._maxViewedCollection = 5
};
defineService(["language"], CLS64);
CLS64.prototype.trackItemPage = function() {
    this.initTriggers();
    var a = !1,
    a = detectPreviewPage() ? tm.collection.plugin.template() : tm.collection.plugin.keyword() || tm.collection.plugin.topic() || tm.collection.plugin.type(),
    b = new tm.collection.plugin.storedKeyword;
    goog.isDefAndNotNull(b) && !goog.object.isEmpty(b) && this.dispatch(b);
    this.dispatch(a);
    this.renderAll();
    this._floatPanel.setCustomScrollbar()
};
CLS64.prototype.initTriggers = function() {
    var a = this;
    $(document).on("MainEvents.cart.recalculated",
    function(a, c) {
        "count" in c && "value" in c ? ($(".js-cart-float .js-count").html(c.count), $(".js-cart-float .js-amount").html(this._language.formatMoney(c.value)).removeClass("js-none")) : ($(".js-cart-float .js-count").html(0), $(".js-cart-float .js-amount").addClass("js-none"))
    }.bind(this));
    $(document).on("MainEvents.user.login",
    function() {
        this.login()
    }.bind(this));
    $(document).on("MainEvents.userSearchFormAction.push",
    function(a, c) {
        var g = "isSuggestion" in c && c.isSuggestion ? tm.collection.plugin.suggestion(c.selected) : tm.collection.plugin.keyword(c);
        this.dispatch(g);
        this._updateCounters()
    }.bind(this));
    $(document).on("MainEvents.collection.item.create",
    function(b, c) {
        var g = tm.collection.plugin.collection(c.id);
        g || (g = tm.collection.plugin.thumbnail(c.id));
        g || (g = tm.collection.plugin.template(), g.namespace = "collection", g.id = "template-" + c.id); (new tm.collection.model.itemRepository("viewed-collection")).safeInsert(g);
        if (0 === $('.js-popover-collection .js-suggested-item[data-tid="' + g.model + '"]').length) {
            $(".js-popover-collection .js-suggested-item").length >= a._maxViewedCollection && $(".js-popover-collection .js-suggested-item:nth-child(" + a._maxViewedCollection + ")").addClass("js-none");
            var f = new tm.collection.model.itemRepository("collection");
            $(".js-popover-" + g.namespace).prepend(a.renderItem(g));
            a._floatPanel.addingAction($(".js-popover-" + g.namespace));
            $(".js-panel-item.js-collection").addClass("filled");
            a._updateButton(f)
        }
        a._updateCounters();
        a._floatPanel.addingAction($(".js-panel-item.js-collection"))
    });
    $(document).on("MainEvents.collection.item.delete",
    function(b, c) {
        var g = new tm.collection.model.itemRepository("viewed-collection"),
        f = g.find("template-" + c.id);
        g.remove(f);
        a._updateCounters();
        a._updateButton(g)
    });
    $(document).on("MainEvents.FloatedPanel.popover.hide",
    function(a, c) {
        var g = $(c.elements).filter(".opened");
        $(g).hasClass("js-collection") && (this.updateCollectionView(), appDic.require("collection").renderAll())
    }.bind(this))
};
CLS64.prototype.dispatch = function(a) {
    if (goog.isDef(a) && a) {
        if (goog.string.isEmptySafe(a.namespace)) return ! 1;
        var b = new tm.collection.model.itemRepository("viewed-" + a.namespace);
        if (b.compare(b.last(), a)) return ! 1;
        b.safeInsert(a, this._maxViewed); (new Tm.Signin).isWacLogged() && "collection" !== a.namespace && (b.contains(a) ? (a = b.find(a.id), $.ajax({
            url: this._language.urlPrefix() + "/ajax/collection/update-item.php",
            dataType: "json",
            data: {
                item: JSON.stringify(a)
            },
            type: "POST"
        })) : $.ajax({
            url: this._language.urlPrefix() + "/ajax/collection/add-item.php",
            dataType: "json",
            data: {
                item: JSON.stringify(a)
            },
            type: "POST"
        }));
        this.render(a.namespace);
        this._floatPanel.addingAction($(".js-panel-item.js-" + a.namespace))
    }
};
CLS64.prototype.fillStorage = function() {
    var a = this;
    if (a._isLoaded) return $.Deferred().resolve();
    var b = this._getAllViewedItems(),
    b = goog.array.filter(b,
    function(a) {
        return goog.isDefAndNotNull(a) && "element_id" in a && goog.string.isEmptySafe(a.element_id) && "collection" !== a.namespace
    }),
    c = new tm.collection.model.type,
    g;
    for (g in c.getKeys())(new tm.collection.model.itemRepository("viewed-" + g)).clear();
    return $.ajax({
        url: this._language.urlPrefix() + "/ajax/collection/viewed-items.php",
        dataType: "json",
        data: {
            items: JSON.stringify(b)
        },
        type: "POST",
        success: function(b) {
            goog.isDef(b) && "collections" in b && goog.isArray(b.collections) && goog.array.forEach(b.collections,
            function(a) {
                var a = JSON.parse(a),
                b = new tm.collection.model.itemRepository("viewed-" + a.type);
                b.clear();
                b.insert(goog.object.getValues(a.items))
            });
            a._isLoaded = !0
        }
    })
};
CLS64.prototype.login = function() {
    this.fillStorage().done($.proxy(function() {
        this.renderAll()
    },
    this))
};
CLS64.prototype._load = function() {
    this._floatPanel.updateCustomScrollbar();
    this._updateCounters();
    var a = new tm.collection.model.itemRepository("collection");
    this._updateButton(a)
};
CLS64.prototype.updateCollectionView = function() {
    this.render("collection");
    this._updateCounters();
    var a = new tm.collection.model.itemRepository("collection");
    this._updateButton(a);
    appDic.require("collection").renderAll()
};
CLS64.prototype.render = function(a) {
    $(".js-panel-item.js-" + a).removeClass("filled").find(".js-suggested-item").remove();
    var b = new tm.collection.model.itemRepository("viewed-" + a),
    c = this,
    b = "collection" === a ? b.getAll(this._maxViewedCollection) : b.getAll();
    0 < b.length && (b = goog.array.reduce(b,
    function(a, b) {
        return a + c.renderItem(b)
    },
    ""), $(".js-popover-" + a).prepend(b));
    "collection" === a && (b = new tm.collection.model.itemRepository(a), b = b.getAll());
    return $.Deferred().resolve()
};
CLS64.prototype.renderAll = function() {
    var a = new tm.collection.model.type,
    b;
    for (b in a.getKeys()) this.render(b);
    this._load()
};
CLS64.prototype.renderItem = function(a) {
    return ! goog.isDefAndNotNull(a) || goog.string.isEmptySafe(a.name) ? "": "collection" === a.namespace || "template" === a.namespace ? Twig.render(panel_item_template, a) : Twig.render(panel_item_search, a)
};
CLS64.prototype._getAllViewedItems = function() {
    var a = [],
    b = new tm.collection.model.type,
    c;
    for (c in b.getKeys()) b = new tm.collection.model.itemRepository("viewed-" + c),
    a = $.merge(a, b.getAll());
    return a
};
CLS64.prototype._updateCounters = function() {
    var a = new tm.collection.model.type,
    b;
    for (b in a.getKeys()) a = ("collection" === b ? new tm.collection.model.itemRepository(b) : new tm.collection.model.itemRepository("viewed-" + b)).getAll(),
    $(".js-panel-item.js-" + b).addClass(0 < a.length ? "filled": "").find(".js-count-bottom").html(a.length)
};
CLS64.prototype._updateButton = function(a) {
    a.getAll().length > this._maxViewedCollection ? ($(".js-popover-collection .js-popover-button-collection .js-count").html(a.getAll().length - this._maxViewedCollection), $(".js-popover-collection .js-popover-button-collection").removeClass("js-none")) : $(".js-popover-collection .js-popover-button-collection").not(".js-none").addClass("js-none")
};
tm.stringUtils = {};
tm.stringUtils.noPrefix = function(a) {
    return a.replace(/^.*?-/, "")
};
tm.stringUtils.bareId = function(a) {
    return parseInt(a.replace(/^\D+/, ""))
};
tm.stringUtils.numberInTheEnd = function(a) {
    if (/(\d+)$/.test(a)) return parseInt(RegExp.$1)
};
tm.stringUtils.bareText = function(a) {
    a = $(a).clone();
    a.children().remove();
    return a.text()
};
tm.stringUtils.jexpr = function(a, b) {
    if (!goog.isArray(b)) throw b + " is not an array";
    return $(goog.array.map(b,
    function(b) {
        return sprintf(a, b)
    }).join(","))
};
tm.stringUtils.dropTrailing = function(a, b) {
    return a.replace(RegExp(b + "*$"), "")
};
tm.nodeUtils = {};
tm.nodeUtils.getElementText = function(a) {
    return $.trim($(a).contents().filter(function() {
        return 3 === this.nodeType
    }).text())
};
tm.nodeUtils.getClassOfType = function(a, b) {
    if (a.length) for (var c = a.attr("class").split(/\s+/), g = RegExp("^" + b + "-"), f = 0; f < c.length; f++) if (g.test(c[f])) return tm.stringUtils.noPrefix(c[f])
};
tm.nodeUtils.arrayRemove = function(a, b, c) {
    c = a.slice((c || b) + 1 || a.length);
    a.length = 0 > b ? a.length + b: b;
    return a.push.apply(a, c)
};
tm.search = tm.search || {};
CLS59 = function(a) {
    if (!a) throw "Invalid data parameter";
    this.data_ = a
};
CLS59.prototype.getTemplateCountByProp = function(a) {
    return ! goog.isDef(this.data_.p) ? {}: !goog.isDef(a) ? this.data_.p: goog.isDef(this.data_.p[a]) && goog.isDef(this.data_.p[a].v) ? this.data_.p[a].v: {}
};
CLS59.prototype.getTemplateCountByValue = function(a) {
    if (!goog.isDef(this.data_.p)) return 0;
    var b = goog.array.map(goog.object.getValues(this.data_.p),
    function(a) {
        if (goog.isDef(a.v)) return a.v
    }),
    c;
    for (c in b) if (goog.isDef(b[c][a])) return b[c][a]
};
CLS59.prototype.getText = function() {
    return this.data_.t || ""
};
CLS59.prototype.getCount = function() {
    return this.data_.c
};
CLS59.prototype.getNextCount = function() {
    return 0 < this.data_.m ? this.data_.m: 0
};
CLS59.prototype.hasMore = function() {
    return this.data_.n
};
CLS59.prototype.getPageTitle = function() {
    return this.data_.pt || ""
};
CLS59.prototype.getPageContentTitle = function() {
    return this.data_.pct || null
};
CLS59.prototype.getPageContentDescription = function() {
    return this.data_.pcd || null
};
CLS59.prototype.getPageNumber = function() {
    return this.data_.pa || 1
};
CLS59.prototype.isRedirect = function() {
    return goog.isDefAndNotNull(this.data_.r)
};
CLS59.prototype.getRedirectUrl = function() {
    return this.data_.r
};
CLS59.prototype.getTopicMode = function() {
    return this.data_.co || 1
};
CLS59.prototype.hasKeyword = function() {
    return this.data_.hk || !1
};
CLS59.prototype.hasSpecialUrl = function(a, b) {
    return goog.isDefAndNotNull(this.data_.u[a]) && goog.isDefAndNotNull(this.data_.u[a][b])
};
CLS59.prototype.getSpecialUrl = function(a, b) {
    return this.data_.u[a][b]
};
CLS59.prototype.getCurrentUrl = function() {
    return this.data_.uc
};
CLS59.prototype.needsRendering = function() {
    return this.data_.nd
};
CLS59.prototype.getRelinkingBannerHtml = function() {
    return this.data_.rb
};
CLS59.prototype.getCrossLinkBlockHtml = function() {
    return this.data_.cssl
};
CLS59.prototype.getCompatibility = function() {
    return this.data_.compatibility
};
CLS61 = function(a) {
    this._data = {
        page: 1,
        pr: [],
        xpr: []
    };
    a && goog.object.forEach(a,
    function(a, c) {
        this._data[c] = goog.isArray(a) ? goog.array.map(a,
        function(a) {
            return "" + a
        }) : a
    },
    this);
    goog.isDef(this._data.propertylist) && (CLS61.flattenObject(this._data.propertylist, this._data.pr), delete this._data.propertylist)
};
CLS61.HARD = 1;
CLS61.SOFT = 2;
CLS61.isVisual = function(a) {
    switch (a) {
    case "pr":
        return ! 0;
    case "category":
    case "excludeTemplateId":
    case "xpr":
    case "type":
    case "similar-to":
        return ! 1;
    default:
        return ! 0
    }
};
CLS61.flattenObject = function(a, b) {
    if (goog.isArray(a)) for (var c = 0,
    g = a.length; c < g; c++) this.flattenObject(a[c], b);
    else if (goog.isObject(a)) for (c in a) a.hasOwnProperty(c) && this.flattenObject(a[c], b);
    else return b.push(a)
};
CLS61.prototype.merge = function(a) {
    var b = this.getData(),
    c = a.getData(),
    g = $.extend(!0, {},
    b, c);
    goog.array.forEach(["colors", "pr"],
    function(a) {
        goog.isDef(b[a]) && goog.isDef(c[a]) && (g[a] = goog.array.concat(b[a], c[a]), goog.array.removeDuplicates(g[a]))
    });
    a.hasTopic() && (this.hasTopic() && goog.isDef(g.pr)) && goog.array.remove(g.pr, this.getParam("topic")[0]);
    goog.isDefAndNotNull(g.pr) && !goog.array.isEmpty(g.pr) && g.pr.sort();
    return new CLS61(g)
};
CLS61.prototype.getData = function() {
    var a = this._data;
    goog.array.forEach(["pr", "xpr"],
    function(b) {
        goog.isArray(a[b]) && goog.array.isEmpty(a[b]) && delete a[b]
    });
    return a
};
CLS61.prototype.getUrlData = function() {
    var a = {
        pr: [],
        xpr: []
    },
    b = this._data,
    c;
    for (c in b) switch (c) {
    case "topic":
    case "types":
        CLS61.flattenObject(b[c], a.pr);
        break;
    case "keyword":
        a.keywords = b[c];
        break;
    default:
        a[c] = JSON.parse(JSON.stringify(b[c]))
    }
    1 == a.page && delete a.page;
    goog.array.forEach(["pr", "xpr"],
    function(b) {
        goog.array.removeDuplicates(a[b]);
        goog.array.isEmpty(a[b]) && delete a[b]
    });
    return a
};
CLS61.prototype.setFromUrlData = function(a) {
    goog.object.forEach(a,
    function(b, c) {
        switch (c) {
        case "page":
            this.setPage(a[c]);
            break;
        case "keywords":
            this.setKeyword(a[c]);
            break;
        case "author":
        case "type":
        case "topic":
        case "types":
        case "package":
        case "category":
        case "colors":
        case "date":
            this.setParam(c, a[c]);
            break;
        case "2645":
            this.setParam("topic", a[c]);
            break;
        case "excludepropertylist":
        case "pr":
        case "2651":
            this.appendProperty(a[c]);
            break;
        case "xpr":
            this.appendProperty(a[c], "xpr");
            break;
        case "namespace":
            this.setFromUrlData(a[c])
        }
    },
    this);
    return this
};
CLS61.prototype.setParam = function(a, b) {
    this._data[a] = b;
    return this
};
CLS61.prototype.appendProperty = function(a, b) {
    b = b || "pr";
    this._data[b] = goog.array.map(goog.array.concat(this._data[b], a),
    function(a) {
        return goog.isString(a) ? a: "" + a
    });
    goog.array.removeDuplicates(this._data[b]);
    return this
};
CLS61.prototype.unsetParam = function(a) {
    delete this._data[a];
    return this
};
CLS61.prototype.getParam = function(a) {
    if (this._containsMask(a)) {
        var a = this._nameToRegexp(a),
        b = {},
        c;
        for (c in this._data) c.match(a) && (b[c] = this._data[c]);
        return b
    }
    return this._data[a]
};
CLS61.prototype.hasParam = function(a) {
    if (this._containsMask(a)) {
        var a = this._nameToRegexp(a),
        b;
        for (b in this._data) if (b.match(a)) return ! 0
    } else return "undefined" !== typeof this._data[a]
};
CLS61.prototype._nameToRegexp = function(a) {
    return RegExp(a.replace(/\*/g, ".*"))
};
CLS61.prototype._containsMask = function(a) {
    return - 1 !== a.indexOf("*")
};
CLS61.prototype.isParamEmpty = function(a) {
    if (!this.hasParam(a)) return ! 0;
    a = this._data[a];
    switch (goog.typeOf(a)) {
    case "null":
        return ! 0;
    case "object":
        return goog.object.isEmpty(a);
    case "array":
        return goog.array.isEmpty(a);
    case "string":
        return goog.string.isEmptySafe(a)
    }
    return ! 1
};
CLS61.prototype.filterExistingData = function(a) {
    var b = {},
    c = function(a, c) {
        goog.isArray(c) ? b[a] = c: -1 !== ["keyword"].indexOf(a) ? b[a] = c: (goog.isDefAndNotNull(b[a]) || (b[a] = []), b[a].push(c))
    };
    goog.object.forEach(a,
    function(a, b) {
        if (!goog.isDefAndNotNull(this._data[b])) return c(b, a);
        goog.array.forEach(a,
        function(a) { - 1 === this._data[b].indexOf(a) && ($.isNumeric(a) && -1 !== this._data[b].indexOf(parseInt(a)) || c(b, a))
        },
        this)
    },
    this);
    return b
};
CLS61.prototype.append = function(a) {
    this._data = (new CLS61(this.getData())).merge(new CLS61(a)).getData();
    return this
};
CLS61.prototype.reset = function(a) {
    var a = a || CLS61.SOFT,
    b = {};
    a === CLS61.SOFT && goog.object.forEach(this._data,
    function(a, g) {
        CLS61.isVisual(g) || (b[g] = a)
    });
    this._data = b;
    this.setPage(1);
    return this
};
CLS61.prototype.hasKeywordOnly = function() {
    if (!this.hasKeyword()) return ! 1;
    var a = 0,
    b;
    for (b in this._data)"keyword" !== b && "page" !== b && a++;
    return 0 === a
};
CLS61.prototype.setPage = function(a) {
    this.setParam("page", a);
    return this
};
CLS61.prototype.getPage = function() {
    return this.getParam("page")
};
CLS61.prototype.nextPage = function() {
    return this.setParam("page", this.getParam("page") + 1)
};
CLS61.prototype.hasPropertyValue = function(a) {
    a = parseInt(a);
    return goog.array.contains(a)
};
CLS61.prototype.hasProperty = function(a) {
    return goog.isDefAndNotNull(this._data.propertylist) ? goog.isDefAndNotNull(this._data.propertylist[a]) : !1
};
CLS61.prototype.getKeyword = function() {
    return this.getParam("keyword")
};
CLS61.prototype.setKeyword = function(a) {
    goog.string.isEmptySafe(a) ? this.unsetParam("keyword") : this.setParam("keyword", a);
    return this
};
CLS61.prototype.hasKeyword = function() {
    return ! this.isParamEmpty("keyword")
};
CLS61.prototype.hasFilters = function() {
    return goog.object.some(this._data,
    function(a, b) {
        switch (b) {
        case "page":
        case "title":
        case "keyword":
        case "keywords":
            return ! 1
        }
        return goog.isArray(a) ? !goog.array.isEmpty(a) : !0
    })
};
CLS61.prototype.isEmpty = function() {
    for (var a in this._data) if ("page" !== a) return ! 1;
    return ! 0
};
CLS61.prototype.hasTopic = function() {
    return this.hasParam("topic") || this.hasProperty("topic")
};
CLS61.prototype.setId = function(a) {
    this._id = a;
    return this
};
CLS61.prototype.hasTopicProperty = function() {
    return this.hasTopic() ? !0 : goog.array.some(this._data.pr,
    function(a) {
        goog.isString(a) && (a = parseInt(a));
        return goog.array.contains(tm.search.ui.__allTopicList, a)
    })
};
CLS61.prototype.getTopicProperty = function() {
    if (this.hasParam("topic")) return this.getParam("topic");
    for (var a = this._data.pr.length,
    b = this._data.pr,
    c, g = 0; g < a; g++) if (c = b[g], goog.isString(c) && (c = parseInt(c)), goog.array.contains(tm.search.ui.__allTopicList, c)) return c
};
tm.search.pseudojson = function(a) {
    goog.isObject(a) && goog.object.map(a,
    function(a, c) {
        this[c] = a
    },
    this)
};
tm.search.pseudojson.isPseudoJson = function(a) {
    return goog.isString(a) && '<html itemtype="pseudojson">' == a.substr(0, 28)
};
tm.search.pseudojson.fromString = function(a) {
    if (!tm.search.pseudojson.isPseudoJson(a)) throw "Pseudo json string is expected.";
    var b = a.match(/<pseudojsonsection\s+name="\w+".*?>/g);
    if (!goog.isDefAndNotNull(b)) return new tm.search.pseudojson;
    var c = /"(\w+)"/,
    b = goog.array.map(b,
    function(a) {
        a = a.match(c);
        return [[a[1], a.input]]
    }),
    b = goog.object.create(goog.array.flatten(b)),
    g = /\bformat="(\w+)"/g;
    goog.object.map(b,
    function(b, c, j) {
        var k = a.indexOf('<pseudojsonsection name="' + c + '"'),
        k = a.indexOf(">", k),
        m = a.indexOf("</pseudojsonsection>", k),
        k = a.substr(k + 1, m - k - 1);
        b.match(g) && "json" === RegExp.$1 && (k = JSON.parse(k));
        j[c] = k
    });
    return new tm.search.pseudojson(b)
};
CLS58 = function(a) {
    this.language = a
};
defineService(["language"], CLS58);
CLS58.prototype.search = function(a, b, c, g) {
    var b = b || "ssearch",
    c = c || !1,
    f = $.Deferred(),
    h = this.buildQueryParams(a); (g ? $.get(this.language.urlPrefix() + "/ajax/" + b + "/" + a[Object.keys(a)[0]] + "/") : $.get(this.language.urlPrefix() + "/ajax/" + b + ".php", h)).done(function(a) {
        if (tm.search.pseudojson.isPseudoJson(a)) {
            var a = tm.search.pseudojson.fromString(a),
            b = a.json;
            b.t = a.thumbnails;
            b.compatibility = a.compatibility;
            f.resolve(new CLS59(b))
        } else c ? f.resolve(a) : f.resolve(new CLS59(a));
        appDic.require("discount").drawPrices();
        $(document).trigger("MainEvents.templates.loaded")
    });
    return f
};
CLS58.prototype.buildQueryParams = function(a) {
    var b;
    goog.isDefAndNotNull(a.v) && (b = a.v, delete a.v, a = {
        v: b,
        enc: base64.encode(unescape(encodeURIComponent(JSON.stringify(a))))
    });
    return a
}; (function() {
    var a = {
        VERSION: "2.3.5",
        Result: {
            SUCCEEDED: 1,
            NOTRANSITION: 2,
            CANCELLED: 3,
            PENDING: 4
        },
        Error: {
            INVALID_TRANSITION: 100,
            PENDING_TRANSITION: 200,
            INVALID_CALLBACK: 300
        },
        WILDCARD: "*",
        ASYNC: "async",
        create: function(b, c) {
            var g = "string" == typeof b.initial ? {
                state: b.initial
            }: b.initial,
            f = b.terminal || b["final"],
            h = c || b.target || {},
            j = b.events || [],
            k = b.callbacks || {},
            m = {},
            q = {},
            r = function(b) {
                var c = b.from instanceof Array ? b.from: b.from ? [b.from] : [a.WILDCARD];
                m[b.name] = m[b.name] || {};
                for (var f = 0; f < c.length; f++) q[c[f]] = q[c[f]] || [],
                q[c[f]].push(b.name),
                m[b.name][c[f]] = b.to || c[f]
            };
            g && (g.event = g.event || "startup", r({
                name: g.event,
                from: "none",
                to: g.state
            }));
            for (var p = 0; p < j.length; p++) r(j[p]);
            for (var l in m) m.hasOwnProperty(l) && (h[l] = a.buildEvent(l, m[l]));
            for (l in k) k.hasOwnProperty(l) && (h[l] = k[l]);
            h.current = "none";
            h.is = function(a) {
                return a instanceof Array ? 0 <= a.indexOf(this.current) : this.current === a
            };
            h.can = function(b) {
                return ! this.transition && (m[b].hasOwnProperty(this.current) || m[b].hasOwnProperty(a.WILDCARD))
            };
            h.cannot = function(a) {
                return ! this.can(a)
            };
            h.transitions = function() {
                return q[this.current]
            };
            h.isFinished = function() {
                return this.is(f)
            };
            h.error = b.error ||
            function(a, b, c, f, g, h, j) {
                throw j || h;
            };
            if (g && !g.defer) h[g.event]();
            return h
        },
        doCallback: function(b, c, g, f, h, j) {
            if (c) try {
                return c.apply(b, [g, f, h].concat(j))
            } catch(k) {
                return b.error(g, f, h, j, a.Error.INVALID_CALLBACK, "an exception occurred in a caller-provided callback function", k)
            }
        },
        beforeAnyEvent: function(b, c, g, f, h) {
            return a.doCallback(b, b.onbeforeevent, c, g, f, h)
        },
        afterAnyEvent: function(b, c, g, f, h) {
            return a.doCallback(b, b.onafterevent || b.onevent, c, g, f, h)
        },
        leaveAnyState: function(b, c, g, f, h) {
            return a.doCallback(b, b.onleavestate, c, g, f, h)
        },
        enterAnyState: function(b, c, g, f, h) {
            return a.doCallback(b, b.onenterstate || b.onstate, c, g, f, h)
        },
        changeState: function(b, c, g, f, h) {
            return a.doCallback(b, b.onchangestate, c, g, f, h)
        },
        beforeThisEvent: function(b, c, g, f, h) {
            return a.doCallback(b, b["onbefore" + c], c, g, f, h)
        },
        afterThisEvent: function(b, c, g, f, h) {
            return a.doCallback(b, b["onafter" + c] || b["on" + c], c, g, f, h)
        },
        leaveThisState: function(b, c, g, f, h) {
            return a.doCallback(b, b["onleave" + g], c, g, f, h)
        },
        enterThisState: function(b, c, g, f, h) {
            return a.doCallback(b, b["onenter" + f] || b["on" + f], c, g, f, h)
        },
        beforeEvent: function(b, c, g, f, h) {
            if (!1 === a.beforeThisEvent(b, c, g, f, h) || !1 === a.beforeAnyEvent(b, c, g, f, h)) return ! 1
        },
        afterEvent: function(b, c, g, f, h) {
            a.afterThisEvent(b, c, g, f, h);
            a.afterAnyEvent(b, c, g, f, h)
        },
        leaveState: function(b, c, g, f, h) {
            var j = a.leaveThisState(b, c, g, f, h),
            b = a.leaveAnyState(b, c, g, f, h);
            if (!1 === j || !1 === b) return ! 1;
            if (a.ASYNC === j || a.ASYNC === b) return a.ASYNC
        },
        enterState: function(b, c, g, f, h) {
            a.enterThisState(b, c, g, f, h);
            a.enterAnyState(b, c, g, f, h)
        },
        buildEvent: function(b, c) {
            return function() {
                var g = this.current,
                f = c[g] || c[a.WILDCARD] || g,
                h = Array.prototype.slice.call(arguments);
                if (this.transition) return this.error(b, g, f, h, a.Error.PENDING_TRANSITION, "event " + b + " inappropriate because previous transition did not complete");
                if (this.cannot(b)) return this.error(b, g, f, h, a.Error.INVALID_TRANSITION, "event " + b + " inappropriate in current state " + this.current);
                if (!1 === a.beforeEvent(this, b, g, f, h)) return a.Result.CANCELLED;
                if (g === f) return a.afterEvent(this, b, g, f, h),
                a.Result.NOTRANSITION;
                var j = this;
                this.transition = function() {
                    j.transition = null;
                    j.current = f;
                    a.enterState(j, b, g, f, h);
                    a.changeState(j, b, g, f, h);
                    a.afterEvent(j, b, g, f, h);
                    return a.Result.SUCCEEDED
                };
                this.transition.cancel = function() {
                    j.transition = null;
                    a.afterEvent(j, b, g, f, h)
                };
                var k = a.leaveState(this, b, g, f, h);
                if (!1 === k) return this.transition = null,
                a.Result.CANCELLED;
                if (a.ASYNC === k) return a.Result.PENDING;
                if (this.transition) return this.transition()
            }
        }
    };
    "undefined" !== typeof exports ? ("undefined" !== typeof module && module.exports && (exports = module.exports = a), exports.StateMachine = a) : "function" === typeof define && define.amd ? define(function() {
        return a
    }) : "undefined" !== typeof window ? window.StateMachine = a: "undefined" !== typeof self && (self.StateMachine = a)
})();
tm.search.model = {};
tm.search.model.Property = function(a, b, c, g) {
    1;
    this.id = a;
    this.title = b;
    this.count = c;
    this.params = g || {}
};
tm.search.model.Property.prototype.getParam = function(a) {
    if (goog.isDef(this.params[a])) return this.params[a]
};
tm.search.model.Property.prototype.setParam = function(a, b) {
    this.params[a] = b;
    return this
};
tm.search.model.Property.prototype.uncheck = function() {
    this.setParam("checked", !1);
    return this
};
tm.search.model.Property.prototype.check = function() {
    this.setParam("checked", !0);
    return this
};
tm.search.model.Property.prototype.toggle = function() {
    this.isChecked() ? this.uncheck() : this.check();
    return this
};
tm.search.model.Property.prototype.isChecked = function() {
    return this.getParam("checked")
};
tm.search.model.Property.prototype.isFixed = function() {
    return this.getParam("fixed")
};
tm.search.model.Property.prototype.isVisible = function() {
    return ! this.isFixed() && !this.isDisabled()
};
tm.search.model.Property.prototype.isDisabled = function() {
    return 1 > this.count || !0 === this.getParam("inhibit")
};
tm.search.model.Property.prototype.getProp = function() {
    return this.getParam("prop")
};
tm.search.model.Property.prototype.getPropId = function() {
    return this.getParam("propId")
};
tm.search.model.PropertyList = function(a) {
    this.propertyValues = {};
    goog.isDef(a) && goog.array.forEach(a,
    function(a) {
        a && this.addValue(a)
    },
    this)
};
tm.search.model.PropertyList.prototype.getCount = function() {
    return goog.object.getCount(this.propertyValues)
};
tm.search.model.PropertyList.prototype.addValue = function(a) {
    this.propertyValues[a.id] = a;
    return this
};
tm.search.model.PropertyList.prototype.hasValue = function(a) {
    1;
    return goog.isDef(this.propertyValues[a])
};
tm.search.model.PropertyList.prototype.getValue = function(a) {
    1;
    1;
    return this.propertyValues[a]
};
tm.search.model.PropertyList.prototype.hasFixed = function() {
    return goog.array.some(goog.object.getValues(this.propertyValues),
    function(a) {
        return a.isFixed()
    })
};
tm.search.model.PropertyList.prototype.visit = function(a) {
    return goog.array.filter(goog.object.getValues(goog.object.map(this.propertyValues,
    function(b) {
        return a(b)
    },
    this)),
    function(a) {
        return goog.isDefAndNotNull(a)
    })
};
tm.search.model.PropertyList.prototype.reset = function() {
    this.visit(function(a) {
        a.uncheck()
    })
};
tm.search.model.PropertyList.prototype.hasVisibleValue = function(a) {
    var b = goog.object.getValues(this.propertyValues);
    goog.isDef(a) && (1, b = this.filter(function(b) {
        return b.getPropId() === a
    }));
    return goog.array.some(b,
    function(a) {
        return a.isVisible()
    })
};
tm.search.model.PropertyList.prototype.getValuesByPropertyId = function(a) {
    return this.visit(function(b) {
        if (b.getPropId() === a) return b
    })
};
tm.search.model.PropertyList.prototype.getSelected = function(a) {
    return this.filter(function(b) {
        return a ? b.isChecked() : b.isChecked() && !b.isDisabled()
    })
};
tm.search.model.PropertyList.prototype.filter = function(a) {
    return goog.array.filter(goog.object.getValues(this.propertyValues), a, this)
};
tm.search2 = {};
tm.search = tm.search || {};
tm.search.ui = tm.search.ui || {};
function rewriteUrl(a, b) {
    var b = b || window.location.pathname,
    a = a || {},
    c = $.url().param();
    delete c[""];
    goog.object.forEach(a,
    function(a, b) {
        0 == a ? delete c[b] : c[b] = a
    });
    "undefined" !== typeof c.keywords && ("undefined" === typeof a.keywords && 0 === c.keywords.length) && delete c.keywords;
    goog.object.getCount(c) && (b = b + "?" + $.param(c));
    return b
}
function rememberUrl(a, b) {
    b = b || {};
    History.replaceState(b, document.title, rewriteUrl(a))
};
CLS60 = function() {
    this._page = void 0
};
CLS60.idToInteger = function(a) {
    return "string" !== goog.typeOf(a) ? 0 : parseInt(a.replace(/\D/g, ""))
};
CLS60.prototype.enterDocument = function(a) {
    var a = a || {},
    b = a.onPageUpdate || jQuery.noop;
    $(window).scroll($.proxy(function() {
        var a = 0;
        $("footer:appeared").length && this._getLastPage() ? a = this._getLastPage() : (a = $("div.page_divider:appeared"), a = a.length ? this._getVisibleDividerPage(a) : this._getMajorityPage($("li.thumbnail:appeared")));
        "undefined" === goog.typeOf(this._page) && (this._page = a);
        this._page !== a && (this._page = a, b(a))
    },
    this))
};
CLS60.prototype._getLastPage = function() {
    var a = $("div.page_divider");
    if (0 === a.length) return 0;
    var b = [],
    b = a.map(function() {
        return CLS60.idToInteger($(this).attr("id"))
    });
    return b.length ? Math.max.apply(Math, b) : 1
};
CLS60.prototype._getVisibleDividerPage = function(a) {
    if (1 === a.length) {
        var a = a[0],
        b = CLS60.idToInteger($(a).attr("id"));
        return 1 === b ? 1 : a.getBoundingClientRect().top < $(window).height() / 2 ? b: b - 1
    }
};
CLS60.prototype._getMajorityPage = function(a) {
    a = a.map(function(a, c) {
        var g = $(c).prevAll("div.page_divider");
        if (g.length) return CLS60.idToInteger($(g[0]).attr("id"));
        if (g = CLS60.idToInteger($("div.data-initialpage").data("id"))) return g;
        g = $(".pagination_divider");
        return g.length && (g = parseInt(g.parent().data("initialpage"))) ? g: 1
    });
    return a.length ? a[0] : 1
};
tm.search2.pager = function(a) {
    this._page = 0;
    this._incpage = 1;
    this._engine = a;
    this._fsm = StateMachine.create({
        initial: "NORMAL",
        events: [{
            name: "auto",
            from: ["NORMAL", "UNHOLD"],
            to: "SEARCH"
        },
        {
            name: "normal",
            from: "SEARCH",
            to: "NORMAL"
        },
        {
            name: "stop",
            from: "SEARCH",
            to: "SHUTDOWN"
        },
        {
            name: "hold",
            from: "SEARCH",
            to: "HOLD"
        },
        {
            name: "unhold",
            from: "HOLD",
            to: "UNHOLD"
        }],
        "final": "SHUTDOWN",
        callbacks: {
            onSEARCH: function() {
                if (lastPage) this._fsm.stop();
                else {
                    var a = searchQuery;
                    a.page = this._page + 1;
                    this._page += 1;
                    this._incpage += 1;
                    $('<div class="pager_spinner"><span class="spinner"></span></div>').appendTo($(".js-search-listing"));
                    this._engine.search(a).done(function(a) {
                        $(".pager_spinner").remove();
                        goog.string.isEmptySafe(a.getText()) ? this._fsm.stop() : (this._result_block.append(Twig.render(page_divider, {
                            page: a.getPageNumber()
                        })).append(a.getText()), a.hasMore() ? 0 == this._incpage % 4 ? this._fsm.hold() : this._fsm.normal() : this._fsm.stop())
                    }.bind(this))
                }
            }.bind(this),
            onHOLD: function() {
                this._enableShowMoreButton(!0)
            }.bind(this),
            onUNHOLD: function() {
                this._enableShowMoreButton(!1);
                this._fsm.auto()
            }.bind(this)
        }
    })
};
defineService(["search-engine"], tm.search2.pager);
tm.search2.pager.prototype.enterDocument = function(a, b, c, g) {
    this._page = g;
    this._showmore_button = a;
    this._bottom = b;
    this._result_block = c;
    this._showmore_button.click(function() {
        this._fsm.can("unhold") && this._fsm.unhold()
    }.bind(this));
    this._bottom.appear().on("appear",
    function() {
        this._fsm.can("auto") && this._fsm.auto()
    }.bind(this));
    $.force_appear()
};
tm.search2.pager.prototype._enableShowMoreButton = function(a) {
    var b = this._showmore_button.parent();
    a ? b.show() : b.hide()
};
tm.search2.component = function() {};
tm.search2.component.prototype.enterDocument = function(a) {
    this._searchCallback = a.search || $.noop
};
tm.search2.component.prototype._searchHandler = function(a) {
    return function() {
        if (!0 !== (a || $.noop).apply(this, arguments)) return this._searchCallback(),
        !1
    }.bind(this)
};
tm.search2.controller = function() {
    this._components = {
        keywords: new tm.search2.keywords($("#js-searchForm [name=keywords]").val()),
        date: new tm.search2.dateRange($("#datetimepicker-start-filter").val(), $("#datetimepicker-end-filter").val())
    }
};
tm.search2.controller.prototype.enterDocument = function() {
    this._startAutopager();
    this._startPageKeeper();
    this._returnToRecentlyClickedThumbnail();
    this._startWatchingThumbnailClicks();
    var a = $("#js-searchForm"),
    b = function(a, b) {
        var f = {
            search: this._collectParamsAndRedirect.bind(this)
        };
        goog.object.extend(f, b);
        a.enterDocument(f)
    }.bind(this);
    b(this._components.keywords, {
        text: a.find("[name=keywords]"),
        checkbox: $("#search-properties-status"),
        button: $("#searchFormSubmit")
    });
    b(this._components.date, {
        inputs: $("#datetimepicker-start-filter, #datetimepicker-end-filter"),
        submit: $(".js-custom-range-go")
    })
};
tm.search2.controller.prototype._collectParamsAndRedirect = function() {
    var a = goog.object.map(this._components,
    function(a) {
        return a.getValues()
    }),
    a = goog.array.reduce(goog.object.getValues(a),
    function(a, b) {
        goog.object.extend(a, b);
        return a
    },
    {}),
    a = goog.object.filter(a,
    function(a) {
        switch (!0) {
        case goog.isString(a) && goog.string.isEmptySafe(a) : case goog.isString(a) && ";" === a: case goog.isArray(a) && 0 === a.length: case goog.isArray(a) && goog.array.every(a, goog.string.isEmptySafe) : return ! 1
        }
        return ! 0
    }),
    b = window.location.pathname,
    c = "undefined" !== typeof Twig ? Twig.render(pageSearchUrl) : "/templates.php",
    g = !1 == this._isSearchPage();
    if (a.beginning || g) b = c;
    goog.object.forEach($.url().param(),
    function(b, c) {
        "keywords" !== c && "undefined" === typeof a[c] && (a[c] = b)
    },
    this);
    a.beginning && (a = goog.object.filter(a,
    function(a, b) {
        return "keywords" === b
    }));
    delete a.beginning;
    goog.object.getCount(a) && (b = b + "?" + $.param(a));
    $(document).trigger("MainEvents.userSearchFormAction.push", {
        keyword: this._components.keywords.getValues().keywords,
        url: b,
        isSuggestion: 0
    });
    window.location = b
};
tm.search2.controller.prototype._startAutopager = function() {
    detectCollectionPage() ? appDic.require("collection-autopager").enterDocument($(".js-btn-more"), $(".js-pager-bottom"), $("#products"), parseInt($(".js-search-listing").data("initialpage"))) : appDic.require("autopager").enterDocument($(".js-btn-more"), $(".js-pager-bottom"), $("#products"), parseInt($(".js-search-listing").data("initialpage")))
};
tm.search2.controller.prototype._isSearchPage = function() {
    return $("body").hasClass("search")
};
tm.search2.controller.prototype._startPageKeeper = function() {
    var a = new CLS60;
    History.options.disableSuid = !0;
    a.enterDocument({
        onPageUpdate: function(a) {
            rememberUrl({
                page: 2 > a ? 0 : a
            })
        }
    })
};
tm.search2.controller.prototype._returnToRecentlyClickedThumbnail = function() {
    var a = History.getState().data;
    if ("undefined" !== typeof a.t) $(window).one("load",
    function() {
        $.scrollTo("#products .js-thumbnail[data-tid=" + a.t + "]")
    })
};
tm.search2.controller.prototype._startWatchingThumbnailClicks = function() {
    $(".js-thumbContent").live("click", "a, img, span, div",
    function(a) {
        if (this._isSearchPage()) {
            var b = $(a.target).parent("[data-tid]").data("tid");
            goog.isDefAndNotNull(b) || (b = $(a.target).data("tid"));
            if (b) {
                var c = $('.js-thumbnail[data-tid="' + b + '"]');
                if (!c.length) return ! 1;
                var a = $(".js-search-listing").data("initialpage"),
                g = c.closest("li").prevAll("div.page_divider").first();
                g.length ? a = parseInt(g.attr("id").replace(/\D/g, "")) : (c = c.closest("li").nextAll("div").first(), c.length && (a = parseInt(c.attr("id").replace(/\D/g, "")) - 1));
                rememberUrl({
                    page: 2 > a ? 0 : a
                },
                {
                    t: b
                })
            }
        }
    }.bind(this))
};
tm.search2.keywords = function(a) {
    this._text = a;
    this._checkbox = !1
};
goog.inherits(tm.search2.keywords, tm.search2.component);
tm.search2.keywords.prototype.enterDocument = function(a) {
    tm.search2.keywords.superClass_.enterDocument.call(this, a);
    this._registerCheckboxChange(a.checkbox, a.text);
    this._registerKeyboardHandler(a.text);
    this._registerButtonSubmit(a.button, a.text)
};
tm.search2.keywords.prototype.getValues = function() {
    return {
        beginning: goog.isDefAndNotNull(this._checkbox) && this._checkbox,
        keywords: $.trim(this._text)
    }
};
tm.search2.keywords.prototype._registerKeyboardHandler = function(a) {
    a.on("keydown", this._searchHandler(function(b) {
        if (13 === b.keyCode) {
            $(a).data("cancel-form-submit", !1);
            var c = {
                has_url: !1,
                keyword: a.val()
            };
            $(a).trigger("check_typeahead", [c]);
            if (c.has_url) return $(a).data("cancel-form-submit", !0),
            !0;
            b.preventDefault();
            b.stopImmediatePropagation();
            this._text = $.trim(a.val())
        } else return ! 0
    }.bind(this)))
};
tm.search2.keywords.prototype._registerCheckboxChange = function(a, b) {
    a.on("change",
    function() {
        this._checkbox = a.is(":checked");
        b.attr("placeholder", Twig.render(search_placeholder, {
            searchWithin: !a.is(":checked")
        }))
    }.bind(this))
};
tm.search2.keywords.prototype._registerButtonSubmit = function(a, b) {
    a.on("click", this._searchHandler(function() {
        this._text = $.trim(b.val())
    }.bind(this)))
};
tm.search2.dateRange = function(a, b, c) {
    this._from = a;
    this._to = b;
    this._property = c
};
goog.inherits(tm.search2.dateRange, tm.search2.component);
tm.search2.dateRange.prototype.enterDocument = function(a) {
    tm.search2.dateRange.superClass_.enterDocument.call(this, a);
    this._registerDatePicker(a.inputs);
    this._registerSubmit(a.submit, a.inputs)
};
tm.search2.dateRange.prototype.getValues = function() {
    return goog.isDefAndNotNull(this._property) ? {
        date: this._property
    }: {
        date: (this._from || "") + ";" + (this._to || "")
    }
};
tm.search2.dateRange.prototype._registerDatePicker = function(a) {
    a.datetimepicker({
        timepicker: !1,
        format: "m.d.Y",
        minDate: "2002/01/01",
        maxDate: "tommorrow",
        onChangeDateTime: $.noop()
    })
};
tm.search2.dateRange.prototype._registerSubmit = function(a, b) {
    a.on("click", this._searchHandler(function() {
        this._from = $(b[0]).val();
        this._to = $(b[1]).val();
        this._property = null
    }.bind(this)))
};
CLS62 = function() {};
CLS62.prototype.getDateFromFormat = function(a) {
    var b = /(\d{2})\/(\d{2})\/(\d{4})\s+(\d{2}):(\d{2}):(\d{2})/;
    return b.test(a) ? (a = b.exec(a), Date.UTC(a[3], a[1] - 1, a[2], a[4], a[5], a[6])) : 0
};
appDic.define("language", CLS56);
goog.isDef(CLS55) && (goog.isDef(CLS16) && goog.isDef(tm.collection)) && (appDic.define("heart-tooltip", CLS55), appDic.define("view", CLS15), appDic.define("collection", CLS16), appDic.define("collection-search-engine", CLS12), appDic.define("collection-autopager", CLS13), appDic.define("viewed", CLS64));
goog.isDef(tm.search) && goog.isDef(CLS58) && appDic.define("search-engine", CLS58);
appDic.define("cart", CLS9);
appDic.define("discount", CLS26);
appDic.define("bonus", CLS7);
appDic.define("urlHelper", CLS63);
appDic.define("cookie-tracker", Tm.Tracker);
appDic.define("cartPopup", CLS8);
goog.isDef(Tm.OneClickPurchase) && appDic.define("one-click-purchase", Tm.OneClickPurchase);
goog.isDef(tm.search2) && goog.isDef(tm.search2.pager) && appDic.define("autopager", tm.search2.pager);
goog.isDef(tm.banner) && (appDic.define("banner-popup", CLS4), appDic.define("banner-manager", CLS3));
goog.array.map(["Checkout1", "Checkout2"],
function(a) {
    goog.isDef(Tm[a]) && appDic.define(a.toLowerCase(), Tm[a])
});
goog.isDef(Tm.NotificationArea) && appDic.define("notification-area", Tm.NotificationArea);
$(document).ready(function() {
    var a = document.createElement("link");
    a.setAttribute("rel", "stylesheet");
    a.setAttribute("href", "/css/svg-icons.css?d=4cfc1cb");
    a.setAttribute("type", "text/css");
    a.setAttribute("media", "all");
    document.head.appendChild(a)
});
$(document).ready(function() {
    1 == $("#tree").length && ($(".level-3,.level-4,.level-5,.level-2").parent("li").prepend('<ins class="jstree-icon"></ins>'), $(".jstree-icon").click(function() {
        var a = $(this).parent("li").attr("class");
        null !== navigator.userAgent.match(/iPod/i) ? "active" == a ? $(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").css("display", "none").find("li").removeClass("active") : ($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"), $(this).siblings("ul.level-2, ul.level-3, ul.level-4").css("display", "block").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").css("display", "none")) : "active" == a ? $(this).parent().removeClass("active").find("ul.level-2, ul.level-3, ul.level-4").hide("slow").find("li").removeClass("active") : ($(this).parent().addClass("active").siblings("li").removeClass("active").find("li").removeClass("active"), $(this).siblings("ul.level-2, ul.level-3, ul.level-4").show("slow").parent().siblings("li").find("ul.level-2, ul.level-3, ul.level-4").hide("slow"))
    }))
});
tm.lazyload = {};
tm.lazyload.renew = function(a) {
    $.fn.lazyload && (a ? $(".js-thumbnail-img").each(function(a, c) {
        c = $(c);
        $(c).closest(".flex-viewport").is(":appeared") || c.is(":appeared") ? (c.attr("src", c.data("original")), $.removeData(c, "original")) : c.lazyload({
            effect: "fadeIn"
        })
    }) : $(".js-thumbnail-img").lazyload({
        effect: "fadeIn",
        load: function() {
            $("img[data-original]").each(function(a, c) {
                c.loaded && $.removeData(c, "original")
            })
        }
    }))
};
tm.thumbnail = function() {};
tm.thumbnail.renew = function(a) {
    tm.lazyload.renew(a);
    return $.Deferred().resolve()
};
function openSelectedLicenseAccordionBlock(a) {
    $(".js-preview-accordion-panel:not(.active)").each(function() {
        $(this).data("variant") == a && $(this).find(".panel-title").click()
    })
}
var updateCartSelector = function() {
    var a = $(".js-template-id").data("template_id");
    if (null !== a) {
        var b = $.cookie("sc_summary");
        if (b && (b = $.parseJSON(base64.decode($.cookie("sc_summary"))), "undefined" != typeof b.t)) {
            for (i in b.t) {
                var c = b.t[i].match(/([\d]+)-([\d\w]+)/);
                if (c[1] == a) {
                    var g = c[2];
                    break
                }
            }
            "undefined" != typeof b && "undefined" != typeof g && (a = parseOffersFromCookie(b, a), updateSideBarPriceBlockFromSessionCookie(g, a), $(".js-add-to-cart button").html(Twig.render(messageAddedToCart)), updateItemBlockInPopup(g, a), updateBuyButtonOnDemoPage(g), updateBuyButtonTextOnDemoPage(g))
        }
    }
};
function updateSideBarPriceBlockFromSessionCookie(a, b) {
    openSelectedLicenseAccordionBlock(a);
    if (0 < b.length) {
        $('.js-preview-offer input[type="checkbox"]').prop("checked", !1).siblings("a").removeClass("active");
        for (var c in b) $('input.js-preview-offer-checkbox[type="checkbox"][value="' + b[c] + '"]').prop("checked", !0).siblings("a").first().addClass("active")
    }
}
function updateItemBlockInPopup(a, b) {
    $(".js-popup-cart-item.offer").each(function() {
        $(this).addClass("js-none");
        for (var a in b) $(this).hasClass("offer-" + b[a]) && $(this).removeClass("js-none")
    })
}
function updateBuyButtonOnDemoPage() {
    $(".js-demo-buy-button, .js-demo-buy-button-dropdown-toggle").addClass("js-none");
    $(".already-get, .js-already-get").removeClass("js-none")
}
function updateBuyButtonTextOnDemoPage() {
    $(".js-offer-trigger").addClass("js-none js-price-hidden");
    $(".js-cart-item-info").removeClass("js-none")
}
function changeBuyButtonOnDemoPage(a) {
    $(".js-demo-buy-button").each(function() {
        $(this).data("variant") == a ? $(this).removeClass("js-none") : $(this).addClass("js-none")
    })
}
function selectPremiumSupportOffer() {
    $(".thumbnail-download-block-with-offers").length && $(".js-recommended-services").find(".js-preview-offer-checkbox").each(function(a, b) {
        406 == b.value && $(b).parent().find(".title").click()
    })
}
function isAvailableSupport() {
    return $(".js-preview-offer-406 .js-preview-offer-checkbox").prop("checked")
}
$(document).ready(function() {
    1 === $("#purchase_options").length && $(".js-recommended-services").find(".js-preview-offer a.title").click(function() {
        $(this).parent().find('input[type="checkbox"]').is(":checked") ? ($(this).removeClass("active"), $(this).parent().find("input").removeAttr("checked")) : ($(this).addClass("active"), $(this).parent().find('input[type="checkbox"]').attr("checked", !0));
        $(".js-preview-accordion-panel").TMCalcPrice()
    });
    var a = $(".js-recommended-services"),
    b = $(".js-one-click-purchase"),
    c = $(".form_services");
    0 === $("#purchase_options .panel.active").length && $("#purchase_options .panel:first").addClass("active").find(".panel-title").click();
    var g = $("#purchase_options .panel.active").find(".services-container"),
    f = g.next();
    g.append(a.removeClass("hidden"));
    b.removeClass("hidden").insertAfter(f);
    $("#purchase_options .panel .panel-heading").click(function() {
        if ($(this).parents(".panel").hasClass("active")) return ! 1;
        $(this).parent().siblings().removeClass("active");
        $(this).parent().addClass("active");
        $(".js-ocp-anonymus").popover("hide").removeClass("temporary-closed").addClass("closed");
        var h = $(this).parent(),
        j = c.find("input:hidden[name=price_variant]");
        g = h.find(".services-container");
        f = g.next();
        g.append(a);
        b.insertAfter(f);
        j.val(h.attr("data-variant"));
        $(".js-preview-accordion-panel").TMCalcPrice();
        $(document).trigger("MainEvents.templates.changeLicense.accordion")
    }).filter(".active").click();
    selectPremiumSupportOffer();
    $(document).on("click", ".js-preview-offer-checkbox",
    function() {
        $(".js-preview-accordion-panel").TMCalcPrice()
    });
    var h = window.location.hash;
    "" !== h && h.match(/^[\#\w\-]+$/) ? ($(".tab-content " + h).addClass("active").siblings().removeClass("active"), showRightContent()) : ($('#previewTab li span[data-toggle="tab"]:visible').first().tab("show"), $(".tab-content .tab-pane:first").addClass("active"));
    $(window).on("popstate",
    function() {
        var a = window.location.hash;
        "" != a && a.match(/^[\#\w\-]+$/) ? $(".tab-content " + a).addClass("active").siblings().removeClass("active") : ($("#previewTab li:first").addClass("active").siblings().removeClass("active"), $(".tab-content .tab-pane").first().addClass("active").siblings().removeClass("active"));
        showRightContent()
    });
    $("#previewTab span[data-toggle='tab']").on("click",
    function(a) {
        var b = $(this).data("href");
        $(".tab-content " + b).addClass("active").siblings().removeClass("active");
        showRightContent();
        var b = $(this).data("href"),
        c = $('#previewTab li span[data-toggle="tab"]:visible').first().data("href") == b;
        if (b != window.location) if ("function" == typeof window.history.pushState) c && (b = document.location.pathname),
        window.history.pushState("changetab", null, b);
        else {
            var f = $(window).scrollTop();
            c && (b = "#");
            window.location.hash = b;
            $(window).scrollTop(f)
        }
        a.preventDefault()
    });
    $(".js-preview-accordion-panel").on("template.price.calculated",
    function(a, b) {
        var c = $(this).find(".thumbnail-download-block-with-offers"),
        f = parseInt(b.templatePrice);
        if (c.length) {
            var g = $(this).find(".js-add-to-cart"),
            h = c.find(".js-download-block"),
            j = $(".js-template-support-message");
            0 < f ? (h.hide(), g.show()) : (h.show(), g.hide());
            isAvailableSupport() ? j.hide() : j.show();
            c.addClass("active");
            appDic.require("one-click-purchase").setTemplatePrice(f).redraw()
        }
    });
    $("a.open").click(function() {
        $("#tellForm").find("input, textarea").popover("destroy").removeClass("error")
    });
    $(document).on("click", ".js-license-popup-button",
    function() {
        $(this).parents(".js-license-popup").modal("hide")
    });
    $(".js-preview-accordion-panel").TMCalcPrice();
    var h = $(".js-tweet-button"),
    j = $(".js-googleplus-button"),
    k = $(".js-linkedin-button"),
    m = $(".js-fake-social-btn"),
    q = $(".js-button-download-sample");
    if (void 0 !== q) {
        var r = [];
        0 < h.length && r.push("twitter-tweet");
        0 < j.length && r.push("google-plus");
        0 < k.length && r.push("linkedin-share");
        q.sociallocker({
            text: {
                header: " ",
                message: " "
            },
            theme: "starter",
            locker: {
                close: !1,
                useCookies: !0,
                cookiesLifetime: !1,
                timer: 0
            },
            buttons: {
                order: r,
                counter: !1
            },
            twitter: {
                tweet: {
                    title: " ",
                    text: h.data("pay-tweet"),
                    url: " ",
                    count: "none",
                    size: "small",
                    showCount: !1
                }
            },
            linkedin: {
                share: {
                    url: k.data("pay-linkedin")
                }
            },
            google: {
                plus: {
                    url: j.data("pay-googleplus")
                }
            },
            events: {
                locked: function() {
                    m.show()
                },
                unlocked: function() {
                    m.hide()
                }
            }
        })
    }
});
function activateSocialFreeDownload(a, b) {
    a.hide();
    b.show()
}
function modifyPriceAccordionBlockByAllowed(a) {
    $(".js-preview-accordion-panel").each(function() { - 1 == $.inArray($(this).data("variant"), a) && $(this).css("display", "none")
    })
}
function showRightContent() {
    var a = $(".tab-content .active");
    a.show();
    a.prevAll().hide();
    a.nextAll().show()
}
function previewPageStart() {
    $("head").append($('<link rel="stylesheet" type="text/css" />').attr("href", "//staticw2.yotpo.com/" + window.yotpoAppKey + "/widget.css"));
    $(window).data("yotpo-loaded", 1);
    $("#player").css({
        display: "block"
    });
    if (0 < $("#player").length) $(".js-button-add-to-cart").on("click",
    function() {
        5 != player.getPlayerState() && player.pauseVideo()
    });
    if (MobileEsp.isMobilePhone || MobileEsp.isTierTablet) $(".js-magnifier").on("touchstart touchend",
    function(a) {
        0 == $(".js-button-wrapper").css("opacity") && a.preventDefault();
        $(this).find("span").css({
            opacity: "0.8"
        });
        $(this).next().css({
            opacity: "1"
        })
    }),
    $(document).on("touchend",
    function(a) {
        var b = $(".js-magnifier"); ! b.is(a.target) && 0 === b.has(a.target).length && (b.find("span").css({
            opacity: "0"
        }), b.next().css({
            opacity: "0"
        }))
    });
    else $("body").one("mousemove",
    function() {
        $("#product-preview").hover(function() {
            $(".js-magnifier #demo_screenshot").css({
                opacity: "0.8"
            });
            $(".js-button-wrapper").css({
                opacity: "1"
            })
        },
        function() {
            $(".js-magnifier #demo_screenshot").css({
                opacity: "0"
            });
            $(".js-button-wrapper").css({
                opacity: "0"
            })
        });
        return ! 1
    });
    $(".switchable-text").each(function() {
        var a = $(this),
        b = a.text(),
        f = a.data("active-text");
        a.click(function() {
            a.hasClass("active") ? a.removeClass("active").text(b) : a.addClass("active").text(f);
            return ! 1
        })
    });
    $(".radioblock").find(".radio").live("click",
    function() {
        var a = $(this).html();
        $(this).parent().parent().parent(".radioblock").find(".radio").removeClass("active");
        $(this).addClass("active");
        $(this).parent().parent().parent(".radioblock").find('input[type="hidden"]').val(a)
    });
    appDic.require("search-engine").search(previewEngineSearchParams, "similar", !1, !0).done($.proxy(function(a) {
        0 === a.getCount() ? $("#similar-block").hide() : ($("#similar-templates").html("").append(a.getText() || ""), appDic.require("discount").drawPrices(), $(document).trigger("Gtag.ee.push.product.template.impressions", {
            from: "similar.impressions"
        }), $(document).trigger("MainEvents.templates.loaded"), $("#similar_templates .slides").owlCarousel({
            items: 4,
            navigation: !0,
            navigationText: ["", ""],
            slideSpeed: 700,
            pagination: !1,
            mouseDrag: !1,
            touchDrag: Modernizr.touch,
            itemsDesktop: [1599, 3],
            itemsDesktopSmall: !1,
            itemsTablet: !1,
            itemsMobile: !1
        }))
    },
    this));
    $(".license-popup .item").click(function() {
        $(this).find('input[type="radio"]').attr("checked", !0);
        $(this).siblings().find('input[type="radio"]').attr("checked", !1)
    });
    $("#product-preview .slides").magnificPopup({
        delegate: "a.view",
        type: "image",
        preloader: !0,
        tLoading: "",
        closeOnContentClick: !0,
        closeBtnInside: !1,
        mainClass: "mfp-img-mobile",
        image: {
            titleSrc: ""
        },
        gallery: {
            enabled: !1
        },
        callbacks: {
            imageLoadComplete: function() {
                $(".mfp-content").css({
                    opacity: 0,
                    display: "inline-block"
                }).animate({
                    opacity: 1
                },
                600).stop(!0, !0)
            }
        }
    });
    $("#tabReviewLink, .js-tab-review-anchor").click(function() {
        var a = $("html, body"),
        b = $("#previewTab");
        a.animate({
            scrollTop: b.offset().top + 1
        },
        500);
        $('#previewTab span[data-href="#tab-reviews"]').parent().addClass("active").siblings().removeClass("active");
        $(".tab-content #tab-reviews").addClass("active").siblings().removeClass("active");
        showRightContent();
        window.location.hash = "#tab-reviews"
    });
    $(".js-tab-tdetails-anchor").click(function() {
        var a = $("html, body"),
        b = $("#previewTab");
        a.animate({
            scrollTop: b.offset().top + 1
        },
        500);
        $('#previewTab span[data-href="#tab-details"]').parent().addClass("active").siblings().removeClass("active");
        $(".tab-content #tab-details").addClass("active").siblings().removeClass("active");
        showRightContent();
        window.location.hash = "#tab-details"
    });
    var a = $(".js-template-id");
    if (a.data("free-trial")) {
        var b = $("#trial-popup-wrapper");
        b.length ? initLegacyTrialPopup(b) : (new Tm.MotoTrial({
            open_triggers: "#trial_bottom, #trial_overlay",
            template_id: a.data("template_id")
        })).init()
    }
    $("img.js-preview-lazy").lazyload({
        load: function() {
            $(this).css("width", "auto")
        },
        effect: "fadeIn",
        effectspeed: 600,
        threshold: 720
    })
}
function initLegacyTrialPopup(a) {
    var b = a.find("form");
    b.formHandler({
        show_submit_button_hint: !1,
        autofocus_first_field: !1,
        popover_placement: "left",
        on_before_submit: function() {
            a.data("prevent-close", !0);
            $(".close-popup").addClass("unhover-close-popup")
        },
        on_submit_error: function() {
            a.data("prevent-close", !1);
            $(".close-popup").removeClass("unhover-close-popup")
        },
        on_submit_success: function(b, g, f) {
            $(".close-popup").removeClass("unhover-close-popup");
            $(b).find('[name="action"]').val("register");
            a.data("prevent-close", !1).find(".js-form-row").hide().end().find(".js-status-row").each(function() {
                var a = $(".js-existing-user-message", this),
                g = $(".js-new-user-message", this),
                k = $(".js-reject-link", this),
                m = k.find("a");
                if ("undefined" !== typeof f.moto3) {
                    var m = $(".js-user-message", this),
                    q = $(".js-update-link", this),
                    r = $(".js-ok-link", this);
                    f.is_new_user ? (g.show(), a.hide(), q.hide(), k.hide(), r.show()) : (g.hide(), a.show(), q.show(), k.show(), r.hide(), $(".js-update-trial-template").off().on("click",
                    function() {
                        $(b).find('[name="action"]').val("update");
                        $(b).submit()
                    }));
                    m.html(f.message);
                    m.show()
                } else q = $(".js-confirmation-link a", this),
                r = $(".js-template-number", this),
                q.attr("href", f.confirmation_link),
                m.attr("href", f.account_link),
                r.text($("#free-trial-form-tid").val()),
                f.is_new_user ? (a.hide(), k.hide(), g.show()) : (g.hide(), a.show(), k.show())
            }).show().end()
        }
    });
    a.find(".js-confirmation-link a, .js-reject-link a").on("click",
    function() {
        a.modal("toggle")
    });
    a.on("show.bs.modal",
    function() {
        b.find("[name=email]").val("").end().formHandler("hide-errors").formHandler("focus-first");
        a.find(".js-form-row").show().end().find(".js-status-row").hide().end()
    }).on("shown.bs.modal",
    function() {
        b.formHandler("focus-first")
    }).on("hide.bs.modal",
    function() {
        if ($(this).data("prevent-close")) return ! 1
    })
}
function parseOffersFromCookie(a, b) {
    var c = [];
    for (i in a.o) {
        var g = a.o[i].match(RegExp("([0-9]+)-" + b));
        g && c.push(g[1])
    }
    return c
};
$(window).load(function() {
    var a = $(".js-share-list");
    a.filter('[data-type = "buttons-large"]').initSocialWidget({
        idPrefix: "large-",
        iconClass: "tm-icon",
        elementClass: "button",
        text: {
            twitter: "undefined" != typeof messageOnTwitter ? Twig.render(messageOnTwitter) : "",
            googlePlus: "undefined" != typeof messageOnGooglePlus ? Twig.render(messageOnGooglePlus) : "",
            facebook: "undefined" != typeof messageOnFacebook ? Twig.render(messageOnFacebook) : "",
            pinterest: "undefined" != typeof messageOnPinterest ? Twig.render(messageOnPinterest) : ""
        }
    });
    a.filter('[data-type = "buttons-small"]').initSocialWidget({
        iconClass: "tm-icon",
        elementClass: "button"
    });
    a.filter('[data-type = "icons"]').initSocialWidget({
        counter: !0,
        iconClass: "tm-icon"
    });
    a.filter('[data-type = "square-big"]').initSocialWidget({
        counter: !0,
        iconClass: "svg square-icon"
    });
    a.filter('[data-type = "square-icons"]').initSocialWidget()
});
$.fn.initSocialWidget = function(a) {
    var a = $.extend({
        counter: !1,
        idPrefix: "",
        iconClass: "font-icon",
        elementClass: "box ",
        enableHover: !1,
        text: {
            twitter: "",
            googlePlus: "",
            facebook: "",
            pinterest: "",
            stumbleupon: ""
        }
    },
    a),
    b = a.counter ? '<span class="count" href="#">{total}</span>': "",
    c = "http://www.templatemonster.com" + window.location.pathname;
    $(this).find("li").each(function() {
        var g = $(this).attr("class"),
        f = $(this).data("custom-icon"),
        h = {},
        j = "",
        k = a.elementClass,
        j = f ? f: "googlePlus" == g ? "icon-google": "icon-" + g;
        h[g] = !0;
        "button" === k && (k += " social-button btn-" + g);
        var f = $(this).data("text"),
        m = $(this).data("via"),
        q = $(this).data("hashtags"),
        r = $(this).data("media"),
        p = $(this).data("descr");
        $(this).sharrre({
            share: h,
            template: '<span id="' + a.idPrefix + g + '" class="' + k + '" href="#"><b class="' + j + " " + a.iconClass + '"></b>' + a.text[g] + b + "</span>",
            url: c,
            text: f,
            urlCurl: "/utils/sharrre.php",
            enableCounter: a.counter,
            enableHover: a.enableHover,
            enableTracking: !0,
            render: function(a, b) {
                b.enableCounter || $(a.element).html(b.template)
            },
            buttons: {
                twitter: {
                    via: m ? m: "",
                    hashtags: q ? q: ""
                },
                pinterest: {
                    url: c,
                    media: r ? r: "",
                    description: p ? p: ""
                }
            },
            click: function(a) {
                a.simulateClick();
                a.openPopup(g)
            }
        })
    })
}; (function(a) {
    function b(b, c) {
        a(c.more_button_selector, b).removeClass("half-disabled loading").removeAttr("disabled")
    }
    var c = {
        more_button_selector: ".js-reviews-more"
    };
    a.fn.reviewsList = function(g) {
        var f = a.extend(c, a.isPlainObject(g) ? g: {});
        a(this).on("click", f.more_button_selector,
        function() {
            var c = a(this).parents(".js-reviews:first"),
            g = c.data("search"),
            k = c.data("limit"),
            m = a(c).find(".js-reviews-content>div").size();
            a(f.more_button_selector, c).addClass("half-disabled loading").attr("disabled", "disabled");
            var q = new CLS56;
            a.ajax({
                url: q.urlPrefix() + "/ajax/reviews.php",
                type: "GET",
                data: {
                    search: g,
                    offset: m,
                    limit: k
                },
                async: !0,
                dataType: "json",
                success: function(g) {
                    g.status && (a(".js-reviews-content", c).append(g.html), a(c).find(".js-reviews-content>div").size() >= a(c).data("total-count") && a(f.more_button_selector, c).hide());
                    b(c, f)
                },
                error: function() {
                    b(c, f)
                }
            });
            return ! 1
        })
    }
})(jQuery);
var PromocodeCreator = function(a, b, c) {
    var g = new CLS56;
    this.createPromocode = function(a, k) {
        b.val("");
        c.show();
        $.ajax({
            url: g.urlPrefix() + "/ajax/create-preset-promocode.php",
            type: "POST",
            data: {
                promocodePreset: a,
                designNumber: k
            },
            dataType: "json",
            success: f,
            error: h
        })
    };
    var f = function(f) {
        c.hide();
        a.modal("show");
        f.status ? b.val(f.code) : b.val(f.errors)
    },
    h = function() {
        c.hide();
        a.modal("show");
        b.val("Server Error")
    }
};
$(document).ready(function() {
    $('[data-promocode-generator="preset"]').click(function() {
        var a = $(this).data("preset"),
        b = $(this).data("design-number"),
        c = $("#promocode_modal"),
        g = $("#copy-promocode"),
        f = $("[data-preloader]"); (new PromocodeCreator(c, g, f)).createPromocode(a, b)
    })
});
$(document).ready(function() {
    var a = $.proxy(function() {
        $("body").append('<span class="back-to-top"><i class="icon-arrow-up"></i><span>Up</span></span>');
        $(window).scroll(function() {
            220 < $(this).scrollTop() ? $(".back-to-top").fadeIn(500) : $(".back-to-top").fadeOut(500)
        });
        $(".back-to-top").click(function(a) {
            a.preventDefault();
            $("html, body").animate({
                scrollTop: 0
            },
            500);
            return ! 1
        })
    },
    this);
    $("body").on("page.class.js-frontend", a).on("page.class.page-template-page-landing-php", a).on("page.class.page-template-page-landing-super-type-php", a).on("page.class.single-presentations", a)
});
CLS57 = function() {
    this.list = []
};
CLS57.prototype.enterDocument = function(a) {
    this.container = a.container;
    this.shut().init().register()
};
CLS57.prototype.add = function(a) {
    this.list.push(a);
    return this
};
CLS57.prototype.init = function() {
    this.visit(function(a) {
        a.init && a.init(a.menu)
    });
    return this
};
CLS57.prototype.register = function() {
    var a = "";
    this.visit(function(b) {
        b.button.on("click touchend",
        function() {
            var c = 0 == b.menu.filter(":visible").length,
            g = b.menu.siblings(".js-hint-tooltip");
            this.shut(b.menu);
            c ? (b.container.hasClass(b.active) || b.container.addClass(b.active), b.menu.slideDown(), a = a || g.data("title"), g.tooltip("hide").tooltip("destroy").data("title", ""), $(".header-tooltip").remove(), b.click && $("a", b.menu).click(function(a) {
                b.menu.slideUp();
                b.click(b.menu, $(a.target).closest("a"));
                return ! 1
            })) : (b.menu.slideUp(), g.setTooltip({
                title: a
            }));
            return ! 1
        }.bind(this))
    }.bind(this));
    $(document).on("click",
    function(a) {
        var c = $.Deferred().done(function() {
            this.shut()
        }.bind(this));
        this.visit(function(g) {
            $(g.menu).has(a.target).length && c.reject()
        });
        c.resolve()
    }.bind(this));
    return this
};
CLS57.prototype.shut = function(a) {
    this.visit(function(b) {
        b.container.removeClass(b.active);
        $("a", b.menu).off("click"); (!a || !b.menu.is(a)) && b.menu.hide()
    });
    return this
};
CLS57.prototype.visit = function(a) {
    goog.array.forEach(this.list,
    function(b) {
        var c = $("." + b.cls, this.container),
        g = goog.isDef(b.button) ? $("." + b.button, this.container) : c.prev(),
        f = goog.isDef(b.active) ? b.active: b.cls + "-active",
        h = goog.isDef(b.click) ? b.click: void 0,
        b = goog.isDef(b.init) ? b.init: void 0;
        a({
            container: this.container,
            menu: c,
            button: g,
            active: f,
            init: b,
            click: h
        })
    },
    this)
};
$(function() {
    var a = new CLS57;
    a.add({
        cls: "sign-in-form",
        button: "sign-in"
    }).add({
        cls: "help-menu"
    }).add({
        cls: "languages-menu"
    }).add({
        cls: "account-menu"
    }).add({
        cls: "notification-menu"
    });
    a.enterDocument({
        container: $("#header .user-menu")
    })
});
$(document).ready(function() {
    var a = $.Deferred(),
    b = $("#show-more-features");
    b.click(function() {
        var c = b.prev();
        c.slideToggle();
        $("#show-more-features>span").toggleClass("hidden");
        a.done(function(a) {
            c.html(a)
        });
        if ("pending" === a.state()) {
            var g = {
                v: 2,
                user: searchQuery
            };
            $.when(appDic.require("search-engine").search(g, "properties", !0)).then(function(b) {
                a.resolve(b)
            })
        }
    })
});
$(document).ready(function() {
    $("#bestsellers-show-more").toggle(function() {
        $(".js-types-wrapper").slideDown();
        $("#bestsellers-show-more>span").toggleClass("hidden")
    },
    function() {
        $(".js-types-wrapper").slideUp();
        $("#bestsellers-show-more>span").toggleClass("hidden")
    })
});
$(document).ready(function() {
    function a(a) {
        var c = "",
        f = c = c = "";
        1 === a.type ? (a.price && (c = '<span class="js-suggested-price" data-tid="' + a.id + '" data-price="' + a.price + '">' + b.formatMoney(a.price) + "</span>", c = a.price ? '<div class="suggested-item-additional">' + c + "</div>": ""), f = '<img class="suggested-item-icon" src="' + a.icon + '?width=50">') : (a.count && (c = '<span class="suggestion-count">' + a.count + "</span>", c = a.count ? '<div class="suggested-item-additional">' + c + "</div>": ""), f = '<div class="suggested-item-icon ' + (a.icon ? "svg " + a.icon: "placeholder tm-icon icon-binoculars") + '"></div>');
        return c = '<div class="suggested-item js-suggested-item" data-tid="' + a.id + '">' + f + '<div class="suggested-item-info"><div class="suggested-item-name">' + (a.name ? a.name: "") + '</div><div class="suggested-item-descr">' + (a.descr ? a.descr: "") + "</div></div>" + c + "</div>"
    }
    var b = new CLS56,
    c = new Bloodhound({
        datumTokenizer: Bloodhound.tokenizers.whitespace,
        queryTokenizer: Bloodhound.tokenizers.whitespace,
        remote: {
            filter: function(a) {
                return a.suggestion
            },
            url: b.urlPrefix() + "/ajax/suggestion/?keyword=%QUERY",
            prepare: function(a, b) {
                b.url = b.url.replace("%QUERY", encodeURIComponent(a.toLowerCase()));
                return b
            }
        }
    }),
    g = $(".js-typeahead2");
    if (0 !== g.length) {
        g.typeahead({
            hint: !0,
            highlight: !0,
            minLength: 1
        },
        {
            name: "templates-topics",
            source: c,
            displayKey: "name",
            limit: 10,
            templates: {
                suggestion: a
            }
        });
        var f = !1;
        g.on("typeahead:render",
        function() {
            0 < g.siblings(".tt-menu:visible").length && (appDic.require("discount").drawPrices(), h("destroy"))
        }).on("typeahead:open",
        function() {
            f || h("destroy")
        }).on("typeahead:close",
        function() {
            f && h("set")
        }).on("typeahead:cursorchange typeahead:autocomplete",
        function(a, b) {
            b && $(this).data("last-suggestion", b.name)
        }).on("typeahead:select",
        function(a, b) {
            $(document).trigger("MainEvents.userSearchFormAction.push", {
                keyword: b.name,
                isSuggestion: 1,
                selected: b
            });
            b.url ? window.location.href = b.url: $(this).parents("form").submit()
        }).on("typeahead:asyncrequest",
        function() {
            f && h("set")
        }).on("focus",
        function() {
            $(this).parents(".tm-rd-input").addClass("onfocus")
        }).on("blur",
        function() {
            var a = $(this).data("last-value");
            a && $(this).val() !== a && $(this).val(a);
            $(this).parents(".tm-rd-input").removeClass("onfocus")
        }).on("keyup paste cut",
        function() {
            $(this).data("last-value", $(this).val());
            $(this).val().length ? $("#searchFormSubmit").removeClass("hidden") : ($("#searchFormSubmit").addClass("hidden"), f && h("set"))
        }).on("check_typeahead",
        function(a, b) {
            b.has_url = $(a.target).data("last-suggestion") === b.keyword
        });
        0 < $(".js-typeahead2.tt-input").val().length && g.trigger("keyup");
        var h = function(a) {
            switch (a) {
            case "set":
                g.parent().siblings(".js-hint-tooltip").setTooltip();
                f = !1;
                break;
            case "destroy":
                g.parent().siblings(".js-hint-tooltip").tooltip("destroy"),
                f = !0
            }
        }
    }
});
Tm = Tm || {};
Tm.leaveDocument = function(a) {
    var b = 1E3,
    c = !1;
    window.onmousemove = function(a) {
        a = a || window.event;
        return b = a.clientY
    };
    $(document).mouseout(function(g) {
        g = null != g ? g: {
            e: window.event
        };
        g = g.relatedTarget || g.toElement;
        if ((!g || "HTML" === g.nodeName) && 100 > b && !c) {
            if ("undefined" !== typeof a.onLeave) a.onLeave();
            return c = !0
        }
    })
};
Tm = Tm || {};
Tm.ProductOfTheDay = function(a) {
    this._config = $.extend({
        banner_selector: ".js-product-of-the-day",
        banner_item_selector: ".js-product-of-the-day-item",
        banner_hidden_class: "hidden",
        slider_selector: ".js-product-day-carousel",
        slider_style: "slideQuint",
        slider_speed: 700,
        counter_selector: ".todays_goods_wrapper:not(.hidden) .js-flipcounter",
        counter_theme: "RDHourlyCounter",
        labels: [Twig.render(hours), Twig.render(minutes), Twig.render(seconds)],
        timer: null
    },
    a);
    this._clock = null
};
Tm.ProductOfTheDay.prototype.init = function(a) {
    var b = null;
    $(this._config.banner_selector).data("discounts-applied") || (a = $(a).map(function(a, g) { ! b && g.period_stop && (b = g.period_stop);
        return g.id
    }), a.length ? (this._switchBanners(a), this._initCounter(b), this._initSlider(), $(this._config.banner_selector).data("discounts-applied", !0), a = document.createEvent("Event"), a.initEvent("ProductOfTheDayExperimentInit", !1, !0), document.dispatchEvent(a)) : $(this._config.banner_selector).remove())
};
Tm.ProductOfTheDay.prototype._switchBanners = function(a) {
    $(this._config.banner_item_selector, this._config.banner_selector).each($.proxy(function(b, c) {
        var g = $(c).data("tid"); - 1 === $.inArray(g, a) && $(c).remove()
    },
    this))
};
Tm.ProductOfTheDay.prototype._initSlider = function() {
    $(this._config.slider_selector).owlCarousel({
        items: 1,
        navigation: !0,
        navigationText: ["", ""],
        slideSpeed: this._config.slider_speed,
        pagination: !1,
        transitionStyle: this._config.slider_style,
        addClassActive: !0,
        dragBeforeAnimFinish: !1,
        lazyLoad: !0,
        singleItem: !0,
        afterInit: function(a) {
            function b(a, b) {
                if (!MobileEsp.DetectIos()) {
                    var c = ["bottom", "bottom"];
                    1200 >= $(window).width() && (c = ["right", "left"]);
                    a.setTooltip({
                        placement: c[0],
                        title: Twig.render(previousProduct)
                    });
                    b.setTooltip({
                        placement: c[1],
                        title: Twig.render(nextProduct)
                    })
                }
            }
            var c = $(a),
            a = c.find(".active"),
            g = a.next(),
            f = a.parents(".owl-wrapper-outer"),
            h = g.offset().left - f.offset().left,
            j,
            k = [],
            m = 0,
            q = null;
            j = function(a) {
                if (void 0 === a) return 0 < q ? "bwd": "fwd"; ! m || 3 > m ? (k.push(a.pageX), m++) : (q = k[2] - k[0], k = [], m = 0);
                return 0 < q ? "bwd": "fwd"
            };
            c.on("click touchend", ".owl-prev,.owl-next",
            function() {
                $(this).hasClass("owl-next") ? (c.removeClass("backwards"), c.addClass("forwards")) : (c.removeClass("forwards"), c.addClass("backwards"))
            });
            c.on("mousedown touchstart",
            function() {
                var a = c.find(".active");
                $(this).on("mousemove touchmove",
                function(b) {
                    var c = j(b),
                    b = f.offset().left,
                    c = "fwd" === c ? a.next() : a.prev();
                    0 >= c.length || (b = (Math.abs(c.offset().left - b) / h).toFixed(1), a.css({
                        opacity: b
                    }), c.css({
                        opacity: 1 - b
                    }))
                })
            }).on("mouseup touchend",
            function() {
                $(this).off("mousemove")
            });
            var r = c.find(".owl-prev"),
            p = c.find(".owl-next");
            b(r, p);
            $(window).resize(function() {
                b(r, p)
            })
        },
        afterMove: function(a) {
            a = $(a).find(".active");
            a.animate({
                opacity: 1
            });
            a.prev().animate({
                opacity: 0
            });
            a.next().animate({
                opacity: 0
            })
        }
    })
};
Tm.ProductOfTheDay.prototype._initCounter = function(a) {
    var b = $(this._config.counter_selector);
    if (0 < b.length && (this._clock = b.FlipClock({
        clockFace: this._config.counter_theme,
        autoStart: !1,
        countdown: !0,
        classes: {
            active: "flip-clock-active",
            before: "flip-clock-before",
            divider: "flip-clock-divider",
            dot: "flip-clock-dot",
            label: "flip-clock-label",
            flip: "flip",
            play: "play",
            wrapper: "rd-face flip-clock-wrapper"
        },
        labels: this._config.labels
    })) && !this._clock.running) if (a = this._getTimeToStop(a)) this._clock.setTime(a),
    this._clock.setCountdown(!0),
    this._clock.start()
};
Tm.ProductOfTheDay.prototype._getTime = function() {
    return new Date
};
Tm.ProductOfTheDay.prototype._getTimeToStop = function(a) {
    if (a) {
        var b = new CLS62,
        c = this._getTime(),
        a = new Date(b.getDateFromFormat(a));
        return Math.round((a.getTime() - c.getTime()) / 1E3)
    }
    return 0
};
function setOwlCarouselNavID(a, b) {
    var c = a.$elem.closest(b).attr("id");
    a.buttonNext.attr("id", "owl-next-" + c);
    a.buttonPrev.attr("id", "owl-prev-" + c)
}
function checkOverlayButton() {
    return 0 < $(".js_wp_button_overlay").length
}
function triggerOverlayButton() {
    var a = $("#sticky-nav");
    checkOverlayButton() && $(window).scrollTop() > $(".js_wp_button_overlay").offset().top ? (a.hasClass("js-features-invisible") && a.find(".cms-type-block").hide(), $("button.js-sticky-btn").parents(".form-wrapper").fadeIn(), $(".js-sticky-btn").fadeIn(), $(".cms-type-block").addClass("cms-text-width")) : ($("button.js-sticky-btn").parents(".form-wrapper").stop(!0, !0).fadeOut(), $(".js-sticky-btn").stop(!0, !0).hide("normal",
    function() {
        a.hasClass("js-features-invisible") && a.find(".cms-type-block").show()
    }), $(".cms-type-block").removeClass("cms-text-width"))
}
detectPreviewPage() && detectPreviewPriceBlock() && (appDic.require("one-click-purchase").init(), $(document).on("ready",
function() {
    $("#purchase_options").data("startPos", $("#purchase_options").offset().top - 20);
    $("body").data("windowWidth", $(window).width());
    $("body").data("windowHeight", $(window).height());
    fixedAddCart()
}), $(window).on("scroll",
function() {
    fixedAddCart()
}), $(window).on("resize",
function() {
    $(window).width() !== $("body").data("windowWidth") && $(window).height() !== $("body").data("windowHeight") && ($("#purchase_options").data("startPos", $("#purchase_options").offset().top - 20), fixedAddCart())
}));
function fixedAddCart() {
    var a = 0 < $(".js-banner-timer").length && appDic.require("banner-manager").isActiveBanner(),
    b = $("#purchase_options"),
    c = $(".js-countdown-block"),
    g = 0 < c.length && c.hasClass("show") ? c.height() : 0;
    contentHeight = a ? b.height() + 20 + $(".banner-wrap").height() : b.height() + 40;
    startPos = parseInt(b.data("startPos")) - g + (a ? 10 : 0);
    finishPos = 0 < $(".print-page").length ? $(".print-page").offset().top - g - contentHeight: $("#footer").offset().top - contentHeight;
    isFix = a ? $(window).height() >= contentHeight && $(window).scrollTop() > startPos: $(window).height() >= contentHeight + g && $(window).scrollTop() > startPos;
    b.length && appDic.require("one-click-purchase").setFixedFlag(isFix).redraw();
    isFix ? (b.css({
        position: "fixed",
        width: b.outerWidth()
    }), c.css({
        width: b.outerWidth()
    }), $(window).scrollTop() < finishPos ? b.css({
        top: a ? $(".banner-wrap").height() + 10 : +g ? g + 40 : 20
    }) : 0 < $(".print-page").length ? b.css({
        top: $(".print-page").offset().top - $(window).scrollTop() - b.height() - (a ? 10 : 20)
    }) : b.css({
        top: $("#footer").offset().top - $(window).scrollTop() - b.height() - (a ? 10 : 20)
    })) : (b.attr("style", null), c.attr("style", null))
}
function expandText(a, b, c, g) {
    var f = b.height();
    $(".active-title", a).hide();
    b.css({
        overflow: "hidden"
    }).height(g);
    c.click(function() {
        var a = $(this);
        a.parent().hasClass("active") ? (b.stop().animate({
            height: g
        },
        {
            complete: function() {
                $(".active-title", a).hide();
                $(".default-title", a).show()
            }
        }), c.parent().removeClass("active")) : (b.stop().animate({
            height: f
        },
        {
            complete: function() {
                $(".active-title", a).show();
                $(".default-title", a).hide()
            }
        }), c.parent().addClass("active"));
        return ! 1
    })
}
function initDiscounts() {
    window.ssd = [];
    var a = {};
    appDic.require("urlHelper").moveToCookie("nld", "nld");
    $.cookie("nld") && (a.nld = $.cookie("nld"));
    var b = new CLS56;
    return $.ajax({
        url: b.urlPrefix() + "/ajax/discounts.php",
        type: "GET",
        data: a,
        dataType: "JSON",
        success: function(a) {
            appDic.require("discount").initDiscountValues(a).drawPrices()
        }
    }).always(function() {
        appDic.require("discount").setLoaded().showPrices();
        $(document).trigger("MainEvents.discountLoaded")
    })
}
function enterLiveChat() {
    if ($(this).hasClass("js-live-chat-button")) var a = "Guest",
    b = "guest@templatemonster.com";
    else $(this).hasClass("js-sc-live-chat-button") && (a = "sc-guest", b = "sc-guest@templatemonster.com");
    var c = $(this).attr("data-room");
    goog.string.isEmptySafe(c) && (c = "pre-sales");
    var g = new Tm.Signin,
    f = g.getBillingInfo();
    g.isSignedIn() && (b = "undefined" !== typeof f && null != f && detectCheckoutPageStepThree() ? f.email: g.getUserEmail(), a = g.getUserFullName());
    g = "?cl=" + c;
    f = $(this).data("order-id");
    g = ("undefined" != typeof f ? g + ("&tid=" + f) : g + ("&nick=" + a + "&email=" + b)) + getGaClientIdentifierQuery();
    $(document).trigger("Gtag.chatEnter.push", {
        name: a,
        email: b,
        room: c
    });
    window.open("/support_index.php" + g, "tmBillingChat", "width=800, height=695");
    return ! 1
}
function getGaClientIdentifierQuery() {
    var a = "";
    if ("undefined" === typeof ga) return a;
    var b = ga.getAll();
    b.length && (a = "&" + b[0].get("linkerParam"));
    return a
}
Modernizr.addTest("firefox",
function() {
    var a = navigator.userAgent.toLowerCase();
    return - 1 != a.indexOf("firefox") ? (a = a.split("firefox/")[1], "undefined" != typeof a[1] && (a = parseInt(a[1]), $.isNumeric(a)) ? a: !0) : !1
});
Modernizr.addTest("ie11",
function() {
    var a = navigator.userAgent.toLowerCase();
    return - 1 != a.indexOf("trident") && -1 != a.indexOf("rv:11")
});
Modernizr.addTest("ie",
function() {
    var a = navigator.userAgent.toLowerCase();
    return - 1 != a.indexOf("msie") ? parseInt(a.split("msie")[1]) : !1
});
Modernizr.addTest("mac",
function() {
    return - 1 != $.inArray(navigator.platform, ["Mac68K", "MacPPC", "MacIntel"])
});
Modernizr.addTest("linux",
function() {
    return - 1 != $.inArray(navigator.platform, ["Linux x86_64"])
});
function detectModernIe() {
    var a = navigator.userAgent; - 1 != a.indexOf("Trident") && -1 != a.indexOf("rv:11") && $("html").addClass("ie11"); - 1 != a.indexOf("Trident") && -1 != a.indexOf("MSIE 10.0") && $("html").addClass("ie10")
}
function detectOldIe() {
    return Modernizr.ie && (isNaN(Modernizr.ie) || 9 >= Modernizr.ie)
}
function detectGoogleChrome() {
    return "undefined" !== typeof $.browser && $.browser.chrome
}
function detectSafari() {
    return - 1 != navigator.userAgent.indexOf("Safari") && -1 == navigator.userAgent.indexOf("Chrome") ? ($("html").addClass("safari"), !0) : !1
}
function detectPreviewPage() {
    return 0 < $("#preview-page").length
}
function detectIndexPage() {
    return 0 < $("#index-page").length
}
function detectFliper() {
    return 0 < $(".perspective").length
}
function detectFreePage() {
    return 0 < $("#free-templates").length
}
function detectSearchListing() {
    return 0 < $(".js-search-listing").length
}
function detectCheckoutPage() {
    return 0 < $("#checkout-page").length
}
function detectAccountPage() {
    return 0 < $("#account-page").length
}
function detectCartPage() {
    return 0 < $("#cart-page").length
}
function detectVideoHeader() {
    return 0 < $(".video-header").length
}
function detectStatusDownloadPage() {
    return 0 < $("#status-download-page").length
}
function detectDemoPage() {
    return 0 < $("#demo-page").length
}
function detectDemoPageWithPrice() {
    return detectDemoPage() && 0 == $(".js-price-hidden").length
}
function detectPresentantionPage() {
    return $("body").is(".single-presentations, .page-template-page-landing-presentations")
}
function detectAdwordPage() {
    return $("body").is(".single-addwords, .single-welcome-discount")
}
function detectSSDPages() {
    return detectDemoPage() || detectIndexPage() || detectPreviewPage() || detectCartPage() || detectCheckoutPage()
}
function detectWPFiltersPage() {
    return 0 < $(".js-wp-filters").length
}
function detectMapPage() {
    return 0 < $(".js-map-social").length
}
function detectWPDefaultSoonPage() {
    return 0 < $(".default-light-soon").length
}
function detectWPSidebar() {
    return 0 < $(".js-wp-sidebar").length
}
function detectZeroCart() {
    return 0 == $(".js-cart-summary .total-price .js-total-price").data("price")
}
function detectShareList() {
    return 0 < $(".js-share-list").length
}
function detectWPWelcomePage() {
    return 0 < $(".single-addwords").length
}
function detectWPLandingPage() {
    return 0 < $(".landing-page").length
}
function detectCheckoutPageStepFour() {
    return 0 < $("#checkout-page .js-step-step4").length
}
function detectCheckoutPageStepThree() {
    return 0 < $("#checkout-page .js-step-step3:visible").length
}
function detectWPLandingPresentations() {
    return 0 < $(".landing-page-presentations").length
}
function detectPressPage() {
    return 0 < $(".single-press").length
}
function detectCollectionPage() {
    return 0 < !!$("#collection-page").length
}
function detectPreviewPriceBlock() {
    return 0 < $("#purchase_options").length
}
function detectPageAwareOfFloatPanel() {
    return ! detectCartPage() && !detectAccountPage() && !detectCheckoutPage() && !detectStatusDownloadPage() && !detectAdwordPage() && !detectWPLandingPresentations() && !detectWPWelcomePage() && !detectDemoPage()
}
function calcDiscount(a, b) {
    return Math.round(0.01 * a * (100 - b))
}
function separatorHeightChange() {
    $(".footer-columns .row").children("div").equalsHeights()
}
function separatorHeightForEmptyBlock() {
    1 > $(".footer-columns .row div:first").children().height() && $(".footer-columns .row div:eq(1)").addClass("js-no-separ")
}
function playVideoMob() {
    $("#breadcrumbs, .header-unit").fadeOut(500);
    wistiaEmbed.play();
    $(".js-video-header").animate({
        height: "501px"
    },
    500,
    function() {
        $(".js-mfp-close").fadeIn(600);
        $("#wista").css("zIndex", "3");
        $("#wista").animate({
            opacity: "1"
        },
        600)
    });
    $(".js-share-list").css("top", "40%")
}
function playVideoPc() {
    $("#breadcrumbs, .header-unit").fadeOut(500);
    $(".js-video-header").animate({
        height: "501px"
    },
    500,
    function() {
        wistiaEmbed.play();
        $(".js-mfp-close").fadeIn(600);
        $("#wista").css("zIndex", "3");
        $("#wista").animate({
            opacity: "1"
        },
        500)
    });
    $(".js-share-list").css("top", "40%")
}
function stopVideo() {
    wistiaEmbed.pause();
    $(".js-mfp-close").fadeOut(400);
    $("#wista").animate({
        opacity: "0"
    },
    400,
    function() {
        $("#wista").css("zIndex", "-1");
        $("#breadcrumbs, .header-unit").fadeIn(400)
    });
    $(".js-video-header").delay(100).animate({
        height: "306px"
    },
    300);
    $(".js-share-list").delay(100).animate({
        top: "32%"
    },
    300);
    wistiaEmbed.time(0);
    wistiaEmbed.pause()
}
function showSelectedTab() {
    var a = window.location.hash;
    if (0 == a.length) return 0 == $("#previewTab li.active").length && $("#previewTab li:first a").tab("show"),
    !1;
    var b = a.match("^#(tab-)?([a-z]+)(-tab)?$");
    if (null !== b && (void 0 != b[1] || void 0 != b[3])) {
        b = $("#link-tab-" + b[2]);
        if (0 == b.length) return ! 1;
        $("#previewTab li.active a").attr("href") != a && b.tab("show");
        waitAndScrollToTabsPanel()
    } else 0 == $("#previewTab li.active").length && $("#previewTab li:first a").tab("show")
}
function waitAndScrollToTabsPanel() {
    var a = $("#previewTab");
    if (0 == a.length) return ! 1;
    $("html, body").stop().animate({
        scrollTop: a.offset().top + "px"
    },
    500, "swing")
}
detectFliper() && document.querySelector("#js-flipper-mobile").addEventListener("touchstart",
function() {
    document.querySelector(".js-ipad-focus-disable").blur()
},
!0);
function footerBottom() {
    var a = $(window).height(),
    b = $("#footer").outerHeight(!0),
    c = $("#header").outerHeight(!0);
    $("#content, .type-page").css("min-height", a - b - c)
}
function includeJSFile(a) {
    var b = document.createElement("script");
    b.src = a;
    document.getElementsByTagName("head")[0].appendChild(b)
}
$.fn.equalsHeights = function(a) {
    "undefined" == typeof a && (a = !0);
    var b = $(this),
    c,
    g = [];
    b.length && (b.css("height", "auto").each(function() {
        a ? g.push($(this).outerHeight()) : g.push($(this).height())
    }), c = Math.max.apply(0, g), b.height(c));
    return b
};
$.fn.equalHeights_inrow = function(a) {
    for (var a = $.extend({
        numItem_inrow: "",
        outer: "true"
    },
    a), b = this.length, c = 0; c <= b / a.numItem_inrow; c++) this.slice(c * a.numItem_inrow, c * a.numItem_inrow + a.numItem_inrow).equalsHeights(a.outer)
};
$.fn.setTooltip = function(a) {
    this.each(function() {
        $(this).tooltip("destroy");
        var b = $(this).data("placement"),
        c = $(this).data("color"),
        g = $(this).data("title"),
        f = $(this).data("html-class"),
        h = $(this).data("hide-on-tablet"),
        j = $(this).data("mode"),
        b = $.extend({
            placement: b ? b: "top",
            title: g ? g: "",
            delay: {
                show: 200,
                hide: 0
            },
            container: "body",
            color: c ? c: "grey",
            html_class: f ? f: "",
            mode: j ? j: "single-line",
            hideOnTablet: h ? h: "false"
        },
        a);
        b.template = '<div class="rd-popover rd-popover-' + b.placement + " rd-popover-" + b.color + " " + b.html_class + " " + b.mode + '" role="tooltip"><div class="arrow"></div><div class="popover-content">' + b.title + "</div></div>";
        if (! (!0 == b.hideOnTablet && (MobileEsp.DetectIos() || MobileEsp.DetectAndroid()))) $(this).tooltip(b).on("click",
        function() {
            $(this).tooltip("hide")
        })
    });
    return this
};
$(window).load(function() {
    if (detectCheckoutPage()) {
        var a;
        a = new Tm.Signin;
        a = detectZeroCart() && !a.hasBillingInfo() ? new Tm.FreeCheckout: $(document.body).is(".js-checkout1") ? appDic.require("checkout1") : $(document.body).is(".js-checkout2") ? appDic.require("checkout2") : new Tm.Checkout;
        a.init();
        "step4" == a.getStep() && (new Tm.StatusDownload).init()
    }
    detectAccountPage() && new Tm.Account;
    initDiscounts().done(function() {
        detectPreviewPage() && previewPageStart()
    });
    $(document).on("click", ".js-live-chat-button, .js-sc-live-chat-button", enterLiveChat);
    detectCheckoutPageStepFour() && ((Modernizr.mac || Modernizr.linux) && Modernizr.firefox) && $("#apv-request-form-phone").addClass("apv-request-phone-moz");
    $(document).trigger("Gtag.ee.push.product.template.impressions", {
        from: "static.impressions.template"
    }); (detectCartPage() || detectPreviewPage() || detectCheckoutPageStepFour()) && $(document).trigger("Gtag.ee.push.product.offer.impressions", {
        from: "static.impressions.offer"
    });
    $(document).trigger("Gtag.ee.push.promo.view", {
        from: "static.impressions.promo"
    });
    $(document).trigger("Gtag.user.push", {
        from: "static.cid"
    });
    0 < $(".js-video-header").length && ($(".js-watch-btn").click(function() {
        MobileEsp.isMobilePhone || MobileEsp.isTierTablet ? playVideoMob() : playVideoPc()
    }), $(".js-mfp-close").click(function() {
        stopVideo()
    }));
    detectPreviewPage() && (showSelectedTab(), $(window).on("hashchange",
    function() {
        showSelectedTab()
    })); (detectPreviewPage() || detectDemoPageWithPrice()) && (new CLS35).enterDocument();
    var b = $(".rd-review-slider .js-owl-carousel-two");
    a = b.find(".owl-prev");
    b = b.find(".owl-next");
    a.setTooltip({
        placement: "left",
        title: Twig.render(tooltipReviewsPreview)
    });
    b.setTooltip({
        placement: "right",
        title: Twig.render(tooltipReviewsNext)
    });
    b = $(".rd-review-slider:not(.promocodes)");
    a = b.find(".owl-prev");
    b = b.find(".owl-next");
    a.setTooltip({
        placement: "left",
        title: "Previous testimonial"
    });
    b.setTooltip({
        placement: "right",
        title: "Next testimonial"
    });
    a = $(".js-hint-tooltip");
    0 < a.length && a.setTooltip();
    footerBottom();
    $(window).resize(function() {
        footerBottom()
    });
    $(document).on("drawDiscounts.ProductOfTheDay",
    function(a, b) { (new Tm.ProductOfTheDay).init(b.templates)
    })
});
function drawReviewGravatar() {
    $(".js-footer-review-item").each(function(a, b) {
        var c = $(b).find(".review-author").text(),
        g = $(b).find(".review-author-img"); (new Tm.RdGravatar({
            imgWrapElement: g,
            userName: c
        })).draw()
    })
}
$(document).ready(function() {
    function a(a) {
        var b = $(a + " .show-more-templates"),
        a = $(a).data("total"),
        c = b.data("count"),
        f = b.data("page");
        $(document).trigger("stop.cart.load", {
            button: b,
            callbackFunk: function() {
                b.prop("disabled", !1)
            }
        });
        a <= f * c && b.hide()
    }
    if ("undefined" != typeof Tm.Config.collection) {
        var b = appDic.require("language").lang;
        Tm.Config.collection.locales[b] && (appDic.require("collection").initTriggers(), detectPageAwareOfFloatPanel() && ($("body").append(Twig.render(panel_bottom)), (new Tm.floatPanel).init(), appDic.require("viewed").trackItemPage(), appDic.require("cart").checkCookie()))
    }
    $("html").hasClass("firefox") && ($("[type=submit]").addClass("loading"), setTimeout(function() {
        $("[type=submit]").removeClass("loading")
    },
    1));
    $.cookie("bgv") || ($(".badge-big").css("margin-top", "0px"), setTimeout(function() {
        $(".badge-big").animate({
            "margin-top": "-58px"
        },
        400, "easeOutBack")
    },
    3E3), Tm.setCookie("bgv", "1"));
    $(".badge-big").hover(function() {
        $(this).stop(!0, !1).animate({
            "margin-top": "0px"
        },
        250, "easeOutCirc")
    },
    function() {
        $(this).stop(!1, !0).animate({
            "margin-top": "-58px"
        },
        400, "easeOutBack")
    });
    if (detectWPWelcomePage() || detectWPLandingPresentations()) $("#sticky-nav").sticky({
        topSpacing: 0
    }),
    checkOverlayButton() && (triggerOverlayButton(), $(window).scroll(function() {
        triggerOverlayButton()
    }));
    $('a[href^="#anchor-"]').click(function() {
        var a = $(this).attr("href");
        $("html, body").animate({
            scrollTop: $(a).offset().top
        },
        500);
        return ! 1
    });
    $(window).resize(function() {
        var a = $(".form-group.has-error input");
        0 < a.length && a.popover("show")
    });
    $(function() {
        var a = null;
        if (document.forms.signin || $(".js-signin-menu").length || "1" === $.cookie("wac")) a = new Tm.Signin,
        a.init();
        appDic.require("notification-area").init(); (new CLS31).enterDocument();
        var b = appDic.require("cookie-tracker"),
        c = appDic.require("language"),
        f = new Tm.GCDiscount,
        g = appDic.require("banner-manager"),
        h = !detectCartPage() && !detectCheckoutPage() && !detectAccountPage() && !detectPresentantionPage() && !detectAdwordPage() && !detectDemoPage() && c.isDefault(),
        j = {
            method: "GET",
            cache: !0
        };
        b.checkCookie({
            onComplete: function() {
                a && a.checkCookie();
                "undefined" != typeof Tm.Config.chat && setTimeout(function() {
                    chatInit(Tm.Config.chat, a)
                },
                1E3 * Tm.Config.chat.initTimeout);
                h && f.isSurveyAllowed() && $.ajax("/ajax/gc/survey-popup.php", j).done(function(a) {
                    Tm.leaveDocument({
                        onLeave: function() {
                            g.isTopBannerOn() || f.showSurveyPopup(a)
                        }
                    })
                }); (new Tm.LangSwitchPopover({
                    sourceLocale: c.lang
                })).init()
            },
            onLogin: function() {
                $(document).trigger("MainEvents.user.login")
            },
            onLogout: function() {
                $(document).trigger("MainEvents.user.logout")
            }
        });
        h && f.isDiscountAllowed() && window.setTimeout(function() {
            $.ajax("/ajax/gc/discount-popup.php?country=" + f.getCountryCode(), j).done(function(a) {
                g.isTopBannerOn() || (f.showDiscountPopup(a), goog.isDef(a) && "popup" in a && $.ajax({
                    url: "/ajax/gc/apply-discount.php",
                    method: "POST",
                    success: function(a) {
                        "status" in a && (a.status && 1 === a.status) && initDiscounts()
                    }
                }))
            })
        },
        6E4)
    });
    0 !== $("#timeline").length && ($(".full").prepend($("#timeline").html()), $("#timeline").html(""));
    $(".js-search-label").click(function() {
        $(".js-typeahead2").val($(this).text());
        return ! 1
    });
    $(".keyword-search-field").keydown(function(a) {
        if (13 === a.keyCode && 0 === a.charCode) return a.stopPropagation(),
        $(a.currentTarget).data("cancel-form-submit") || $(a.currentTarget).closest("form").submit(),
        !1
    }); (detectSearchListing() || detectFreePage()) && !detectWPLandingPage() && expandText($("#js-slide-down-txt"), $("#js-slide-down-text"), $("#js-slide-down-link"), 62);
    if (detectWPFiltersPage()) {
        var b = function() {
            return ! 1
        },
        c = function(a) {
            "undefined" != typeof $(a.target).attr("href") && (window.location.href = $(a.target).attr("href"));
            return ! 1
        };
        "undefined" != typeof searchUiOptions.topics && (searchUiOptions.topics.onSelectNode = c, searchUiOptions.topics.onClick = b);
        var g = ["properties", "compatibility", "daterange", "colors", "feature"];
        for (h in g) searchUiOptions[g[h]] = searchUiOptions[g[h]] || {},
        searchUiOptions[g[h]].onClick = b,
        searchUiOptions[g[h]].onSelect = c;
        searchUiOptions.bestsellers = searchUiOptions.bestsellers || {};
        searchUiOptions.bestsellers.onClick = c;
        searchUiOptions.bestsellers.onSelect = b;
        searchUiOptions.bestsellers.withCheckboxes = !1;
        searchUiOptions.daterange.onSelect = function(a) {
            if (a && "undefined" != typeof $(a.target).attr("href")) return tm.search.ui.uiController.redir($(a.target).attr("href")),
            !1;
            var a = searchUi.getDateRangeSearchParams() || "",
            b = new CLS61(searchUiOptions.userParams);
            a && b.setFromUrlData(a);
            a = searchUiOptions.baseUrl + _paramToUrl(b.getUrlData());
            tm.search.ui.uiController.redir(a);
            return ! 1
        }
    }
    "undefined" != typeof searchContainerId && appDic.require("search-engine").search(searchContainerParams, searchContainerView).done($.proxy(function(a) {
        jQuery(searchContainerId).html("").append(a.getText() || "");
        appDic.require("discount").drawPrices();
        $(document).trigger("Gtag.ee.push.product.template.impressions", {
            from: "search block for WordPress.impressions"
        });
        $(document).trigger("Gtag.ee.push.promo.view", {
            from: "static.impressions.promo"
        });
        $(document).trigger("MainEvents.templates.loaded")
    },
    this));
    var f = {
        renderer: null,
        local_searchContainer: null,
        count: 0,
        func: function(b) {
            var c = "undefined" !== typeof b ? b.getCount() : this.count,
            b = b && b.getText();
            0 === c ? this.renderer && "list" == this.renderer || "grid" == this.renderer ? a(this.local_searchContainer) : $(this.local_searchContainer).hide() : (jQuery(this.local_searchContainer + " .thumbnails").append(b || "").removeClass("js-none"), appDic.require("discount").drawPrices(), $(document).trigger("Gtag.ee.push.product.template.impressions", {
                from: "drawSlider.function.impressions"
            }), $(document).trigger("MainEvents.templates.loaded"), a(this.local_searchContainer), $(this.local_searchContainer + " .js_product_slides .slides").owlCarousel({
                items: 4,
                itemsDesktop: [1600, 4],
                itemsDesktopSmall: !1,
                itemsTablet: !1,
                itemsMobile: !1,
                navigation: !0,
                navigationText: ["", ""],
                mouseDrag: !1,
                touchDrag: Modernizr.touch,
                slideSpeed: 700,
                pagination: !1,
                beforeInit: function() {
                    0 < $(".super-type").length && $(".search-bnr-wrapper:empty") && $(".search-bnr-wrapper:empty").remove()
                },
                afterInit: function() {
                    setOwlCarouselNavID($(this)[0], ".similar-templates")
                }
            }))
        }
    };
    if ("undefined" != typeof ajaxSearchParams) for (var h = 0; h < ajaxSearchParams.length; h++) {
        var b = ajaxSearchParams[h].searchContainer,
        c = ajaxSearchParams[h].searchContainerParams,
        g = ajaxSearchParams[h].searchContainerView,
        j = Object.create(f);
        j.local_searchContainer = b;
        appDic.require("search-engine").search(c, g).done($.proxy(j.func, j))
    }
    $(".items_block").on("click", ".show-more-templates",
    function() {
        var a = $(this),
        b = a.data("target"),
        c = a.data("renderer"),
        g = a.data("page"),
        h = a.data("count"),
        j = a.data("search"),
        k = Object.create(f),
        j = j || {};
        j.renderer = c;
        j.limitCount = h;
        j.page = ++g;
        a.data("page", g);
        var l = $(this);
        $(document).trigger("start.cart.load", {
            button: l,
            callbackFunk: function() {
                l.removeClass("disabled")
            }
        });
        l.prop("disabled", !0);
        k.local_searchContainer = b;
        k.renderer = c;
        appDic.require("search-engine").search(j, "slides").done($.proxy(k.func, k))
    });
    $(".js-static-slider").each(function() {
        var a = Object.create(f);
        a.local_searchContainer = "#" + $(this).attr("id");
        a.count = $(this).attr("data-count");
        a.func()
    });
    var k = null;
    $(document).on("mousedown",
    function(a) {
        k = a.target
    });
    $(document).on("mouseup", ".js-btn[data-href]",
    function(a) {
        if (k == a.target) {
            var b = $(this).data("target");
            $(this).hasClass("js-demo-buy-button") && (new CLS29).addDataToCart($(this).parents(".js-template-id").first().data("template_id"), "template");
            var c = $(this).data("href");
            if (c) return a = a || {},
            3 !== a.which && (b ? window.open(c, b) : a.ctrlKey || 2 === a.which ? window.open(c) : window.location.href = c),
            !1
        }
    });
    $(".thumbnail").on("touchend", ".js-btn[data-href]",
    function(a) {
        $(this).parents(".js-thumbnail").trigger("mouseenter");
        a.stopImmediatePropagation()
    });
    $(".js-owl-carousel-single-lazy").owlCarousel({
        singleItem: !0,
        lazyLoad: !0,
        slideSpeed: 700,
        navigation: !0,
        navigationText: ["", ""],
        pagination: !1,
        mouseDrag: !1,
        touchDrag: Modernizr.touch,
        afterInit: function() {
            $(".js-owl-carousel-single-lazy").addClass("show");
            setOwlCarouselNavID($(this)[0], "#video-testimonial-wrapper")
        },
        afterMove: function() {
            detectIndexPage() && $(".js-owl-carousel-single-lazy .choke").trigger("plug.choke")
        }
    });
    if (detectIndexPage()) $(".owl-prev,.owl-next").on("click touchend",
    function() {
        $(".js-owl-carousel-single-lazy .choke").trigger("plug.choke")
    });
    $(".js-owl-carousel-two").owlCarousel({
        items: 2,
        navigation: !0,
        navigationText: ["", ""],
        pagination: !0,
        slideSpeed: 700,
        mouseDrag: !1,
        touchDrag: Modernizr.touch,
        onTranslate: 2,
        scrollPerPage: !0,
        itemsCustom: [[0, 2]],
        afterInit: function() {
            drawReviewGravatar()
        }
    });
    $(".js-owl-carousel-single").owlCarousel({
        singleItem: !0,
        navigation: !0,
        navigationText: ["", ""],
        pagination: !1,
        slideSpeed: 700,
        mouseDrag: !1,
        touchDrag: Modernizr.touch,
        afterInit: function() {
            0 < $(".footer-block .js-owl-carousel-single").length && separatorHeightChange();
            drawReviewGravatar()
        },
        afterUpdate: function() {
            0 < $(".footer-block .js-owl-carousel-single").length && separatorHeightChange()
        }
    });
    $(".owl-prev, .owl-next").on("mousedown",
    function() {
        $(this).addClass("active-style")
    });
    $(document).on("mouseup",
    function() {
        $(".owl-buttons .active-style").each(function() {
            $(this).removeClass("active-style")
        })
    });
    $(".choke").each(function() {
        var a = $(this),
        b = a.data("src");
        a.click(function() {
            $("img", a).hide();
            $('<iframe  class="testimon-video" src="' + b + '"/>').css({
                opacity: 0
            }).appendTo(a).animate({
                opacity: 1
            },
            {});
            return ! 1
        }).on("plug.choke",
        function() {
            $("iframe", a).remove();
            $("img", a).show()
        })
    });
    $(".footer-columns .description-quote-text").each(function() {
        var a = $(this).height(),
        b = $(this).parent().find(".review-show-more");
        $(window).on("resize",
        function() {
            64 >= a ? b.addClass("js-none") : (b.removeClass("js-none"), $(".footer-columns .description-quote-text").css({
                "max-height": "64px"
            }))
        })
    });
    b = $(".question-icon");
    c = (c = b.data("placement")) ? c: "right";
    b.popover({
        html: !0,
        container: "body",
        trigger: "hover",
        placement: c,
        template: '<div class="rd-popover rd-popover-' + c + ' rd-popover-grey" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',
        content: function() {
            return $(this).find(".question-content").html()
        }
    });
    b = $(".main-menu");
    $(window);
    var m;
    b.menuAim({
        activate: function(a) {
            a = $(a);
            clearTimeout(m);
            m = setTimeout(function() {
                a.is(".sfHover") || ($(".sub-menu").removeClass("sfHover"), a.addClass("sfHover").find(">div").stop().css({
                    opacity: 0
                }).animate({
                    opacity: 1
                },
                300, "easeInOutQuint"), a.find('div[class*="sub-menu"]').each(function() {
                    var a = $(this);
                    1580 <= document.body.clientWidth ? (a.find(".maxheight1 p").equalHeights_inrow({
                        numItem_inrow: 4,
                        outer: !1
                    }), a.find(".maxheight2 p").equalHeights_inrow({
                        numItem_inrow: 4,
                        outer: !1
                    })) : 1580 > document.body.clientWidth && (a.find(".maxheight1 p").equalHeights_inrow({
                        numItem_inrow: 3,
                        outer: !1
                    }), a.find(".maxheight2 p").equalHeights_inrow({
                        numItem_inrow: 3,
                        outer: !1
                    }))
                }))
            },
            400)
        },
        deactivate: function(a) {
            a = $(a);
            clearTimeout(m);
            a.removeClass("sfHover").find(">div").stop().animate({
                opacity: 0
            },
            100)
        },
        exitMenu: function() {
            clearTimeout(m);
            $(".sub-menu-1").css("opacity", "1").parent().addClass("sfHover");
            return ! 0
        },
        submenuDirection: "below"
    });
    if ("undefined" !== typeof window.orientation) {
        var q = -1,
        r = 0;
        $(".sub-menu > a").each(function(a) {
            $(this).on("click",
            function(b) {
                a == q ? r++:(r = 1, q = a);
                2 > r && b.preventDefault();
                b.stopPropagation()
            })
        });
        $(document).click(function() {
            r = 0
        })
    }
    $("body").append('<div id="thubContent0" class="thumbContent js-thumbContent"></div><div id="thubContent1" class="thumbContent js-thumbContent"></div>');
    "undefined" == typeof thubContentId && (thubContentId = 0);
    var p;
    $(".thumbnails,.js-ajax-result-thumbnails").on("mouseleave", ".js-thumbnail",
    function() {
        clearInterval(p)
    }).on("mouseenter", ".js-thumbnail",
    function() {
        if ($(this).parent().hasClass("deleted")) return ! 0;
        var a = $("#thubContent" + thubContentId),
        b = $(this).closest(".thumbnail"),
        c = b.html();
        a.html(c);
        appDic.require("heart-tooltip").setText($(".js-favorite", a));
        $(document).trigger("Gtag.ee.push.product.template.impressions", {
            from: "popup.thumb.impressions.template"
        });
        var c = a.outerWidth(),
        f = a.outerHeight(),
        g = b.outerWidth(),
        h = (c - g) / 2,
        g = b.offset(),
        j = g.top - 80,
        k = h = g.left - h,
        l = j,
        m = $(document).scrollLeft(),
        q = $(window).width(),
        r = $(document).scrollTop(),
        z = $(window).height(),
        A = !1;
        g.top + b.height() > r + z && (A = !0);
        k + c > m + q ? h = k - (k + c - (m + q)) - 30 : 30 > k - m && (h = 30 + m);
        l + f > r + z ? j = l - (l + f - (r + z)) - 30 : 30 > l - r && (j = 30 + r);
        a.css({
            top: j,
            left: h
        });
        clearTimeout(p);
        p = setTimeout(function() {
            a.fadeIn();
            var b = a.find(".js-thumb-description").height();
            63 < b && (a.find(".js-thumb-description").append('<span id="slide-down-text-thumb" class="js-slide-down-link-thumb link-1 link-blue description-link"><span class="default-title">' + Twig.render(messageShowMore) + '</span><span class="active-title">' + Twig.render(messageShowLess) + "</span></span>"), expandText($(".js-slide-down-txt-thumb", a), $(".js-slide-down-text-thumb", a), $(".js-slide-down-link-thumb", a), 48), A && a.css("top", a.offset().top + (b - 48)))
        },
        400)
    });
    if (MobileEsp.DetectIos()) $(".thumbnail").click(function() {
        $("#thubContent" + thubContentId).html("")
    });
    else $("#thubContent0, #thubContent1").on("mouseleave",
    function() {
        var a = $("#thubContent" + thubContentId);
        clearTimeout(p);
        a.html("");
        a.fadeOut();
        thubContentId = 0 === thubContentId ? 1 : 0
    });
    $(".custom-range-heading").click(function() {
        $(".custom-range-heading b").toggleClass("icon-arrow-small-down").toggleClass("icon-arrow-small-up");
        $(".js-custom-range").toggle()
    });
    separatorHeightChange();
    separatorHeightForEmptyBlock();
    $(window).on("resize",
    function() {
        $(".footer-columns .row").children("div").attr("style", "none");
        separatorHeightChange()
    });
    $("#footer #mailchimp_form").bind("DOMSubtreeModified",
    function() {
        separatorHeightChange()
    });
    var l = {},
    b = {},
    c = {},
    g = {},
    j = {};
    jQuery(document).on("submitResponse.default",
    function() {
        Recaptcha.reload()
    });
    if ("tm_forms" in window) for (h in window.tm_forms) {
        var z = document.forms[window.tm_forms[h].name];
        l[window.tm_forms[h].name] = window.tm_forms[h].on_before_submit;
        b[window.tm_forms[h].name] = window.tm_forms[h].popover_placement;
        c[window.tm_forms[h].name] = 1 > window.tm_forms[h].ajax;
        g[window.tm_forms[h].name] = "#" + $(z).find('.ninja-forms-field[type="submit"]').attr("id");
        j[window.tm_forms[h].name] = !!window.tm_forms[h].autoscroll_on_error;
        $(z).formHandler({
            disable_ajax: c[z.name],
            ajax_async_mode: !0,
            autofocus_first_field: !1,
            popover_placement: b[z.name],
            submit_button: g[z.name],
            autoscroll_on_form_error: j[z.name],
            on_after_ajax_validate: function(a, b, c, f) {
                a = $(a).find("[type=submit]"); ! f.status && a.hasClass("loading") && a.removeClass("loading")
            },
            on_before_submit: function(a, b) {
                var c = l[a.name];
                if ("function" === typeof c && !1 === c(a, b)) return ! 1
            },
            on_submit_success: function(a, b, c) {
                b = c.form_settings;
                "undefined" != typeof b && 0 < b.clear_complete && $(":input:visible", a).not("[type=submit], [type=checkbox]").val("").end().filter("[type=checkbox]").prop("checked", !1).end();
                "undefined" != typeof b && 0 < b.hide_complete ? $(a).hide() : "undefined" != typeof c.success && c.success.success_msg.length && $(a).formHandler("show-errors", [{
                    messages: c.success.success_msg
                }], [], !1)
            }
        })
    }
    $("select.ninja-forms-field").chosen();
    $(".js-reviews").reviewsList();
    detectModernIe();
    detectSafari();
    $(".related-2,.related-3").find("li").equalsHeights();
    $(window).on("discount.update resize",
    function() {
        $(".related-2,.related-3").find("li").equalsHeights()
    });
    $(".list-features .maxheight, .wp-categories-list .col-lg-3").equalsHeights(!1);
    $.stellar("refresh");
    $.stellar({
        horizontalScrolling: !0,
        verticalScrolling: !0,
        horizontalOffset: 0,
        verticalOffset: 0,
        responsive: !1,
        scrollProperty: "scroll",
        positionProperty: "position",
        parallaxBackgrounds: !0,
        parallaxElements: !0,
        hideDistantElements: !0,
        hideElement: function(a) {
            a.hide()
        },
        showElement: function(a) {
            a.show()
        }
    });
    appDic.require("banner-manager").run();
    $("#wizard").length && (b = appDic.require("language").lang, includeJSFile("/js/tm/wizard." + b + ".js?d=85ba0be"), $("#wizard-start").removeClass("disabled"));
    $("html:not(.touch)").on("show.bs.modal", ".js-special-modal",
    function(a) {
        $(a.target).removeClass("off")
    }).on("hidden.bs.modal", ".js-special-modal",
    function(a) {
        $(a.target).addClass("off")
    });
    $(document).on("hidden.bs.modal", ".modal",
    function() {
        $(".modal").each(function() {
            $(this).is(":visible") && $(document.body).addClass("modal-open")
        })
    });
    $("#mce-EMAIL").on("keydown",
    function(a) {
        if (13 != a.key\u0421ode || 13 != a.which) $("#mce-success-response").hide(),
        $("#mce-error-response").hide(),
        $("div.mce_inline_error").hide()
    });
    $(document).trigger("MainEvents.templates.loaded")
}); (function() {
    $(document).ready(function() {
        $(document).on("page.id.preview-page", updateCartSelector);
        $(document).on("page.id.demo-page ", updateCartSelector);
        $(document).on("page.class.search page.id.index-page page.id.collection-page",
        function() {
            tm.thumbnail.renew()
        });
        var a = $("body"),
        b = $.trim(a.attr("id"));
        "" !== b && $(a).trigger("page.id." + b);
        b = $.trim(a.attr("class"));
        "" !== b && (b = b.split(/\s+/), goog.array.forEach(b,
        function(b) {
            $(a).trigger("page.class." + b)
        }))
    })
})(); (function() { (new tm.search2.controller).enterDocument()
})(); !
function(a) {
    var b, c, g, f = Math.max,
    h = Math.min;
    b = {};
    b.d = a(document);
    b.t = function(a) {
        return a.originalEvent.touches.length - 1
    };
    c = function() {
        var c = this;
        this.cv = this.v = this.g = this.i = this.$ = this.o = null;
        this.y = this.x = 0;
        this.c = this.$c = null;
        this.t = 0;
        this.isInit = !1;
        this.rH = this.eH = this.cH = this.dH = this.pColor = this.fgColor = null;
        this.scale = 1;
        this.run = function() {
            var b = function(a, b) {
                for (var f in b) c.o[f] = b[f];
                c.init();
                c._configure()._draw()
            };
            if (!this.$.data("kontroled")) return this.$.data("kontroled", !0),
            this.extend(),
            this.o = a.extend({
                min: this.$.data("min") || 0,
                max: this.$.data("max") || 100,
                stopper: !0,
                readOnly: this.$.data("readonly"),
                cursor: !0 === this.$.data("cursor") && 30 || this.$.data("cursor") || 0,
                thickness: this.$.data("thickness") || 0.35,
                lineCap: this.$.data("linecap") || "butt",
                width: this.$.data("width") || 200,
                height: this.$.data("height") || 200,
                displayInput: null == this.$.data("displayinput") || this.$.data("displayinput"),
                displayPrevious: this.$.data("displayprevious"),
                fgColor: this.$.data("fgcolor") || "#87CEEB",
                inputColor: this.$.data("inputcolor") || this.$.data("fgcolor") || "#87CEEB",
                inline: !1,
                step: this.$.data("step") || 1,
                draw: null,
                change: null,
                cancel: null,
                release: null,
                error: null
            },
            this.o),
            this.$.is("fieldset") ? (this.v = {},
            this.i = this.$.find("input"), this.i.each(function(b) {
                var f = a(this);
                c.i[b] = f;
                c.v[b] = f.val();
                f.bind("change",
                function() {
                    var a = {};
                    a[b] = f.val();
                    c.val(a)
                })
            }), this.$.find("legend").remove()) : (this.i = this.$, this.v = this.$.val(), "" == this.v && (this.v = this.o.min), this.$.bind("change",
            function() {
                c.val(c._validate(c.$.val()))
            })),
            !this.o.displayInput && this.$.hide(),
            this.$c = a('<canvas width="' + this.o.width + 'px" height="' + this.o.height + 'px"></canvas>'),
            this.c = this.$c[0].getContext ? this.$c[0].getContext("2d") : null,
            this.c ? (this.$.wrap(a('<div style="' + (this.o.inline ? "display:inline;": "") + "width:" + this.o.width + "px;height:" + this.o.height + 'px;"></div>')).before(this.$c), this.scale = (window.devicePixelRatio || 1) / (this.c.webkitBackingStorePixelRatio || this.c.mozBackingStorePixelRatio || this.c.msBackingStorePixelRatio || this.c.oBackingStorePixelRatio || this.c.backingStorePixelRatio || 1), 1 !== this.scale && (this.$c[0].width *= this.scale, this.$c[0].height *= this.scale, this.$c.width(this.o.width), this.$c.height(this.o.height)), this.v instanceof Object ? (this.cv = {},
            this.copy(this.v, this.cv)) : this.cv = this.v, this.$.bind("configure", b).parent().bind("configure", b), this._listen()._configure()._xy().init(), this.isInit = !0, this._draw(), this) : (this.o.error && this.o.error(), void 0)
        };
        this._draw = function() {
            var a = !0,
            b = document.createElement("canvas");
            b.width = c.o.width * c.scale;
            b.height = c.o.height * c.scale;
            c.g = b.getContext("2d");
            c.clear();
            c.dH && (a = c.dH()); ! 1 !== a && c.draw();
            c.c.drawImage(b, 0, 0)
        };
        this._touch = function(a) {
            var f = function(a) {
                a = c.xy2val(a.originalEvent.touches[c.t].pageX, a.originalEvent.touches[c.t].pageY);
                a != c.cv && (c.cH && !1 === c.cH(a) || (c.change(c._validate(a)), c._draw()))
            };
            return this.t = b.t(a),
            f(a),
            b.d.bind("touchmove.k", f).bind("touchend.k",
            function() {
                b.d.unbind("touchmove.k touchend.k");
                c.rH && !1 === c.rH(c.cv) || c.val(c.cv)
            }),
            this
        };
        this._mouse = function(a) {
            var f = function(a) {
                a = c.xy2val(a.pageX, a.pageY);
                a != c.cv && (c.cH && !1 === c.cH(a) || (c.change(c._validate(a)), c._draw()))
            };
            return f(a),
            b.d.bind("mousemove.k", f).bind("keyup.k",
            function(a) {
                27 === a.keyCode && !(b.d.unbind("mouseup.k mousemove.k keyup.k"), c.eH && !1 === c.eH()) && c.cancel()
            }).bind("mouseup.k",
            function() {
                b.d.unbind("mousemove.k mouseup.k keyup.k");
                c.rH && !1 === c.rH(c.cv) || c.val(c.cv)
            }),
            this
        };
        this._xy = function() {
            var a = this.$c.offset();
            return this.x = a.left,
            this.y = a.top,
            this
        };
        this._listen = function() {
            return this.o.readOnly ? this.$.attr("readonly", "readonly") : (this.$c.bind("mousedown",
            function(a) {
                a.preventDefault();
                c._xy()._mouse(a)
            }).bind("touchstart",
            function(a) {
                a.preventDefault();
                c._xy()._touch(a)
            }), this.listen()),
            this
        };
        this._configure = function() {
            return this.o.draw && (this.dH = this.o.draw),
            this.o.change && (this.cH = this.o.change),
            this.o.cancel && (this.eH = this.o.cancel),
            this.o.release && (this.rH = this.o.release),
            this.o.displayPrevious ? (this.pColor = this.h2rgba(this.o.fgColor, "0.4"), this.fgColor = this.h2rgba(this.o.fgColor, "0.6")) : this.fgColor = this.o.fgColor,
            this
        };
        this._clear = function() {
            this.$c[0].width = this.$c[0].width
        };
        this._validate = function(a) {
            return~~ ((0 > a ? -0.5 : 0.5) + a / this.o.step) * this.o.step
        };
        this.listen = function() {};
        this.extend = function() {};
        this.init = function() {};
        this.change = function() {};
        this.val = function() {};
        this.xy2val = function() {};
        this.draw = function() {};
        this.clear = function() {
            this._clear()
        };
        this.h2rgba = function(a, b) {
            var c;
            return a = a.substring(1, 7),
            c = [parseInt(a.substring(0, 2), 16), parseInt(a.substring(2, 4), 16), parseInt(a.substring(4, 6), 16)],
            "rgba(" + c[0] + "," + c[1] + "," + c[2] + "," + b + ")"
        };
        this.copy = function(a, b) {
            for (var c in a) b[c] = a[c]
        }
    };
    g = function() {
        c.call(this);
        this.w2 = this.cursorExt = this.lineWidth = this.radius = this.xy = this.startAngle = null;
        this.PI2 = 2 * Math.PI;
        this.extend = function() {
            this.o = a.extend({
                bgColor: this.$.data("bgcolor") || "#EEEEEE",
                angleOffset: this.$.data("angleoffset") || 0,
                angleArc: this.$.data("anglearc") || 360,
                inline: !0
            },
            this.o)
        };
        this.val = function(a) {
            return null == a ? this.v: (this.cv = this.o.stopper ? f(h(a, this.o.max), this.o.min) : a, this.v = this.cv, this.$.val(this.v), this._draw(), void 0)
        };
        this.xy2val = function(a, b) {
            var c, g;
            return c = Math.atan2(a - (this.x + this.w2), -(b - this.y - this.w2)) - this.angleOffset,
            this.angleArc != this.PI2 && 0 > c && -0.5 < c ? c = 0 : 0 > c && (c += this.PI2),
            g = ~~ (0.5 + c * (this.o.max - this.o.min) / this.angleArc) + this.o.min,
            this.o.stopper && (g = f(h(g, this.o.max), this.o.min)),
            g
        };
        this.listen = function() {
            var b, c, g = this,
            q = function(a) {
                a.preventDefault();
                var b = a.originalEvent,
                a = b.detail || b.wheelDeltaX,
                b = b.detail || b.wheelDeltaY,
                a = parseInt(g.$.val()) + (0 < a || 0 < b ? g.o.step: 0 > a || 0 > b ? -g.o.step: 0);
                g.cH && !1 === g.cH(a) || g.val(a)
            },
            r = 1,
            p = {
                37 : -g.o.step,
                38 : g.o.step,
                39 : g.o.step,
                40 : -g.o.step
            };
            this.$.bind("keydown",
            function(l) {
                var q = l.keyCode;
                if (96 <= q && 105 >= q && (q = l.keyCode = q - 48), b = parseInt(String.fromCharCode(q)), isNaN(b) && (13 !== q && 8 !== q && 9 !== q && 189 !== q && l.preventDefault(), -1 < a.inArray(q, [37, 38, 39, 40]))) l.preventDefault(),
                l = parseInt(g.$.val()) + p[q] * r,
                g.o.stopper && (l = f(h(l, g.o.max), g.o.min)),
                g.change(l),
                g._draw(),
                c = window.setTimeout(function() {
                    r *= 2
                },
                30)
            }).bind("keyup",
            function() {
                isNaN(b) ? c && (window.clearTimeout(c), c = null, r = 1, g.val(g.$.val())) : g.$.val() > g.o.max && g.$.val(g.o.max) || g.$.val() < g.o.min && g.$.val(g.o.min)
            });
            this.$c.bind("mousewheel DOMMouseScroll", q);
            this.$.bind("mousewheel DOMMouseScroll", q)
        };
        this.init = function() { (this.v < this.o.min || this.v > this.o.max) && (this.v = this.o.min);
            this.$.val(this.v);
            this.w2 = this.o.width / 2;
            this.cursorExt = this.o.cursor / 100;
            this.xy = this.w2 * this.scale;
            this.lineWidth = this.xy * this.o.thickness;
            this.lineCap = this.o.lineCap;
            this.radius = this.xy - this.lineWidth / 2;
            this.o.angleOffset && (this.o.angleOffset = isNaN(this.o.angleOffset) ? 0 : this.o.angleOffset);
            this.o.angleArc && (this.o.angleArc = isNaN(this.o.angleArc) ? this.PI2: this.o.angleArc);
            this.angleOffset = this.o.angleOffset * Math.PI / 180;
            this.angleArc = this.o.angleArc * Math.PI / 180;
            this.startAngle = 1.5 * Math.PI + this.angleOffset;
            this.endAngle = 1.5 * Math.PI + this.angleOffset + this.angleArc;
            var a = f(String(Math.abs(this.o.max)).length, String(Math.abs(this.o.min)).length, 2) + 2;
            this.o.displayInput && this.i.css({
                width: (this.o.width / 2 + 4 >> 0) + "px",
                height: (this.o.width / 3 >> 0) + "px",
                position: "absolute",
                "vertical-align": "middle",
                "margin-top": (this.o.width / 3 >> 0) + "px",
                "margin-left": "-" + (3 * this.o.width / 4 + 2 >> 0) + "px",
                border: 0,
                background: "none",
                font: "bold " + (this.o.width / a >> 0) + "px Arial",
                "text-align": "center",
                color: this.o.inputColor || this.o.fgColor,
                padding: "0px",
                "-webkit-appearance": "none"
            }) || this.i.css({
                width: "0px",
                visibility: "hidden"
            })
        };
        this.change = function(a) {
            this.cv = a;
            this.$.val(a)
        };
        this.angle = function(a) {
            return (a - this.o.min) * this.angleArc / (this.o.max - this.o.min)
        };
        this.draw = function() {
            var a, b, c = this.g,
            f = this.angle(this.cv),
            g = this.startAngle,
            f = g + f,
            h = 1;
            c.lineWidth = this.lineWidth;
            c.lineCap = this.lineCap;
            this.o.cursor && (g = f - this.cursorExt) && (f += this.cursorExt);
            c.beginPath();
            c.strokeStyle = this.o.bgColor;
            c.arc(this.xy, this.xy, this.radius, this.endAngle, this.startAngle, !0);
            c.stroke();
            this.o.displayPrevious && (b = this.startAngle + this.angle(this.v), a = this.startAngle, this.o.cursor && (a = b - this.cursorExt) && (b += this.cursorExt), c.beginPath(), c.strokeStyle = this.pColor, c.arc(this.xy, this.xy, this.radius, a, b, !1), c.stroke(), h = this.cv == this.v);
            c.beginPath();
            c.strokeStyle = h ? this.o.fgColor: this.fgColor;
            c.arc(this.xy, this.xy, this.radius, g, f, !1);
            c.stroke()
        };
        this.cancel = function() {
            this.val(this.v)
        }
    };
    a.fn.dial = a.fn.knob = function(b) {
        return this.each(function() {
            var c = new g;
            c.o = b;
            c.$ = a(this);
            c.run()
        }).parent()
    }
} (jQuery);
document.createElement("canvas").getContext ||
function() {
    function a() {
        return this.context_ || (this.context_ = new q(this))
    }
    function b(a, b, c) {
        var f = I.call(arguments, 2);
        return function() {
            return a.apply(b, f.concat(I.call(arguments)))
        }
    }
    function c(a) {
        var b = a.srcElement;
        switch (a.propertyName) {
        case "width":
            b.style.width = b.attributes.width.nodeValue + "px";
            b.getContext().clearRect();
            break;
        case "height":
            b.style.height = b.attributes.height.nodeValue + "px",
            b.getContext().clearRect()
        }
    }
    function g(a) {
        a = a.srcElement;
        a.firstChild && (a.firstChild.style.width = a.clientWidth + "px", a.firstChild.style.height = a.clientHeight + "px")
    }
    function f() {
        return [[1, 0, 0], [0, 1, 0], [0, 0, 1]]
    }
    function h(a, b) {
        for (var c = f(), g = 0; 3 > g; g++) for (var h = 0; 3 > h; h++) {
            for (var j = 0,
            k = 0; 3 > k; k++) j += a[g][k] * b[k][h];
            c[g][h] = j
        }
        return c
    }
    function j(a, b) {
        b.fillStyle = a.fillStyle;
        b.lineCap = a.lineCap;
        b.lineJoin = a.lineJoin;
        b.lineWidth = a.lineWidth;
        b.miterLimit = a.miterLimit;
        b.shadowBlur = a.shadowBlur;
        b.shadowColor = a.shadowColor;
        b.shadowOffsetX = a.shadowOffsetX;
        b.shadowOffsetY = a.shadowOffsetY;
        b.strokeStyle = a.strokeStyle;
        b.globalAlpha = a.globalAlpha;
        b.arcScaleX_ = a.arcScaleX_;
        b.arcScaleY_ = a.arcScaleY_;
        b.lineScale_ = a.lineScale_
    }
    function k(a) {
        var b, c = 1,
        a = String(a);
        if ("rgb" == a.substring(0, 3)) {
            b = a.indexOf("(", 3);
            var f = a.indexOf(")", b + 1),
            f = a.substring(b + 1, f).split(",");
            b = "#";
            for (var g = 0; 3 > g; g++) b += x[Number(f[g])];
            4 == f.length && "a" == a.substr(3, 1) && (c = f[3])
        } else b = a;
        return {
            color: b,
            alpha: c
        }
    }
    function m(a) {
        switch (a) {
        case "butt":
            return "flat";
        case "round":
            return "round";
        default:
            return "square"
        }
    }
    function q(a) {
        this.m_ = f();
        this.mStack_ = [];
        this.aStack_ = [];
        this.currentPath_ = [];
        this.fillStyle = this.strokeStyle = "#000";
        this.lineWidth = 1;
        this.lineJoin = "miter";
        this.lineCap = "butt";
        this.miterLimit = 1 * E;
        this.globalAlpha = 1;
        this.canvas = a;
        var b = a.ownerDocument.createElement("div");
        b.style.width = a.clientWidth + "px";
        b.style.height = a.clientHeight + "px";
        b.style.overflow = "hidden";
        b.style.position = "absolute";
        a.appendChild(b);
        this.element_ = b;
        this.lineScale_ = this.arcScaleY_ = this.arcScaleX_ = 1
    }
    function r(a, b, c, f) {
        a.currentPath_.push({
            type: "bezierCurveTo",
            cp1x: b.x,
            cp1y: b.y,
            cp2x: c.x,
            cp2y: c.y,
            x: f.x,
            y: f.y
        });
        a.currentX_ = f.x;
        a.currentY_ = f.y
    }
    function p(a, b, c) {
        var f;
        a: {
            for (f = 0; 3 > f; f++) for (var g = 0; 2 > g; g++) if (!isFinite(b[f][g]) || isNaN(b[f][g])) {
                f = !1;
                break a
            }
            f = !0
        }
        f && (a.m_ = b, c && (a.lineScale_ = D(C(b[0][0] * b[1][1] - b[0][1] * b[1][0]))))
    }
    function l(a) {
        this.type_ = a;
        this.r1_ = this.y1_ = this.x1_ = this.r0_ = this.y0_ = this.x0_ = 0;
        this.colors_ = []
    }
    function z() {}
    var F = Math,
    w = F.round,
    J = F.sin,
    u = F.cos,
    C = F.abs,
    D = F.sqrt,
    E = 10,
    y = E / 2,
    I = Array.prototype.slice,
    K = {
        init: function(a) { / MSIE / .test(navigator.userAgent) && !window.opera && (a = a || document, a.createElement("canvas"), a.attachEvent("onreadystatechange", b(this.init_, this, a)))
        },
        init_: function(a) {
            a.namespaces.g_vml_ || a.namespaces.add("g_vml_", "urn:schemas-microsoft-com:vml", "#default#VML");
            a.namespaces.g_o_ || a.namespaces.add("g_o_", "urn:schemas-microsoft-com:office:office", "#default#VML");
            if (!a.styleSheets.ex_canvas_) {
                var b = a.createStyleSheet();
                b.owningElement.id = "ex_canvas_";
                b.cssText = "canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"
            }
            a = a.getElementsByTagName("canvas");
            for (b = 0; b < a.length; b++) this.initElement(a[b])
        },
        initElement: function(b) {
            if (!b.getContext) {
                b.getContext = a;
                b.innerHTML = "";
                b.attachEvent("onpropertychange", c);
                b.attachEvent("onresize", g);
                var f = b.attributes;
                f.width && f.width.specified ? b.style.width = f.width.nodeValue + "px": b.width = b.clientWidth;
                f.height && f.height.specified ? b.style.height = f.height.nodeValue + "px": b.height = b.clientHeight
            }
            return b
        }
    };
    K.init();
    for (var x = [], N = 0; 16 > N; N++) for (var H = 0; 16 > H; H++) x[16 * N + H] = N.toString(16) + H.toString(16);
    N = q.prototype;
    N.clearRect = function() {
        this.element_.innerHTML = ""
    };
    N.beginPath = function() {
        this.currentPath_ = []
    };
    N.moveTo = function(a, b) {
        var c = this.getCoords_(a, b);
        this.currentPath_.push({
            type: "moveTo",
            x: c.x,
            y: c.y
        });
        this.currentX_ = c.x;
        this.currentY_ = c.y
    };
    N.lineTo = function(a, b) {
        var c = this.getCoords_(a, b);
        this.currentPath_.push({
            type: "lineTo",
            x: c.x,
            y: c.y
        });
        this.currentX_ = c.x;
        this.currentY_ = c.y
    };
    N.bezierCurveTo = function(a, b, c, f, g, h) {
        g = this.getCoords_(g, h);
        a = this.getCoords_(a, b);
        c = this.getCoords_(c, f);
        r(this, a, c, g)
    };
    N.quadraticCurveTo = function(a, b, c, f) {
        a = this.getCoords_(a, b);
        c = this.getCoords_(c, f);
        f = {
            x: this.currentX_ + 2 / 3 * (a.x - this.currentX_),
            y: this.currentY_ + 2 / 3 * (a.y - this.currentY_)
        };
        r(this, f, {
            x: f.x + (c.x - this.currentX_) / 3,
            y: f.y + (c.y - this.currentY_) / 3
        },
        c)
    };
    N.arc = function(a, b, c, f, g, h) {
        var c = c * E,
        j = h ? "at": "wa",
        k = a + u(f) * c - y,
        l = b + J(f) * c - y,
        f = a + u(g) * c - y,
        g = b + J(g) * c - y;
        k == f && !h && (k += 0.125);
        a = this.getCoords_(a, b);
        k = this.getCoords_(k, l);
        f = this.getCoords_(f, g);
        this.currentPath_.push({
            type: j,
            x: a.x,
            y: a.y,
            radius: c,
            xStart: k.x,
            yStart: k.y,
            xEnd: f.x,
            yEnd: f.y
        })
    };
    N.rect = function(a, b, c, f) {
        this.moveTo(a, b);
        this.lineTo(a + c, b);
        this.lineTo(a + c, b + f);
        this.lineTo(a, b + f);
        this.closePath()
    };
    N.strokeRect = function(a, b, c, f) {
        var g = this.currentPath_;
        this.beginPath();
        this.moveTo(a, b);
        this.lineTo(a + c, b);
        this.lineTo(a + c, b + f);
        this.lineTo(a, b + f);
        this.closePath();
        this.stroke();
        this.currentPath_ = g
    };
    N.fillRect = function(a, b, c, f) {
        var g = this.currentPath_;
        this.beginPath();
        this.moveTo(a, b);
        this.lineTo(a + c, b);
        this.lineTo(a + c, b + f);
        this.lineTo(a, b + f);
        this.closePath();
        this.fill();
        this.currentPath_ = g
    };
    N.createLinearGradient = function(a, b, c, f) {
        var g = new l("gradient");
        g.x0_ = a;
        g.y0_ = b;
        g.x1_ = c;
        g.y1_ = f;
        return g
    };
    N.createRadialGradient = function(a, b, c, f, g, h) {
        var j = new l("gradientradial");
        j.x0_ = a;
        j.y0_ = b;
        j.r0_ = c;
        j.x1_ = f;
        j.y1_ = g;
        j.r1_ = h;
        return j
    };
    N.drawImage = function(a, b) {
        var c, f, g, h, j, k, l, m;
        g = a.runtimeStyle.width;
        h = a.runtimeStyle.height;
        a.runtimeStyle.width = "auto";
        a.runtimeStyle.height = "auto";
        var p = a.width,
        r = a.height;
        a.runtimeStyle.width = g;
        a.runtimeStyle.height = h;
        if (3 == arguments.length) c = arguments[1],
        f = arguments[2],
        j = k = 0,
        l = g = p,
        m = h = r;
        else if (5 == arguments.length) c = arguments[1],
        f = arguments[2],
        g = arguments[3],
        h = arguments[4],
        j = k = 0,
        l = p,
        m = r;
        else if (9 == arguments.length) j = arguments[1],
        k = arguments[2],
        l = arguments[3],
        m = arguments[4],
        c = arguments[5],
        f = arguments[6],
        g = arguments[7],
        h = arguments[8];
        else throw Error("Invalid number of arguments");
        var q = this.getCoords_(c, f),
        u = [];
        u.push(" <g_vml_:group", ' coordsize="', 10 * E, ",", 10 * E, '"', ' coordorigin="0,0"', ' style="width:', 10, "px;height:", 10, "px;position:absolute;");
        if (1 != this.m_[0][0] || this.m_[0][1]) {
            var x = [];
            x.push("M11=", this.m_[0][0], ",", "M12=", this.m_[1][0], ",", "M21=", this.m_[0][1], ",", "M22=", this.m_[1][1], ",", "Dx=", w(q.x / E), ",", "Dy=", w(q.y / E), "");
            var y = this.getCoords_(c + g, f),
            z = this.getCoords_(c, f + h);
            c = this.getCoords_(c + g, f + h);
            q.x = F.max(q.x, y.x, z.x, c.x);
            q.y = F.max(q.y, y.y, z.y, c.y);
            u.push("padding:0 ", w(q.x / E), "px ", w(q.y / E), "px 0;filter:progid:DXImageTransform.Microsoft.Matrix(", x.join(""), ", sizingmethod='clip');")
        } else u.push("top:", w(q.y / E), "px;left:", w(q.x / E), "px;");
        u.push(' ">', '<g_vml_:image src="', a.src, '"', ' style="width:', E * g, "px;", " height:", E * h, 'px;"', ' cropleft="', j / p, '"', ' croptop="', k / r, '"', ' cropright="', (p - j - l) / p, '"', ' cropbottom="', (r - k - m) / r, '"', " />", "</g_vml_:group>");
        this.element_.insertAdjacentHTML("BeforeEnd", u.join(""))
    };
    N.stroke = function(a) {
        var b = [],
        c = k(a ? this.fillStyle: this.strokeStyle),
        f = c.color,
        c = c.alpha * this.globalAlpha;
        b.push("<g_vml_:shape", ' filled="', !!a, '"', ' style="position:absolute;width:', 10, "px;height:", 10, 'px;"', ' coordorigin="0 0" coordsize="', 10 * E, " ", 10 * E, '"', ' stroked="', !a, '"', ' path="');
        for (var g = null,
        h = null,
        j = null,
        l = null,
        p = 0; p < this.currentPath_.length; p++) {
            var q = this.currentPath_[p];
            switch (q.type) {
            case "moveTo":
                b.push(" m ", w(q.x), ",", w(q.y));
                break;
            case "lineTo":
                b.push(" l ", w(q.x), ",", w(q.y));
                break;
            case "close":
                b.push(" x ");
                q = null;
                break;
            case "bezierCurveTo":
                b.push(" c ", w(q.cp1x), ",", w(q.cp1y), ",", w(q.cp2x), ",", w(q.cp2y), ",", w(q.x), ",", w(q.y));
                break;
            case "at":
            case "wa":
                b.push(" ", q.type, " ", w(q.x - this.arcScaleX_ * q.radius), ",", w(q.y - this.arcScaleY_ * q.radius), " ", w(q.x + this.arcScaleX_ * q.radius), ",", w(q.y + this.arcScaleY_ * q.radius), " ", w(q.xStart), ",", w(q.yStart), " ", w(q.xEnd), ",", w(q.yEnd))
            }
            if (q) {
                if (null == g || q.x < g) g = q.x;
                if (null == j || q.x > j) j = q.x;
                if (null == h || q.y < h) h = q.y;
                if (null == l || q.y > l) l = q.y
            }
        }
        b.push(' ">');
        if (a) if ("object" == typeof this.fillStyle) {
            var f = this.fillStyle,
            r = 0,
            q = c = a = 0,
            u = 1;
            "gradient" == f.type_ ? (r = f.x1_ / this.arcScaleX_, g = f.y1_ / this.arcScaleY_, p = this.getCoords_(f.x0_ / this.arcScaleX_, f.y0_ / this.arcScaleY_), r = this.getCoords_(r, g), r = 180 * Math.atan2(r.x - p.x, r.y - p.y) / Math.PI, 0 > r && (r += 360), 1E-6 > r && (r = 0)) : (p = this.getCoords_(f.x0_, f.y0_), q = j - g, u = l - h, a = (p.x - g) / q, c = (p.y - h) / u, q /= this.arcScaleX_ * E, u /= this.arcScaleY_ * E, p = F.max(q, u), q = 2 * f.r0_ / p, u = 2 * f.r1_ / p - q);
            g = f.colors_;
            g.sort(function(a, b) {
                return a.offset - b.offset
            });
            for (var h = g.length,
            l = g[0].color, j = g[h - 1].color, x = g[0].alpha * this.globalAlpha, y = g[h - 1].alpha * this.globalAlpha, z = [], p = 0; p < h; p++) {
                var C = g[p];
                z.push(C.offset * u + q + " " + C.color)
            }
            b.push('<g_vml_:fill type="', f.type_, '"', ' method="none" focus="100%"', ' color="', l, '"', ' color2="', j, '"', ' colors="', z.join(","), '"', ' opacity="', y, '"', ' g_o_:opacity2="', x, '"', ' angle="', r, '"', ' focusposition="', a, ",", c, '" />')
        } else b.push('<g_vml_:fill color="', f, '" opacity="', c, '" />');
        else a = this.lineScale_ * this.lineWidth,
        1 > a && (c *= a),
        b.push("<g_vml_:stroke", ' opacity="', c, '"', ' joinstyle="', this.lineJoin, '"', ' miterlimit="', this.miterLimit, '"', ' endcap="', m(this.lineCap), '"', ' weight="', a, 'px"', ' color="', f, '" />');
        b.push("</g_vml_:shape>");
        this.element_.insertAdjacentHTML("beforeEnd", b.join(""))
    };
    N.fill = function() {
        this.stroke(!0)
    };
    N.closePath = function() {
        this.currentPath_.push({
            type: "close"
        })
    };
    N.getCoords_ = function(a, b) {
        var c = this.m_;
        return {
            x: E * (a * c[0][0] + b * c[1][0] + c[2][0]) - y,
            y: E * (a * c[0][1] + b * c[1][1] + c[2][1]) - y
        }
    };
    N.save = function() {
        var a = {};
        j(this, a);
        this.aStack_.push(a);
        this.mStack_.push(this.m_);
        this.m_ = h(f(), this.m_)
    };
    N.restore = function() {
        j(this.aStack_.pop(), this);
        this.m_ = this.mStack_.pop()
    };
    N.translate = function(a, b) {
        p(this, h([[1, 0, 0], [0, 1, 0], [a, b, 1]], this.m_), !1)
    };
    N.rotate = function(a) {
        var b = u(a),
        a = J(a);
        p(this, h([[b, a, 0], [ - a, b, 0], [0, 0, 1]], this.m_), !1)
    };
    N.scale = function(a, b) {
        this.arcScaleX_ *= a;
        this.arcScaleY_ *= b;
        p(this, h([[a, 0, 0], [0, b, 0], [0, 0, 1]], this.m_), !0)
    };
    N.transform = function(a, b, c, f, g, j) {
        p(this, h([[a, b, 0], [c, f, 0], [g, j, 1]], this.m_), !0)
    };
    N.setTransform = function(a, b, c, f, g, h) {
        p(this, [[a, b, 0], [c, f, 0], [g, h, 1]], !0)
    };
    N.clip = function() {};
    N.arcTo = function() {};
    N.createPattern = function() {
        return new z
    };
    l.prototype.addColorStop = function(a, b) {
        b = k(b);
        this.colors_.push({
            offset: a,
            color: b.color,
            alpha: b.alpha
        })
    };
    G_vmlCanvasManager = K;
    CanvasRenderingContext2D = q;
    CanvasGradient = l;
    CanvasPattern = z
} ();
function setElementIdMenuTracker() {
    function a(a) {
        a.each(function() {
            $(this).click(function() {
                var a = $(this).attr("id").replace("nm-", ""),
                b = a.indexOf("-"); - 1 === b ? g = f = a: (g = a.slice(0, b), f = a.slice(b + 1));
                dataLayer.push({
                    event: "nm-click",
                    category: "Main Menu",
                    action: g,
                    label: f
                })
            })
        })
    }
    var b = $(".main-menu li a"),
    c = $(".sub-menu  li a[id^='nm-top']"),
    g = "",
    f = "";
    a(b);
    a(c)
}
$(document).ready(function() {
    setElementIdMenuTracker()
}); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.sociallocker || (a.onepress.sociallocker = {});
    a.onepress.sociallocker.lang || (a.onepress.sociallocker.lang = {});
    a.onepress.data || (a.onepress.data = {});
    a.onepress.sociallocker.lang = {
        defaultHeader: "This content is locked!",
        defaultMessage: "Please support us, use one of the buttons below to unlock the content.",
        orWait: "or wait",
        seconds: "s",
        close: "Close",
        error: "error",
        unableToLoadSDK: "Unable to load SDK script for {0}. Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.",
        unableToCreateButton: "Unable to create the button ({0}). Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.",
        emptyVKAppIdError: "Please set your VKontakte App ID.",
        emptyVKGroupIdError: "Please set your VKontakte Group ID that users should subscribe to.",
        invalidVKGroupIdError: "Please check your VKontakte Group ID. It seems the given group does not exist.",
        emptyFBAppIdError: "Please set your Facebook App ID.",
        emptyTwitterFollowUrlError: "Please set an URL of your Twitter profile.",
        googleClientIdMissed: "The Google Client ID not set. You need to generate a client ID before using the button.",
        youtubeChannelIdMissed: "The Youtube Channel ID not set. You need to get him in your account.",
        facebook_like: "like us",
        facebook_share: "share",
        twitter_tweet: "tweet",
        twitter_follow: "follow us on twitter",
        google_plus: "+1 us",
        google_share: "share",
        google_youtube: "Youtube",
        linkedin_share: "share"
    };
    a.onepress.sociallocker.presets || (a.onepress.sociallocker.presets = {});
    a.onepress.sociallocker.presets.starter = {
        buttons: {
            layout: "horizontal",
            counter: !0
        },
        effects: {
            flip: !1
        }
    };
    a.onepress.sociallocker.presets.secrets = {
        buttons: {
            layout: "horizontal",
            counter: !0
        },
        effects: {
            flip: !0
        }
    };
    a.onepress.sociallocker.presets.dandyish = {
        buttons: {
            layout: "vertical",
            counter: !0,
            unsupported: ["twitter-follow"]
        },
        effects: {
            flip: !1
        }
    };
    a.onepress.sociallocker.presets.glass = {
        _iPhoneBug: !1,
        buttons: {
            layout: "horizontal",
            counter: !0
        },
        effects: {
            flip: !1
        }
    };
    a.onepress.sociallocker.presets.flat = {
        buttons: {
            layout: "horizontal",
            counter: !0
        },
        effects: {
            flip: !0
        }
    }
})(jQuery); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.sdk || (a.onepress.sdk = {});
    a.onepress.sdk.facebook = a.onepress.sdk.facebook || {
        name: "facebook",
        url1: "//connect.facebook.net/{lang}/all.js",
        url2: "//connect.facebook.net/{lang}/sdk.js",
        scriptId: "facebook-jssdk",
        timeout: 1E4,
        isLoaded: function() {
            return "object" === typeof window.FB
        },
        prepare: function() {
            0 === a("#fb-root").length && a("<div id='fb-root'></div>").appendTo(a("body"));
            var b = this.options && this.options.lang || "en_US";
            this.url1 = this.url1.replace("{lang}", b);
            this.url2 = this.url2.replace("{lang}", b);
            this.url = "v1.0" === this.options.version ? this.url1: this.url2
        },
        createEvents: function() {
            var b = this,
            c = function() {
                window.FB.init({
                    appId: b.options && b.options.appId || null,
                    status: !0,
                    cookie: !0,
                    xfbml: !0,
                    version: b.options.version
                });
                window.FB.Event.subscribe("edge.create",
                function(b) {
                    a(document).trigger("onp-sl-facebook-like", [b])
                });
                window.FB.init = function() {};
                a(document).trigger(b.name + "-init")
            };
            if (this.isLoaded()) c();
            else {
                if (window.fbAsyncInit) var g = window.fbAsyncInit;
                window.fbAsyncInit = function() {
                    c();
                    g && g();
                    window.fbAsyncInit = function() {}
                }
            }
        }
    }
})(jQuery); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.sdk || (a.onepress.sdk = {});
    a.onepress.sdk.twitter = a.onepress.sdk.twitter || {
        name: "twitter",
        url: "//platform.twitter.com/widgets.js",
        scriptId: "twitter-wjs",
        timeout: 1E4,
        isLoaded: function() {
            return "undefined" !== typeof window.__twttrlr
        },
        createEvents: function() {
            var b = this,
            c = function() {
                a(document).trigger(b.name + "-init")
            };
            this.isLoaded() ? c() : (window.twttr || (window.twttr = {}), window.twttr.ready || (window.twttr = a.extend(window.twttr, {
                _e: [],
                ready: function(a) {
                    this._e.push(a)
                }
            })), twttr.ready(function() {
                c()
            }))
        },
        prepare: function() {
            var b = function(b) {
                if ((b || b.data) && "string" === typeof b.data) {
                    if ( - 1 !== b.data.indexOf(':["tweet"')) return a(document).trigger("onp-sl-twitter-tweet");
                    if ( - 1 !== b.data.indexOf(':["follow"')) return a(document).trigger("onp-sl-twitter-follow")
                }
            };
            window.addEventListener ? window.addEventListener("message", b, !1) : window.attachEvent("onmessage", b)
        }
    }
})(jQuery); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.sdk || (a.onepress.sdk = {});
    a.onepress.sdk.google = a.onepress.sdk.google || {
        name: "google",
        url: "//apis.google.com/js/plusone.js",
        scriptId: "google-jssdk",
        timeout: 1E4,
        isLoaded: function() {
            return "object" === typeof window.gapi
        },
        prepare: function() {
            var b = this.options && this.options.lang || "en";
            window.___gcfg = window.___gcfg || {
                lang: b
            };
            window.onepressPlusOneCallback = function(b) {
                "on" === b.state && a(document).trigger("onp-sl-google-plus", [b.href])
            };
            window.onepressGoogleShareStartInteraction = function(b) {
                a.onepress.data.__googleShareUrl = b.id
            };
            a.onepress.tools.isTabletOrMobile() || (b = function(b) {
                if ((b || b.data) && "string" === typeof b.data && -1 !== b.data.indexOf("::_g_wasClosed")) return a(document).trigger("onp-sl-google-share")
            },
            window.addEventListener ? window.addEventListener("message", b, !1) : window.attachEvent("onmessage", b))
        }
    }
})(jQuery); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.sdk || (a.onepress.sdk = {});
    a.onepress.sdk.linkedin = a.onepress.sdk.linkedin || {
        name: "linkedin",
        url: "//platform.linkedin.com/in.js",
        scriptId: "linkedin-jssdk",
        timeout: 1E4,
        isLoaded: function() {
            return "object" === typeof window.IN
        },
        prepare: function() {
            window.onepressLinkedInShareCallback = function(b) {
                a(document).trigger("onp-sl-linkedin-share", [b])
            };
            var b = window.open;
            window.open = function(c, g, f) {
                c = b(c, g, f);
                if (!c) return c;
                g = g || c.name;
                if (!g || "easyXDM_IN" !== g.substring(0, 10)) return c;
                a.onepress.sdk.linkedin._activePopup = c
            }
        }
    }
})(jQuery); (function(a) {
    a.onepress.sociallocker.google || (a.onepress.sociallocker.google = {});
    a.onepress.sociallocker.google.youtube = {
        _idx: 0,
        getVerificationData: function() {
            return {
                container: ".onp-button-loaded",
                timeout: 15E3
            }
        },
        create: function(b, c, g) {
            var f = {
                googleClientOAuth: !1,
                _defaults: {
                    clientId: null,
                    channelId: null,
                    layout: "default",
                    counter: 1
                },
                _create: function() {
                    a.onepress.sociallocker.google.youtube._idx++;
                    this._idx = a.onepress.sociallocker.google.youtube._idx;
                    this._prepareOptions();
                    this.options.clientId ? this.options.channelId ? (this._createButton(), this._setupEvents(), this._youtubeApiConnect(), a.onepress.connector.connect("googleClient", this.options,
                    function() {})) : g.setButtonError(this.element, a.onepress.sociallocker.lang.youtubeChannelIdMissed) : g.setButtonError(this.element, a.onepress.sociallocker.lang.googleClientIdMissed)
                },
                _prepareOptions: function() {
                    var b = a.extend({},
                    this._defaults);
                    this.options = a.extend(b, this.options);
                    this.url = URL.normalize(this.options.url || window.location.href);
                    this.scopes = "https://www.googleapis.com/auth/youtube"
                },
                _setupEvents: function() {
                    var b = this;
                    a(document).bind("google-client-script-loaded",
                    function() {
                        gapi.auth.init(function() {
                            window.setTimeout(function() {
                                b._checkAuthorize()
                            },
                            1)
                        })
                    });
                    b.pseudoYoutubeButton.on("click",
                    function() {
                        b.googleClientOAuth ? b._authorize(!1,
                        function(a) {
                            b._subscribe(a)
                        }) : b._subscribe()
                    });
                    a(document).bind("youtube-finish-subscribe",
                    function() {
                        b.options.unlock("button")
                    });
                    window["getYoutubeChannelSubscribers_" + b._idx] = function(a) { (a = a.entry.yt$statistics.subscriberCount) || (a = 0);
                        b.youtubeButtonCounter.text(b._minimalizeLongInt(a))
                    }
                },
                _authorize: function(a, b) {
                    gapi.auth.authorize({
                        client_id: this.options.clientId,
                        scope: this.scopes,
                        immediate: a
                    },
                    b)
                },
                _checkAuthorize: function() {
                    var a = this;
                    this._authorize(!0,
                    function(b) {
                        a._handleResult(b)
                    })
                },
                _handleResult: function(a) {
                    this._unlockLoadingState();
                    "immediate_failed" === a.error && (this.googleClientOAuth = !0)
                },
                _subscribe: function() {
                    var b = this;
                    gapi.client.load("youtube", "v3",
                    function() {
                        gapi.client.youtube.subscriptions.insert({
                            part: "snippet",
                            resource: {
                                snippet: {
                                    resourceId: {
                                        kind: "youtube#channel",
                                        channelId: b.options.channelId
                                    }
                                }
                            }
                        }).execute(function(b) {
                            b.error && "subscriptionDuplicate" != b.error.data[0].reason || a(document).trigger("youtube-finish-subscribe")
                        })
                    })
                },
                _unlockLoadingState: function() {
                    this.button.addClass("onp-button-loaded")
                },
                _youtubeApiConnect: function() {
                    a.getScript("https://gdata.youtube.com/feeds/api/users/" + this.options.channelId + "?alt=json-in-script&callback=getYoutubeChannelSubscribers_" + this._idx + "&v=2")
                },
                _minimalizeLongInt: function(a) {
                    return 999 < a ? "999+": a
                },
                _createButton: function() {
                    this.button = a("<div></div>");
                    this.wrap = a("<div class='onp-social-button onp-youtube-button onp-youtube-subscribe-button'></div>").appendTo(this.element).append(this.button);
                    this.pseudoYoutubeButton = a('<div class="onp-pseudo-youtube-subscribe-button"><i class="onp-youtube-btn-icon"></i> Youtube</div>');
                    this.youtubeButtonCounter = a('<div class="onp-youtube-subscribe-counter"></div>');
                    this.button.append(this.pseudoYoutubeButton);
                    this.button.append(this.youtubeButtonCounter);
                    this.options.counter && this.youtubeButtonCounter.css("display", "inline-block")
                }
            };
            f.element = b;
            f.options = c;
            f._create();
            return f
        }
    }
})(jQuery); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.sdk || (a.onepress.sdk = {});
    a.onepress.sdk.googleClient = a.onepress.sdk.googleClient || {
        name: "googleClient",
        url: "//apis.google.com/js/client:platform.js?onload=OnpSL_GoogleClient_Callback",
        scriptId: "google-client-jssdk",
        timeout: 1E4,
        isLoaded: function() {
            return window.gapi && "object" === typeof window.gapi.auth
        },
        prepare: function() {
            window.OnpSL_GoogleClient_Callback = function() {
                a(document).trigger("google-client-script-loaded")
            }
        }
    }
})(jQuery); (function(a) {
    a.onepress.sociallocker.facebook || (a.onepress.sociallocker.facebook = {});
    a.onepress.sociallocker.facebook.like = {
        create: function(b, c) {
            var g = {
                _defaults: {
                    url: null,
                    appId: 0,
                    lang: "en_US",
                    layout: "standart",
                    width: "auto",
                    verbToDisplay: "like",
                    colorScheme: "light",
                    font: "tahoma",
                    ref: null,
                    count: "standart",
                    unlock: null
                },
                getUrlToLike: function() {
                    return this.url
                },
                _create: function() {
                    var b = this;
                    this._prepareOptions();
                    this._setupEvents();
                    this._createButton();
                    a.onepress.connector.connect("facebook", this.options,
                    function() {
                        b.wrap.find(".fake-fb-like").addClass("fb-like");
                        b.wrap.find(".fake-fb-share").addClass("fb-share-button");
                        window.FB.XFBML.parse(b.wrap[0])
                    });
                    return ! 0
                },
                _prepareOptions: function() {
                    var b = a.extend({},
                    this._defaults);
                    this.options = a.extend(b, this.options);
                    this.url = this.options.url
                },
                _setupEvents: function() {
                    var b = this;
                    a(document).bind("onp-sl-facebook-like",
                    function(a, c) {
                        b.options.unlock && b.url === URL.normalize(c) && b.options.unlock("button")
                    })
                },
                _createButton: function() {
                    this.button = a("<div class='fake-fb-like' data-show-faces='false'></div>");
                    this.wrap = a("<div class='onp-social-button onp-facebook-button onp-facebook-like-button'></div>").appendTo(this.element).append(this.button);
                    "none" === this.options.count && this.wrap.addClass("onp-facebook-like-count-none");
                    this.wrap.addClass("onp-facebook-like-" + this.options.lang);
                    this.button.data("facebook-widget", this);
                    this.button.attr("data-show-faces", !1);
                    this.button.attr("data-send", !1);
                    this.options.url && this.button.attr("data-href", this.options.url);
                    this.options.font && this.button.attr("data-font", this.options.font);
                    this.options.colorScheme && this.button.attr("data-colorscheme", this.options.colorScheme);
                    this.options.ref && this.button.attr("data-ref", this.options.ref);
                    this.options.width && this.button.attr("data-width", this.options.width);
                    this.options.layout && this.button.attr("data-layout", this.options.layout);
                    this.options.verbToDisplay && this.button.attr("data-action", this.options.verbToDisplay);
                    this.button.data("url-to-verify", this.url)
                }
            };
            g.element = b;
            g.options = c;
            return ! g._create() ? !1 : g
        }
    }
})(jQuery); (function(a) {
    a.onepress.sociallocker.facebook || (a.onepress.sociallocker.facebook = {});
    a.onepress.sociallocker.facebook.share = {
        create: function(b, c, g) {
            var f = {
                _defaults: {
                    url: null,
                    appId: 0,
                    layout: "button",
                    count: "standart",
                    lang: "en_US",
                    width: "auto",
                    name: null,
                    caption: null,
                    description: null,
                    image: null,
                    unlock: null
                },
                _create: function() {
                    var b = this;
                    this._prepareOptions();
                    if (!this.options.appId) return g.setButtonError(this.element, a.onepress.sociallocker.lang.emptyFBAppIdError),
                    !1;
                    this._setupEvents();
                    this._createButton();
                    a.onepress.connector.connect("facebook", this.options,
                    function() {
                        b.wrap.find(".fake-fb-like").addClass("fb-like");
                        b.wrap.find(".fake-fb-share").addClass("fb-share-button");
                        window.FB.XFBML.parse(b.wrap[0])
                    });
                    return ! 0
                },
                _prepareOptions: function() {
                    var b = a.extend({},
                    this._defaults);
                    this.options = a.extend(b, this.options);
                    this.url = URL.normalize(this.options.url || window.location.href)
                },
                _setupEvents: function() {
                    var b = this;
                    a(document).bind("onp-sl-facebook-share",
                    function(a, c) {
                        b.options.unlock && b.url === URL.normalize(c) && b.options.unlock("button")
                    })
                },
                _createButton: function() {
                    var b = this,
                    b = this;
                    this.button = a("<div class='fake-fb-share' data-show-faces='false'></div>");
                    this.wrap = a("<div class='onp-social-button onp-facebook-button onp-facebook-share-button'></div>").appendTo(this.element).append(this.button);
                    "none" === this.options.count && this.wrap.addClass("onp-facebook-share-count-none");
                    this.wrap.addClass("onp-facebook-share-" + this.options.lang);
                    this.button.data("facebook-widget", this);
                    this.options.url && this.button.attr("data-href", this.options.url);
                    this.options.width && this.button.attr("data-width", this.options.width);
                    this.options.layout && (this.button.attr("data-layout", this.options.layout), this.button.attr("data-type", this.options.layout));
                    a("<div class='onp-facebook-share-button-overlay'></div>").appendTo(this.wrap).click(function() {
                        FB.ui({
                            method: "feed",
                            name: b.options.name,
                            link: b.url,
                            picture: b.options.image,
                            caption: b.options.caption,
                            description: b.options.description
                        },
                        function(c) {
                            c && c.post_id && a(document).trigger("onp-sl-facebook-share", [b.url])
                        });
                        return ! 1
                    })
                }
            };
            f.element = b;
            f.options = c;
            return ! f._create() ? !1 : f
        }
    }
})(jQuery); (function(a) {
    a.onepress.sociallocker.twitter || (a.onepress.sociallocker.twitter = {});
    a.onepress.sociallocker.twitter.button = {
        create: function(b, c, g) {
            var f = {
                _defaults: {
                    url: null,
                    type: null,
                    text: null,
                    via: null,
                    showScreenName: !1,
                    related: null,
                    count: "horizontal",
                    showCount: !0,
                    lang: "en",
                    counturl: null,
                    size: "large",
                    unlock: null
                },
                _create: function() {
                    var b = this;
                    this._prepareOptions();
                    if ("follow" === this.options.type && (!this.options.url || -1 === this.options.url.indexOf("twitter"))) return g.setButtonError(this.element, a.onepress.sociallocker.lang.emptyTwitterFollowUrlError),
                    !1;
                    this._setupEvents();
                    this._createButton();
                    a.onepress.connector.connect("twitter", this.options,
                    function() {
                        var a = b.wrap,
                        c = 5,
                        f = function() {
                            0 < a.find("iframe").length || (window.twttr.widgets && window.twttr.widgets.load ? (window.twttr.widgets.load(a[0]), b.element.trigger("tw-render")) : 0 >= c || (c--, setTimeout(function() {
                                f()
                            },
                            1E3)))
                        };
                        f()
                    });
                    return ! 0
                },
                _prepareOptions: function() {
                    var b = a.extend({},
                    this._defaults),
                    c;
                    for (c in this._defaults) void 0 !== this.element.data(c) && (b[c] = this.element.data(c));
                    this.options = a.extend(b, this.options); ! this.options.url && 0 < a("link[rel='canonical']").length && (this.options.url = a("link[rel='canonical']").attr("href"));
                    this.url = URL.normalize(this.options.url);
                    "tweet" == this.options.type && !this.options.text && (b = a("title"), 0 < b.length && (this.options.text = b.text()), this.options.text = this.options.text.replace(/\|/g, "-"))
                },
                _setupEvents: function() {
                    var b = this;
                    a(document).bind("onp-sl-twitter-tweet",
                    function() {
                        b.url === a.onepress.data.__tweetedUrl && (a.onepress.data.__tweetWindow && a.onepress.data.__tweetWindow.close && a.onepress.data.__tweetWindow.close(), a.onepress.data.__tweetWindow = null, b.options.unlock && b.options.unlock("button"))
                    });
                    a(document).bind("onp-sl-twitter-follow",
                    function() {
                        b.url === a.onepress.data.__followedUrl && (a.onepress.data.__followWindow && a.onepress.data.__followWindow.close && a.onepress.data.__followWindow.close(), a.onepress.data.__followWindow = null, b.options.unlock && b.options.unlock("button"))
                    })
                },
                _createButton: function() {
                    var b = this;
                    this.button = a("<a href='https://twitter.com/share'></a>");
                    this.button.data("twitter-widget", this);
                    this.wrap = a("<div class='onp-social-button onp-twitter-button'></div>").appendTo(this.element);
                    "tweet" === this.options.type && (this.wrap.addClass("onp-twitter-tweet"), this.button.addClass("twitter-share-button"));
                    "follow" === this.options.type && (this.wrap.addClass("onp-twitter-follow"), this.button.addClass("twitter-follow-button"));
                    "follow" === this.options.type ? this.button.attr("href", this.url) : this.button.attr("data-url", this.url);
                    this.button.attr("data-show-count", this.options.showCount);
                    this.options.via && this.button.attr("data-via", this.options.via);
                    this.options.text && this.button.attr("data-text", this.options.text);
                    this.options.related && this.button.attr("data-related", this.options.related);
                    this.options.count && this.button.attr("data-count", this.options.count);
                    this.options.showCount && this.button.attr("data-show-count", this.options.showCount);
                    this.options.lang && this.button.attr("data-lang", this.options.lang);
                    this.options.counturl && this.button.attr("data-counturl", this.options.counturl);
                    this.options.hashtags && this.button.attr("data-hashtags", this.options.hashtags);
                    this.options.alignment && this.button.attr("data-alignment", this.options.alignment);
                    this.options.size && this.button.attr("data-size", this.options.size);
                    this.options.dnt && this.button.attr("data-dnt", this.options.dnt);
                    this.options.showScreenName && this.button.attr("data-show-screen-name", this.options.showScreenName);
                    var c = a("<div class='onp-sl-feature-overlay'></div>").appendTo(this.wrap);
                    "tweet" === this.options.type ? c.click(function() {
                        var c = [];
                        if (b.options.text) {
                            var f = encodeURI(b.options.text),
                            f = f.replace(/#/g, "%23");
                            c.push(["text", f])
                        }
                        b.options.hashtags && c.push(["hashtags", b.options.hashtags]);
                        b.options.via && c.push(["via", b.options.via]);
                        b.options.related && c.push(["via", b.options.related]);
                        c.push(["url", b.url]);
                        a.onepress.data.__tweetedUrl = b.url;
                        var c = URL().scheme("http").host("twitter.com").path("/intent/tweet").query(c),
                        f = screen.width ? screen.width / 2 - 350 + a.onepress.tools.findLeftWindowBoundry() : 0,
                        g = screen.height ? screen.height / 2 - 225 + a.onepress.tools.findTopWindowBoundry() : 0;
                        a.onepress.data.__tweetWindow = window.open(c, "TwitterTweetWindow", "width=550,height=420,left=" + f + ",top=" + g);
                        setTimeout(function() {
                            var c = setInterval(function() {
                                if (!a.onepress.data.__tweetWindow || !1 !== a.onepress.data.__tweetWindow.closed) clearInterval(c),
                                a(document).trigger("onp-sl-twitter-tweet", [b.url])
                            },
                            200)
                        },
                        200);
                        return ! 1
                    }) : c.click(function() {
                        var c = [];
                        a.onepress.data.__followedUrl = b.url;
                        var f = b.url.split("/");
                        c.push(["screen_name", f[f.length - 1]]);
                        var c = URL().scheme("http").host("twitter.com").path("/intent/follow").query(c),
                        f = screen.width ? screen.width / 2 - 350 + a.onepress.tools.findLeftWindowBoundry() : 0,
                        g = screen.height ? screen.height / 2 - 225 + a.onepress.tools.findTopWindowBoundry() : 0;
                        a.onepress.data.__followWindow = window.open(c, "TwitterFollowWindow", "width=550,height=530,left=" + f + ",top=" + g);
                        return ! 1
                    });
                    this.wrap.attr("data-url-to-compare", this.url);
                    this.wrap.append(this.button)
                }
            };
            f.element = b;
            f.options = c;
            return ! f._create() ? !1 : f
        }
    };
    a.onepress.sociallocker.twitter.tweet = a.extend({},
    a.onepress.sociallocker.twitter.button);
    a.onepress.sociallocker.twitter.tweet.create = function(b, c, g) {
        c.type = "tweet";
        return a.onepress.sociallocker.twitter.button.create(b, c, g)
    };
    a.onepress.sociallocker.twitter.follow = a.extend({},
    a.onepress.sociallocker.twitter.button);
    a.onepress.sociallocker.twitter.follow.create = function(b, c, g) {
        c.type = "follow";
        return a.onepress.sociallocker.twitter.button.create(b, c, g)
    }
})(jQuery); (function(a) {
    a.onepress.sociallocker.google || (a.onepress.sociallocker.google = {});
    a.onepress.sociallocker.google.button = {
        create: function(b, c) {
            var g = {
                _defaults: {
                    url: null,
                    type: null,
                    lang: "en-US",
                    size: null,
                    annotation: null,
                    width: null,
                    align: "left",
                    expandTo: "",
                    recommendations: !0,
                    unlock: null
                },
                _initShareCounts: 0,
                _create: function() {
                    var b = this;
                    this._prepareOptions();
                    this._setupEvents();
                    this._createButton();
                    a.onepress.connector.connect("google", this.options,
                    function() {
                        setTimeout(function() {
                            var a = b.wrap,
                            c = a.find(".fake-g-plusone");
                            0 < c.length ? (b._addCallbackToControl(a), c.addClass("g-plusone"), window.gapi.plusone.go(a[0])) : (c = a.find(".fake-g-share"), 0 < c.length && (c.attr("data-onstartinteraction", "onepressGoogleShareStartInteraction"), c.attr("data-onendinteraction", "onepressGoogleShareEndInteraction"), c.addClass("g-plus").attr("data-action", "share"), window.gapi.plus.go(a[0])))
                        },
                        100)
                    });
                    return ! 0
                },
                _prepareOptions: function() {
                    var b = a.extend({},
                    this._defaults);
                    this.options = a.extend(b, this.options);
                    this.url = URL.normalize(this.options.url || window.location.href)
                },
                _setupEvents: function() {
                    var b = this;
                    "plus" === this.options.type && a(document).bind("onp-sl-google-plus",
                    function(c, g) {
                        a(".gc-bubbleDefault").hide();
                        b.options.unlock && b.url == URL.normalize(g) && b.options.unlock("button")
                    });
                    "share" === this.options.type && a(document).bind("onp-sl-google-share",
                    function(c, g) {
                        b.url === URL.normalize(g || a.onepress.data.__googleShareUrl) && b.options.unlock("button")
                    })
                },
                _createButton: function() {
                    var b = this;
                    this.button = "plus" == this.options.type ? a("<div class='fake-g-plusone'></div>") : a("<div class='fake-g-share'></div>");
                    this.wrap = a("<div class='onp-social-button onp-google-button'></div>").appendTo(this.element).append(this.button);
                    this.button.data("google-widget", this);
                    this.options.url && this.button.attr("data-href", this.options.url);
                    this.options.size && this.button.attr("data-size", this.options.size);
                    this.options.annotation && this.button.attr("data-annotation", this.options.annotation);
                    this.options.align && this.button.attr("data-align", this.options.align);
                    this.options.expandTo && this.button.attr("data-expandTo", this.options.expandTo);
                    this.options.recommendations && this.button.attr("data-recommendations", this.options.recommendations);
                    a.onepress.tools.isTabletOrMobile() && a("<div class='onp-sl-feature-overlay'></div>").appendTo(this.wrap).click(function() {
                        var c = [];
                        c.push(["url", b.url]);
                        var c = URL().scheme("https").host("plus.google.com").path("/share").query(c),
                        g = screen.width ? screen.width / 2 - 350 + a.onepress.tools.findLeftWindowBoundry() : 0,
                        k = screen.height ? screen.height / 2 - 225 + a.onepress.tools.findTopWindowBoundry() : 0,
                        m = window.open(c, "GoogleShareWindow", "width=550,height=420,left=" + g + ",top=" + k);
                        setTimeout(function() {
                            var c = setInterval(function() {
                                if (!m || !1 !== m.closed) clearInterval(c),
                                a(document).trigger("onp-sl-google-share", [b.url])
                            },
                            200)
                        },
                        200);
                        return ! 1
                    })
                },
                _addCallbackToControl: function(a) {
                    var a = !a.is(".g-plusone") ? a.find(".fake-g-plusone") : a,
                    b = a.attr("data-callback");
                    if (b && "onepressPlusOneCallback" !== b) {
                        var c = "__plusone_" + b;
                        window[c] = function(a) {
                            window[b](a);
                            window.onepressPlusOneCallback(a)
                        };
                        a.attr("data-callback", c)
                    } else a.attr("data-callback", "onepressPlusOneCallback")
                }
            };
            g.element = b;
            g.options = c;
            return ! g._create() ? !1 : g
        }
    };
    a.onepress.sociallocker.google.plus = a.extend({},
    a.onepress.sociallocker.google.button);
    a.onepress.sociallocker.google.plus.create = function(b, c) {
        c.type = "plus";
        return a.onepress.sociallocker.google.button.create(b, c)
    };
    a.onepress.sociallocker.google.share = a.extend({},
    a.onepress.sociallocker.google.button);
    a.onepress.sociallocker.google.share.create = function(b, c) {
        c.type = "share";
        return a.onepress.sociallocker.google.button.create(b, c)
    }
})(jQuery); (function(a) {
    a.onepress.sociallocker.linkedin || (a.onepress.sociallocker.linkedin = {});
    a.onepress.sociallocker.linkedin.share = {
        getVerificationData: function() {
            return {
                container: ".IN-widget",
                timeout: 5E3
            }
        },
        create: function(b, c) {
            var g = {
                _defaults: {
                    url: null,
                    counter: "right",
                    unlock: null
                },
                _create: function() {
                    var b = this;
                    this._prepareOptions();
                    this._setupEvents();
                    this._createButton();
                    a.onepress.connector.connect("linkedin", this.options,
                    function() {
                        IN.init();
                        IN.parse && IN.parse(b.element[0])
                    });
                    return ! 0
                },
                _prepareOptions: function() {
                    var b = a.extend({},
                    this._defaults),
                    c;
                    for (c in this._defaults) void 0 !== this.element.data(c) && (b[c] = this.element.data(c));
                    this.options = a.extend(b, this.options);
                    this.url = URL.normalize(this.options.url || window.location.href)
                },
                _setupEvents: function() {
                    var b = this;
                    this.element.bind("onp-sl-button-created",
                    function() {
                        b.wrap.find(".IN-widget").click(function() {
                            setTimeout(function() {
                                if (a.onepress.sdk.linkedin._activePopup) {
                                    var c = a.onepress.sdk.linkedin._activePopup;
                                    a.onepress.sdk.linkedin._activePopup = !1;
                                    var g = setInterval(function() {
                                        if (!c || !1 !== c.closed) clearInterval(g),
                                        a(document).trigger("onp-sl-linkedin-share", [b.url])
                                    },
                                    200)
                                }
                            },
                            200)
                        })
                    });
                    a(document).bind("onp-sl-linkedin-share",
                    function(a, c) {
                        b.url === URL.normalize(c) && b.options.unlock && b.options.unlock && b.options.unlock("button")
                    })
                },
                _createButton: function() {
                    this.button = a('<script type="IN/Share" data-onsuccess="onepressLinkedInShareCallback" data-success="onepressLinkedInShareCallback" data-onSuccess="onepressLinkedInShareCallback"><\/script>');
                    this.options.counter && this.button.attr("data-counter", this.options.counter);
                    this.options.url && this.button.attr("data-url", this.url);
                    this.wrap = a("<div class='onp-social-button onp-linkedin-button'></div>").appendTo(this.element).append(this.button)
                }
            };
            g.element = b;
            g.options = c;
            return ! g._create() ? !1 : g
        }
    }
})(jQuery); (function(a) {
    a.onepress.sociallocker || (a.onepress.sociallocker = {});
    a.onepress.sociallocker.registerButton = a.onepress.sociallocker.registerButton ||
    function(b, c) {
        if (c) {
            var g = b.split("-"),
            f = 2 === g.length ? g[0] : null,
            g = 2 === g.length ? g[1] : g[0];
            f ? a.onepress.sociallocker.lang[f + "_" + g] = c: a.onepress.sociallocker.lang[g] = c
        }
    }
})(jQuery); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.tools || (a.onepress.tools = {});
    a.onepress.tools.cookie = a.onepress.tools.cookie ||
    function(b, c, g) {
        if (1 < arguments.length && (!/Object/.test(Object.prototype.toString.call(c)) || null === c || void 0 === c)) {
            g = a.extend({},
            g);
            if (null === c || void 0 === c) g.expires = -1;
            if ("number" === typeof g.expires) {
                var f = g.expires,
                h = g.expires = new Date;
                h.setDate(h.getDate() + f)
            }
            c = String(c);
            return document.cookie = [encodeURIComponent(b), "=", g.raw ? c: encodeURIComponent(c), g.expires ? "; expires=" + g.expires.toUTCString() : "", g.path ? "; path=" + g.path: "", g.domain ? "; domain=" + g.domain: "", g.secure ? "; secure": ""].join("")
        }
        for (var g = c || {},
        f = g.raw ?
        function(a) {
            return a
        }: decodeURIComponent, h = document.cookie.split("; "), j = 0, k; k = h[j] && h[j].split("="); j++) if (f(k[0]) === b) return f(k[1] || "");
        return null
    };
    a.onepress.tools.hash = a.onepress.tools.hash ||
    function(a) {
        var c = 0;
        if (!a || 0 === a.length) return c;
        for (var g = 0; g < a.length; g++) var f = a.charCodeAt(g),
        c = (c << 5) - c + f,
        c = c & c;
        c = c.toString(16);
        return c = c.replace("-", "0")
    };
    a.onepress.tools.has3d = a.onepress.tools.has3d ||
    function() {
        var a = document.createElement("p"),
        c,
        g = {
            WebkitTransform: "-webkit-transform",
            OTransform: "-o-transform",
            MSTransform: "-ms-transform",
            MozTransform: "-moz-transform",
            Transform: "transform"
        };
        document.body.insertBefore(a, null);
        for (var f in g) void 0 !== a.style[f] && (a.style[f] = "translate3d(1px,1px,1px)", c = window.getComputedStyle(a).getPropertyValue(g[f]));
        document.body.removeChild(a);
        return void 0 !== c && 0 < c.length && "none" !== c
    };
    a.onepress.tools.canBlur = a.onepress.tools.canBlur ||
    function() {
        var a = document.createElement("div");
        a.style.cssText = _browserPrefixes.join("filter:blur(2px); ");
        if (a = !!a.style.length && (void 0 === document.documentMode || 9 < document.documentMode)) return ! 0;
        try {
            a = void 0 !== typeof SVGFEColorMatrixElement && 2 == SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE
        } catch(c) {}
        return a
    };
    a.onepress.isTouch = a.onepress.isTouch ||
    function() {
        return !! ("ontouchstart" in window) || !!("onmsgesturechange" in window)
    };
    a.onepress.widget = function(b, c) {
        var g = {
            createWidget: function(f, g) {
                var j = a.extend(!0, {},
                c);
                j.element = a(f);
                j.options = a.extend(!0, j.options, g);
                j._init && j._init();
                j._create && j._create();
                a.data(f, "plugin_" + b, j)
            },
            callMethod: function(a, b) {
                return a[b] && a[b]()
            }
        };
        a.fn[b] = function() {
            var c = arguments,
            h = arguments.length,
            j = this;
            this.each(function() {
                var k = a.data(this, "plugin_" + b); ! k && 1 >= h ? g.createWidget(this, h ? c[0] : !1) : 1 == h && (j = g.callMethod(k, c[0]))
            });
            return j
        }
    };
    a.onepress.detectBrowser = a.onepress.detectBrowser ||
    function() {
        var b = (jQuery.uaMatch ||
        function(a) {
            a = a.toLowerCase();
            a = /(chrome)[ \/]([\w.]+)/.exec(a) || /(webkit)[ \/]([\w.]+)/.exec(a) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a) || /(msie) ([\w.]+)/.exec(a) || 0 > a.indexOf("compatible") && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a) || [];
            return {
                browser: a[1] || "",
                version: a[2] || "0"
            }
        })(navigator.userAgent);
        a.onepress.browser = {};
        b.browser && (a.onepress.browser[b.browser] = !0, a.onepress.browser.version = b.version);
        b = -1;
        if ("Microsoft Internet Explorer" == navigator.appName) {
            var c = navigator.userAgent,
            g = /MSIE ([0-9]{1,}[.0-9]{0,})/;
            null != g.exec(c) && (b = parseFloat(RegExp.$1))
        } else "Netscape" == navigator.appName && (c = navigator.userAgent, g = /Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/, null != g.exec(c) && (b = parseFloat(RegExp.$1)));
        0 < b && (a.onepress.browser.msie = !0, a.onepress.browser.version = b);
        a.onepress.browser.chrome ? a.onepress.browser.webkit = !0 : a.onepress.browser.webkit && (a.onepress.browser.safari = !0)
    };
    a.onepress.tools.getCurrentHost = a.onepress.tools.getCurrentHost ||
    function() {
        return document.domain
    };
    a.onepress.tools.isTabletOrMobile = function() {
        return /webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent) ? !0 : !1
    };
    a.onepress.tools.findLeftWindowBoundry = function() {
        return window.screenLeft ? window.screenLeft: window.screenX ? window.screenX: 0
    };
    a.onepress.tools.findTopWindowBoundry = function() {
        return window.screenTop ? window.screenTop: window.screenY ? window.screenY: 0
    };
    a.onepress.detectBrowser()
})(jQuery);
var URL = function() {
    var a = this;
    if (!a || !(a.hasOwnProperty && a instanceof URL)) a = new URL;
    return a._init.apply(a, arguments)
}; (function() {
    var a = /^(?:(https?:\/\/|\/\/)|(\/|\?|#)|[^;:@=\.\s])/i,
    b = /^(?:(https?):\/\/|\/\/)(?:([^:@\s]+:?[^:@\s]+?)@)?((?:[^;:@=\/\?\.\s]+\.)+[A-Za-z0-9\-]{2,})(?::(\d+))?(?=\/|\?|#|$)([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,
    c = /^([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,
    g = /^\s+|\s+$/g,
    f, h;
    f = String.prototype.trim ?
    function(a) {
        return a && a.trim ? a.trim() : a
    }: function(a) {
        try {
            return a.replace(g, "")
        } catch(b) {
            return a
        }
    };
    h = function(a) {
        return "string" === typeof a
    };
    URL.ABSOLUTE = "absolute";
    URL.RELATIVE = "relative";
    URL.normalize = function(a) {
        return (new URL(a)).toString()
    };
    URL.resolve = function(a, b) {
        return (new URL(a)).resolve(b).toString()
    };
    URL.prototype = {
        _init: function(a) {
            this.constructor = URL;
            this._original = a = h(a) ? a: a instanceof URL ? a.toString() : null;
            this._url = {};
            this._isValid = this._parse(a);
            return this
        },
        toString: function() {
            var a = this._url,
            b = [],
            c = a.scheme,
            f = a.path,
            g = a.query,
            h = a.fragment;
            "absolute" === a.type && (b.push(c ? c + "://": "//", this.authority()), f && 0 !== f.indexOf("/") && (f = "/" + f));
            b.push(f, g ? "?" + this.queryString() : "", h ? "#" + h: "");
            return b.join("")
        },
        original: function() {
            return this._original
        },
        isValid: function() {
            return this._isValid
        },
        isAbsolute: function() {
            return "absolute" === this._url.type
        },
        isRelative: function() {
            return "relative" === this._url.type
        },
        isHostRelative: function() {
            var a = this._url.path;
            return this.isRelative() && a && 0 === a.indexOf("/")
        },
        type: function() {
            return this._url.type
        },
        scheme: function(a) {
            return arguments.length ? this._set("scheme", a) : this._url.scheme
        },
        userInfo: function(a) {
            return arguments.length ? this._set("userInfo", a) : this._url.userInfo
        },
        host: function(a) {
            return arguments.length ? this._set("host", a) : this._url.host
        },
        domain: function() {
            var a = this._url.host;
            return a ? a.split(".").slice( - 2).join(".") : void 0
        },
        port: function(a) {
            return arguments.length ? this._set("port", a) : this._url.port
        },
        authority: function() {
            var a = this._url,
            b = a.userInfo,
            c = a.port;
            return [b ? b + "@": "", a.host, c ? ":" + c: ""].join("")
        },
        path: function(a) {
            return arguments.length ? this._set("path", a) : this._url.path
        },
        query: function(a) {
            return arguments.length ? this._set("query", a) : this._url.query
        },
        queryString: function(a) {
            if (arguments.length) return this._set("query", this._parseQuery(a));
            var a = "",
            b = this._url.query,
            c, f;
            if (b) {
                c = 0;
                for (f = b.length; c < f; c++) a += b[c].join("="),
                c < f - 1 && (a += "&")
            }
            return a
        },
        fragment: function(a) {
            return arguments.length ? this._set("fragment", a) : this._url.fragment
        },
        resolve: function(a) {
            var a = a instanceof URL ? a: new URL(a),
            b,
            c;
            if (!this.isValid() || !a.isValid()) return this;
            if (a.isAbsolute()) return this.isAbsolute() ? a.scheme() ? a: (new URL(a)).scheme(this.scheme()) : a;
            b = new URL(this.isAbsolute() ? this: null);
            a.path() ? (c = a.isHostRelative() || !this.path() ? a.path() : this.path().substring(0, this.path().lastIndexOf("/") + 1) + a.path(), b.path(this._normalizePath(c)).query(a.query()).fragment(a.fragment())) : a.query() ? b.query(a.query()).fragment(a.fragment()) : a.fragment() && b.fragment(a.fragment());
            return b
        },
        reduce: function(a) {
            a = a instanceof URL ? a: new URL(a);
            a = this.resolve(a);
            this.isAbsolute() && a.isAbsolute() && a.scheme() === this.scheme() && a.authority() === this.authority() && a.scheme(null).userInfo(null).host(null).port(null);
            return a
        },
        _parse: function(g, k) {
            g = f(g);
            if (! (h(g) && 0 < g.length)) return ! 1;
            var m, q;
            k || (k = (k = g.match(a)) ? k[1] ? "absolute": k[2] ? "relative": null: null);
            switch (k) {
            case "absolute":
                if (m = g.match(b)) q = {
                    type: "absolute"
                },
                q.scheme = m[1] ? m[1].toLowerCase() : void 0,
                q.userInfo = m[2],
                q.host = m[3].toLowerCase(),
                q.port = m[4] ? parseInt(m[4], 10) : void 0,
                q.path = m[5] || "/",
                q.query = this._parseQuery(m[6]),
                q.fragment = m[7];
                break;
            case "relative":
                if (m = g.match(c)) q = {
                    type: "relative"
                },
                q.path = m[1],
                q.query = this._parseQuery(m[2]),
                q.fragment = m[3];
                break;
            default:
                return this._parse(g, "absolute") || this._parse(g, "relative")
            }
            return q ? (this._url = q, !0) : !1
        },
        _parseQuery: function(a) {
            if (h(a)) {
                var a = f(a),
                b = [],
                a = a.split("&"),
                c,
                g,
                r;
                g = 0;
                for (r = a.length; g < r; g++) a[g] && (c = a[g].split("="), b.push(c[1] ? c: [c[0]]));
                return b
            }
        },
        _set: function(a, b) {
            if ((this._url[a] = b) && ("scheme" === a || "userInfo" === a || "host" === a || "port" === a)) this._url.type = "absolute"; ! b && "host" === a && (this._url.type = "relative");
            this._isValid = this._parse(this.toString());
            return this
        },
        _normalizePath: function(a) {
            var b, c, f, g, h;
            if ( - 1 < a.indexOf("../")) {
                b = a.split("/");
                f = [];
                g = 0;
                for (h = b.length; g < h; g++) c = b[g],
                ".." === c ? f.pop() : c && f.push(c);
                b = f.join("/");
                "/" === a[0] && (b = "/" + b);
                "/" === a[a.length - 1] && 1 < b.length && (b += "/")
            } else b = a;
            return b
        }
    }
})(); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.connector = a.onepress.connector || {
        _ready: {},
        _connected: {},
        getSDK: function(b) {
            return a.onepress.sdk[b] ? a.onepress.sdk[b] : null
        },
        isConnected: function(b) {
            if (0 < a("#" + b.scriptId).length) return ! 0;
            var c = !1;
            a("script").each(function() {
                var g = a(this).attr("src");
                if (!g) return ! 0;
                if (c = -1 !== g.indexOf(b.url)) return a(this).attr("id", b.scriptId),
                !1
            });
            return c
        },
        getLoadingScript: function(b) {
            var c = a("#" + b.scriptId),
            b = a("script[src='*" + b.url + "']");
            return 0 < c.length ? c: b
        },
        isLoaded: function(a) {
            return this.isConnected(a) && a.isLoaded && a.isLoaded()
        },
        connect: function(b, c, g) {
            var f = this,
            h = this.getSDK(b);
            if (h) {
                if (h.options = c, g && (this._ready[b] ? g(h) : a(document).bind(b + "-init",
                function() {
                    g(h)
                })), !this._connected[b]) {
                    h.createEvents || (h.createEvents = function() {
                        var b = function() {
                            a(document).trigger(h.name + "-init")
                        };
                        h.isLoaded() ? b() : a(document).bind(h.name + "-script-loaded",
                        function() {
                            b()
                        })
                    });
                    h.prepare && h.prepare();
                    var c = h.isLoaded(),
                    j = this.isConnected(h);
                    a(document).bind(b + "-init",
                    function() {
                        f._ready[b] = !0
                    });
                    h.createEvents();
                    if (!j) {
                        j = document.createElement("script");
                        j.type = "text/javascript";
                        j.id = h.scriptId;
                        j.src = h.url;
                        var k = h.getScriptBody ? h.getScriptBody() : null;
                        k && (j.innerHtml = k);
                        document.getElementsByTagName("body")[0].appendChild(j)
                    }
                    if (!c) {
                        var m = this.getLoadingScript(h)[0];
                        m && (m.onreadystatechange = m.onload = function() {
                            var b = m.readyState;
                            if (!b || /loaded|complete/.test(b)) a(document).trigger(h.name + "-script-loaded"),
                            a(document).unbind(h.name + "-script-loaded")
                        })
                    }
                    this._connected[b] = !0
                }
            } else console && console.log("Invalide SDK name: " + b)
        }
    }
})(jQuery); (function(a) {
    a.onepress || (a.onepress = {});
    a.onepress.providers || (a.onepress.providers = {});
    a.onepress.providers.clientStoreStateProvider = function(b, c, g, f) {
        this.networkName = b;
        this.buttonName = c;
        this.name = b + "-" + c;
        this.demo = f.demo;
        this.useCookies = f.locker.useCookies;
        this.expires = f.locker.expires;
        this.scope = f.locker.scope && "scope_" + f.locker.scope;
        this.url = g;
        this.identity = "page_" + a.onepress.tools.hash(this.url) + "_hash_" + b + "-" + c;
        this.isUnlocked = function() {
            return this.demo ? !1 : this._getValue(this.identity) || this._getValue(this.scope) ? !0 : !1
        };
        this.isLocked = function() {
            return ! this.isUnlocked()
        };
        this.getState = function(a) {
            if (this.demo) return a(!1);
            a(this.isUnlocked())
        };
        this.setState = function(a) {
            if (this.demo) return ! 0;
            try {
                return "unlocked" === a ? this._setValue(this.identity) && this._setValue(this.scope) : this._removeValue(this.identity) && this._setValue(this.scope)
            } catch(b) {
                console && console.log(b)
            }
        };
        this._setValue = function(b) {
            if (!b) return ! 1;
            var c = !0,
            f = 1E4;
            this.expires && (c = (new Date).getTime() + 1E3 * this.expires, f = Math.ceil(this.expires / 86400), c = JSON.stringify({
                expires: c
            }));
            var g = !0;
            if (localStorage && !this.useCookies) {
                g = !1;
                try {
                    localStorage.setItem(b, c)
                } catch(q) {
                    console && console.log(q),
                    g = !0
                }
            }
            g && a.onepress.tools.cookie(b, c, {
                expires: f,
                path: "/"
            });
            return ! 0
        };
        this._getValue = function(b) {
            if (!b) return ! 1;
            var c = localStorage && !this.useCookies && localStorage.getItem(b);
            c || (c = a.onepress.tools.cookie(b));
            if (c) try {
                var f = JSON.parse(c);
                return f && f.expires ? f.expires > new Date: !0
            } catch(g) {
                return ! 0
            }
        };
        this._removeValue = function(b) {
            if (!b) return ! 1;
            localStorage && localStorage.removeItem(b);
            a.onepress.tools.cookie(b, null)
        }
    }
})(jQuery); (function(a, b, c) {
    var g = 0,
    f = " -webkit- -moz- -o- -ms- ".split(" "),
    h = function() {
        var a = b.createElement("div");
        a.style.cssText = f.join("filter:blur(2px); ");
        return !! a.style.length && (void 0 === b.documentMode || 9 < b.documentMode)
    },
    j = function() {
        var a = !1;
        try {
            a = void 0 !== typeof SVGFEColorMatrixElement && 2 == SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE
        } catch(b) {}
        return a
    },
    k = function(f, k) {
        var r = c.extend({
            intensity: 5,
            forceSVGUrl: !1,
            animationOptions: {
                duration: 1E3,
                easing: "linear"
            }
        },
        k),
        p = {},
        l = h(),
        z = j(),
        F = !1,
        w;
        a: if (p.Filter || "" === p.Filter) w = p.Filter + "Filter";
        else {
            var J = b.createElement("div"),
            u = " Moz Webkit O ms Khtml".split(" "),
            C;
            for (C in u) if ("undefined" !== typeof J.style[u[C] + "Filter"]) {
                p.Filter = u[C];
                w = u[C] + "Filter";
                break a
            }
            w = "filter"
        }
        var D, E, y, I = function(a) {
            return b.createElementNS("http://www.w3.org/2000/svg", a)
        };
        this.$elm = f instanceof c ? f: c(f);
        this.init = function() {
            if (z) {
                var a = I("svg"),
                b = I("filter");
                D = I("feGaussianBlur");
                a.setAttribute("style", "position:absolute");
                a.setAttribute("width", "0");
                a.setAttribute("height", "0");
                b.setAttribute("id", "blur-effect-id-" + g);
                b.appendChild(D);
                a.appendChild(b);
                c("body").append(a)
            }
            E = g;
            g++;
            return this
        };
        this.blur = function() {
            var b;
            b = a.location;
            b = r.forceSVGUrl ? b.protocol + "//" + b.host + b.pathname: "";
            l ? b = "blur(" + r.intensity + "px)": z ? (D.setAttribute("stdDeviation", r.intensity), b = "url(" + b + "#blur-effect-id-" + E + ")") : b = "progid:DXImageTransform.Microsoft.Blur(pixelradius=" + r.intensity + ")";
            this.$elm[0].style[w] = b;
            F = !0;
            return this
        };
        this.animate = function(a, b) {
            if ("number" !== typeof a) throw typeof a + " is not a valid number to animate the blur";
            if (0 > a) throw "I can animate only positive numbers";
            var f = new c.Deferred;
            y && y.stop(!0, !0);
            y = (new c.Animation(r, {
                intensity: a
            },
            c.extend(r.animationOptions, b))).progress(c.proxy(this.blur, this)).done(f.resolve);
            return f.promise()
        };
        this.unblur = function() {
            this.$elm.css(w, "none");
            F = !1;
            return this
        };
        this.toggleblur = function() {
            F ? this.unblur() : this.blur();
            return this
        };
        this.destroy = function() {
            z && c("filter#blur-effect-id-" + E).parent().remove();
            this.unblur();
            for (var a in this) delete this[a];
            return this
        };
        return this.init()
    };
    c.fn.Vague = function(a) {
        return new k(this, a)
    };
    c.onepress || (c.onepress = {});
    c.onepress.tools || (c.onepress.tools = {});
    c.onepress.tools.supportBlurring = function(a, b) {
        return "blurring" === b && (c.onepress.browser.msie && 9 < c.onepress.browser.version && 12 > c.onepress.browser.msie || !h() && !j()) ? a: b
    }
})(window, document, jQuery); (function(a) {
    a.fn.sociallocker || (a.onepress.widget("sociallocker", {
        options: {},
        _isLocked: !1,
        _buttonsCount: 0,
        _buttonErrorCounter: 0,
        _defaults: {
            _iPhoneBug: !1,
            url: null,
            text: {
                header: a.onepress.sociallocker.lang.defaultHeader,
                message: a.onepress.sociallocker.lang.defaultMessage
            },
            theme: "starter",
            overlap: {
                mode: "full",
                position: "middle",
                intensity: 5,
                altMode: "transparence"
            },
            cssClass: null,
            demo: !1,
            googleAnalytics: !1,
            buttons: {
                layout: "horizontal",
                order: ["twitter-tweet", "facebook-like", , "google-plus"],
                counter: !0
            },
            locker: {
                off: !1,
                stepByStep: !1,
                close: !1,
                timer: 0,
                mobile: !0,
                expires: !1,
                useCookies: !1,
                scope: !1,
                loadingTimeout: 1E4,
                tumbler: !0,
                tumblerInterval: 500,
                naMode: "show-error"
            },
            content: null,
            events: {
                locked: null,
                unlocked: null
            },
            effects: {
                flip: !1,
                highlight: !0
            },
            triggers: {},
            facebook: {
                url: null,
                version: "v1.0",
                appId: null,
                lang: "en_US",
                colorScheme: "light",
                font: "tahoma",
                ref: null,
                like: {
                    title: a.onepress.sociallocker.lang.facebook_like,
                    theConfirmIssue: !1
                },
                share: {
                    title: a.onepress.sociallocker.lang.facebook_share
                }
            },
            twitter: {
                url: null,
                via: null,
                text: null,
                related: null,
                lang: "en",
                counturl: null,
                tweet: {
                    title: a.onepress.sociallocker.lang.twitter_tweet
                },
                follow: {
                    title: a.onepress.sociallocker.lang.twitter_follow
                }
            },
            google: {
                url: null,
                lang: "en-US",
                annotation: null,
                recommendations: !0,
                plus: {
                    title: a.onepress.sociallocker.lang.google_plus
                },
                share: {
                    title: a.onepress.sociallocker.lang.google_share
                },
                youtube: {
                    clientId: null,
                    channelId: null,
                    layout: "default",
                    counter: 1,
                    title: a.onepress.sociallocker.lang.google_youtube
                }
            },
            linkedin: {
                url: null,
                counter: "right",
                share: {
                    title: a.onepress.sociallocker.lang.linkedin_share
                }
            }
        },
        getState: function() {
            return this._isLocked ? "locked": "unlocked"
        },
        _create: function() {
            var b = this;
            this.events = {
                lock: function(a, c) {
                    b.element.trigger("lock.sociallocker.onp", [a, c])
                },
                unlock: function(c, f, h) {
                    b.element.trigger("unlock.sociallocker.onp", [c, f]);
                    if (b.options.googleAnalytics && (window._gaq || window.ga) && "button" === c) {
                        var j = c = null;
                        "facebook-like" === f ? (j = "Facebook Like", c = "Got a Like on Facebook") : "facebook-share" === f ? (j = "Facebook Share", c = "Shared on Facebook") : "twitter-tweet" === f ? (j = "Twitter Tweet", c = "Shared on Twitter") : "twitter-follow" === f ? (j = "Twitter Follow", c = "Got a Follower on Twitter") : "google-plus" === f ? (j = "Google Plus", c = "Got +1 on Google") : "google-share" === f ? (j = "Google Share", c = "Shared on Google") : "google-youtube" === f && (j = "Google youtube", c = "Subscribed on Yotube");
                        a(document).trigger("onp-sl-filter-google-analytics", [f, j, c]);
                        window.ga ? window.ga("send", "event", "Social Locker (Leakages)", "Unlocked by Social Button", j) : window._gaq.push(["_trackEvent", "Social Locker (Leakages)", "Unlocked by Social Button", j]);
                        window.ga ? window.ga("send", "event", "Social Locker (Activity)", c, h) : window._gaq.push(["_trackEvent", "Social Locker (Activity)", c, h])
                    }
                },
                unlockByClose: function() {
                    b.element.trigger("unlockByClose.sociallocker.onp", []);
                    if (b.options.googleAnalytics && (window._gaq || window.ga)) window.ga ? window.ga("send", "event", "Social Locker (Leakages)", "Unlocked by Close Icon", null) : window._gaq.push(["_trackEvent", "Social Locker (Leakages)", "Unlocked by Close Icon", null])
                },
                unlockByTimer: function() {
                    b.element.trigger("unlockByTimer.sociallocker.onp", []);
                    if (b.options.googleAnalytics && (window._gaq || window.ga)) window.ga ? window.ga("send", "event", "Social Locker (Leakages)", "Unlocked by Timer", null) : window._gaq.push(["_trackEvent", "Social Locker (Leakages)", "Unlocked by Timer", null])
                },
                unlockBySteps: function() {
                    b.element.trigger("unlockBySteps.sociallocker.onp", [])
                },
                notAvailable: function() {
                    b.element.trigger("notAvailable.sociallocker.onp", [])
                }
            };
            this._processOptions();
            a(this).on("sociallocker.locked", this.options.events.locked);
            a(this).on("sociallocker.unlocked", this.options.events.unlocked);
            if (a.onepress.browser.msie && 7 === parseInt(a.onepress.browser.version, 10)) this._unlock("ie7");
            else if (!this.options.locker.mobile && this._isMobile()) this._unlock("mobile");
            else {
                if (/iPhone/i.test(navigator.userAgent) && this.options._iPhoneBug) {
                    var c = a.inArray("twitter-tweet", this.options.buttons.order);
                    0 <= c && this.options.buttons.order.splice(c, 1)
                }
                this._isTabletOrMobile() && (c = a.inArray("google-share", this.options.buttons.order), 0 <= c && this.options.buttons.order.splice(c, 1));
                0 === this.options.buttons.order.length ? this._unlock("nobuttons") : (this._controller = this._createProviderController(), this._controller.getState(function(a) {
                    a.state ? b._unlock("provider") : b._lock()
                }), b.options.locker.scope && a(document).bind("unlockByScope.sl.onp",
                function(a, c, h) {
                    c !== b.element && b.options.locker.scope === h && b._unlock("scope")
                }))
            }
        },
        _createProviderController: function() {
            var b = this;
            this._providers = {};
            var c = 0,
            g;
            for (g in this.options.buttons.order) {
                var f = this.options.buttons.order[g];
                if ("string" === typeof f && "#" !== f) {
                    var h = f.split("-"),
                    j = 2 === h.length ? h[0] : null,
                    h = 2 === h.length ? h[1] : h[0];
                    if (!this._isValidButton(j, h)) {
                        this._setError("The button '" + f + "' not found.");
                        return
                    }
                    var k = {};
                    j ? (this.options[j] && (k = a.extend({},
                    this.options[j])), this.options[j][h] && (k = a.extend(k, this.options[j][h]))) : this.options[h] && (k = a.extend(k, this.options[h]));
                    var m = j ? a.onepress.sociallocker[j] && a.onepress.sociallocker[j][h] : a.onepress.sociallocker[h],
                    k = m && m.getStateId ? m.getStateId(k, this.options) : URL.normalize(window.location.href);
                    if (this._providers[f]) return;
                    this._providers[f] = new a.onepress.providers.clientStoreStateProvider(j, h, k, b.options);
                    c++
                }
            }
            this._buttonsCount = c;
            return {
                updateState: function() {
                    this.getState(function() {})
                },
                getState: function(f) {
                    var g = c,
                    h = b.options.locker.stepByStep,
                    j = 0,
                    k = 0,
                    m;
                    for (m in b._providers) {
                        var w = b._providers[m];
                        w.getState(function(c) {
                            g--;
                            b.options.locker.stepByStep ? (c || (h = !1), c && j++, k++) : c && (h = !0);
                            0 === g && (c = {
                                state: h,
                                completedSteps: j,
                                totalSteps: k
                            },
                            b.options.triggers.state && b.options.triggers.state(c, b.locker, b), a(document).trigger("onp-sl-trigger-state", [c, b.locker, b]), f(c, w))
                        })
                    }
                }
            }
        },
        _processOptions: function() {
            var b = this.options.theme || this._defaults.theme,
            c = a.extend(!0, {},
            this._defaults);
            a(document).trigger("defaultOptions.filter.sociallocker.onp", [c]);
            a.onepress.sociallocker.presets[b] && (c = a.extend(!0, {},
            c, a.onepress.sociallocker.presets[b]), a.onepress.sociallocker.presets[b].buttons && a.onepress.sociallocker.presets[b].buttons.order && (c.buttons.order = a.onepress.sociallocker.presets[b].buttons.order));
            c = a.extend(!0, c, this.options);
            this.options.buttons && this.options.buttons.order && (c.buttons.order = this.options.buttons.order);
            c.effects.flip = c.effects.flip || "onp-sociallocker-secrets" == c.style;
            c.buttons.layout || (c.buttons.layout = "horizontal");
            "vertical" === c.buttons.layout && (c.facebook.like.layout = "box_count", c.facebook.share.layout = "box_count", c.twitter.count = "vertical", c.twitter.size = "medium", c.google.plus.size = "tall", c.google.share.annotation = "vertical-bubble", c.linkedin.share.counter = "top", c.buttons.counter = !0);
            "horizontal" === c.buttons.layout && (c.facebook.layout = "button_count", c.twitter.count = "horizontal", c.twitter.size = "medium", c.google.size = "medium", c.google.annotation = "bubble", c.linkedin.share.counter = "right", c.buttons.counter || (c.twitter.count = "none", c.twitter.showCount = !1, c.google.annotation = "none", c.google.youtube.counter = 0, c.facebook.count = "none", c.linkedin.share.counter = "none"));
            "object" !== typeof c.text && (c.text = {
                message: c.text
            });
            c.text.header && (c.text.header = "function" === typeof c.text.header && c.text.header(this) || "string" === typeof c.text.header && a("<div>" + c.text.header + "</div>") || "object" === typeof c.text.header && c.text.header.clone());
            c.text.message && (c.text.message = "function" === typeof c.text.message && c.text.message(this) || "string" === typeof c.text.message && a("<div>" + c.text.message + "</div>") || "object" === typeof c.text.message && c.text.message.clone());
            c.locker.timer = parseInt(c.locker.timer);
            0 == c.locker.timer && (c.locker.timer = null);
            a(document).trigger("options.filter.sociallocker.onp", [c]);
            this.options = c;
            this.style = "onp-sociallocker-" + b;
            this.options.overlap.mode = a.onepress.tools.supportBlurring(this.options.overlap.altMode, this.options.overlap.mode);
            this.overlap = "full" === this.options.overlap.mode ? !1 : this.options.overlap.mode
        },
        _isMobile: function() {
            return /webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent) || /Android/i.test(navigator.userAgent) && /Mobile/i.test(navigator.userAgent) ? !0 : !1
        },
        _isTabletOrMobile: function() {
            return /webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent) ? !0 : !1
        },
        _isValidButton: function(b, c) {
            return b ? !a.onepress.sociallocker[b] || !a.onepress.sociallocker[b][c] ? !1 : !0 : a.onepress.sociallocker[c] ? !0 : !1
        },
        _setError: function(a) {
            this._error = !0;
            this._errorText = a;
            this.locker && this.locker.hide();
            this.element.html("<strong>[Error]: " + a + "</strong>");
            this.element.show().addClass("onp-sociallocker-error")
        },
        _createMarkup: function() {
            var b = this,
            c = this.element.parent().is("a") ? this.element.parent() : this.element;
            c.addClass("onp-sociallocker-content");
            this.locker = a("<div class='onp-sociallocker onp-sociallocker-" + (a.onepress.browser.mozilla && "mozilla" || a.onepress.browser.opera && "opera" || a.onepress.browser.webkit && "webkit" || "msie") + "'></div>");
            this.outerWrap = a("<div class='onp-sociallocker-outer-wrap'></div>").appendTo(this.locker);
            this.innerWrap = a("<div class='onp-sociallocker-inner-wrap'></div>").appendTo(this.outerWrap);
            "fixed" === this.options.buttons.size && this.locker.addClass("onp-sociallocker-buttons-fixed");
            this.locker.addClass(this.style);
            this.locker.addClass("onp-sociallocker-" + this.options.buttons.layout);
            this.options.buttons.counter ? this.locker.addClass("onp-sociallocker-has-counters") : this.locker.addClass("onp-sociallocker-no-counters");
            a.onepress.isTouch() ? this.locker.addClass("onp-sociallocker-touch") : this.locker.addClass("onp-sociallocker-no-touch");
            this.options.cssClass && this.locker.addClass(this.options.cssClass);
            var g = a("<div class='onp-sociallocker-text'></div>");
            this.options.text.header && g.append(this.options.text.header.addClass("onp-sociallocker-strong").clone());
            this.options.text.message && g.append(this.options.text.message.addClass("onp-sociallocker-message").clone());
            this.innerWrap.append(g.addClass());
            g.prepend(a("<div class='onp-sociallocker-before-text'></div>"));
            g.append(a("<div class='onp-sociallocker-after-text'></div>"));
            this._createButtonMarkup();
            this.options.bottomText && this.innerWrap.append(this.options.bottomText.addClass("onp-sociallocker-bottom-text"));
            this.options.locker.close && this._createClosingCross();
            this.options.locker.timer && this._createTimer();
            this._controller.updateState();
            if (this.overlap) {
                c.addClass("onp-sociallocker-overlap-mode");
                var f = this.element.css("display"),
                g = c;
                if ("blurring" === this.overlap || c.is("img") || c.is("iframe") || c.is("object") || "block" !== f && "inline-block" !== f) g = a('<div class="onp-sociallocker-content-wrap"></div>'),
                g.insertAfter(c),
                g.append(c);
                c.show();
                this.element.show();
                "blurring" === this.overlap && (this.blurArea = a("<div class='onp-sociallocker-blur-area'></div>"), this.blurArea.insertAfter(c), this.blurArea.append(c), c = this.blurArea);
                "static" === g.css("position") && g.css("position", "relative");
                c = c.is("iframe") && c || c.find("iframe");
                1 === c.length && "absolute" === c.css("position") && (g.css({
                    position: "absolute",
                    width: "100%",
                    height: "100%",
                    top: c.css("top"),
                    left: c.css("left"),
                    right: c.css("right"),
                    bottom: c.css("bottom"),
                    margin: c.css("margin")
                }), c.css({
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    margin: "auto"
                }));
                this.overlapLockerBox = a("<div class='onp-sociallocker-overlap-locker-box'></div>").hide();
                this.overlapLockerBox.addClass("onp-sociallocker-position-" + this.options.overlap.position);
                this.overlapLockerBox.append(this.locker);
                this.overlapBox = a("<div class='onp-sociallocker-overlap-box'></div>");
                this.overlapBox.append(this.overlapLockerBox);
                this.overlapBox.addClass("onp-sociallocker-" + this.overlap + "-mode");
                c = a("<div class='onp-sociallocker-overlap-background'></div>");
                this.overlapBox.append(c);
                g.append(this.overlapBox);
                "blurring" === this.overlap && (this.blurArea = this.blurArea.Vague({
                    intensity: this.options.overlap && this.options.overlap.intensity || 5,
                    forceSVGUrl: !1
                }), this.blurArea.blur());
                a(window).resize(function() {
                    b._updateLockerPosition()
                });
                "scroll" === this.options.overlap.position && a(window).scroll(function() {
                    b._updateLockerPositionOnScrolling()
                })
            } else this.locker.hide(),
            this.locker.insertAfter(c);
            this._markupIsCreated = !0;
            0 <= a.inArray("facebook-like", this.options.buttons.order) && this._startTrackIFrameSizes()
        },
        _updateLockerPosition: function() {
            if (this.overlap) {
                if ("top" === this.options.overlap.position || "scroll" === this.options.overlap.position) {
                    var a = this.overlapBox.outerWidth(),
                    c = this.locker.outerWidth(),
                    g = this.overlapBox.outerHeight(),
                    f = this.locker.outerHeight(),
                    h = this.options.overlap.offset;
                    h || (h = Math.floor((a - c) / 2), 10 >= h && (h = 10));
                    2 * h + f > g && (h = Math.floor((g - f) / 2));
                    this.overlapLockerBox.css("marginTop", h + "px");
                    "scroll" === this.options.overlap.position && (this._baseOffset = h, this._updateLockerPositionOnScrolling())
                }
                "middle" === this.options.overlap.position && this.overlapLockerBox.css("marginTop", "-" + Math.floor(this.overlapLockerBox.innerHeight() / 2) + "px")
            }
        },
        _updateLockerPositionOnScrolling: function() {
            var b = this.overlapBox.offset(),
            c = b.top,
            g = b.left,
            b = b.top + this.overlapBox.outerHeight(),
            f = this.overlapBox.outerWidth(),
            h = this.overlapBox.outerHeight(),
            j = this.locker.outerHeight();
            2 * this._baseBoxOffset + j + 10 >= h || (h = a(document).scrollTop(), h + j + 2 * this._baseOffset + 20 > b ? this.overlapLockerBox.css("position", "absolute").css("top", "auto").css("left", "0px").css("width", "auto").css("bottom", this._baseOffset + "px").css("margin-top", "0px") : h + 20 > c ? this.overlapLockerBox.css("position", "fixed").css("top", this._baseOffset + 20 + "px").css("left", g + "px").css("width", f + "px").css("bottom", "auto").css("margin-top", "0px") : this.overlapLockerBox.css("position", "absolute").css("top", "0px").css("left", "0px").css("bottom", "auto").css("width", "auto").css("margin-top", this._baseOffset + "px"))
        },
        _createButtonMarkup: function() {
            var b = this,
            c = {
                run: !1
            };
            a(document).trigger("buttonMarkup.sociallocker.onp", [b, c]);
            if (!c.run) {
                this.buttonsWrap = a("<div class='onp-sociallocker-buttons'></div>").appendTo(this.innerWrap);
                var g = 50;
                a.each(this.options.buttons.order,
                function(c, h) {
                    if ("string" !== typeof h) return ! 0;
                    if ("#" === h) return b.buttonsWrap.append("<div class='onp-button-separator'></div>"),
                    !0;
                    if (b.options.buttons.unsupported && 0 <= jQuery.inArray(h, b.options.buttons.unsupported)) {
                        var j = 'The button "' + h + '" is not supported by this theme.',
                        k = a("<div class='onp-sociallocker-button onp-sociallocker-button-unsupported'></div>").css("z-index", g),
                        m = a("<div class='onp-sociallocker-button-inner-wrap'>" + j + "</div>").appendTo(k);
                        b.buttonsWrap.append(k);
                        return ! 0
                    }
                    var j = h.split("-"),
                    q = 2 === j.length ? j[0] : null,
                    j = 2 === j.length ? j[1] : j[0],
                    r = {};
                    q ? (b.options[q] && (r = a.extend({},
                    b.options[q])), b.options[q][j] && (r = a.extend(r, b.options[q][j]))) : b.options[j] && (r = a.extend(r, b.options[j]));
                    r.url = r.url || URL.normalize(b.options.url || window.location.href);
                    r._provider = b._providers[h];
                    r.unlock = function(a) {
                        if (!b.options.locker.stepByStep) return b._unlock(a, r._provider);
                        b._completeStep(r, k)
                    };
                    r.demo = b.options.demo;
                    k = a("<div class='onp-sociallocker-button onp-sociallocker-button-" + h + " onp-sociallocker-state-loading'></div>").css("z-index", g);
                    k.addClass("onp-sociallocker-button-" + q);
                    k.data("name", h);
                    b.buttonsWrap.append(k);
                    var m = a("<div class='onp-sociallocker-button-inner-wrap'></div>").appendTo(k),
                    p = q ? a.onepress.sociallocker[q][j] : a.onepress.sociallocker[j],
                    l = p.create(m, r, b);
                    b.options.locker.stepByStep && r._provider.getState(function(a) {
                        b._setButtonState(a, k)
                    });
                    if (l) {
                        var z = p.getVerificationData ? p.getVerificationData(r) : {
                            container: "iframe",
                            timeout: 5E3
                        };
                        if (q) {
                            var F = !1;
                            setTimeout(function() {
                                F || b.setButtonError(m, a.onepress.sociallocker.lang.unableToLoadSDK.replace("{0}", q))
                            },
                            b.options.locker.loadingTimeout);
                            a.onepress.connector.connect(q, r,
                            function() {
                                F = !0;
                                var c = z.timeout,
                                f = function() {
                                    0 === k.find(z.container).length && 0 <= c ? (setTimeout(function() {
                                        f()
                                    },
                                    500), c -= 500) : (k.removeClass("onp-sociallocker-state-loading"), 0 >= c ? b.setButtonError(m, a.onepress.sociallocker.lang.unableToCreateButton.replace("{0}", h)) : m.trigger("onp-sl-button-created"))
                                };
                                f()
                            })
                        } else k.removeClass("onp-sociallocker-state-loading"),
                        m.trigger("onp-sl-button-created")
                    }
                    l = b.options.effects.flip;
                    p = a.onepress.tools.has3d();
                    l && p && k.addClass("onp-sociallocker-flip") || k.addClass("onp-sociallocker-no-flip");
                    if (!l) return ! 0;
                    j = r.title || (q ? a.onepress.sociallocker.lang[q + "_" + j] : a.onepress.sociallocker.lang[j]);
                    j = a("<a></a>").addClass("onp-sociallocker-button-overlay").append(a("<div class='onp-sociallocker-overlay-back'></div>")).append(a("<div class='onp-sociallocker-overlay-front'></div>").append(a("<div class='onp-sociallocker-overlay-icon'></div>")).append(a("<div class='onp-sociallocker-overlay-line'></div>")).append(a("<div class='onp-sociallocker-overlay-text'>" + j + "</div>"))).append(a("<div class='onp-sociallocker-overlay-header'></div>"));
                    j.prependTo(m); ! p && !b._isCompletedStep(k) && k.hover(function() {
                        var b = a(this).find(".onp-sociallocker-button-overlay");
                        b.stop().animate({
                            opacity: 0
                        },
                        200,
                        function() {
                            b.hide()
                        })
                    },
                    function() {
                        a(this).find(".onp-sociallocker-button-overlay").show().stop().animate({
                            opacity: 1
                        },
                        200)
                    });
                    a.onepress.isTouch() && (p ? j.click(function() {
                        var b = a(this).parents(".onp-sociallocker-button");
                        b.hasClass("onp-sociallocker-flip-hover") ? b.removeClass("onp-sociallocker-flip-hover") : (a(".onp-sociallocker-flip-hover").removeClass("onp-sociallocker-flip-hover"), b.addClass("onp-sociallocker-flip-hover"));
                        return ! 1
                    }) : b._isCompletedStep(k) || j.click(function() {
                        var b = a(this);
                        b.stop().animate({
                            opacity: 0
                        },
                        200,
                        function() {
                            b.hide()
                        });
                        return ! 1
                    }));
                    j && (j.css("z-index", g), j.find(".onp-sociallocker-overlay-front").css("z-index", 1), j.find(".onp-sociallocker-overlay-back").css("z-index", -1), j.find(".onp-sociallocker-overlay-header").css("z-index", 1));
                    g -= 5
                })
            }
        },
        setButtonError: function(a, c) {
            a.parent().hasClass("onp-sociallocker-state-error") || (this._createErrorMarkup(c).appendTo(a), a.parent().removeClass("onp-sociallocker-state-loading").addClass("onp-sociallocker-state-error"), this._buttonErrorCounter++, this._buttonErrorCounter >= this._buttonsCount && this.events.notAvailable && ("show-content" === this.options.locker.naMode && this._unlock("na"), this.events.notAvailable()))
        },
        _createErrorMarkup: function(b) {
            var c = this,
            g = a("<div class='onp-sociallocker-error-body'><a href='#' class='onp-sociallocker-error-title'>" + a.onepress.sociallocker.lang.error + "</a><div class='onp-sociallocker-error-text'>" + b + "</div></div>"),
            f = g.find(".onp-sociallocker-error-text");
            g.find(".onp-sociallocker-error-title").click(function() {
                c.locker.find(".onp-sociallocker-shown-error").remove();
                g.hasClass("onp-sociallocker-active") ? g.removeClass("onp-sociallocker-active") : (c.locker.find(".onp-sociallocker-active").removeClass("onp-sociallocker-active"), g.addClass("onp-sociallocker-active"), c.buttonsWrap.after(f.clone().addClass("onp-sociallocker-shown-error")));
                return ! 1
            });
            return g
        },
        _createClosingCross: function() {
            var b = this;
            a("<div class='onp-sociallocker-cross' title='" + a.onepress.sociallocker.lang.close + "' />").prependTo(this.locker).click(function() { (!b.close || !b.close(b)) && b._unlock("cross", !0)
            })
        },
        _createTimer: function() {
            this.timer = a("<span class='onp-sociallocker-timer'></span>");
            var b = a.onepress.sociallocker.lang.seconds;
            this.timerLabel = a("<span class='onp-sociallocker-timer-label'>" + a.onepress.sociallocker.lang.orWait + " </span>").appendTo(this.timer);
            this.timerCounter = a("<span class='onp-sociallocker-timer-counter'>" + this.options.locker.timer + b + "</span>").appendTo(this.timer);
            this.timer.appendTo(this.locker);
            this.counter = this.options.locker.timer;
            this._kickTimer()
        },
        _kickTimer: function() {
            var b = this;
            setTimeout(function() {
                if (b._isLocked) if (b.counter--, 0 >= b.counter) b._unlock("timer");
                else {
                    b.timerCounter.text(b.counter + a.onepress.sociallocker.lang.seconds);
                    if (a.onepress.browser.opera) {
                        var c = b.timerCounter.clone();
                        c.insertAfter(b.timerCounter);
                        b.timerCounter.remove();
                        b.timerCounter = c
                    }
                    b._kickTimer()
                }
            },
            1E3)
        },
        _startTrackIFrameSizes: function() {
            if (!this.options.facebook.like.theConfirmIssue) {
                var b = this;
                this._trackIFrameTimer = null;
                this.locker.hover(function() {
                    var c = b.locker.find(".onp-facebook-like-button"),
                    g = c.find("iframe");
                    g.length && (b._trackIFrameTimer = setInterval(function() {
                        var f = parseInt(g[0].style.height);
                        f || (f = g.height());
                        200 < f && (b._stopTrackIFrameSizes(), f = c.find(".fake-fb-like").data("url-to-verify"), a(document).trigger("onp-sl-facebook-like", [f]))
                    },
                    500))
                },
                function() {
                    b._stopTrackIFrameSizes()
                })
            }
        },
        _stopTrackIFrameSizes: function() {
            this._trackIFrameTimer && clearInterval(this._trackIFrameTimer)
        },
        _isCompletedStep: function(a) {
            return a.hasClass("onp-sl-step-completed")
        },
        _setButtonState: function(a, c) {
            a ? c.addClass("onp-sl-step-completed") : c.removeClass("onp-sl-step-completed")
        },
        _completeStep: function(a, c) {
            var g = this,
            f = a._provider;
            f.setState("unlocked");
            this._setButtonState(!0, c);
            this.events.step && this.events.step("button", f && f.name, f && f.url);
            this._controller.getState(function(a) {
                if (a.state) return g._unlock("step-by-step")
            })
        },
        _lock: function(b, c) {
            var g = this;
            a(this).trigger("sociallocker.locked"); ! this._isLocked && !this._stoppedByWatchdog && (this._markupIsCreated || this._createMarkup(), "button" === b && c.setState("locked"), this.overlap ? (this.overlapLockerBox.fadeIn(1E3,
            function() {
                g._updateLockerPosition()
            }), g._updateLockerPosition()) : (this.element.hide(), this.locker.fadeIn(1E3)), this._isLocked = !0, this.events.lock && this.events.lock(b, c && c.name), this._tumblerOn())
        },
        _unlock: function(b, c) {
            a(this).trigger("sociallocker.unlocked");
            if (!this.options.locker.off) {
                if (!this._isLocked) return this._showContent("button" !== b),
                !1;
                "button" === b && (c.setState("unlocked"), this.options.locker.scope && a(document).trigger("unlockByScope.sl.onp", [this.element, this.options.locker.scope]));
                this._tumblerOff();
                this._showContent(!0);
                this._isLocked = !1;
                "scope" !== b && ("timer" === b && this.events.unlockByTimer && this.events.unlockByTimer(), "cross" === b && this.events.unlockByClose && this.events.unlockByClose(), "step-by-step" === b && this.events.unlockBySteps && this.events.unlockBySteps(), this.events.unlock && this.events.unlock(b, c && c.name, c && c.url))
            }
        },
        lock: function() {
            this._lock("user")
        },
        unlock: function() {
            this._unlock("user")
        },
        _tumblerOn: function() {
            if (this.options.locker.tumbler && !this.options.locker.off && !this._tumblerTicker) {
                var a = this;
                this._tumblerTicker = setInterval(function() {
                    a._tumblerTicker && (a.locker.is(":visible") || a.locker.css("display", "block"), a.overlap ? (!a.overlapBox || !a.overlapBox.is(":visible")) && a.overlapBox.css("display", "block") : a.element.is(":visible") && a.element.css("display", "none"))
                },
                this.options.locker.tumblerInterval || 500)
            }
        },
        _tumblerOff: function() {
            this.options.locker.tumbler && !this.options.locker.off && this._tumblerTicker && (clearInterval(this._tumblerTicker), this._tumblerTicker = null)
        },
        _showContent: function(b) {
            var c = this;
            this._stopTrackIFrameSizes();
            var g = function() {
                c.overlap ? (c.overlapBox && c.overlapBox.hide(), c.blurArea && c.blurArea.unblur()) : c.locker && c.locker.hide();
                c.locker && c.locker.hide();
                b ? c.element.fadeIn(1E3,
                function() {
                    c.options.effects.highlight && c.element.effect && c.element.effect("highlight", {
                        color: "#fffbcc"
                    },
                    800)
                }) : c.element.show()
            };
            if (this.options.content) if ("string" === typeof this.options.content) this.element.html(this.options.content),
            g();
            else if ("object" === typeof this.options.content && !this.options.content.url) this.element.append(this.options.content.clone().show()),
            g();
            else if ("object" === typeof this.options.content && this.options.content.url) {
                var f = a.extend(!0, {},
                this.options.content),
                h = f.success,
                j = f.complete,
                k = f.error;
                f.success = function(a, b, f) { ! h ? c.element.html(a) : h(c, a, b, f);
                    g()
                };
                f.error = function(a, b, f) {
                    c._setError("An error is triggered during the ajax request! Text: " + b + " " + f);
                    k && k(a, b, f)
                };
                f.complete = function(a, b) {
                    j && j(a, b)
                };
                a.ajax(f)
            } else g();
            else g()
        }
    }), a.fn.socialLock = function(b) {
        b = a.extend({},
        b);
        a(this).sociallocker(b)
    })
})(jQuery);
if (0 < $("#demo-page").length) {
    $(function() {
        var a = document.querySelector && document.querySelector('meta[name="viewport"]'),
        b = navigator.userAgent,
        c = function() {
            a.content = "width=device-width, minimum-scale=0.25, maximum-scale=1.6"
        };
        a && (/iPhone|iPad/.test(b) && !/Opera Mini/.test(b)) && (a.content = "width=device-width, minimum-scale=1.0, maximum-scale=1.0", document.addEventListener("gesturestart", c, !1))
    });
    var calcHeight = function() {
        var a = $("#headerlivedemo").height();
        $("#advanced").hasClass("closed") ? $("#iframelive").height($(window).height() + 3) : $("#iframelive").height($(window).height() - a)
    };
    $(document).ready(function() {
        calcHeight()
    });
    $(window).resize(function() {
        calcHeight()
    }).load(function() {
        calcHeight()
    });
    $(function() {
        mobileCss = function() {
            if (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/Opera Mini/)) $("#dropdown.box-drop ul.list-drop li .popover").css("top", "-1000px").css("display", "none !important"),
            $("#qr").hide(),
            $("body").css({
                height: "auto"
            }),
            $("html").css({
                height: "auto"
            }),
            $("#headerlivedemo").addClass("mobile")
        };
        mobileCss()
    });
    0 < $(".is-responsive").length ? $(document).ready(function() {
        if (!navigator.userAgent.match(/iPhone/i) && !navigator.userAgent.match(/iPod/i) && !navigator.userAgent.match(/iPad/i) && !navigator.userAgent.match(/Android/i) && !navigator.userAgent.match(/Opera Mini/)) {
            var a = document.getElementById("frame");
            $("#responsivator").show();
            $("#responsivator .response").click(function() {
                $("#responsivator .response").removeClass("active");
                $(this).addClass("active");
                var b = $(this).attr("id");
                $("#iframelive").removeAttr("class").addClass(b);
                a.src = a.src
            });
            $(".responsive-block").show()
        }
    }) : $(".js-demo-upper-menu").addClass("js-no-responsive");
    $(function() {
        function a() {
            var a = $(".js-popupi-3").width(),
            b = $(".js-price").width(),
            c = $(".price-title").width(),
            b = b + c + 39;
            b > a && 500 < window.width && $(".js-popupi-3").width(b)
        }
        a();
        $(".js-offer-trigger").on("click",
        function() {
            a()
        });
        var b = 0 < $(".livemonstroid").length ? "-60px": "-53px";
        $("#advanced").css({
            marginTop: "0px"
        }).removeClass("closed");
        $("#headerlivedemo .trigger").toggle(function() {
            $(".js-popup-content").hide();
            $(this).removeClass("icon-arrow-small-up").addClass("icon-arrow-small-down");
            $("#advanced").addClass("closed").animate({
                marginTop: b
            },
            "fast",
            function() {
                calcHeight()
            });
            strCookies2 = $.cookie("panel2", null);
            strCookies = $.cookie("panel", "boo")
        },
        function() {
            $(this).removeClass("icon-arrow-small-down").addClass("icon-arrow-small-up");
            $("#advanced").removeClass("closed").animate({
                marginTop: "0px"
            },
            "fast",
            function() {
                calcHeight()
            });
            strCookies2 = $.cookie("panel2", "opened");
            strCookies = $.cookie("panel", null)
        });
        $(".js-popup-open").on("click ",
        function() {
            var a = $(this).attr("data-popupi"),
            a = $(".js-popup-content." + a);
            if (a.is(":visible")) return ! 1;
            if ("js-popupi-4" == $(this).data("popupi")) {
                $(".js-demo-flexslider").css("display", "block").animate({
                    top: 60
                },
                400);
                $("#monstroid-templates").owlCarousel({
                    items: 4,
                    navigation: !0,
                    navigationText: ["", ""],
                    slideSpeed: 800,
                    pagination: !1,
                    itemsDesktop: [1279, 3],
                    itemsDesktopSmall: [995, 2],
                    itemsTablet: [960, 2],
                    itemsTabletSmall: [740, 1],
                    lazyLoad: !0
                });
                var b = $("#headerlivedemo").data("template_id");
                $(".thumb-wr").each(function() {
                    $(this).data("tid") == b && $(this).addClass("active")
                });
                $(this).addClass("active");
                return ! 1
            }
            $(this).addClass("active");
            a.fadeIn(100)
        });
        jQuery(function(a) {
            a(document).on("mouseup",
            function(b) {
                var c = a(".js-popup-content");
                if (!c.is(b.target) && 0 === c.has(b.target).length) {
                    if (c.prev(".theme-choose").hasClass("active")) return a(".js-demo-flexslider").animate({
                        top: -260
                    },
                    400,
                    function() {
                        a(this).css("display", "none")
                    }),
                    a(".js-popup-open").removeClass("active"),
                    !1;
                    c.fadeOut(100);
                    a(".js-popup-open").removeClass("active")
                }
            })
        });
        $(".icon-close").mouseup(function() {
            $(".js-popup-content").fadeOut(100);
            $(".js-popup-open").removeClass("active")
        });
        $(".js-demo-list-li .js-drop").on("click",
        function() {
            var a = $(this).parent().attr("data-variant"),
            b,
            c = $(this).parent(),
            f = $(this).parent().data("price") || $(".js-price", c).data("price"),
            c = $(".js-price", c).data("price");
            b = $("#advanced").hasClass("livemonstroid") ? $(this).children(".recommended-wrap").text() : tm.stringUtils.bareText($(this));
            $(".js-popup-content").fadeOut(100);
            $(".js-popup-open").removeClass("active");
            $(".js-offer-trigger .price-title").text(b);
            b = appDic.require("language");
            var g = '<span class="new-price">' + b.formatMoney(f) + "</span> ";
            c != f && (g = '<span class="discount">' + b.formatMoney(c) + "</span> " + g);
            $(".js-offer-trigger .js-price").html(g);
            $(".js-demo-buy-button[data-variant=" + a + "]").removeClass("js-none").siblings().addClass("js-none");
            $(".js-popupi-3").css("width", "auto")
        });
        $(".js-drop").hover(function() {
            $(this).siblings(".popover").css("opacity", "1").css("z-index", "999")
        },
        function() {
            $(".list-drop li .popover").css("opacity", "0").css("z-index", "-999")
        });
        $.browser.msie && $("body").addClass("ie");
        var c = navigator.userAgent.toLowerCase(),
        g = function(a) {
            return - 1 != c.indexOf(a)
        },
        f = document.getElementsByTagName("html")[0],
        g = [!/opera|webtv/i.test(c) && /msie (\d)/.test(c) ? "ie ie" + RegExp.$1: g("firefox/2") ? "gecko ff2": g("firefox/3") ? "gecko ff3": g("gecko/") ? "gecko": g("opera/9") ? "opera opera9": /opera (\d)/.test(c) ? "opera opera" + RegExp.$1: g("konqueror") ? "konqueror": g("safari/") ? "webkit safari": g("mozilla/") ? "gecko": "", g("x11") || g("linux") ? " linux": g("mac") ? " mac": g("win") ? " win": ""].join(" ");
        if (f.className) {
            var h = f.className;
            f.className = h + (" " + g)
        } else f.className = g;
        f = $(".js-template-id");
        f.data("free-trial") && !f.data("mobile") && (new Tm.MotoTrial({
            auto_open_timeout: 30,
            template_id: f.data("template_id")
        })).init()
    }); (function() {
        function a() {
            g.hasClass("block-hidden") && !f && (g.removeClass("block-hidden"), f = 1)
        }
        function b() {
            f && (g.addClass("block-hidden"), f = 0)
        }
        var c = $.cookie("country_code"),
        g = $("#advanced .js-demo-bar-phone"),
        f = 0;
        if ("US" === c) {
            later.date.UTC();
            var c = later.parse.recur().after("00:00").time().before("07:00").time().on(2, 3, 4, 5).dayOfWeek().and().after("11:00").time().before("13:00").time().on(2, 3, 4, 5).dayOfWeek().and().after("00:00").time().before("07:00").time().on(6).dayOfWeek().and().after("11:00").time().before("17:00").time().on(7).dayOfWeek().and().after("03:00").time().before("13:00").time().on(1).dayOfWeek(),
            h = later.parse.recur().after("07:00").time().before("11:00").time().on(2, 3, 4, 5).dayOfWeek().and().after("03:00").time().before("00:00").time().on(2, 3, 4, 5).dayOfWeek().and().after("07:00").time().before("00:00").time().on(6).dayOfWeek().and().after("17:00").time().before("11:00").time().on(7).dayOfWeek().and().after("13:00").time().before("03:00").time().on(1).dayOfWeek();
            later.setInterval(a, c);
            later.setInterval(b, h)
        }
    })()
};
tm = tm || {};
tm.enhancedEcommerce = tm.enhancedEcommerce || {};
CLS31 = function() {};
CLS31.prototype.watchers = {};
CLS31.prototype.enterDocument = function() {
    this.initTriggers();
    this.watchers.templatesImpressionsWatcher = new CLS53;
    this.watchers.alsoImpressionsWatcher = new CLS28;
    this.watchers.reviewsImpressionsWatcher = new CLS51;
    this.watchers.offersImpressionsWatcher = new CLS33;
    this.watchers.offersStatusImpressionsWatcher = new CLS34;
    this.watchers.productClickWatcher = new CLS48;
    this.watchers.monstroidsImpressionsWatcher = new CLS32;
    this.watchers.promoWatcher = new CLS50;
    this.watchers.promoClickWatcher = new CLS49;
    this.watchers.userWatcher = new CLS54;
    this.watchers.saleWatcher = new CLS52;
    this.watchers.templatesImpressionsWatcher.enterDocument();
    this.watchers.alsoImpressionsWatcher.enterDocument();
    this.watchers.reviewsImpressionsWatcher.enterDocument();
    this.watchers.offersImpressionsWatcher.enterDocument();
    this.watchers.offersStatusImpressionsWatcher.enterDocument();
    this.watchers.monstroidsImpressionsWatcher.enterDocument();
    this.watchers.promoWatcher.enterDocument();
    this.watchers.userWatcher.enterDocument();
    this.watchers.saleWatcher.enterDocument()
};
CLS31.prototype.initTriggers = function() {
    detectAccountPage() || ($(document).on("MainEvents.discountLoaded", $.proxy(this.discountLoaded, this)), $(document).on("Gtag.ee.push.product.template.impressions", $.proxy(this.onLoadProductsTemplates, this)), $(document).on("Gtag.ee.push.product.offer.impressions", $.proxy(this.onLoadProductsOffers, this)));
    $(document).on("Gtag.ee.push.promo.view", $.proxy(this.onPromoView, this));
    $(document).on("Gtag.user.push", $.proxy(this.onUserAppear, this))
};
CLS31.prototype.onLoadProductsTemplates = function() {
    var a = this;
    $(".js-thumbnail-proposed, .js-also-available-as, .js-out-off-stock, .js-template-in-review, .js-monstroid-thumbnail").unbind("inview");
    $(".js-view-product, .js-thumbnail-info, .js-review-count, .js-thumbnail-badge").unbind("click");
    $(".js-thumbnail-proposed").bind("inview",
    function(b, c) { ! 0 === c && a.watchers.templatesImpressionsWatcher.addElement($(this))
    });
    $(".js-also-available-as, .js-out-off-stock").bind("inview",
    function(b, c) { ! 0 === c && a.watchers.alsoImpressionsWatcher.addElement($(this))
    });
    $(".js-template-in-review").bind("inview",
    function(b, c) { ! 0 === c && a.watchers.reviewsImpressionsWatcher.addElement($(this))
    });
    $(".js-monstroid-thumbnail").bind("inview",
    function(b, c) { ! 0 === c && a.watchers.monstroidsImpressionsWatcher.addElement($(this))
    });
    $(".js-view-product, .js-thumbnail-info, .js-review-count, .js-thumbnail-badge").bind("click",
    function() {
        a.watchers.productClickWatcher.onClickProducts($(this))
    })
};
CLS31.prototype.onLoadProductsOffers = function() {
    var a = this;
    $(".js-static-oncart-offer, .js-static-offer, .js-preview-offer").bind("inview",
    function(b, c) { ! 0 === c && a.watchers.offersImpressionsWatcher.addElement($(this))
    });
    $(".js-offer-description").bind("inview",
    function(b, c) { ! 0 === c && a.watchers.offersStatusImpressionsWatcher.addElement($(this))
    })
};
CLS31.prototype.onPromoView = function() {
    var a = this;
    $(".js-banner").bind("inview",
    function(b, c) { ! 0 === c && a.watchers.promoWatcher.addElement($(this))
    });
    $(".js-banner").bind("click",
    function() {
        a.watchers.promoClickWatcher.onClickPromo($(this))
    });
    0 < $('.js-banner[data-position="popup banners"]').length && a.watchers.promoWatcher.addElement($('.js-banner[data-position="popup banners"]'))
};
CLS31.prototype.onUserAppear = function() {
    this.watchers.userWatcher.onUserAppear()
};
CLS53 = function() {};
CLS53.prototype.isdiscountLoaded_ = !1;
CLS53.prototype.inQueryProducts_ = [];
CLS53.prototype.sentProducts_ = [];
CLS53.prototype.enterDocument = function() {
    this.initTriggers();
    var a = this;
    setInterval(function() {
        var b = a.getElementsDiff(a.inQueryProducts_, a.sentProducts_);
        if (a.isdiscountLoaded_ && 0 < b.length) {
            var c = [];
            goog.array.forEach(b,
            function(b) {
                a.sentProducts_.push(b);
                a.inQueryProducts_.splice(a.inQueryProducts_.indexOf(b), 1);
                b = a.getElement(b);
                if (goog.isDef(b)) {
                    var f = {
                        id: b.getId(),
                        price: b.getPrice(),
                        brand: b.getBrand(),
                        category: b.getCategories(),
                        list: b.getListName(),
                        position: b.getElementPosition(),
                        name: b.getName()
                    };
                    goog.string.isEmptySafe(b.getVariant()) || (f.variant = b.getVariant());
                    c.push(f)
                }
            });
            dataLayer.push({
                event: "impressionSent",
                ecommerce: {
                    impressions: c
                }
            })
        }
    },
    5E3)
};
CLS53.prototype.initTriggers = function() {
    $(document).on("MainEvents.discountLoaded", $.proxy(this.discountLoaded, this))
};
CLS53.prototype.addElement = function(a) {
    a = parseInt(a.data("tid")); ! goog.string.isEmptySafe(a) && (0 > this.inQueryProducts_.indexOf(a) && 0 > this.sentProducts_.indexOf(a)) && this.inQueryProducts_.push(a)
};
CLS53.prototype.getElementsDiff = function(a, b) {
    return goog.array.filter(a,
    function(a) {
        return 0 > b.indexOf(a)
    })
};
CLS53.prototype.getElement = function(a) {
    return new CLS47(a)
};
CLS53.prototype.discountLoaded = function() {
    this.isdiscountLoaded_ = !0
};
CLS28 = function() {};
goog.inherits(CLS28, CLS53);
CLS28.prototype.inQueryProducts_ = [];
CLS28.prototype.sentProducts_ = [];
CLS28.prototype.addElement = function(a) {
    a = parseInt(a.data("tid")); ! goog.string.isEmptySafe(a) && (0 > this.inQueryProducts_.indexOf(a) && 0 > this.sentProducts_.indexOf(a)) && this.inQueryProducts_.push(a)
};
CLS28.prototype.getElement = function(a) {
    return new CLS36(a)
};
CLS51 = function() {};
goog.inherits(CLS51, CLS53);
CLS51.prototype.inQueryProducts_ = [];
CLS51.prototype.sentProducts_ = [];
CLS51.prototype.addElement = function(a) {
    a = parseInt(a.data("tid")); ! goog.string.isEmptySafe(a) && (0 > this.inQueryProducts_.indexOf(a) && 0 > this.sentProducts_.indexOf(a)) && this.inQueryProducts_.push(a)
};
CLS51.prototype.getElement = function(a) {
    return new CLS43(a)
};
CLS35 = function() {};
CLS35.prototype.data_ = [];
CLS35.prototype.enterDocument = function() {
    this.initTriggers()
};
CLS35.prototype.initTriggers = function() {
    $(document).on("MainEvents.discountLoaded", $.proxy(this.discountLoaded, this))
};
CLS35.prototype.discountLoaded = function() {
    this.data_ = [];
    var a;
    a = $("div.js-template-id").first().attr("data-template_id");
    this.prepareData("template", a);
    dataLayer.push({
        event: "detailView",
        ecommerce: {
            detail: {
                products: this.data_
            }
        }
    })
};
CLS35.prototype.prepareData = function(a, b) {
    if ("undefined" != typeof b) {
        var c;
        c = detectDemoPageWithPrice() ? new CLS45(b) : new CLS46(b);
        this.data_.push({
            id: c.getId(),
            price: c.getPrice(),
            brand: c.getBrand(),
            category: c.getCategories(),
            variant: c.getVariant(),
            name: c.getName()
        })
    }
};
CLS29 = function() {};
CLS31.prototype.data_ = [];
CLS29.prototype.addDataToCart = function(a, b) {
    this.data_ = [];
    this.prepareData(b, a, "add");
    dataLayer.push({
        event: "addToCart",
        ecommerce: {
            add: {
                products: this.data_
            }
        }
    })
};
CLS29.prototype.removeDataFromCart = function(a, b) {
    this.data_ = [];
    this.prepareData(b, a, "dell");
    dataLayer.push({
        event: "removeFromCart",
        ecommerce: {
            remove: {
                products: this.data_
            }
        }
    })
};
CLS29.prototype.prepareData = function(a, b, c) {
    if ("undefined" != typeof b) {
        var g;
        "add" === c ? "offer" == a ? g = [new CLS39(b)] : (g = detectDemoPage() ? [new CLS45(b)] : [new CLS46(b)], $(".js-preview-offer input:checked").each(function() {
            var a = $(this).attr("value");
            g.push(new CLS39(a))
        })) : g = "offer" == a ? [new CLS39(b)] : [new CLS44(b)];
        for (a = 0; a < g.length; a++) b = {
            id: g[a].getId(),
            price: g[a].getPrice(),
            brand: g[a].getBrand(),
            category: g[a].getCategories(),
            name: g[a].getName()
        },
        goog.string.isEmptySafe(g[a].getVariant()) || (b.variant = g[a].getVariant()),
        this.data_.push(b)
    }
};
CLS33 = function() {};
goog.inherits(CLS33, CLS53);
CLS33.prototype.inQueryProducts_ = [];
CLS33.prototype.sentProducts_ = [];
CLS33.prototype.addElement = function(a) {
    var a = $(".js-add-offer, .js-preview-offer-checkbox", a),
    b = a.hasClass("js-preview-offer-checkbox") ? a.val() : a.data("offer_id"),
    b = b + "-" + a.data("channel");
    0 > this.inQueryProducts_.indexOf(b) && 0 > this.sentProducts_.indexOf(b) && this.inQueryProducts_.push(b)
};
CLS33.prototype.getElement = function(a) {
    var b = a.replace(/[\d]+-/, ""),
    a = a.replace(/-[\d]+/, "");
    return new CLS39(a, b)
};
CLS30 = function() {};
goog.inherits(CLS30, CLS29);
CLS30.prototype.pushData = function(a) {
    this.data_ = [];
    var b = this;
    $(".js-cart-summary .js-popup-cart-item:not(.js-none)").each(function() {
        var a, g;
        a = $(this).hasClass("js-license") ? "template": "offer";
        g = "template" === a ? $(this).attr("data-template_id") : $(".js-dell-offer", $(this)).attr("data-offer_id");
        b.prepareData(a, g)
    });
    dataLayer.push({
        event: "checkout",
        ecommerce: {
            checkout: {
                actionField: {
                    step: a
                },
                products: b.data_
            }
        }
    })
};
CLS30.prototype.initTriggers = function() {};
CLS34 = function() {};
goog.inherits(CLS34, CLS33);
CLS34.prototype.inQueryProducts_ = [];
CLS34.prototype.sentProducts_ = [];
CLS34.prototype.addElement = function(a) {
    a = a.data("id");
    0 > this.inQueryProducts_.indexOf(a) && 0 > this.sentProducts_.indexOf(a) && this.inQueryProducts_.push(a)
};
CLS34.prototype.getElement = function(a) {
    return new CLS41(a)
};
CLS32 = function() {};
goog.inherits(CLS32, CLS53);
CLS32.prototype.inQueryProducts_ = [];
CLS32.prototype.sentProducts_ = [];
CLS32.prototype.getElement = function(a) {
    return new CLS38(a)
};
CLS48 = function() {};
CLS48.prototype.data_ = {};
CLS48.prototype.onClickProducts = function(a) {
    this.truncateData();
    this.collectData(a);
    dataLayer.push({
        event: "productClick",
        ecommerce: {
            click: this.data_
        }
    })
};
CLS48.prototype.collectData = function(a) {
    var b;
    switch (!0) {
    case 0 < $(a).parents(".js-monstroid-thumbnail").length: b = new CLS38($(a).data("tid"));
        break;
    case 0 < $(a).parents(".js-thumbnail-proposed:first").length: case 0 < $(".js-thumbnail-proposed", $(a).parents("li")).length: case 0 < $(".js-thumbnail-data", $(a).parents("div.js-thumbContent")).length: b = new CLS47($(a).data("tid"));
        break;
    case 0 < $(a).parents("div.js-out-off-stock").length: case 0 < $(".js-also-available-as", $(a).parents("tr")).length: b = new CLS36($(a).data("tid"));
        break;
    case 0 < $(a).parents("div.js-template-id").length: b = new CLS46($(a).data("tid"));
        break;
    case 0 < $(a).parents(".js-template-in-review").length: b = new CLS43($(a).data("tid"))
    }
    "undefined" != typeof b && (this.data_.actionField.list = b.getListName(), a = {
        id: b.getId(),
        price: b.getPrice(),
        brand: b.getBrand(),
        category: b.getCategories(),
        position: b.getElementPosition(),
        name: b.getName()
    },
    goog.string.isEmptySafe(b.getVariant()) || (a.variant = b.getVariant()), this.data_.products = [a])
};
CLS48.prototype.truncateData = function() {
    this.data_ = {
        actionField: {
            list: ""
        },
        products: [{
            id: "",
            price: "",
            brand: "",
            category: "",
            position: 0
        }]
    }
};
CLS50 = function() {};
goog.inherits(CLS50, CLS53);
CLS50.prototype.inQueryPromo_ = [];
CLS50.prototype.sentPromo_ = [];
CLS50.prototype.enterDocument = function() {
    var a = this;
    setInterval(function() {
        var b = a.getElementsDiff(a.inQueryPromo_, a.sentPromo_);
        if (0 < b.length) {
            var c = [];
            goog.array.forEach(b,
            function(b) {
                a.sentPromo_.push(b);
                a.inQueryPromo_.splice(a.inQueryPromo_.indexOf(b), 1);
                b = a.getElement(b);
                "undefined" != typeof b && c.push({
                    name: b.getName(),
                    creative: b.getCreative(),
                    position: b.getPosition()
                })
            });
            dataLayer.push({
                event: "promotionView",
                ecommerce: {
                    promoView: {
                        promotions: c
                    }
                }
            })
        }
    },
    5E3)
};
CLS50.prototype.addElement = function(a) {
    a = $(a).data("banner_name");
    0 < a.length && 0 > this.inQueryPromo_.indexOf(a) && 0 > this.sentPromo_.indexOf(a) && this.inQueryPromo_.push(a)
};
CLS50.prototype.getElement = function(a) {
    return new CLS37(a)
};
CLS49 = function() {};
CLS49.prototype.data_ = {};
CLS49.prototype.onClickPromo = function(a) {
    this.truncateData();
    a = $(a).data("banner_name");
    if (0 === a.length) return ! 1;
    a = new CLS37(a);
    this.data_.ecommerce.promoClick.promotions = [{
        name: a.getName(),
        creative: a.getCreative(),
        position: a.getPosition()
    }];
    dataLayer.push(this.data_)
};
CLS49.prototype.truncateData = function() {
    this.data_ = {
        event: "promotionClick",
        ecommerce: {
            promoClick: {
                promotions: []
            }
        }
    }
};
CLS54 = function() {};
CLS54.prototype.data_ = [];
CLS54.prototype.onUserAppear = function() {
    goog.string.isEmptySafe($.cookie("mixpanel")) && !goog.string.isEmptySafe($.cookie("cid")) && $.ajax({
        url: "/ajax/getsuppositiveuserinfo.php",
        success: function(a) {
            if (!goog.string.isEmptySafe($.cookie("mixpanel")) || goog.string.isEmptySafe($.cookie("cid")) || goog.array.isEmpty(a) || 0 === a.status) return ! 1;
            Tm.setCookie("mixpanel", 1, 3650);
            dataLayer.push({
                event: "registeruser",
                userdata: [{
                    email: a.email,
                    name: a.name
                }]
            })
        }
    })
};
CLS54.prototype.onChatEnter = function(a, b) {
    goog.isDef(b.email) && goog.isDef(b.name) && (goog.isDef(b.room) || (b.room = "pre-sales"), dataLayer.push({
        event: "chatuser",
        userdata: [{
            chatemail: b.email,
            chatname: b.name,
            chatroom: b.room
        }]
    }))
};
CLS54.prototype.onUserRegistration = function(a, b) {
    goog.string.isEmptySafe($.cookie("mixpanel")) && (goog.isDef(b.email) && goog.isDef(b.name)) && (Tm.setCookie("mixpanel", 1, 3650), dataLayer.push({
        event: "newuser",
        userdata: [{
            email: b.email,
            name: b.name
        }]
    }))
};
CLS54.prototype.onSearchFormSubmit = function(a, b) {
    dataLayer.push({
        event: "searchformsubmit",
        searchformdata: [{
            keyword: b.keyword || "",
            ifsuggestion: b.isSuggestion || 0
        }]
    })
};
CLS54.prototype.enterDocument = function() {
    this.initTriggers()
};
CLS54.prototype.initTriggers = function() {
    $(document).on("Gtag.chatEnter.push", $.proxy(this.onChatEnter, this));
    $(document).on("Gtag.userRegistration.push", $.proxy(this.onUserRegistration, this));
    $(document).on("MainEvents.userSearchFormAction.push", this.onSearchFormSubmit)
};
CLS52 = function() {};
CLS52.prototype.data_ = [];
CLS52.prototype.enterDocument = function() {
    this.initTriggers();
    var a = this;
    setInterval(function() {
        if (goog.isArray(a.data_) && !goog.array.isEmpty(a.data_)) {
            do {
                var b = a.data_.shift();
                dataLayer.push(b)
            } while ( 0 < a . data_ . length )
        }
    },
    1E3)
};
CLS52.prototype.onSaleView = function(a, b) {
    goog.isDef(b.gtagInfo) && this.data_.push({
        event: "saleView",
        saledata: [b.gtagInfo]
    })
};
CLS52.prototype.onSaleGet = function(a, b) {
    goog.isDef(b.gtagInfo) && this.data_.push({
        event: "saleGet",
        saledata: [b.gtagInfo]
    })
};
CLS52.prototype.initTriggers = function() {
    $(document).on("Gtag.sale.get", $.proxy(this.onSaleGet, this));
    $(document).on("Gtag.sale.view", $.proxy(this.onSaleView, this))
};
tm = tm || {};
CLS42 = function(a) {
    this.element = this.getElement(a)
};
CLS42.prototype.element = null;
CLS42.prototype.getElement = function(a) {
    return $('.js-thumbnail-proposed[data-tid="' + a + '"]')
};
CLS42.prototype.getId = function() {
    return this.element.data("tid").toString()
};
CLS42.prototype.getPrice = function() {
    return (this.element.attr("data-price") / 100).toString()
};
CLS42.prototype.getListName = function() {
    return ""
};
CLS42.prototype.getElementPosition = function() {
    return "0"
};
CLS42.prototype.getBrand = function() {
    return ""
};
CLS42.prototype.getCategories = function() {
    return ""
};
CLS42.prototype.getVariant = function() {
    return ""
};
CLS42.prototype.getName = function() {
    return ""
};
CLS47 = function(a) {
    CLS42.call(this, a);
    this.tid = a
};
goog.inherits(CLS47, CLS42);
CLS47.prototype.getPrice = function() {
    return (("undefined" != typeof $(".js-template-price[data-tid=" + this.tid + "]").data("purchase_price") ? $(".js-template-price[data-tid=" + this.tid + "]").attr("data-purchase_price") : $(".js-template-price[data-tid=" + this.tid + "]").attr("data-price")) / 100).toString()
};
CLS47.prototype.getListName = function() {
    return this.element.parents("ul[data-list]").attr("data-list")
};
CLS47.prototype.getElementPosition = function() {
    var a = this.element.parents("li").first(),
    b = a.parents("ul").children("li.thumbnail");
    return ($(b).index(a) + 1).toString()
};
CLS47.prototype.getBrand = function() {
    return this.element.data("brand")
};
CLS47.prototype.getCategories = function() {
    return this.element.data("categories")
};
CLS47.prototype.getVariant = function() {
    return this.element.data("variant")
};
CLS47.prototype.getName = function() {
    return this.element.data("product_name")
};
CLS36 = function(a) {
    CLS47.call(this, a)
};
goog.inherits(CLS36, CLS47);
CLS36.prototype.getElement = function(a) {
    return $(".js-also-available-as[data-tid=" + a + "], .js-out-off-stock[data-tid=" + a + "]").first()
};
CLS36.prototype.getPrice = function() {
    return ($("span.js-price, div.js-template-price", this.element).first().attr("data-price") / 100).toString()
};
CLS36.prototype.getListName = function() {
    return "also available as"
};
CLS36.prototype.getElementPosition = function() {
    var a = this.element.parents("li").first(),
    b = a.parents('ul[data-list="also available as"]').children();
    0 === b.length && (a = this.element.parents("tr").first(), b = a.parents("tbody").children());
    return ($(b).index(a) + 1).toString()
};
CLS43 = function(a) {
    CLS47.call(this, a)
};
goog.inherits(CLS43, CLS47);
CLS43.prototype.getElement = function(a) {
    return $(".js-template-in-review[data-tid=" + a + "]")
};
CLS43.prototype.getPrice = function() {
    return "0"
};
CLS43.prototype.getListName = function() {
    return "reviews"
};
CLS43.prototype.getElementPosition = function() {
    var a = this.element,
    b = a.parents("div.js-reviews-content").children();
    return ($(b).index(a) + 1).toString()
};
CLS39 = function(a, b) {
    this.id = a;
    this.element = this.getElement(a, b);
    this.dataObject = $(".js-add-offer, .js-preview-offer-checkbox, .template-shopping-options, .js-dell-offer", this.element)
};
goog.inherits(CLS39, CLS42);
CLS39.prototype.offerChannels_ = {
    6 : "tm2-cart",
    7 : "tm2-preview",
    3 : "tm-delivery",
    8 : "tm2-popup-preview",
    9 : "tm2-order-status-approve"
};
CLS39.prototype.getPrice = function() {
    return (this.dataObject.data("price") / 100).toString()
};
CLS39.prototype.getListName = function() {
    return goog.object.getValueByKeys(this.offerChannels_, this.dataObject.data("channel"))
};
CLS39.prototype.getElementPosition = function() {
    var a = this.element;
    0 < this.element.parents(".js-shopping-options-item").length && (a = this.element.parents(".js-shopping-options-item").first());
    var b = a.parent().children();
    return ($(b).index(a) + 1).toString()
};
CLS39.prototype.getBrand = function() {
    return this.dataObject.data("project")
};
CLS39.prototype.getCategories = function() {
    return "oncart" !== this.dataObject.data("product") ? "ontemplate": "oncart"
};
CLS39.prototype.getElement = function(a, b) {
    if (goog.isDef(b)) {
        var c = $('[data-channel="' + b + '"]', ".js-static-offer-" + a + ", .js-preview-offer-" + a);
        return $(c).parents(".js-static-offer, .js-preview-offer, .js-static-oncart-offer").first()
    }
    return $(".js-static-offer-" + a + ", .js-preview-offer-" + a + ", .js-popup-cart-item.offer-" + a).first()
};
CLS39.prototype.getId = function() {
    return "0 - " + this.id + " - " + this.getTitle()
};
CLS39.prototype.getName = function() {
    return "Offer"
};
CLS39.prototype.getTitle = function() {
    return $(".js-service-name", this.element).html()
};
CLS41 = function(a) {
    this.id = a;
    this.dataObject = this.element = this.getElement(a)
};
goog.inherits(CLS41, CLS39);
CLS41.prototype.getPrice = function() {
    return (this.element.data("price") / 100).toString()
};
CLS41.prototype.getElementPosition = function() {
    return "1"
};
CLS41.prototype.getElement = function(a) {
    return $(".js-offer-description[data-id=" + a + "]")
};
CLS46 = function(a) {
    CLS47.call(this, a)
};
goog.inherits(CLS46, CLS47);
CLS46.prototype.getElement = function(a) {
    return $(".js-template-id[data-template_id=" + a + "]").first()
};
CLS46.prototype.getPrice = function() {
    var a = $("div.js-preview-accordion-panel.active .js-price").attr("data-price"),
    a = goog.isDef(a) ? a: 0;
    return (a / 100).toString()
};
CLS46.prototype.getListName = function() {
    return "preview page"
};
CLS46.prototype.getElementPosition = function() {
    return "1"
};
CLS46.prototype.getId = function() {
    return this.tid.toString()
};
CLS45 = function(a) {
    CLS46.call(this, a)
};
goog.inherits(CLS45, CLS46);
CLS45.prototype.getPrice = function() {
    var a = $('.buy_now span.js-demo-buy-button:not(".js-none")').attr("data-price"),
    a = goog.isDef(a) ? a: 0;
    return (a / 100).toString()
};
CLS40 = function(a) {
    this.id = a;
    this.element = this.getElement(a);
    this.dataObject = $(".js-dell-offer", this.element)
};
goog.inherits(CLS40, CLS39);
CLS40.prototype.getPrice = function() {
    return ($(".js-price", this.element).data("price") / 100).toString()
};
CLS40.prototype.getElement = function(a) {
    return $(".js-cart-oncart-offers .offer-" + a)
};
CLS37 = function(a) {
    this.name = a;
    this.element = this.getElement(a)
};
goog.inherits(CLS37, CLS42);
CLS37.prototype.getListName = function() {
    return goog.object.getValueByKeys(this.offerChannels_, this.dataObject.data("channel"))
};
CLS37.prototype.getElementNumber_ = function() {
    var a = this.element,
    b = $('.js-banner[data-position="' + this.element.data("position") + '"]');
    return ($(b).index(a) + 1).toString()
};
CLS37.prototype.getCreative = function() {
    return this.element.data("banner_name")
};
CLS37.prototype.getPosition = function() {
    return this.element.data("position") + " " + this.getElementNumber_()
};
CLS37.prototype.getElement = function(a) {
    return $('.js-banner[data-banner_name="' + a + '"]')
};
CLS37.prototype.getName = function() {
    return this.element.data("campaign_name")
};
CLS44 = function(a) {
    CLS46.call(this, a)
};
goog.inherits(CLS44, CLS46);
CLS44.prototype.getPrice = function() {
    var a = $(".js-license-default:not(.js-none)", this.element).attr("data-price"),
    a = goog.isDef(a) ? a: 0;
    return (a / 100).toString()
};
CLS44.prototype.getElement = function(a) {
    return $(".js-cart-summary-content .template-" + a)
};
CLS44.prototype.hasOffers = function() {
    return 0 < this.getOffers().length
};
CLS44.prototype.getOffers = function() {
    return $(this.element).find(".js-shopping-options .js-popup-cart-item.offer:not(.js-none)")
};
CLS38 = function(a) {
    CLS47.call(this, a)
};
goog.inherits(CLS38, CLS47);
CLS38.prototype.getElement = function(a) {
    return $(".js-monstroid-thumbnail[data-tid=" + a + "]")
};
CLS38.prototype.getPrice = function() {
    return "0"
};
CLS38.prototype.getVariant = function() {
    return ""
};